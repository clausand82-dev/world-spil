function BG(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wv={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk;function $G(){if(Sk)return $u;Sk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return $u.Fragment=t,$u.jsx=n,$u.jsxs=n,$u}var _k;function zG(){return _k||(_k=1,wv.exports=$G()),wv.exports}var m=zG(),Sv={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk;function UG(){if(jk)return We;jk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function S($,W,X){this.props=$,this.context=W,this.refs=x,this.updater=X||y}S.prototype.isReactComponent={},S.prototype.setState=function($,W){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,W,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=S.prototype;function E($,W,X){this.props=$,this.context=W,this.refs=x,this.updater=X||y}var O=E.prototype=new _;O.constructor=E,b(O,S.prototype),O.isPureReactComponent=!0;var T=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function M($,W,X,ne,V,Q){return X=Q.ref,{$$typeof:e,type:$,key:W,ref:X!==void 0?X:null,props:Q}}function D($,W){return M($.type,W,void 0,void 0,void 0,$.props)}function R($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function C($){var W={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(X){return W[X]})}var L=/\/+/g;function I($,W){return typeof $=="object"&&$!==null&&$.key!=null?C(""+$.key):W.toString(36)}function U(){}function P($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(U,U):($.status="pending",$.then(function(W){$.status==="pending"&&($.status="fulfilled",$.value=W)},function(W){$.status==="pending"&&($.status="rejected",$.reason=W)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,W,X,ne,V){var Q=typeof $;(Q==="undefined"||Q==="boolean")&&($=null);var Y=!1;if($===null)Y=!0;else switch(Q){case"bigint":case"string":case"number":Y=!0;break;case"object":switch($.$$typeof){case e:case t:Y=!0;break;case d:return Y=$._init,H(Y($._payload),W,X,ne,V)}}if(Y)return V=V($),Y=ne===""?"."+I($,0):ne,T(V)?(X="",Y!=null&&(X=Y.replace(L,"$&/")+"/"),H(V,W,X,"",function(re){return re})):V!=null&&(R(V)&&(V=D(V,X+(V.key==null||$&&$.key===V.key?"":(""+V.key).replace(L,"$&/")+"/")+Y)),W.push(V)),1;Y=0;var J=ne===""?".":ne+":";if(T($))for(var ae=0;ae<$.length;ae++)ne=$[ae],Q=J+I(ne,ae),Y+=H(ne,W,X,Q,V);else if(ae=v($),typeof ae=="function")for($=ae.call($),ae=0;!(ne=$.next()).done;)ne=ne.value,Q=J+I(ne,ae++),Y+=H(ne,W,X,Q,V);else if(Q==="object"){if(typeof $.then=="function")return H(P($),W,X,ne,V);throw W=String($),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Y}function B($,W,X){if($==null)return $;var ne=[],V=0;return H($,ne,"","",function(Q){return W.call(X,Q,V++)}),ne}function F($){if($._status===-1){var W=$._result;W=W(),W.then(function(X){($._status===0||$._status===-1)&&($._status=1,$._result=X)},function(X){($._status===0||$._status===-1)&&($._status=2,$._result=X)}),$._status===-1&&($._status=0,$._result=W)}if($._status===1)return $._result.default;throw $._result}var G=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function K(){}return We.Children={map:B,forEach:function($,W,X){B($,function(){W.apply(this,arguments)},X)},count:function($){var W=0;return B($,function(){W++}),W},toArray:function($){return B($,function(W){return W})||[]},only:function($){if(!R($))throw Error("React.Children.only expected to receive a single React element child.");return $}},We.Component=S,We.Fragment=n,We.Profiler=i,We.PureComponent=E,We.StrictMode=r,We.Suspense=c,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,We.__COMPILER_RUNTIME={__proto__:null,c:function($){return N.H.useMemoCache($)}},We.cache=function($){return function(){return $.apply(null,arguments)}},We.cloneElement=function($,W,X){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ne=b({},$.props),V=$.key,Q=void 0;if(W!=null)for(Y in W.ref!==void 0&&(Q=void 0),W.key!==void 0&&(V=""+W.key),W)!k.call(W,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&W.ref===void 0||(ne[Y]=W[Y]);var Y=arguments.length-2;if(Y===1)ne.children=X;else if(1<Y){for(var J=Array(Y),ae=0;ae<Y;ae++)J[ae]=arguments[ae+2];ne.children=J}return M($.type,V,void 0,void 0,Q,ne)},We.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},We.createElement=function($,W,X){var ne,V={},Q=null;if(W!=null)for(ne in W.key!==void 0&&(Q=""+W.key),W)k.call(W,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(V[ne]=W[ne]);var Y=arguments.length-2;if(Y===1)V.children=X;else if(1<Y){for(var J=Array(Y),ae=0;ae<Y;ae++)J[ae]=arguments[ae+2];V.children=J}if($&&$.defaultProps)for(ne in Y=$.defaultProps,Y)V[ne]===void 0&&(V[ne]=Y[ne]);return M($,Q,void 0,void 0,null,V)},We.createRef=function(){return{current:null}},We.forwardRef=function($){return{$$typeof:u,render:$}},We.isValidElement=R,We.lazy=function($){return{$$typeof:d,_payload:{_status:-1,_result:$},_init:F}},We.memo=function($,W){return{$$typeof:f,type:$,compare:W===void 0?null:W}},We.startTransition=function($){var W=N.T,X={};N.T=X;try{var ne=$(),V=N.S;V!==null&&V(X,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(K,G)}catch(Q){G(Q)}finally{N.T=W}},We.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},We.use=function($){return N.H.use($)},We.useActionState=function($,W,X){return N.H.useActionState($,W,X)},We.useCallback=function($,W){return N.H.useCallback($,W)},We.useContext=function($){return N.H.useContext($)},We.useDebugValue=function(){},We.useDeferredValue=function($,W){return N.H.useDeferredValue($,W)},We.useEffect=function($,W,X){var ne=N.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect($,W)},We.useId=function(){return N.H.useId()},We.useImperativeHandle=function($,W,X){return N.H.useImperativeHandle($,W,X)},We.useInsertionEffect=function($,W){return N.H.useInsertionEffect($,W)},We.useLayoutEffect=function($,W){return N.H.useLayoutEffect($,W)},We.useMemo=function($,W){return N.H.useMemo($,W)},We.useOptimistic=function($,W){return N.H.useOptimistic($,W)},We.useReducer=function($,W,X){return N.H.useReducer($,W,X)},We.useRef=function($){return N.H.useRef($)},We.useState=function($){return N.H.useState($)},We.useSyncExternalStore=function($,W,X){return N.H.useSyncExternalStore($,W,X)},We.useTransition=function(){return N.H.useTransition()},We.version="19.1.1",We}var Ek;function Rl(){return Ek||(Ek=1,Sv.exports=UG()),Sv.exports}var j=Rl();const he=Or(j),HG=BG({__proto__:null,default:he},[j]);var _v={exports:{}},zu={},jv={exports:{}},Ev={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak;function FG(){return Ak||(Ak=1,(function(e){function t(B,F){var G=B.length;B.push(F);e:for(;0<G;){var K=G-1>>>1,$=B[K];if(0<i($,F))B[K]=F,B[G]=$,G=K;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var F=B[0],G=B.pop();if(G!==F){B[0]=G;e:for(var K=0,$=B.length,W=$>>>1;K<W;){var X=2*(K+1)-1,ne=B[X],V=X+1,Q=B[V];if(0>i(ne,G))V<$&&0>i(Q,ne)?(B[K]=Q,B[V]=G,K=V):(B[K]=ne,B[X]=G,K=X);else if(V<$&&0>i(Q,G))B[K]=Q,B[V]=G,K=V;else break e}}return F}function i(B,F){var G=B.sortIndex-F.sortIndex;return G!==0?G:B.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var c=[],f=[],d=1,p=null,v=3,y=!1,b=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var F=n(f);F!==null;){if(F.callback===null)r(f);else if(F.startTime<=B)r(f),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(f)}}function N(B){if(x=!1,T(B),!b)if(n(c)!==null)b=!0,k||(k=!0,I());else{var F=n(f);F!==null&&H(N,F.startTime-B)}}var k=!1,M=-1,D=5,R=-1;function C(){return S?!0:!(e.unstable_now()-R<D)}function L(){if(S=!1,k){var B=e.unstable_now();R=B;var F=!0;try{e:{b=!1,x&&(x=!1,E(M),M=-1),y=!0;var G=v;try{t:{for(T(B),p=n(c);p!==null&&!(p.expirationTime>B&&C());){var K=p.callback;if(typeof K=="function"){p.callback=null,v=p.priorityLevel;var $=K(p.expirationTime<=B);if(B=e.unstable_now(),typeof $=="function"){p.callback=$,T(B),F=!0;break t}p===n(c)&&r(c),T(B)}else r(c);p=n(c)}if(p!==null)F=!0;else{var W=n(f);W!==null&&H(N,W.startTime-B),F=!1}}break e}finally{p=null,v=G,y=!1}F=void 0}}finally{F?I():k=!1}}}var I;if(typeof O=="function")I=function(){O(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,P=U.port2;U.port1.onmessage=L,I=function(){P.postMessage(null)}}else I=function(){_(L,0)};function H(B,F){M=_(function(){B(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var G=v;v=F;try{return B()}finally{v=G}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var G=v;v=B;try{return F()}finally{v=G}},e.unstable_scheduleCallback=function(B,F,G){var K=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,B={id:d++,callback:F,priorityLevel:B,startTime:G,expirationTime:$,sortIndex:-1},G>K?(B.sortIndex=G,t(f,B),n(c)===null&&B===n(f)&&(x?(E(M),M=-1):x=!0,H(N,G-K))):(B.sortIndex=$,t(c,B),b||y||(b=!0,k||(k=!0,I()))),B},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(B){var F=v;return function(){var G=v;v=F;try{return B.apply(this,arguments)}finally{v=G}}}})(Ev)),Ev}var Ok;function GG(){return Ok||(Ok=1,jv.exports=FG()),jv.exports}var Av={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk;function KG(){if(Tk)return Rn;Tk=1;var e=Rl();function t(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rn.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(c,f,null,d)},Rn.flushSync=function(c){var f=o.T,d=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=d,r.d.f()}},Rn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Rn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Rn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,p=u(d,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):d==="script"&&r.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Rn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Rn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=u(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Rn.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Rn.requestFormReset=function(c){r.d.r(c)},Rn.unstable_batchedUpdates=function(c,f){return c(f)},Rn.useFormState=function(c,f,d){return o.H.useFormState(c,f,d)},Rn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Rn.version="19.1.1",Rn}var Nk;function N$(){if(Nk)return Av.exports;Nk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Av.exports=KG(),Av.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk;function WG(){if(kk)return zu;kk=1;var e=GG(),t=Rl(),n=N$();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function c(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,g=l;;){var w=h.return;if(w===null)break;var A=w.alternate;if(A===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===h)return u(w),s;if(A===g)return u(w),l;A=A.sibling}throw Error(r(188))}if(h.return!==g.return)h=w,g=A;else{for(var q=!1,z=w.child;z;){if(z===h){q=!0,h=w,g=A;break}if(z===g){q=!0,g=w,h=A;break}z=z.sibling}if(!q){for(z=A.child;z;){if(z===h){q=!0,h=A,g=w;break}if(z===g){q=!0,g=A,h=w;break}z=z.sibling}if(!q)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function f(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=f(s),l!==null)return l;s=s.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function P(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case y:return"Portal";case O:return(s.displayName||"Context")+".Provider";case E:return(s._context.displayName||"Context")+".Consumer";case T:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return l=s.displayName||null,l!==null?l:P(s.type)||"Memo";case D:l=s._payload,s=s._init;try{return P(s(l))}catch{}}return null}var H=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},K=[],$=-1;function W(s){return{current:s}}function X(s){0>$||(s.current=K[$],K[$]=null,$--)}function ne(s,l){$++,K[$]=s.current,s.current=l}var V=W(null),Q=W(null),Y=W(null),J=W(null);function ae(s,l){switch(ne(Y,l),ne(Q,s),ne(V,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?XN(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=XN(l),s=QN(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(V),ne(V,s)}function re(){X(V),X(Q),X(Y)}function de(s){s.memoizedState!==null&&ne(J,s);var l=V.current,h=QN(l,s.type);l!==h&&(ne(Q,s),ne(V,h))}function ye(s){Q.current===s&&(X(V),X(Q)),J.current===s&&(X(J),Pu._currentValue=G)}var le=Object.prototype.hasOwnProperty,Oe=e.unstable_scheduleCallback,Se=e.unstable_cancelCallback,be=e.unstable_shouldYield,Ce=e.unstable_requestPaint,xe=e.unstable_now,_e=e.unstable_getCurrentPriorityLevel,nt=e.unstable_ImmediatePriority,Vt=e.unstable_UserBlockingPriority,Ut=e.unstable_NormalPriority,fe=e.unstable_LowPriority,Ee=e.unstable_IdlePriority,Ae=e.log,De=e.unstable_setDisableYieldValue,Ge=null,Ne=null;function Ke(s){if(typeof Ae=="function"&&De(s),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Ge,s)}catch{}}var ot=Math.clz32?Math.clz32:Lt,Mt=Math.log,jt=Math.LN2;function Lt(s){return s>>>=0,s===0?32:31-(Mt(s)/jt|0)|0}var He=256,$e=4194304;function Xe(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function rn(s,l,h){var g=s.pendingLanes;if(g===0)return 0;var w=0,A=s.suspendedLanes,q=s.pingedLanes;s=s.warmLanes;var z=g&134217727;return z!==0?(g=z&~A,g!==0?w=Xe(g):(q&=z,q!==0?w=Xe(q):h||(h=z&~s,h!==0&&(w=Xe(h))))):(z=g&~A,z!==0?w=Xe(z):q!==0?w=Xe(q):h||(h=g&~s,h!==0&&(w=Xe(h)))),w===0?0:l!==0&&l!==w&&(l&A)===0&&(A=w&-w,h=l&-l,A>=h||A===32&&(h&4194048)!==0)?l:w}function _n(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function bs(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var s=He;return He<<=1,(He&4194048)===0&&(He=256),s}function sr(){var s=$e;return $e<<=1,($e&62914560)===0&&($e=4194304),s}function zi(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Kn(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ni(s,l,h,g,w,A){var q=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var z=s.entanglements,Z=s.expirationTimes,oe=s.hiddenUpdates;for(h=q&~h;0<h;){var me=31-ot(h),ve=1<<me;z[me]=0,Z[me]=-1;var ue=oe[me];if(ue!==null)for(oe[me]=null,me=0;me<ue.length;me++){var ce=ue[me];ce!==null&&(ce.lane&=-536870913)}h&=~ve}g!==0&&Ao(s,g,0),A!==0&&w===0&&s.tag!==0&&(s.suspendedLanes|=A&~(q&~l))}function Ao(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-ot(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|h&4194090}function Rt(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var g=31-ot(h),w=1<<g;w&l|s[g]&l&&(s[g]|=l),h&=~w}}function Nr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ws(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:gk(s.type))}function Ss(s,l){var h=F.p;try{return F.p=s,l()}finally{F.p=h}}var or=Math.random().toString(36).slice(2),Ht="__reactFiber$"+or,fn="__reactProps$"+or,an="__reactContainer$"+or,lr="__reactEvents$"+or,Oo="__reactListeners$"+or,To="__reactHandles$"+or,Oa="__reactResources$"+or,ji="__reactMarker$"+or;function qn(s){delete s[Ht],delete s[fn],delete s[lr],delete s[Oo],delete s[To]}function kr(s){var l=s[Ht];if(l)return l;for(var h=s.parentNode;h;){if(l=h[an]||h[Ht]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=tk(s);s!==null;){if(h=s[Ht])return h;s=tk(s)}return l}s=h,h=s.parentNode}return null}function ri(s){if(s=s[Ht]||s[an]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Ei(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function ii(s){var l=s[Oa];return l||(l=s[Oa]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function qt(s){s[ji]=!0}var Re=new Set,te={};function we(s,l){Te(s,l),Te(s+"Capture",l)}function Te(s,l){for(te[s]=l,s=0;s<l.length;s++)Re.add(l[s])}var ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ft={},Et={};function dn(s){return le.call(Et,s)?!0:le.call(Ft,s)?!1:ct.test(s)?Et[s]=!0:(Ft[s]=!0,!1)}function Cn(s,l,h){if(dn(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function ur(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function In(s,l,h,g){if(g===null)s.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+g)}}var Ot,_s;function ai(s){if(Ot===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Ot=l&&l[1]||"",_s=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+s+_s}var Wl=!1;function js(s,l){if(!s||Wl)return"";Wl=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ce){var ue=ce}Reflect.construct(s,[],ve)}else{try{ve.call()}catch(ce){ue=ce}s.call(ve.prototype)}}else{try{throw Error()}catch(ce){ue=ce}(ve=s())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ce){if(ce&&ue&&typeof ce.stack=="string")return[ce.stack,ue.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),q=A[0],z=A[1];if(q&&z){var Z=q.split(`
`),oe=z.split(`
`);for(w=g=0;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;for(;w<oe.length&&!oe[w].includes("DetermineComponentFrameRoot");)w++;if(g===Z.length||w===oe.length)for(g=Z.length-1,w=oe.length-1;1<=g&&0<=w&&Z[g]!==oe[w];)w--;for(;1<=g&&0<=w;g--,w--)if(Z[g]!==oe[w]){if(g!==1||w!==1)do if(g--,w--,0>w||Z[g]!==oe[w]){var me=`
`+Z[g].replace(" at new "," at ");return s.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",s.displayName)),me}while(1<=g&&0<=w);break}}}finally{Wl=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?ai(h):""}function R5(s){switch(s.tag){case 26:case 27:case 5:return ai(s.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return js(s.type,!1);case 11:return js(s.type.render,!1);case 1:return js(s.type,!0);case 31:return ai("Activity");default:return""}}function FA(s){try{var l="";do l+=R5(s),s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Cr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function GA(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function D5(s){var l=GA(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,A=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return w.call(this)},set:function(q){g=""+q,A.call(this,q)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(q){g=""+q},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function of(s){s._valueTracker||(s._valueTracker=D5(s))}function KA(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return s&&(g=GA(s)?s.checked?"true":"false":s.value),s=g,s!==h?(l.setValue(s),!0):!1}function lf(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var P5=/[\n"\\]/g;function Mr(s){return s.replace(P5,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ym(s,l,h,g,w,A,q,z){s.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?s.type=q:s.removeAttribute("type"),l!=null?q==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Cr(l)):s.value!==""+Cr(l)&&(s.value=""+Cr(l)):q!=="submit"&&q!=="reset"||s.removeAttribute("value"),l!=null?bm(s,q,Cr(l)):h!=null?bm(s,q,Cr(h)):g!=null&&s.removeAttribute("value"),w==null&&A!=null&&(s.defaultChecked=!!A),w!=null&&(s.checked=w&&typeof w!="function"&&typeof w!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.name=""+Cr(z):s.removeAttribute("name")}function WA(s,l,h,g,w,A,q,z){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.type=A),l!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||l!=null))return;h=h!=null?""+Cr(h):"",l=l!=null?""+Cr(l):h,z||l===s.value||(s.value=l),s.defaultValue=l}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=z?s.checked:!!g,s.defaultChecked=!!g,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(s.name=q)}function bm(s,l,h){l==="number"&&lf(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function No(s,l,h,g){if(s=s.options,l){l={};for(var w=0;w<h.length;w++)l["$"+h[w]]=!0;for(h=0;h<s.length;h++)w=l.hasOwnProperty("$"+s[h].value),s[h].selected!==w&&(s[h].selected=w),w&&g&&(s[h].defaultSelected=!0)}else{for(h=""+Cr(h),l=null,w=0;w<s.length;w++){if(s[w].value===h){s[w].selected=!0,g&&(s[w].defaultSelected=!0);return}l!==null||s[w].disabled||(l=s[w])}l!==null&&(l.selected=!0)}}function YA(s,l,h){if(l!=null&&(l=""+Cr(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+Cr(h):""}function VA(s,l,h,g){if(l==null){if(g!=null){if(h!=null)throw Error(r(92));if(H(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),l=h}h=Cr(l),s.defaultValue=h,g=s.textContent,g===h&&g!==""&&g!==null&&(s.value=g)}function ko(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var L5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function XA(s,l,h){var g=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,h):typeof h!="number"||h===0||L5.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function QA(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var w in l)g=l[w],l.hasOwnProperty(w)&&h[w]!==g&&XA(s,w,g)}else for(var A in l)l.hasOwnProperty(A)&&XA(s,A,l[A])}function xm(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),I5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uf(s){return I5.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var wm=null;function Sm(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Co=null,Mo=null;function ZA(s){var l=ri(s);if(l&&(s=l.stateNode)){var h=s[fn]||null;e:switch(s=l.stateNode,l.type){case"input":if(ym(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Mr(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==s&&g.form===s.form){var w=g[fn]||null;if(!w)throw Error(r(90));ym(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<h.length;l++)g=h[l],g.form===s.form&&KA(g)}break e;case"textarea":YA(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&No(s,!!h.multiple,l,!1)}}}var _m=!1;function JA(s,l,h){if(_m)return s(l,h);_m=!0;try{var g=s(l);return g}finally{if(_m=!1,(Co!==null||Mo!==null)&&(Yf(),Co&&(l=Co,s=Mo,Mo=Co=null,ZA(l),s)))for(l=0;l<s.length;l++)ZA(s[l])}}function Yl(s,l){var h=s.stateNode;if(h===null)return null;var g=h[fn]||null;if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=!1;if(Ui)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){jm=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{jm=!1}var Ta=null,Em=null,cf=null;function eO(){if(cf)return cf;var s,l=Em,h=l.length,g,w="value"in Ta?Ta.value:Ta.textContent,A=w.length;for(s=0;s<h&&l[s]===w[s];s++);var q=h-s;for(g=1;g<=q&&l[h-g]===w[A-g];g++);return cf=w.slice(s,1<g?1-g:void 0)}function ff(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function df(){return!0}function tO(){return!1}function Wn(s){function l(h,g,w,A,q){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=A,this.target=q,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(h=s[z],this[z]=h?h(A):A[z]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?df:tO,this.isPropagationStopped=tO,this}return d(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=df)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=df)},persist:function(){},isPersistent:df}),l}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=Wn(Es),Xl=d({},Es,{view:0,detail:0}),B5=Wn(Xl),Am,Om,Ql,pf=d({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nm,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ql&&(Ql&&s.type==="mousemove"?(Am=s.screenX-Ql.screenX,Om=s.screenY-Ql.screenY):Om=Am=0,Ql=s),Am)},movementY:function(s){return"movementY"in s?s.movementY:Om}}),nO=Wn(pf),$5=d({},pf,{dataTransfer:0}),z5=Wn($5),U5=d({},Xl,{relatedTarget:0}),Tm=Wn(U5),H5=d({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),F5=Wn(H5),G5=d({},Es,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),K5=Wn(G5),W5=d({},Es,{data:0}),rO=Wn(W5),Y5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q5(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=X5[s])?!!l[s]:!1}function Nm(){return Q5}var Z5=d({},Xl,{key:function(s){if(s.key){var l=Y5[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ff(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?V5[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nm,charCode:function(s){return s.type==="keypress"?ff(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ff(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),J5=Wn(Z5),eF=d({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iO=Wn(eF),tF=d({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nm}),nF=Wn(tF),rF=d({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),iF=Wn(rF),aF=d({},pf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),sF=Wn(aF),oF=d({},Es,{newState:0,oldState:0}),lF=Wn(oF),uF=[9,13,27,32],km=Ui&&"CompositionEvent"in window,Zl=null;Ui&&"documentMode"in document&&(Zl=document.documentMode);var cF=Ui&&"TextEvent"in window&&!Zl,aO=Ui&&(!km||Zl&&8<Zl&&11>=Zl),sO=" ",oO=!1;function lO(s,l){switch(s){case"keyup":return uF.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uO(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ro=!1;function fF(s,l){switch(s){case"compositionend":return uO(l);case"keypress":return l.which!==32?null:(oO=!0,sO);case"textInput":return s=l.data,s===sO&&oO?null:s;default:return null}}function dF(s,l){if(Ro)return s==="compositionend"||!km&&lO(s,l)?(s=eO(),cf=Em=Ta=null,Ro=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return aO&&l.locale!=="ko"?null:l.data;default:return null}}var hF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cO(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!hF[s.type]:l==="textarea"}function fO(s,l,h,g){Co?Mo?Mo.push(g):Mo=[g]:Co=g,l=ed(l,"onChange"),0<l.length&&(h=new hf("onChange","change",null,h,g),s.push({event:h,listeners:l}))}var Jl=null,eu=null;function pF(s){GN(s,0)}function mf(s){var l=Ei(s);if(KA(l))return s}function dO(s,l){if(s==="change")return l}var hO=!1;if(Ui){var Cm;if(Ui){var Mm="oninput"in document;if(!Mm){var pO=document.createElement("div");pO.setAttribute("oninput","return;"),Mm=typeof pO.oninput=="function"}Cm=Mm}else Cm=!1;hO=Cm&&(!document.documentMode||9<document.documentMode)}function mO(){Jl&&(Jl.detachEvent("onpropertychange",gO),eu=Jl=null)}function gO(s){if(s.propertyName==="value"&&mf(eu)){var l=[];fO(l,eu,s,Sm(s)),JA(pF,l)}}function mF(s,l,h){s==="focusin"?(mO(),Jl=l,eu=h,Jl.attachEvent("onpropertychange",gO)):s==="focusout"&&mO()}function gF(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mf(eu)}function vF(s,l){if(s==="click")return mf(l)}function yF(s,l){if(s==="input"||s==="change")return mf(l)}function bF(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var cr=typeof Object.is=="function"?Object.is:bF;function tu(s,l){if(cr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!le.call(l,w)||!cr(s[w],l[w]))return!1}return!0}function vO(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yO(s,l){var h=vO(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=l&&g>=l)return{node:h,offset:l-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=vO(h)}}function bO(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?bO(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function xO(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=lf(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=lf(s.document)}return l}function Rm(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var xF=Ui&&"documentMode"in document&&11>=document.documentMode,Do=null,Dm=null,nu=null,Pm=!1;function wO(s,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Pm||Do==null||Do!==lf(g)||(g=Do,"selectionStart"in g&&Rm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),nu&&tu(nu,g)||(nu=g,g=ed(Dm,"onSelect"),0<g.length&&(l=new hf("onSelect","select",null,l,h),s.push({event:l,listeners:g}),l.target=Do)))}function As(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Po={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Lm={},SO={};Ui&&(SO=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Os(s){if(Lm[s])return Lm[s];if(!Po[s])return s;var l=Po[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in SO)return Lm[s]=l[h];return s}var _O=Os("animationend"),jO=Os("animationiteration"),EO=Os("animationstart"),wF=Os("transitionrun"),SF=Os("transitionstart"),_F=Os("transitioncancel"),AO=Os("transitionend"),OO=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function si(s,l){OO.set(s,l),we(l,[s])}var TO=new WeakMap;function Rr(s,l){if(typeof s=="object"&&s!==null){var h=TO.get(s);return h!==void 0?h:(l={value:s,source:l,stack:FA(l)},TO.set(s,l),l)}return{value:s,source:l,stack:FA(l)}}var Dr=[],Lo=0,Im=0;function gf(){for(var s=Lo,l=Im=Lo=0;l<s;){var h=Dr[l];Dr[l++]=null;var g=Dr[l];Dr[l++]=null;var w=Dr[l];Dr[l++]=null;var A=Dr[l];if(Dr[l++]=null,g!==null&&w!==null){var q=g.pending;q===null?w.next=w:(w.next=q.next,q.next=w),g.pending=w}A!==0&&NO(h,w,A)}}function vf(s,l,h,g){Dr[Lo++]=s,Dr[Lo++]=l,Dr[Lo++]=h,Dr[Lo++]=g,Im|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Bm(s,l,h,g){return vf(s,l,h,g),yf(s)}function qo(s,l){return vf(s,null,null,l),yf(s)}function NO(s,l,h){s.lanes|=h;var g=s.alternate;g!==null&&(g.lanes|=h);for(var w=!1,A=s.return;A!==null;)A.childLanes|=h,g=A.alternate,g!==null&&(g.childLanes|=h),A.tag===22&&(s=A.stateNode,s===null||s._visibility&1||(w=!0)),s=A,A=A.return;return s.tag===3?(A=s.stateNode,w&&l!==null&&(w=31-ot(h),s=A.hiddenUpdates,g=s[w],g===null?s[w]=[l]:g.push(l),l.lane=h|536870912),A):null}function yf(s){if(50<Ou)throw Ou=0,Gg=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Io={};function jF(s,l,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(s,l,h,g){return new jF(s,l,h,g)}function $m(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Hi(s,l){var h=s.alternate;return h===null?(h=fr(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function kO(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function bf(s,l,h,g,w,A){var q=0;if(g=s,typeof s=="function")$m(s)&&(q=1);else if(typeof s=="string")q=AG(s,h,V.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=fr(31,h,l,w),s.elementType=R,s.lanes=A,s;case b:return Ts(h.children,w,A,l);case x:q=8,w|=24;break;case S:return s=fr(12,h,l,w|2),s.elementType=S,s.lanes=A,s;case N:return s=fr(13,h,l,w),s.elementType=N,s.lanes=A,s;case k:return s=fr(19,h,l,w),s.elementType=k,s.lanes=A,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case O:q=10;break e;case E:q=9;break e;case T:q=11;break e;case M:q=14;break e;case D:q=16,g=null;break e}q=29,h=Error(r(130,s===null?"null":typeof s,"")),g=null}return l=fr(q,h,l,w),l.elementType=s,l.type=g,l.lanes=A,l}function Ts(s,l,h,g){return s=fr(7,s,g,l),s.lanes=h,s}function zm(s,l,h){return s=fr(6,s,null,l),s.lanes=h,s}function Um(s,l,h){return l=fr(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Bo=[],$o=0,xf=null,wf=0,Pr=[],Lr=0,Ns=null,Fi=1,Gi="";function ks(s,l){Bo[$o++]=wf,Bo[$o++]=xf,xf=s,wf=l}function CO(s,l,h){Pr[Lr++]=Fi,Pr[Lr++]=Gi,Pr[Lr++]=Ns,Ns=s;var g=Fi;s=Gi;var w=32-ot(g)-1;g&=~(1<<w),h+=1;var A=32-ot(l)+w;if(30<A){var q=w-w%5;A=(g&(1<<q)-1).toString(32),g>>=q,w-=q,Fi=1<<32-ot(l)+w|h<<w|g,Gi=A+s}else Fi=1<<A|h<<w|g,Gi=s}function Hm(s){s.return!==null&&(ks(s,1),CO(s,1,0))}function Fm(s){for(;s===xf;)xf=Bo[--$o],Bo[$o]=null,wf=Bo[--$o],Bo[$o]=null;for(;s===Ns;)Ns=Pr[--Lr],Pr[Lr]=null,Gi=Pr[--Lr],Pr[Lr]=null,Fi=Pr[--Lr],Pr[Lr]=null}var Bn=null,It=null,lt=!1,Cs=null,Ai=!1,Gm=Error(r(519));function Ms(s){var l=Error(r(418,""));throw au(Rr(l,s)),Gm}function MO(s){var l=s.stateNode,h=s.type,g=s.memoizedProps;switch(l[Ht]=s,l[fn]=g,h){case"dialog":et("cancel",l),et("close",l);break;case"iframe":case"object":case"embed":et("load",l);break;case"video":case"audio":for(h=0;h<Nu.length;h++)et(Nu[h],l);break;case"source":et("error",l);break;case"img":case"image":case"link":et("error",l),et("load",l);break;case"details":et("toggle",l);break;case"input":et("invalid",l),WA(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),of(l);break;case"select":et("invalid",l);break;case"textarea":et("invalid",l),VA(l,g.value,g.defaultValue,g.children),of(l)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||g.suppressHydrationWarning===!0||VN(l.textContent,h)?(g.popover!=null&&(et("beforetoggle",l),et("toggle",l)),g.onScroll!=null&&et("scroll",l),g.onScrollEnd!=null&&et("scrollend",l),g.onClick!=null&&(l.onclick=td),l=!0):l=!1,l||Ms(s)}function RO(s){for(Bn=s.return;Bn;)switch(Bn.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:Bn=Bn.return}}function ru(s){if(s!==Bn)return!1;if(!lt)return RO(s),lt=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||ov(s.type,s.memoizedProps)),h=!h),h&&It&&Ms(s),RO(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(h=s.data,h==="/$"){if(l===0){It=li(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;s=s.nextSibling}It=null}}else l===27?(l=It,Fa(s.type)?(s=fv,fv=null,It=s):It=l):It=Bn?li(s.stateNode.nextSibling):null;return!0}function iu(){It=Bn=null,lt=!1}function DO(){var s=Cs;return s!==null&&(Xn===null?Xn=s:Xn.push.apply(Xn,s),Cs=null),s}function au(s){Cs===null?Cs=[s]:Cs.push(s)}var Km=W(null),Rs=null,Ki=null;function Na(s,l,h){ne(Km,l._currentValue),l._currentValue=h}function Wi(s){s._currentValue=Km.current,X(Km)}function Wm(s,l,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===h)break;s=s.return}}function Ym(s,l,h,g){var w=s.child;for(w!==null&&(w.return=s);w!==null;){var A=w.dependencies;if(A!==null){var q=w.child;A=A.firstContext;e:for(;A!==null;){var z=A;A=w;for(var Z=0;Z<l.length;Z++)if(z.context===l[Z]){A.lanes|=h,z=A.alternate,z!==null&&(z.lanes|=h),Wm(A.return,h,s),g||(q=null);break e}A=z.next}}else if(w.tag===18){if(q=w.return,q===null)throw Error(r(341));q.lanes|=h,A=q.alternate,A!==null&&(A.lanes|=h),Wm(q,h,s),q=null}else q=w.child;if(q!==null)q.return=w;else for(q=w;q!==null;){if(q===s){q=null;break}if(w=q.sibling,w!==null){w.return=q.return,q=w;break}q=q.return}w=q}}function su(s,l,h,g){s=null;for(var w=l,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var q=w.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var z=w.type;cr(w.pendingProps.value,q.value)||(s!==null?s.push(z):s=[z])}}else if(w===J.current){if(q=w.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(s!==null?s.push(Pu):s=[Pu])}w=w.return}s!==null&&Ym(l,s,h,g),l.flags|=262144}function Sf(s){for(s=s.firstContext;s!==null;){if(!cr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ds(s){Rs=s,Ki=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Mn(s){return PO(Rs,s)}function _f(s,l){return Rs===null&&Ds(s),PO(s,l)}function PO(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Ki===null){if(s===null)throw Error(r(308));Ki=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ki=Ki.next=l;return h}var EF=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},AF=e.unstable_scheduleCallback,OF=e.unstable_NormalPriority,sn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new EF,data:new Map,refCount:0}}function ou(s){s.refCount--,s.refCount===0&&AF(OF,function(){s.controller.abort()})}var lu=null,Xm=0,zo=0,Uo=null;function TF(s,l){if(lu===null){var h=lu=[];Xm=0,zo=Zg(),Uo={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Xm++,l.then(LO,LO),l}function LO(){if(--Xm===0&&lu!==null){Uo!==null&&(Uo.status="fulfilled");var s=lu;lu=null,zo=0,Uo=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function NF(s,l){var h=[],g={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var w=0;w<h.length;w++)(0,h[w])(l)},function(w){for(g.status="rejected",g.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),g}var qO=B.S;B.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&TF(s,l),qO!==null&&qO(s,l)};var Ps=W(null);function Qm(){var s=Ps.current;return s!==null?s:wt.pooledCache}function jf(s,l){l===null?ne(Ps,Ps.current):ne(Ps,l.pool)}function IO(){var s=Qm();return s===null?null:{parent:sn._currentValue,pool:s}}var uu=Error(r(460)),BO=Error(r(474)),Ef=Error(r(542)),Zm={then:function(){}};function $O(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Af(){}function zO(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(Af,Af),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,HO(s),s;default:if(typeof l.status=="string")l.then(Af,Af);else{if(s=wt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=g}},function(g){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,HO(s),s}throw cu=l,uu}}var cu=null;function UO(){if(cu===null)throw Error(r(459));var s=cu;return cu=null,s}function HO(s){if(s===uu||s===Ef)throw Error(r(483))}var ka=!1;function Jm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eg(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ca(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ma(s,l,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(ft&2)!==0){var w=g.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),g.pending=l,l=yf(s),NO(s,null,h),l}return vf(s,g,l,h),yf(s)}function fu(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,h|=g,l.lanes=h,Rt(s,h)}}function tg(s,l){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var q={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?w=A=q:A=A.next=q,h=h.next}while(h!==null);A===null?w=A=l:A=A.next=l}else w=A=l;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var ng=!1;function du(){if(ng){var s=Uo;if(s!==null)throw s}}function hu(s,l,h,g){ng=!1;var w=s.updateQueue;ka=!1;var A=w.firstBaseUpdate,q=w.lastBaseUpdate,z=w.shared.pending;if(z!==null){w.shared.pending=null;var Z=z,oe=Z.next;Z.next=null,q===null?A=oe:q.next=oe,q=Z;var me=s.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==q&&(z===null?me.firstBaseUpdate=oe:z.next=oe,me.lastBaseUpdate=Z))}if(A!==null){var ve=w.baseState;q=0,me=oe=Z=null,z=A;do{var ue=z.lane&-536870913,ce=ue!==z.lane;if(ce?(rt&ue)===ue:(g&ue)===ue){ue!==0&&ue===zo&&(ng=!0),me!==null&&(me=me.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Fe=s,ze=z;ue=l;var vt=h;switch(ze.tag){case 1:if(Fe=ze.payload,typeof Fe=="function"){ve=Fe.call(vt,ve,ue);break e}ve=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=ze.payload,ue=typeof Fe=="function"?Fe.call(vt,ve,ue):Fe,ue==null)break e;ve=d({},ve,ue);break e;case 2:ka=!0}}ue=z.callback,ue!==null&&(s.flags|=64,ce&&(s.flags|=8192),ce=w.callbacks,ce===null?w.callbacks=[ue]:ce.push(ue))}else ce={lane:ue,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(oe=me=ce,Z=ve):me=me.next=ce,q|=ue;if(z=z.next,z===null){if(z=w.shared.pending,z===null)break;ce=z,z=ce.next,ce.next=null,w.lastBaseUpdate=ce,w.shared.pending=null}}while(!0);me===null&&(Z=ve),w.baseState=Z,w.firstBaseUpdate=oe,w.lastBaseUpdate=me,A===null&&(w.shared.lanes=0),$a|=q,s.lanes=q,s.memoizedState=ve}}function FO(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function GO(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)FO(h[s],l)}var Ho=W(null),Of=W(0);function KO(s,l){s=ea,ne(Of,s),ne(Ho,l),ea=s|l.baseLanes}function rg(){ne(Of,ea),ne(Ho,Ho.current)}function ig(){ea=Of.current,X(Ho),X(Of)}var Ra=0,Ye=null,mt=null,Xt=null,Tf=!1,Fo=!1,Ls=!1,Nf=0,pu=0,Go=null,kF=0;function Gt(){throw Error(r(321))}function ag(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!cr(s[h],l[h]))return!1;return!0}function sg(s,l,h,g,w,A){return Ra=A,Ye=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,B.H=s===null||s.memoizedState===null?NT:kT,Ls=!1,A=h(g,w),Ls=!1,Fo&&(A=YO(l,h,g,w)),WO(s),A}function WO(s){B.H=Pf;var l=mt!==null&&mt.next!==null;if(Ra=0,Xt=mt=Ye=null,Tf=!1,pu=0,Go=null,l)throw Error(r(300));s===null||hn||(s=s.dependencies,s!==null&&Sf(s)&&(hn=!0))}function YO(s,l,h,g){Ye=s;var w=0;do{if(Fo&&(Go=null),pu=0,Fo=!1,25<=w)throw Error(r(301));if(w+=1,Xt=mt=null,s.updateQueue!=null){var A=s.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}B.H=qF,A=l(h,g)}while(Fo);return A}function CF(){var s=B.H,l=s.useState()[0];return l=typeof l.then=="function"?mu(l):l,s=s.useState()[0],(mt!==null?mt.memoizedState:null)!==s&&(Ye.flags|=1024),l}function og(){var s=Nf!==0;return Nf=0,s}function lg(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function ug(s){if(Tf){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Tf=!1}Ra=0,Xt=mt=Ye=null,Fo=!1,pu=Nf=0,Go=null}function Yn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ye.memoizedState=Xt=s:Xt=Xt.next=s,Xt}function Qt(){if(mt===null){var s=Ye.alternate;s=s!==null?s.memoizedState:null}else s=mt.next;var l=Xt===null?Ye.memoizedState:Xt.next;if(l!==null)Xt=l,mt=s;else{if(s===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));mt=s,s={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Xt===null?Ye.memoizedState=Xt=s:Xt=Xt.next=s}return Xt}function cg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(s){var l=pu;return pu+=1,Go===null&&(Go=[]),s=zO(Go,s,l),l=Ye,(Xt===null?l.memoizedState:Xt.next)===null&&(l=l.alternate,B.H=l===null||l.memoizedState===null?NT:kT),s}function kf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return mu(s);if(s.$$typeof===O)return Mn(s)}throw Error(r(438,String(s)))}function fg(s){var l=null,h=Ye.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var g=Ye.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=cg(),Ye.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),g=0;g<s;g++)h[g]=C;return l.index++,h}function Yi(s,l){return typeof l=="function"?l(s):l}function Cf(s){var l=Qt();return dg(l,mt,s)}function dg(s,l,h){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var w=s.baseQueue,A=g.pending;if(A!==null){if(w!==null){var q=w.next;w.next=A.next,A.next=q}l.baseQueue=w=A,g.pending=null}if(A=s.baseState,w===null)s.memoizedState=A;else{l=w.next;var z=q=null,Z=null,oe=l,me=!1;do{var ve=oe.lane&-536870913;if(ve!==oe.lane?(rt&ve)===ve:(Ra&ve)===ve){var ue=oe.revertLane;if(ue===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ve===zo&&(me=!0);else if((Ra&ue)===ue){oe=oe.next,ue===zo&&(me=!0);continue}else ve={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Z===null?(z=Z=ve,q=A):Z=Z.next=ve,Ye.lanes|=ue,$a|=ue;ve=oe.action,Ls&&h(A,ve),A=oe.hasEagerState?oe.eagerState:h(A,ve)}else ue={lane:ve,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Z===null?(z=Z=ue,q=A):Z=Z.next=ue,Ye.lanes|=ve,$a|=ve;oe=oe.next}while(oe!==null&&oe!==l);if(Z===null?q=A:Z.next=z,!cr(A,s.memoizedState)&&(hn=!0,me&&(h=Uo,h!==null)))throw h;s.memoizedState=A,s.baseState=q,s.baseQueue=Z,g.lastRenderedState=A}return w===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function hg(s){var l=Qt(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=h.dispatch,w=h.pending,A=l.memoizedState;if(w!==null){h.pending=null;var q=w=w.next;do A=s(A,q.action),q=q.next;while(q!==w);cr(A,l.memoizedState)||(hn=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),h.lastRenderedState=A}return[A,g]}function VO(s,l,h){var g=Ye,w=Qt(),A=lt;if(A){if(h===void 0)throw Error(r(407));h=h()}else h=l();var q=!cr((mt||w).memoizedState,h);q&&(w.memoizedState=h,hn=!0),w=w.queue;var z=ZO.bind(null,g,w,s);if(gu(2048,8,z,[s]),w.getSnapshot!==l||q||Xt!==null&&Xt.memoizedState.tag&1){if(g.flags|=2048,Ko(9,Mf(),QO.bind(null,g,w,h,l),null),wt===null)throw Error(r(349));A||(Ra&124)!==0||XO(g,l,h)}return h}function XO(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=Ye.updateQueue,l===null?(l=cg(),Ye.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function QO(s,l,h,g){l.value=h,l.getSnapshot=g,JO(l)&&eT(s)}function ZO(s,l,h){return h(function(){JO(l)&&eT(s)})}function JO(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!cr(s,h)}catch{return!0}}function eT(s){var l=qo(s,2);l!==null&&gr(l,s,2)}function pg(s){var l=Yn();if(typeof s=="function"){var h=s;if(s=h(),Ls){Ke(!0);try{h()}finally{Ke(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},l}function tT(s,l,h,g){return s.baseState=h,dg(s,mt,typeof g=="function"?g:Yi)}function MF(s,l,h,g,w){if(Df(s))throw Error(r(485));if(s=l.action,s!==null){var A={payload:w,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){A.listeners.push(q)}};B.T!==null?h(!0):A.isTransition=!1,g(A),h=l.pending,h===null?(A.next=l.pending=A,nT(l,A)):(A.next=h.next,l.pending=h.next=A)}}function nT(s,l){var h=l.action,g=l.payload,w=s.state;if(l.isTransition){var A=B.T,q={};B.T=q;try{var z=h(w,g),Z=B.S;Z!==null&&Z(q,z),rT(s,l,z)}catch(oe){mg(s,l,oe)}finally{B.T=A}}else try{A=h(w,g),rT(s,l,A)}catch(oe){mg(s,l,oe)}}function rT(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){iT(s,l,g)},function(g){return mg(s,l,g)}):iT(s,l,h)}function iT(s,l,h){l.status="fulfilled",l.value=h,aT(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,nT(s,h)))}function mg(s,l,h){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=h,aT(l),l=l.next;while(l!==g)}s.action=null}function aT(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function sT(s,l){return l}function oT(s,l){if(lt){var h=wt.formState;if(h!==null){e:{var g=Ye;if(lt){if(It){t:{for(var w=It,A=Ai;w.nodeType!==8;){if(!A){w=null;break t}if(w=li(w.nextSibling),w===null){w=null;break t}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){It=li(w.nextSibling),g=w.data==="F!";break e}}Ms(g)}g=!1}g&&(l=h[0])}}return h=Yn(),h.memoizedState=h.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sT,lastRenderedState:l},h.queue=g,h=AT.bind(null,Ye,g),g.dispatch=h,g=pg(!1),A=xg.bind(null,Ye,!1,g.queue),g=Yn(),w={state:l,dispatch:null,action:s,pending:null},g.queue=w,h=MF.bind(null,Ye,w,A,h),w.dispatch=h,g.memoizedState=s,[l,h,!1]}function lT(s){var l=Qt();return uT(l,mt,s)}function uT(s,l,h){if(l=dg(s,l,sT)[0],s=Cf(Yi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=mu(l)}catch(q){throw q===uu?Ef:q}else g=l;l=Qt();var w=l.queue,A=w.dispatch;return h!==l.memoizedState&&(Ye.flags|=2048,Ko(9,Mf(),RF.bind(null,w,h),null)),[g,A,s]}function RF(s,l){s.action=l}function cT(s){var l=Qt(),h=mt;if(h!==null)return uT(l,h,s);Qt(),l=l.memoizedState,h=Qt();var g=h.queue.dispatch;return h.memoizedState=s,[l,g,!1]}function Ko(s,l,h,g){return s={tag:s,create:h,deps:g,inst:l,next:null},l=Ye.updateQueue,l===null&&(l=cg(),Ye.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,l.lastEffect=s),s}function Mf(){return{destroy:void 0,resource:void 0}}function fT(){return Qt().memoizedState}function Rf(s,l,h,g){var w=Yn();g=g===void 0?null:g,Ye.flags|=s,w.memoizedState=Ko(1|l,Mf(),h,g)}function gu(s,l,h,g){var w=Qt();g=g===void 0?null:g;var A=w.memoizedState.inst;mt!==null&&g!==null&&ag(g,mt.memoizedState.deps)?w.memoizedState=Ko(l,A,h,g):(Ye.flags|=s,w.memoizedState=Ko(1|l,A,h,g))}function dT(s,l){Rf(8390656,8,s,l)}function hT(s,l){gu(2048,8,s,l)}function pT(s,l){return gu(4,2,s,l)}function mT(s,l){return gu(4,4,s,l)}function gT(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function vT(s,l,h){h=h!=null?h.concat([s]):null,gu(4,4,gT.bind(null,l,s),h)}function gg(){}function yT(s,l){var h=Qt();l=l===void 0?null:l;var g=h.memoizedState;return l!==null&&ag(l,g[1])?g[0]:(h.memoizedState=[s,l],s)}function bT(s,l){var h=Qt();l=l===void 0?null:l;var g=h.memoizedState;if(l!==null&&ag(l,g[1]))return g[0];if(g=s(),Ls){Ke(!0);try{s()}finally{Ke(!1)}}return h.memoizedState=[g,l],g}function vg(s,l,h){return h===void 0||(Ra&1073741824)!==0?s.memoizedState=l:(s.memoizedState=h,s=SN(),Ye.lanes|=s,$a|=s,h)}function xT(s,l,h,g){return cr(h,l)?h:Ho.current!==null?(s=vg(s,h,g),cr(s,l)||(hn=!0),s):(Ra&42)===0?(hn=!0,s.memoizedState=h):(s=SN(),Ye.lanes|=s,$a|=s,l)}function wT(s,l,h,g,w){var A=F.p;F.p=A!==0&&8>A?A:8;var q=B.T,z={};B.T=z,xg(s,!1,l,h);try{var Z=w(),oe=B.S;if(oe!==null&&oe(z,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var me=NF(Z,g);vu(s,l,me,mr(s))}else vu(s,l,g,mr(s))}catch(ve){vu(s,l,{then:function(){},status:"rejected",reason:ve},mr())}finally{F.p=A,B.T=q}}function DF(){}function yg(s,l,h,g){if(s.tag!==5)throw Error(r(476));var w=ST(s).queue;wT(s,w,l,G,h===null?DF:function(){return _T(s),h(g)})}function ST(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:G},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function _T(s){var l=ST(s).next.queue;vu(s,l,{},mr())}function bg(){return Mn(Pu)}function jT(){return Qt().memoizedState}function ET(){return Qt().memoizedState}function PF(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=mr();s=Ca(h);var g=Ma(l,s,h);g!==null&&(gr(g,l,h),fu(g,l,h)),l={cache:Vm()},s.payload=l;return}l=l.return}}function LF(s,l,h){var g=mr();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Df(s)?OT(l,h):(h=Bm(s,l,h,g),h!==null&&(gr(h,s,g),TT(h,l,g)))}function AT(s,l,h){var g=mr();vu(s,l,h,g)}function vu(s,l,h,g){var w={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Df(s))OT(l,w);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var q=l.lastRenderedState,z=A(q,h);if(w.hasEagerState=!0,w.eagerState=z,cr(z,q))return vf(s,l,w,0),wt===null&&gf(),!1}catch{}finally{}if(h=Bm(s,l,w,g),h!==null)return gr(h,s,g),TT(h,l,g),!0}return!1}function xg(s,l,h,g){if(g={lane:2,revertLane:Zg(),action:g,hasEagerState:!1,eagerState:null,next:null},Df(s)){if(l)throw Error(r(479))}else l=Bm(s,h,g,2),l!==null&&gr(l,s,2)}function Df(s){var l=s.alternate;return s===Ye||l!==null&&l===Ye}function OT(s,l){Fo=Tf=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function TT(s,l,h){if((h&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,h|=g,l.lanes=h,Rt(s,h)}}var Pf={readContext:Mn,use:kf,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},NT={readContext:Mn,use:kf,useCallback:function(s,l){return Yn().memoizedState=[s,l===void 0?null:l],s},useContext:Mn,useEffect:dT,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,Rf(4194308,4,gT.bind(null,l,s),h)},useLayoutEffect:function(s,l){return Rf(4194308,4,s,l)},useInsertionEffect:function(s,l){Rf(4,2,s,l)},useMemo:function(s,l){var h=Yn();l=l===void 0?null:l;var g=s();if(Ls){Ke(!0);try{s()}finally{Ke(!1)}}return h.memoizedState=[g,l],g},useReducer:function(s,l,h){var g=Yn();if(h!==void 0){var w=h(l);if(Ls){Ke(!0);try{h(l)}finally{Ke(!1)}}}else w=l;return g.memoizedState=g.baseState=w,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:w},g.queue=s,s=s.dispatch=LF.bind(null,Ye,s),[g.memoizedState,s]},useRef:function(s){var l=Yn();return s={current:s},l.memoizedState=s},useState:function(s){s=pg(s);var l=s.queue,h=AT.bind(null,Ye,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:gg,useDeferredValue:function(s,l){var h=Yn();return vg(h,s,l)},useTransition:function(){var s=pg(!1);return s=wT.bind(null,Ye,s.queue,!0,!1),Yn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var g=Ye,w=Yn();if(lt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),wt===null)throw Error(r(349));(rt&124)!==0||XO(g,l,h)}w.memoizedState=h;var A={value:h,getSnapshot:l};return w.queue=A,dT(ZO.bind(null,g,A,s),[s]),g.flags|=2048,Ko(9,Mf(),QO.bind(null,g,A,h,l),null),h},useId:function(){var s=Yn(),l=wt.identifierPrefix;if(lt){var h=Gi,g=Fi;h=(g&~(1<<32-ot(g)-1)).toString(32)+h,l=""+l+"R"+h,h=Nf++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=kF++,l=""+l+"r"+h.toString(32)+"";return s.memoizedState=l},useHostTransitionStatus:bg,useFormState:oT,useActionState:oT,useOptimistic:function(s){var l=Yn();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=xg.bind(null,Ye,!0,h),h.dispatch=l,[s,l]},useMemoCache:fg,useCacheRefresh:function(){return Yn().memoizedState=PF.bind(null,Ye)}},kT={readContext:Mn,use:kf,useCallback:yT,useContext:Mn,useEffect:hT,useImperativeHandle:vT,useInsertionEffect:pT,useLayoutEffect:mT,useMemo:bT,useReducer:Cf,useRef:fT,useState:function(){return Cf(Yi)},useDebugValue:gg,useDeferredValue:function(s,l){var h=Qt();return xT(h,mt.memoizedState,s,l)},useTransition:function(){var s=Cf(Yi)[0],l=Qt().memoizedState;return[typeof s=="boolean"?s:mu(s),l]},useSyncExternalStore:VO,useId:jT,useHostTransitionStatus:bg,useFormState:lT,useActionState:lT,useOptimistic:function(s,l){var h=Qt();return tT(h,mt,s,l)},useMemoCache:fg,useCacheRefresh:ET},qF={readContext:Mn,use:kf,useCallback:yT,useContext:Mn,useEffect:hT,useImperativeHandle:vT,useInsertionEffect:pT,useLayoutEffect:mT,useMemo:bT,useReducer:hg,useRef:fT,useState:function(){return hg(Yi)},useDebugValue:gg,useDeferredValue:function(s,l){var h=Qt();return mt===null?vg(h,s,l):xT(h,mt.memoizedState,s,l)},useTransition:function(){var s=hg(Yi)[0],l=Qt().memoizedState;return[typeof s=="boolean"?s:mu(s),l]},useSyncExternalStore:VO,useId:jT,useHostTransitionStatus:bg,useFormState:cT,useActionState:cT,useOptimistic:function(s,l){var h=Qt();return mt!==null?tT(h,mt,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:fg,useCacheRefresh:ET},Wo=null,yu=0;function Lf(s){var l=yu;return yu+=1,Wo===null&&(Wo=[]),zO(Wo,s,l)}function bu(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function qf(s,l){throw l.$$typeof===p?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function CT(s){var l=s._init;return l(s._payload)}function MT(s){function l(ie,ee){if(s){var se=ie.deletions;se===null?(ie.deletions=[ee],ie.flags|=16):se.push(ee)}}function h(ie,ee){if(!s)return null;for(;ee!==null;)l(ie,ee),ee=ee.sibling;return null}function g(ie){for(var ee=new Map;ie!==null;)ie.key!==null?ee.set(ie.key,ie):ee.set(ie.index,ie),ie=ie.sibling;return ee}function w(ie,ee){return ie=Hi(ie,ee),ie.index=0,ie.sibling=null,ie}function A(ie,ee,se){return ie.index=se,s?(se=ie.alternate,se!==null?(se=se.index,se<ee?(ie.flags|=67108866,ee):se):(ie.flags|=67108866,ee)):(ie.flags|=1048576,ee)}function q(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function z(ie,ee,se,ge){return ee===null||ee.tag!==6?(ee=zm(se,ie.mode,ge),ee.return=ie,ee):(ee=w(ee,se),ee.return=ie,ee)}function Z(ie,ee,se,ge){var Me=se.type;return Me===b?me(ie,ee,se.props.children,ge,se.key):ee!==null&&(ee.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===D&&CT(Me)===ee.type)?(ee=w(ee,se.props),bu(ee,se),ee.return=ie,ee):(ee=bf(se.type,se.key,se.props,null,ie.mode,ge),bu(ee,se),ee.return=ie,ee)}function oe(ie,ee,se,ge){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==se.containerInfo||ee.stateNode.implementation!==se.implementation?(ee=Um(se,ie.mode,ge),ee.return=ie,ee):(ee=w(ee,se.children||[]),ee.return=ie,ee)}function me(ie,ee,se,ge,Me){return ee===null||ee.tag!==7?(ee=Ts(se,ie.mode,ge,Me),ee.return=ie,ee):(ee=w(ee,se),ee.return=ie,ee)}function ve(ie,ee,se){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=zm(""+ee,ie.mode,se),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return se=bf(ee.type,ee.key,ee.props,null,ie.mode,se),bu(se,ee),se.return=ie,se;case y:return ee=Um(ee,ie.mode,se),ee.return=ie,ee;case D:var ge=ee._init;return ee=ge(ee._payload),ve(ie,ee,se)}if(H(ee)||I(ee))return ee=Ts(ee,ie.mode,se,null),ee.return=ie,ee;if(typeof ee.then=="function")return ve(ie,Lf(ee),se);if(ee.$$typeof===O)return ve(ie,_f(ie,ee),se);qf(ie,ee)}return null}function ue(ie,ee,se,ge){var Me=ee!==null?ee.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Me!==null?null:z(ie,ee,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return se.key===Me?Z(ie,ee,se,ge):null;case y:return se.key===Me?oe(ie,ee,se,ge):null;case D:return Me=se._init,se=Me(se._payload),ue(ie,ee,se,ge)}if(H(se)||I(se))return Me!==null?null:me(ie,ee,se,ge,null);if(typeof se.then=="function")return ue(ie,ee,Lf(se),ge);if(se.$$typeof===O)return ue(ie,ee,_f(ie,se),ge);qf(ie,se)}return null}function ce(ie,ee,se,ge,Me){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ie=ie.get(se)||null,z(ee,ie,""+ge,Me);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return ie=ie.get(ge.key===null?se:ge.key)||null,Z(ee,ie,ge,Me);case y:return ie=ie.get(ge.key===null?se:ge.key)||null,oe(ee,ie,ge,Me);case D:var Qe=ge._init;return ge=Qe(ge._payload),ce(ie,ee,se,ge,Me)}if(H(ge)||I(ge))return ie=ie.get(se)||null,me(ee,ie,ge,Me,null);if(typeof ge.then=="function")return ce(ie,ee,se,Lf(ge),Me);if(ge.$$typeof===O)return ce(ie,ee,se,_f(ee,ge),Me);qf(ee,ge)}return null}function Fe(ie,ee,se,ge){for(var Me=null,Qe=null,qe=ee,Ue=ee=0,mn=null;qe!==null&&Ue<se.length;Ue++){qe.index>Ue?(mn=qe,qe=null):mn=qe.sibling;var at=ue(ie,qe,se[Ue],ge);if(at===null){qe===null&&(qe=mn);break}s&&qe&&at.alternate===null&&l(ie,qe),ee=A(at,ee,Ue),Qe===null?Me=at:Qe.sibling=at,Qe=at,qe=mn}if(Ue===se.length)return h(ie,qe),lt&&ks(ie,Ue),Me;if(qe===null){for(;Ue<se.length;Ue++)qe=ve(ie,se[Ue],ge),qe!==null&&(ee=A(qe,ee,Ue),Qe===null?Me=qe:Qe.sibling=qe,Qe=qe);return lt&&ks(ie,Ue),Me}for(qe=g(qe);Ue<se.length;Ue++)mn=ce(qe,ie,Ue,se[Ue],ge),mn!==null&&(s&&mn.alternate!==null&&qe.delete(mn.key===null?Ue:mn.key),ee=A(mn,ee,Ue),Qe===null?Me=mn:Qe.sibling=mn,Qe=mn);return s&&qe.forEach(function(Va){return l(ie,Va)}),lt&&ks(ie,Ue),Me}function ze(ie,ee,se,ge){if(se==null)throw Error(r(151));for(var Me=null,Qe=null,qe=ee,Ue=ee=0,mn=null,at=se.next();qe!==null&&!at.done;Ue++,at=se.next()){qe.index>Ue?(mn=qe,qe=null):mn=qe.sibling;var Va=ue(ie,qe,at.value,ge);if(Va===null){qe===null&&(qe=mn);break}s&&qe&&Va.alternate===null&&l(ie,qe),ee=A(Va,ee,Ue),Qe===null?Me=Va:Qe.sibling=Va,Qe=Va,qe=mn}if(at.done)return h(ie,qe),lt&&ks(ie,Ue),Me;if(qe===null){for(;!at.done;Ue++,at=se.next())at=ve(ie,at.value,ge),at!==null&&(ee=A(at,ee,Ue),Qe===null?Me=at:Qe.sibling=at,Qe=at);return lt&&ks(ie,Ue),Me}for(qe=g(qe);!at.done;Ue++,at=se.next())at=ce(qe,ie,Ue,at.value,ge),at!==null&&(s&&at.alternate!==null&&qe.delete(at.key===null?Ue:at.key),ee=A(at,ee,Ue),Qe===null?Me=at:Qe.sibling=at,Qe=at);return s&&qe.forEach(function(IG){return l(ie,IG)}),lt&&ks(ie,Ue),Me}function vt(ie,ee,se,ge){if(typeof se=="object"&&se!==null&&se.type===b&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case v:e:{for(var Me=se.key;ee!==null;){if(ee.key===Me){if(Me=se.type,Me===b){if(ee.tag===7){h(ie,ee.sibling),ge=w(ee,se.props.children),ge.return=ie,ie=ge;break e}}else if(ee.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===D&&CT(Me)===ee.type){h(ie,ee.sibling),ge=w(ee,se.props),bu(ge,se),ge.return=ie,ie=ge;break e}h(ie,ee);break}else l(ie,ee);ee=ee.sibling}se.type===b?(ge=Ts(se.props.children,ie.mode,ge,se.key),ge.return=ie,ie=ge):(ge=bf(se.type,se.key,se.props,null,ie.mode,ge),bu(ge,se),ge.return=ie,ie=ge)}return q(ie);case y:e:{for(Me=se.key;ee!==null;){if(ee.key===Me)if(ee.tag===4&&ee.stateNode.containerInfo===se.containerInfo&&ee.stateNode.implementation===se.implementation){h(ie,ee.sibling),ge=w(ee,se.children||[]),ge.return=ie,ie=ge;break e}else{h(ie,ee);break}else l(ie,ee);ee=ee.sibling}ge=Um(se,ie.mode,ge),ge.return=ie,ie=ge}return q(ie);case D:return Me=se._init,se=Me(se._payload),vt(ie,ee,se,ge)}if(H(se))return Fe(ie,ee,se,ge);if(I(se)){if(Me=I(se),typeof Me!="function")throw Error(r(150));return se=Me.call(se),ze(ie,ee,se,ge)}if(typeof se.then=="function")return vt(ie,ee,Lf(se),ge);if(se.$$typeof===O)return vt(ie,ee,_f(ie,se),ge);qf(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,ee!==null&&ee.tag===6?(h(ie,ee.sibling),ge=w(ee,se),ge.return=ie,ie=ge):(h(ie,ee),ge=zm(se,ie.mode,ge),ge.return=ie,ie=ge),q(ie)):h(ie,ee)}return function(ie,ee,se,ge){try{yu=0;var Me=vt(ie,ee,se,ge);return Wo=null,Me}catch(qe){if(qe===uu||qe===Ef)throw qe;var Qe=fr(29,qe,null,ie.mode);return Qe.lanes=ge,Qe.return=ie,Qe}finally{}}}var Yo=MT(!0),RT=MT(!1),qr=W(null),Oi=null;function Da(s){var l=s.alternate;ne(on,on.current&1),ne(qr,s),Oi===null&&(l===null||Ho.current!==null||l.memoizedState!==null)&&(Oi=s)}function DT(s){if(s.tag===22){if(ne(on,on.current),ne(qr,s),Oi===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(Oi=s)}}else Pa()}function Pa(){ne(on,on.current),ne(qr,qr.current)}function Vi(s){X(qr),Oi===s&&(Oi=null),X(on)}var on=W(0);function If(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||cv(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function wg(s,l,h,g){l=s.memoizedState,h=h(g,l),h=h==null?l:d({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Sg={enqueueSetState:function(s,l,h){s=s._reactInternals;var g=mr(),w=Ca(g);w.payload=l,h!=null&&(w.callback=h),l=Ma(s,w,g),l!==null&&(gr(l,s,g),fu(l,s,g))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var g=mr(),w=Ca(g);w.tag=1,w.payload=l,h!=null&&(w.callback=h),l=Ma(s,w,g),l!==null&&(gr(l,s,g),fu(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=mr(),g=Ca(h);g.tag=2,l!=null&&(g.callback=l),l=Ma(s,g,h),l!==null&&(gr(l,s,h),fu(l,s,h))}};function PT(s,l,h,g,w,A,q){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,A,q):l.prototype&&l.prototype.isPureReactComponent?!tu(h,g)||!tu(w,A):!0}function LT(s,l,h,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==s&&Sg.enqueueReplaceState(l,l.state,null)}function qs(s,l){var h=l;if("ref"in l){h={};for(var g in l)g!=="ref"&&(h[g]=l[g])}if(s=s.defaultProps){h===l&&(h=d({},h));for(var w in s)h[w]===void 0&&(h[w]=s[w])}return h}var Bf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function qT(s){Bf(s)}function IT(s){console.error(s)}function BT(s){Bf(s)}function $f(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function $T(s,l,h){try{var g=s.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function _g(s,l,h){return h=Ca(h),h.tag=3,h.payload={element:null},h.callback=function(){$f(s,l)},h}function zT(s){return s=Ca(s),s.tag=3,s}function UT(s,l,h,g){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var A=g.value;s.payload=function(){return w(A)},s.callback=function(){$T(l,h,g)}}var q=h.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(s.callback=function(){$T(l,h,g),typeof w!="function"&&(za===null?za=new Set([this]):za.add(this));var z=g.stack;this.componentDidCatch(g.value,{componentStack:z!==null?z:""})})}function IF(s,l,h,g,w){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=h.alternate,l!==null&&su(l,h,w,!0),h=qr.current,h!==null){switch(h.tag){case 13:return Oi===null?Wg():h.alternate===null&&Bt===0&&(Bt=3),h.flags&=-257,h.flags|=65536,h.lanes=w,g===Zm?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([g]):l.add(g),Vg(s,g,w)),!1;case 22:return h.flags|=65536,g===Zm?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([g]):h.add(g)),Vg(s,g,w)),!1}throw Error(r(435,h.tag))}return Vg(s,g,w),Wg(),!1}if(lt)return l=qr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,g!==Gm&&(s=Error(r(422),{cause:g}),au(Rr(s,h)))):(g!==Gm&&(l=Error(r(423),{cause:g}),au(Rr(l,h))),s=s.current.alternate,s.flags|=65536,w&=-w,s.lanes|=w,g=Rr(g,h),w=_g(s.stateNode,g,w),tg(s,w),Bt!==4&&(Bt=2)),!1;var A=Error(r(520),{cause:g});if(A=Rr(A,h),Au===null?Au=[A]:Au.push(A),Bt!==4&&(Bt=2),l===null)return!0;g=Rr(g,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=w&-w,h.lanes|=s,s=_g(h.stateNode,g,s),tg(h,s),!1;case 1:if(l=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(za===null||!za.has(A))))return h.flags|=65536,w&=-w,h.lanes|=w,w=zT(w),UT(w,s,h,g),tg(h,w),!1}h=h.return}while(h!==null);return!1}var HT=Error(r(461)),hn=!1;function jn(s,l,h,g){l.child=s===null?RT(l,null,h,g):Yo(l,s.child,h,g)}function FT(s,l,h,g,w){h=h.render;var A=l.ref;if("ref"in g){var q={};for(var z in g)z!=="ref"&&(q[z]=g[z])}else q=g;return Ds(l),g=sg(s,l,h,q,A,w),z=og(),s!==null&&!hn?(lg(s,l,w),Xi(s,l,w)):(lt&&z&&Hm(l),l.flags|=1,jn(s,l,g,w),l.child)}function GT(s,l,h,g,w){if(s===null){var A=h.type;return typeof A=="function"&&!$m(A)&&A.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=A,KT(s,l,A,g,w)):(s=bf(h.type,null,g,l,l.mode,w),s.ref=l.ref,s.return=l,l.child=s)}if(A=s.child,!Cg(s,w)){var q=A.memoizedProps;if(h=h.compare,h=h!==null?h:tu,h(q,g)&&s.ref===l.ref)return Xi(s,l,w)}return l.flags|=1,s=Hi(A,g),s.ref=l.ref,s.return=l,l.child=s}function KT(s,l,h,g,w){if(s!==null){var A=s.memoizedProps;if(tu(A,g)&&s.ref===l.ref)if(hn=!1,l.pendingProps=g=A,Cg(s,w))(s.flags&131072)!==0&&(hn=!0);else return l.lanes=s.lanes,Xi(s,l,w)}return jg(s,l,h,g,w)}function WT(s,l,h){var g=l.pendingProps,w=g.children,A=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=A!==null?A.baseLanes|h:h,s!==null){for(w=l.child=s.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;l.childLanes=A&~g}else l.childLanes=0,l.child=null;return YT(s,l,g,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&jf(l,A!==null?A.cachePool:null),A!==null?KO(l,A):rg(),DT(l);else return l.lanes=l.childLanes=536870912,YT(s,l,A!==null?A.baseLanes|h:h,h)}else A!==null?(jf(l,A.cachePool),KO(l,A),Pa(),l.memoizedState=null):(s!==null&&jf(l,null),rg(),Pa());return jn(s,l,w,h),l.child}function YT(s,l,h,g){var w=Qm();return w=w===null?null:{parent:sn._currentValue,pool:w},l.memoizedState={baseLanes:h,cachePool:w},s!==null&&jf(l,null),rg(),DT(l),s!==null&&su(s,l,g,!0),null}function zf(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function jg(s,l,h,g,w){return Ds(l),h=sg(s,l,h,g,void 0,w),g=og(),s!==null&&!hn?(lg(s,l,w),Xi(s,l,w)):(lt&&g&&Hm(l),l.flags|=1,jn(s,l,h,w),l.child)}function VT(s,l,h,g,w,A){return Ds(l),l.updateQueue=null,h=YO(l,g,h,w),WO(s),g=og(),s!==null&&!hn?(lg(s,l,A),Xi(s,l,A)):(lt&&g&&Hm(l),l.flags|=1,jn(s,l,h,A),l.child)}function XT(s,l,h,g,w){if(Ds(l),l.stateNode===null){var A=Io,q=h.contextType;typeof q=="object"&&q!==null&&(A=Mn(q)),A=new h(g,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Sg,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=g,A.state=l.memoizedState,A.refs={},Jm(l),q=h.contextType,A.context=typeof q=="object"&&q!==null?Mn(q):Io,A.state=l.memoizedState,q=h.getDerivedStateFromProps,typeof q=="function"&&(wg(l,h,q,g),A.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(q=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),q!==A.state&&Sg.enqueueReplaceState(A,A.state,null),hu(l,g,A,w),du(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){A=l.stateNode;var z=l.memoizedProps,Z=qs(h,z);A.props=Z;var oe=A.context,me=h.contextType;q=Io,typeof me=="object"&&me!==null&&(q=Mn(me));var ve=h.getDerivedStateFromProps;me=typeof ve=="function"||typeof A.getSnapshotBeforeUpdate=="function",z=l.pendingProps!==z,me||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z||oe!==q)&&LT(l,A,g,q),ka=!1;var ue=l.memoizedState;A.state=ue,hu(l,g,A,w),du(),oe=l.memoizedState,z||ue!==oe||ka?(typeof ve=="function"&&(wg(l,h,ve,g),oe=l.memoizedState),(Z=ka||PT(l,h,Z,g,ue,oe,q))?(me||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=oe),A.props=g,A.state=oe,A.context=q,g=Z):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{A=l.stateNode,eg(s,l),q=l.memoizedProps,me=qs(h,q),A.props=me,ve=l.pendingProps,ue=A.context,oe=h.contextType,Z=Io,typeof oe=="object"&&oe!==null&&(Z=Mn(oe)),z=h.getDerivedStateFromProps,(oe=typeof z=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(q!==ve||ue!==Z)&&LT(l,A,g,Z),ka=!1,ue=l.memoizedState,A.state=ue,hu(l,g,A,w),du();var ce=l.memoizedState;q!==ve||ue!==ce||ka||s!==null&&s.dependencies!==null&&Sf(s.dependencies)?(typeof z=="function"&&(wg(l,h,z,g),ce=l.memoizedState),(me=ka||PT(l,h,me,g,ue,ce,Z)||s!==null&&s.dependencies!==null&&Sf(s.dependencies))?(oe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,ce,Z),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,ce,Z)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||q===s.memoizedProps&&ue===s.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ue===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ce),A.props=g,A.state=ce,A.context=Z,g=me):(typeof A.componentDidUpdate!="function"||q===s.memoizedProps&&ue===s.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ue===s.memoizedState||(l.flags|=1024),g=!1)}return A=g,zf(s,l),g=(l.flags&128)!==0,A||g?(A=l.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,s!==null&&g?(l.child=Yo(l,s.child,null,w),l.child=Yo(l,null,h,w)):jn(s,l,h,w),l.memoizedState=A.state,s=l.child):s=Xi(s,l,w),s}function QT(s,l,h,g){return iu(),l.flags|=256,jn(s,l,h,g),l.child}var Eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ag(s){return{baseLanes:s,cachePool:IO()}}function Og(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=Ir),s}function ZT(s,l,h){var g=l.pendingProps,w=!1,A=(l.flags&128)!==0,q;if((q=A)||(q=s!==null&&s.memoizedState===null?!1:(on.current&2)!==0),q&&(w=!0,l.flags&=-129),q=(l.flags&32)!==0,l.flags&=-33,s===null){if(lt){if(w?Da(l):Pa(),lt){var z=It,Z;if(Z=z){e:{for(Z=z,z=Ai;Z.nodeType!==8;){if(!z){z=null;break e}if(Z=li(Z.nextSibling),Z===null){z=null;break e}}z=Z}z!==null?(l.memoizedState={dehydrated:z,treeContext:Ns!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},Z=fr(18,null,null,0),Z.stateNode=z,Z.return=l,l.child=Z,Bn=l,It=null,Z=!0):Z=!1}Z||Ms(l)}if(z=l.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return cv(z)?l.lanes=32:l.lanes=536870912,null;Vi(l)}return z=g.children,g=g.fallback,w?(Pa(),w=l.mode,z=Uf({mode:"hidden",children:z},w),g=Ts(g,w,h,null),z.return=l,g.return=l,z.sibling=g,l.child=z,w=l.child,w.memoizedState=Ag(h),w.childLanes=Og(s,q,h),l.memoizedState=Eg,g):(Da(l),Tg(l,z))}if(Z=s.memoizedState,Z!==null&&(z=Z.dehydrated,z!==null)){if(A)l.flags&256?(Da(l),l.flags&=-257,l=Ng(s,l,h)):l.memoizedState!==null?(Pa(),l.child=s.child,l.flags|=128,l=null):(Pa(),w=g.fallback,z=l.mode,g=Uf({mode:"visible",children:g.children},z),w=Ts(w,z,h,null),w.flags|=2,g.return=l,w.return=l,g.sibling=w,l.child=g,Yo(l,s.child,null,h),g=l.child,g.memoizedState=Ag(h),g.childLanes=Og(s,q,h),l.memoizedState=Eg,l=w);else if(Da(l),cv(z)){if(q=z.nextSibling&&z.nextSibling.dataset,q)var oe=q.dgst;q=oe,g=Error(r(419)),g.stack="",g.digest=q,au({value:g,source:null,stack:null}),l=Ng(s,l,h)}else if(hn||su(s,l,h,!1),q=(h&s.childLanes)!==0,hn||q){if(q=wt,q!==null&&(g=h&-h,g=(g&42)!==0?1:Nr(g),g=(g&(q.suspendedLanes|h))!==0?0:g,g!==0&&g!==Z.retryLane))throw Z.retryLane=g,qo(s,g),gr(q,s,g),HT;z.data==="$?"||Wg(),l=Ng(s,l,h)}else z.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=Z.treeContext,It=li(z.nextSibling),Bn=l,lt=!0,Cs=null,Ai=!1,s!==null&&(Pr[Lr++]=Fi,Pr[Lr++]=Gi,Pr[Lr++]=Ns,Fi=s.id,Gi=s.overflow,Ns=l),l=Tg(l,g.children),l.flags|=4096);return l}return w?(Pa(),w=g.fallback,z=l.mode,Z=s.child,oe=Z.sibling,g=Hi(Z,{mode:"hidden",children:g.children}),g.subtreeFlags=Z.subtreeFlags&65011712,oe!==null?w=Hi(oe,w):(w=Ts(w,z,h,null),w.flags|=2),w.return=l,g.return=l,g.sibling=w,l.child=g,g=w,w=l.child,z=s.child.memoizedState,z===null?z=Ag(h):(Z=z.cachePool,Z!==null?(oe=sn._currentValue,Z=Z.parent!==oe?{parent:oe,pool:oe}:Z):Z=IO(),z={baseLanes:z.baseLanes|h,cachePool:Z}),w.memoizedState=z,w.childLanes=Og(s,q,h),l.memoizedState=Eg,g):(Da(l),h=s.child,s=h.sibling,h=Hi(h,{mode:"visible",children:g.children}),h.return=l,h.sibling=null,s!==null&&(q=l.deletions,q===null?(l.deletions=[s],l.flags|=16):q.push(s)),l.child=h,l.memoizedState=null,h)}function Tg(s,l){return l=Uf({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Uf(s,l){return s=fr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Ng(s,l,h){return Yo(l,s.child,null,h),s=Tg(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function JT(s,l,h){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),Wm(s.return,l,h)}function kg(s,l,h,g,w){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=h,A.tailMode=w)}function eN(s,l,h){var g=l.pendingProps,w=g.revealOrder,A=g.tail;if(jn(s,l,g.children,h),g=on.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&JT(s,h,l);else if(s.tag===19)JT(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(ne(on,g),w){case"forwards":for(h=l.child,w=null;h!==null;)s=h.alternate,s!==null&&If(s)===null&&(w=h),h=h.sibling;h=w,h===null?(w=l.child,l.child=null):(w=h.sibling,h.sibling=null),kg(l,!1,w,h,A);break;case"backwards":for(h=null,w=l.child,l.child=null;w!==null;){if(s=w.alternate,s!==null&&If(s)===null){l.child=w;break}s=w.sibling,w.sibling=h,h=w,w=s}kg(l,!0,h,null,A);break;case"together":kg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Xi(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),$a|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(su(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=Hi(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=Hi(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function Cg(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Sf(s)))}function BF(s,l,h){switch(l.tag){case 3:ae(l,l.stateNode.containerInfo),Na(l,sn,s.memoizedState.cache),iu();break;case 27:case 5:de(l);break;case 4:ae(l,l.stateNode.containerInfo);break;case 10:Na(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Da(l),l.flags|=128,null):(h&l.child.childLanes)!==0?ZT(s,l,h):(Da(l),s=Xi(s,l,h),s!==null?s.sibling:null);Da(l);break;case 19:var w=(s.flags&128)!==0;if(g=(h&l.childLanes)!==0,g||(su(s,l,h,!1),g=(h&l.childLanes)!==0),w){if(g)return eN(s,l,h);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ne(on,on.current),g)break;return null;case 22:case 23:return l.lanes=0,WT(s,l,h);case 24:Na(l,sn,s.memoizedState.cache)}return Xi(s,l,h)}function tN(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)hn=!0;else{if(!Cg(s,h)&&(l.flags&128)===0)return hn=!1,BF(s,l,h);hn=(s.flags&131072)!==0}else hn=!1,lt&&(l.flags&1048576)!==0&&CO(l,wf,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var g=l.elementType,w=g._init;if(g=w(g._payload),l.type=g,typeof g=="function")$m(g)?(s=qs(g,s),l.tag=1,l=XT(null,l,g,s,h)):(l.tag=0,l=jg(null,l,g,s,h));else{if(g!=null){if(w=g.$$typeof,w===T){l.tag=11,l=FT(null,l,g,s,h);break e}else if(w===M){l.tag=14,l=GT(null,l,g,s,h);break e}}throw l=P(g)||g,Error(r(306,l,""))}}return l;case 0:return jg(s,l,l.type,l.pendingProps,h);case 1:return g=l.type,w=qs(g,l.pendingProps),XT(s,l,g,w,h);case 3:e:{if(ae(l,l.stateNode.containerInfo),s===null)throw Error(r(387));g=l.pendingProps;var A=l.memoizedState;w=A.element,eg(s,l),hu(l,g,null,h);var q=l.memoizedState;if(g=q.cache,Na(l,sn,g),g!==A.cache&&Ym(l,[sn],h,!0),du(),g=q.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:q.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=QT(s,l,g,h);break e}else if(g!==w){w=Rr(Error(r(424)),l),au(w),l=QT(s,l,g,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(It=li(s.firstChild),Bn=l,lt=!0,Cs=null,Ai=!0,h=RT(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(iu(),g===w){l=Xi(s,l,h);break e}jn(s,l,g,h)}l=l.child}return l;case 26:return zf(s,l),s===null?(h=ak(l.type,null,l.pendingProps,null))?l.memoizedState=h:lt||(h=l.type,s=l.pendingProps,g=nd(Y.current).createElement(h),g[Ht]=l,g[fn]=s,An(g,h,s),qt(g),l.stateNode=g):l.memoizedState=ak(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return de(l),s===null&&lt&&(g=l.stateNode=nk(l.type,l.pendingProps,Y.current),Bn=l,Ai=!0,w=It,Fa(l.type)?(fv=w,It=li(g.firstChild)):It=w),jn(s,l,l.pendingProps.children,h),zf(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&lt&&((w=g=It)&&(g=hG(g,l.type,l.pendingProps,Ai),g!==null?(l.stateNode=g,Bn=l,It=li(g.firstChild),Ai=!1,w=!0):w=!1),w||Ms(l)),de(l),w=l.type,A=l.pendingProps,q=s!==null?s.memoizedProps:null,g=A.children,ov(w,A)?g=null:q!==null&&ov(w,q)&&(l.flags|=32),l.memoizedState!==null&&(w=sg(s,l,CF,null,null,h),Pu._currentValue=w),zf(s,l),jn(s,l,g,h),l.child;case 6:return s===null&&lt&&((s=h=It)&&(h=pG(h,l.pendingProps,Ai),h!==null?(l.stateNode=h,Bn=l,It=null,s=!0):s=!1),s||Ms(l)),null;case 13:return ZT(s,l,h);case 4:return ae(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=Yo(l,null,g,h):jn(s,l,g,h),l.child;case 11:return FT(s,l,l.type,l.pendingProps,h);case 7:return jn(s,l,l.pendingProps,h),l.child;case 8:return jn(s,l,l.pendingProps.children,h),l.child;case 12:return jn(s,l,l.pendingProps.children,h),l.child;case 10:return g=l.pendingProps,Na(l,l.type,g.value),jn(s,l,g.children,h),l.child;case 9:return w=l.type._context,g=l.pendingProps.children,Ds(l),w=Mn(w),g=g(w),l.flags|=1,jn(s,l,g,h),l.child;case 14:return GT(s,l,l.type,l.pendingProps,h);case 15:return KT(s,l,l.type,l.pendingProps,h);case 19:return eN(s,l,h);case 31:return g=l.pendingProps,h=l.mode,g={mode:g.mode,children:g.children},s===null?(h=Uf(g,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Hi(s.child,g),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return WT(s,l,h);case 24:return Ds(l),g=Mn(sn),s===null?(w=Qm(),w===null&&(w=wt,A=Vm(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=h),w=A),l.memoizedState={parent:g,cache:w},Jm(l),Na(l,sn,w)):((s.lanes&h)!==0&&(eg(s,l),hu(l,null,null,h),du()),w=s.memoizedState,A=l.memoizedState,w.parent!==g?(w={parent:g,cache:g},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Na(l,sn,g)):(g=A.cache,Na(l,sn,g),g!==w.cache&&Ym(l,[sn],h,!0))),jn(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Qi(s){s.flags|=4}function nN(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ck(l)){if(l=qr.current,l!==null&&((rt&4194048)===rt?Oi!==null:(rt&62914560)!==rt&&(rt&536870912)===0||l!==Oi))throw cu=Zm,BO;s.flags|=8192}}function Hf(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?sr():536870912,s.lanes|=l,Zo|=l)}function xu(s,l){if(!lt)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Dt(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(l)for(var w=s.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=g,s.childLanes=h,l}function $F(s,l,h){var g=l.pendingProps;switch(Fm(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(l),null;case 1:return Dt(l),null;case 3:return h=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Wi(sn),re(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(ru(l)?Qi(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,DO())),Dt(l),null;case 26:return h=l.memoizedState,s===null?(Qi(l),h!==null?(Dt(l),nN(l,h)):(Dt(l),l.flags&=-16777217)):h?h!==s.memoizedState?(Qi(l),Dt(l),nN(l,h)):(Dt(l),l.flags&=-16777217):(s.memoizedProps!==g&&Qi(l),Dt(l),l.flags&=-16777217),null;case 27:ye(l),h=Y.current;var w=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Qi(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Dt(l),null}s=V.current,ru(l)?MO(l):(s=nk(w,g,h),l.stateNode=s,Qi(l))}return Dt(l),null;case 5:if(ye(l),h=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Qi(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Dt(l),null}if(s=V.current,ru(l))MO(l);else{switch(w=nd(Y.current),s){case 1:s=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:s=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":s=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":s=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?w.createElement("select",{is:g.is}):w.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?w.createElement(h,{is:g.is}):w.createElement(h)}}s[Ht]=l,s[fn]=g;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)s.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=s;e:switch(An(s,h,g),h){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Qi(l)}}return Dt(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&Qi(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(s=Y.current,ru(l)){if(s=l.stateNode,h=l.memoizedProps,g=null,w=Bn,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}s[Ht]=l,s=!!(s.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||VN(s.nodeValue,h)),s||Ms(l)}else s=nd(s).createTextNode(g),s[Ht]=l,l.stateNode=s}return Dt(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(w=ru(l),g!==null&&g.dehydrated!==null){if(s===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Ht]=l}else iu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dt(l),w=!1}else w=DO(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(Vi(l),l):(Vi(l),null)}if(Vi(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=g!==null,s=s!==null&&s.memoizedState!==null,h){g=l.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool);var A=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==w&&(g.flags|=2048)}return h!==s&&h&&(l.child.flags|=8192),Hf(l,l.updateQueue),Dt(l),null;case 4:return re(),s===null&&nv(l.stateNode.containerInfo),Dt(l),null;case 10:return Wi(l.type),Dt(l),null;case 19:if(X(on),w=l.memoizedState,w===null)return Dt(l),null;if(g=(l.flags&128)!==0,A=w.rendering,A===null)if(g)xu(w,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(A=If(s),A!==null){for(l.flags|=128,xu(w,!1),s=A.updateQueue,l.updateQueue=s,Hf(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)kO(h,s),h=h.sibling;return ne(on,on.current&1|2),l.child}s=s.sibling}w.tail!==null&&xe()>Kf&&(l.flags|=128,g=!0,xu(w,!1),l.lanes=4194304)}else{if(!g)if(s=If(A),s!==null){if(l.flags|=128,g=!0,s=s.updateQueue,l.updateQueue=s,Hf(l,s),xu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!lt)return Dt(l),null}else 2*xe()-w.renderingStartTime>Kf&&h!==536870912&&(l.flags|=128,g=!0,xu(w,!1),l.lanes=4194304);w.isBackwards?(A.sibling=l.child,l.child=A):(s=w.last,s!==null?s.sibling=A:l.child=A,w.last=A)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=xe(),l.sibling=null,s=on.current,ne(on,g?s&1|2:s&1),l):(Dt(l),null);case 22:case 23:return Vi(l),ig(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(h&536870912)!==0&&(l.flags&128)===0&&(Dt(l),l.subtreeFlags&6&&(l.flags|=8192)):Dt(l),h=l.updateQueue,h!==null&&Hf(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==h&&(l.flags|=2048),s!==null&&X(Ps),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Wi(sn),Dt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function zF(s,l){switch(Fm(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Wi(sn),re(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return ye(l),null;case 13:if(Vi(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));iu()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return X(on),null;case 4:return re(),null;case 10:return Wi(l.type),null;case 22:case 23:return Vi(l),ig(),s!==null&&X(Ps),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Wi(sn),null;case 25:return null;default:return null}}function rN(s,l){switch(Fm(l),l.tag){case 3:Wi(sn),re();break;case 26:case 27:case 5:ye(l);break;case 4:re();break;case 13:Vi(l);break;case 19:X(on);break;case 10:Wi(l.type);break;case 22:case 23:Vi(l),ig(),s!==null&&X(Ps);break;case 24:Wi(sn)}}function wu(s,l){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var w=g.next;h=w;do{if((h.tag&s)===s){g=void 0;var A=h.create,q=h.inst;g=A(),q.destroy=g}h=h.next}while(h!==w)}}catch(z){bt(l,l.return,z)}}function La(s,l,h){try{var g=l.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var A=w.next;g=A;do{if((g.tag&s)===s){var q=g.inst,z=q.destroy;if(z!==void 0){q.destroy=void 0,w=l;var Z=h,oe=z;try{oe()}catch(me){bt(w,Z,me)}}}g=g.next}while(g!==A)}}catch(me){bt(l,l.return,me)}}function iN(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{GO(l,h)}catch(g){bt(s,s.return,g)}}}function aN(s,l,h){h.props=qs(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(g){bt(s,l,g)}}function Su(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof h=="function"?s.refCleanup=h(g):h.current=g}}catch(w){bt(s,l,w)}}function Ti(s,l){var h=s.ref,g=s.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(w){bt(s,l,w)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){bt(s,l,w)}else h.current=null}function sN(s){var l=s.type,h=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(w){bt(s,s.return,w)}}function Mg(s,l,h){try{var g=s.stateNode;lG(g,s.type,h,l),g[fn]=l}catch(w){bt(s,s.return,w)}}function oN(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Fa(s.type)||s.tag===4}function Rg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||oN(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Fa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Dg(s,l,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=td));else if(g!==4&&(g===27&&Fa(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(Dg(s,l,h),s=s.sibling;s!==null;)Dg(s,l,h),s=s.sibling}function Ff(s,l,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(g!==4&&(g===27&&Fa(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Ff(s,l,h),s=s.sibling;s!==null;)Ff(s,l,h),s=s.sibling}function lN(s){var l=s.stateNode,h=s.memoizedProps;try{for(var g=s.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);An(l,g,h),l[Ht]=s,l[fn]=h}catch(A){bt(s,s.return,A)}}var Zi=!1,Kt=!1,Pg=!1,uN=typeof WeakSet=="function"?WeakSet:Set,pn=null;function UF(s,l){if(s=s.containerInfo,av=ld,s=xO(s),Rm(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var q=0,z=-1,Z=-1,oe=0,me=0,ve=s,ue=null;t:for(;;){for(var ce;ve!==h||w!==0&&ve.nodeType!==3||(z=q+w),ve!==A||g!==0&&ve.nodeType!==3||(Z=q+g),ve.nodeType===3&&(q+=ve.nodeValue.length),(ce=ve.firstChild)!==null;)ue=ve,ve=ce;for(;;){if(ve===s)break t;if(ue===h&&++oe===w&&(z=q),ue===A&&++me===g&&(Z=q),(ce=ve.nextSibling)!==null)break;ve=ue,ue=ve.parentNode}ve=ce}h=z===-1||Z===-1?null:{start:z,end:Z}}else h=null}h=h||{start:0,end:0}}else h=null;for(sv={focusedElem:s,selectionRange:h},ld=!1,pn=l;pn!==null;)if(l=pn,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,pn=s;else for(;pn!==null;){switch(l=pn,A=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&A!==null){s=void 0,h=l,w=A.memoizedProps,A=A.memoizedState,g=h.stateNode;try{var Fe=qs(h.type,w,h.elementType===h.type);s=g.getSnapshotBeforeUpdate(Fe,A),g.__reactInternalSnapshotBeforeUpdate=s}catch(ze){bt(h,h.return,ze)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)uv(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":uv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,pn=s;break}pn=l.return}}function cN(s,l,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:qa(s,h),g&4&&wu(5,h);break;case 1:if(qa(s,h),g&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(q){bt(h,h.return,q)}else{var w=qs(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(w,l,s.__reactInternalSnapshotBeforeUpdate)}catch(q){bt(h,h.return,q)}}g&64&&iN(h),g&512&&Su(h,h.return);break;case 3:if(qa(s,h),g&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{GO(s,l)}catch(q){bt(h,h.return,q)}}break;case 27:l===null&&g&4&&lN(h);case 26:case 5:qa(s,h),l===null&&g&4&&sN(h),g&512&&Su(h,h.return);break;case 12:qa(s,h);break;case 13:qa(s,h),g&4&&hN(s,h),g&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=QF.bind(null,h),mG(s,h))));break;case 22:if(g=h.memoizedState!==null||Zi,!g){l=l!==null&&l.memoizedState!==null||Kt,w=Zi;var A=Kt;Zi=g,(Kt=l)&&!A?Ia(s,h,(h.subtreeFlags&8772)!==0):qa(s,h),Zi=w,Kt=A}break;case 30:break;default:qa(s,h)}}function fN(s){var l=s.alternate;l!==null&&(s.alternate=null,fN(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&qn(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Tt=null,Vn=!1;function Ji(s,l,h){for(h=h.child;h!==null;)dN(s,l,h),h=h.sibling}function dN(s,l,h){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Ge,h)}catch{}switch(h.tag){case 26:Kt||Ti(h,l),Ji(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Kt||Ti(h,l);var g=Tt,w=Vn;Fa(h.type)&&(Tt=h.stateNode,Vn=!1),Ji(s,l,h),Cu(h.stateNode),Tt=g,Vn=w;break;case 5:Kt||Ti(h,l);case 6:if(g=Tt,w=Vn,Tt=null,Ji(s,l,h),Tt=g,Vn=w,Tt!==null)if(Vn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(h.stateNode)}catch(A){bt(h,l,A)}else try{Tt.removeChild(h.stateNode)}catch(A){bt(h,l,A)}break;case 18:Tt!==null&&(Vn?(s=Tt,ek(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Bu(s)):ek(Tt,h.stateNode));break;case 4:g=Tt,w=Vn,Tt=h.stateNode.containerInfo,Vn=!0,Ji(s,l,h),Tt=g,Vn=w;break;case 0:case 11:case 14:case 15:Kt||La(2,h,l),Kt||La(4,h,l),Ji(s,l,h);break;case 1:Kt||(Ti(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"&&aN(h,l,g)),Ji(s,l,h);break;case 21:Ji(s,l,h);break;case 22:Kt=(g=Kt)||h.memoizedState!==null,Ji(s,l,h),Kt=g;break;default:Ji(s,l,h)}}function hN(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Bu(s)}catch(h){bt(l,l.return,h)}}function HF(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new uN),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new uN),l;default:throw Error(r(435,s.tag))}}function Lg(s,l){var h=HF(s);l.forEach(function(g){var w=ZF.bind(null,s,g);h.has(g)||(h.add(g),g.then(w,w))})}function dr(s,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g],A=s,q=l,z=q;e:for(;z!==null;){switch(z.tag){case 27:if(Fa(z.type)){Tt=z.stateNode,Vn=!1;break e}break;case 5:Tt=z.stateNode,Vn=!1;break e;case 3:case 4:Tt=z.stateNode.containerInfo,Vn=!0;break e}z=z.return}if(Tt===null)throw Error(r(160));dN(A,q,w),Tt=null,Vn=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)pN(l,s),l=l.sibling}var oi=null;function pN(s,l){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:dr(l,s),hr(s),g&4&&(La(3,s,s.return),wu(3,s),La(5,s,s.return));break;case 1:dr(l,s),hr(s),g&512&&(Kt||h===null||Ti(h,h.return)),g&64&&Zi&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var w=oi;if(dr(l,s),hr(s),g&512&&(Kt||h===null||Ti(h,h.return)),g&4){var A=h!==null?h.memoizedState:null;if(g=s.memoizedState,h===null)if(g===null)if(s.stateNode===null){e:{g=s.type,h=s.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":A=w.getElementsByTagName("title")[0],(!A||A[ji]||A[Ht]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(g),w.head.insertBefore(A,w.querySelector("head > title"))),An(A,g,h),A[Ht]=s,qt(A),g=A;break e;case"link":var q=lk("link","href",w).get(g+(h.href||""));if(q){for(var z=0;z<q.length;z++)if(A=q[z],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){q.splice(z,1);break t}}A=w.createElement(g),An(A,g,h),w.head.appendChild(A);break;case"meta":if(q=lk("meta","content",w).get(g+(h.content||""))){for(z=0;z<q.length;z++)if(A=q[z],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){q.splice(z,1);break t}}A=w.createElement(g),An(A,g,h),w.head.appendChild(A);break;default:throw Error(r(468,g))}A[Ht]=s,qt(A),g=A}s.stateNode=g}else uk(w,s.type,s.stateNode);else s.stateNode=ok(w,g,s.memoizedProps);else A!==g?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,g===null?uk(w,s.type,s.stateNode):ok(w,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Mg(s,s.memoizedProps,h.memoizedProps)}break;case 27:dr(l,s),hr(s),g&512&&(Kt||h===null||Ti(h,h.return)),h!==null&&g&4&&Mg(s,s.memoizedProps,h.memoizedProps);break;case 5:if(dr(l,s),hr(s),g&512&&(Kt||h===null||Ti(h,h.return)),s.flags&32){w=s.stateNode;try{ko(w,"")}catch(ce){bt(s,s.return,ce)}}g&4&&s.stateNode!=null&&(w=s.memoizedProps,Mg(s,w,h!==null?h.memoizedProps:w)),g&1024&&(Pg=!0);break;case 6:if(dr(l,s),hr(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,h=s.stateNode;try{h.nodeValue=g}catch(ce){bt(s,s.return,ce)}}break;case 3:if(ad=null,w=oi,oi=rd(l.containerInfo),dr(l,s),oi=w,hr(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Bu(l.containerInfo)}catch(ce){bt(s,s.return,ce)}Pg&&(Pg=!1,mN(s));break;case 4:g=oi,oi=rd(s.stateNode.containerInfo),dr(l,s),hr(s),oi=g;break;case 12:dr(l,s),hr(s);break;case 13:dr(l,s),hr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ug=xe()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Lg(s,g)));break;case 22:w=s.memoizedState!==null;var Z=h!==null&&h.memoizedState!==null,oe=Zi,me=Kt;if(Zi=oe||w,Kt=me||Z,dr(l,s),Kt=me,Zi=oe,hr(s),g&8192)e:for(l=s.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(h===null||Z||Zi||Kt||Is(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){Z=h=l;try{if(A=Z.stateNode,w)q=A.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{z=Z.stateNode;var ve=Z.memoizedProps.style,ue=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;z.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(ce){bt(Z,Z.return,ce)}}}else if(l.tag===6){if(h===null){Z=l;try{Z.stateNode.nodeValue=w?"":Z.memoizedProps}catch(ce){bt(Z,Z.return,ce)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Lg(s,h))));break;case 19:dr(l,s),hr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Lg(s,g)));break;case 30:break;case 21:break;default:dr(l,s),hr(s)}}function hr(s){var l=s.flags;if(l&2){try{for(var h,g=s.return;g!==null;){if(oN(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,A=Rg(s);Ff(s,A,w);break;case 5:var q=h.stateNode;h.flags&32&&(ko(q,""),h.flags&=-33);var z=Rg(s);Ff(s,z,q);break;case 3:case 4:var Z=h.stateNode.containerInfo,oe=Rg(s);Dg(s,oe,Z);break;default:throw Error(r(161))}}catch(me){bt(s,s.return,me)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function mN(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;mN(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function qa(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)cN(s,l.alternate,l),l=l.sibling}function Is(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:La(4,l,l.return),Is(l);break;case 1:Ti(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&aN(l,l.return,h),Is(l);break;case 27:Cu(l.stateNode);case 26:case 5:Ti(l,l.return),Is(l);break;case 22:l.memoizedState===null&&Is(l);break;case 30:Is(l);break;default:Is(l)}s=s.sibling}}function Ia(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,w=s,A=l,q=A.flags;switch(A.tag){case 0:case 11:case 15:Ia(w,A,h),wu(4,A);break;case 1:if(Ia(w,A,h),g=A,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(oe){bt(g,g.return,oe)}if(g=A,w=g.updateQueue,w!==null){var z=g.stateNode;try{var Z=w.shared.hiddenCallbacks;if(Z!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Z.length;w++)FO(Z[w],z)}catch(oe){bt(g,g.return,oe)}}h&&q&64&&iN(A),Su(A,A.return);break;case 27:lN(A);case 26:case 5:Ia(w,A,h),h&&g===null&&q&4&&sN(A),Su(A,A.return);break;case 12:Ia(w,A,h);break;case 13:Ia(w,A,h),h&&q&4&&hN(w,A);break;case 22:A.memoizedState===null&&Ia(w,A,h),Su(A,A.return);break;case 30:break;default:Ia(w,A,h)}l=l.sibling}}function qg(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&ou(h))}function Ig(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ou(s))}function Ni(s,l,h,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)gN(s,l,h,g),l=l.sibling}function gN(s,l,h,g){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Ni(s,l,h,g),w&2048&&wu(9,l);break;case 1:Ni(s,l,h,g);break;case 3:Ni(s,l,h,g),w&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ou(s)));break;case 12:if(w&2048){Ni(s,l,h,g),s=l.stateNode;try{var A=l.memoizedProps,q=A.id,z=A.onPostCommit;typeof z=="function"&&z(q,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){bt(l,l.return,Z)}}else Ni(s,l,h,g);break;case 13:Ni(s,l,h,g);break;case 23:break;case 22:A=l.stateNode,q=l.alternate,l.memoizedState!==null?A._visibility&2?Ni(s,l,h,g):_u(s,l):A._visibility&2?Ni(s,l,h,g):(A._visibility|=2,Vo(s,l,h,g,(l.subtreeFlags&10256)!==0)),w&2048&&qg(q,l);break;case 24:Ni(s,l,h,g),w&2048&&Ig(l.alternate,l);break;default:Ni(s,l,h,g)}}function Vo(s,l,h,g,w){for(w=w&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var A=s,q=l,z=h,Z=g,oe=q.flags;switch(q.tag){case 0:case 11:case 15:Vo(A,q,z,Z,w),wu(8,q);break;case 23:break;case 22:var me=q.stateNode;q.memoizedState!==null?me._visibility&2?Vo(A,q,z,Z,w):_u(A,q):(me._visibility|=2,Vo(A,q,z,Z,w)),w&&oe&2048&&qg(q.alternate,q);break;case 24:Vo(A,q,z,Z,w),w&&oe&2048&&Ig(q.alternate,q);break;default:Vo(A,q,z,Z,w)}l=l.sibling}}function _u(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,g=l,w=g.flags;switch(g.tag){case 22:_u(h,g),w&2048&&qg(g.alternate,g);break;case 24:_u(h,g),w&2048&&Ig(g.alternate,g);break;default:_u(h,g)}l=l.sibling}}var ju=8192;function Xo(s){if(s.subtreeFlags&ju)for(s=s.child;s!==null;)vN(s),s=s.sibling}function vN(s){switch(s.tag){case 26:Xo(s),s.flags&ju&&s.memoizedState!==null&&TG(oi,s.memoizedState,s.memoizedProps);break;case 5:Xo(s);break;case 3:case 4:var l=oi;oi=rd(s.stateNode.containerInfo),Xo(s),oi=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=ju,ju=16777216,Xo(s),ju=l):Xo(s));break;default:Xo(s)}}function yN(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Eu(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];pn=g,xN(g,s)}yN(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bN(s),s=s.sibling}function bN(s){switch(s.tag){case 0:case 11:case 15:Eu(s),s.flags&2048&&La(9,s,s.return);break;case 3:Eu(s);break;case 12:Eu(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Gf(s)):Eu(s);break;default:Eu(s)}}function Gf(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];pn=g,xN(g,s)}yN(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:La(8,l,l.return),Gf(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Gf(l));break;default:Gf(l)}s=s.sibling}}function xN(s,l){for(;pn!==null;){var h=pn;switch(h.tag){case 0:case 11:case 15:La(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ou(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,pn=g;else e:for(h=s;pn!==null;){g=pn;var w=g.sibling,A=g.return;if(fN(g),g===h){pn=null;break e}if(w!==null){w.return=A,pn=w;break e}pn=A}}}var FF={getCacheForType:function(s){var l=Mn(sn),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h}},GF=typeof WeakMap=="function"?WeakMap:Map,ft=0,wt=null,Je=null,rt=0,dt=0,pr=null,Ba=!1,Qo=!1,Bg=!1,ea=0,Bt=0,$a=0,Bs=0,$g=0,Ir=0,Zo=0,Au=null,Xn=null,zg=!1,Ug=0,Kf=1/0,Wf=null,za=null,En=0,Ua=null,Jo=null,el=0,Hg=0,Fg=null,wN=null,Ou=0,Gg=null;function mr(){if((ft&2)!==0&&rt!==0)return rt&-rt;if(B.T!==null){var s=zo;return s!==0?s:Zg()}return ws()}function SN(){Ir===0&&(Ir=(rt&536870912)===0||lt?ti():536870912);var s=qr.current;return s!==null&&(s.flags|=32),Ir}function gr(s,l,h){(s===wt&&(dt===2||dt===9)||s.cancelPendingCommit!==null)&&(tl(s,0),Ha(s,rt,Ir,!1)),Kn(s,h),((ft&2)===0||s!==wt)&&(s===wt&&((ft&2)===0&&(Bs|=h),Bt===4&&Ha(s,rt,Ir,!1)),ki(s))}function _N(s,l,h){if((ft&6)!==0)throw Error(r(327));var g=!h&&(l&124)===0&&(l&s.expiredLanes)===0||_n(s,l),w=g?YF(s,l):Yg(s,l,!0),A=g;do{if(w===0){Qo&&!g&&Ha(s,l,0,!1);break}else{if(h=s.current.alternate,A&&!KF(h)){w=Yg(s,l,!1),A=!1;continue}if(w===2){if(A=l,s.errorRecoveryDisabledLanes&A)var q=0;else q=s.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){l=q;e:{var z=s;w=Au;var Z=z.current.memoizedState.isDehydrated;if(Z&&(tl(z,q).flags|=256),q=Yg(z,q,!1),q!==2){if(Bg&&!Z){z.errorRecoveryDisabledLanes|=A,Bs|=A,w=4;break e}A=Xn,Xn=w,A!==null&&(Xn===null?Xn=A:Xn.push.apply(Xn,A))}w=q}if(A=!1,w!==2)continue}}if(w===1){tl(s,0),Ha(s,l,0,!0);break}e:{switch(g=s,A=w,A){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ha(g,l,Ir,!Ba);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(w=Ug+300-xe(),10<w)){if(Ha(g,l,Ir,!Ba),rn(g,0,!0)!==0)break e;g.timeoutHandle=ZN(jN.bind(null,g,h,Xn,Wf,zg,l,Ir,Bs,Zo,Ba,A,2,-0,0),w);break e}jN(g,h,Xn,Wf,zg,l,Ir,Bs,Zo,Ba,A,0,-0,0)}}break}while(!0);ki(s)}function jN(s,l,h,g,w,A,q,z,Z,oe,me,ve,ue,ce){if(s.timeoutHandle=-1,ve=l.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(Du={stylesheets:null,count:0,unsuspend:OG},vN(l),ve=NG(),ve!==null)){s.cancelPendingCommit=ve(CN.bind(null,s,l,A,h,g,w,q,z,Z,me,1,ue,ce)),Ha(s,A,q,!oe);return}CN(s,l,A,h,g,w,q,z,Z)}function KF(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var w=h[g],A=w.getSnapshot;w=w.value;try{if(!cr(A(),w))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ha(s,l,h,g){l&=~$g,l&=~Bs,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var w=l;0<w;){var A=31-ot(w),q=1<<A;g[A]=-1,w&=~q}h!==0&&Ao(s,h,l)}function Yf(){return(ft&6)===0?(Tu(0),!1):!0}function Kg(){if(Je!==null){if(dt===0)var s=Je.return;else s=Je,Ki=Rs=null,ug(s),Wo=null,yu=0,s=Je;for(;s!==null;)rN(s.alternate,s),s=s.return;Je=null}}function tl(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,cG(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Kg(),wt=s,Je=h=Hi(s.current,null),rt=l,dt=0,pr=null,Ba=!1,Qo=_n(s,l),Bg=!1,Zo=Ir=$g=Bs=$a=Bt=0,Xn=Au=null,zg=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var w=31-ot(g),A=1<<w;l|=s[w],g&=~A}return ea=l,gf(),h}function EN(s,l){Ye=null,B.H=Pf,l===uu||l===Ef?(l=UO(),dt=3):l===BO?(l=UO(),dt=4):dt=l===HT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,pr=l,Je===null&&(Bt=1,$f(s,Rr(l,s.current)))}function AN(){var s=B.H;return B.H=Pf,s===null?Pf:s}function ON(){var s=B.A;return B.A=FF,s}function Wg(){Bt=4,Ba||(rt&4194048)!==rt&&qr.current!==null||(Qo=!0),($a&134217727)===0&&(Bs&134217727)===0||wt===null||Ha(wt,rt,Ir,!1)}function Yg(s,l,h){var g=ft;ft|=2;var w=AN(),A=ON();(wt!==s||rt!==l)&&(Wf=null,tl(s,l)),l=!1;var q=Bt;e:do try{if(dt!==0&&Je!==null){var z=Je,Z=pr;switch(dt){case 8:Kg(),q=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(l=!0);var oe=dt;if(dt=0,pr=null,nl(s,z,Z,oe),h&&Qo){q=0;break e}break;default:oe=dt,dt=0,pr=null,nl(s,z,Z,oe)}}WF(),q=Bt;break}catch(me){EN(s,me)}while(!0);return l&&s.shellSuspendCounter++,Ki=Rs=null,ft=g,B.H=w,B.A=A,Je===null&&(wt=null,rt=0,gf()),q}function WF(){for(;Je!==null;)TN(Je)}function YF(s,l){var h=ft;ft|=2;var g=AN(),w=ON();wt!==s||rt!==l?(Wf=null,Kf=xe()+500,tl(s,l)):Qo=_n(s,l);e:do try{if(dt!==0&&Je!==null){l=Je;var A=pr;t:switch(dt){case 1:dt=0,pr=null,nl(s,l,A,1);break;case 2:case 9:if($O(A)){dt=0,pr=null,NN(l);break}l=function(){dt!==2&&dt!==9||wt!==s||(dt=7),ki(s)},A.then(l,l);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:$O(A)?(dt=0,pr=null,NN(l)):(dt=0,pr=null,nl(s,l,A,7));break;case 5:var q=null;switch(Je.tag){case 26:q=Je.memoizedState;case 5:case 27:var z=Je;if(!q||ck(q)){dt=0,pr=null;var Z=z.sibling;if(Z!==null)Je=Z;else{var oe=z.return;oe!==null?(Je=oe,Vf(oe)):Je=null}break t}}dt=0,pr=null,nl(s,l,A,5);break;case 6:dt=0,pr=null,nl(s,l,A,6);break;case 8:Kg(),Bt=6;break e;default:throw Error(r(462))}}VF();break}catch(me){EN(s,me)}while(!0);return Ki=Rs=null,B.H=g,B.A=w,ft=h,Je!==null?0:(wt=null,rt=0,gf(),Bt)}function VF(){for(;Je!==null&&!be();)TN(Je)}function TN(s){var l=tN(s.alternate,s,ea);s.memoizedProps=s.pendingProps,l===null?Vf(s):Je=l}function NN(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=VT(h,l,l.pendingProps,l.type,void 0,rt);break;case 11:l=VT(h,l,l.pendingProps,l.type.render,l.ref,rt);break;case 5:ug(l);default:rN(h,l),l=Je=kO(l,ea),l=tN(h,l,ea)}s.memoizedProps=s.pendingProps,l===null?Vf(s):Je=l}function nl(s,l,h,g){Ki=Rs=null,ug(l),Wo=null,yu=0;var w=l.return;try{if(IF(s,w,l,h,rt)){Bt=1,$f(s,Rr(h,s.current)),Je=null;return}}catch(A){if(w!==null)throw Je=w,A;Bt=1,$f(s,Rr(h,s.current)),Je=null;return}l.flags&32768?(lt||g===1?s=!0:Qo||(rt&536870912)!==0?s=!1:(Ba=s=!0,(g===2||g===9||g===3||g===6)&&(g=qr.current,g!==null&&g.tag===13&&(g.flags|=16384))),kN(l,s)):Vf(l)}function Vf(s){var l=s;do{if((l.flags&32768)!==0){kN(l,Ba);return}s=l.return;var h=$F(l.alternate,l,ea);if(h!==null){Je=h;return}if(l=l.sibling,l!==null){Je=l;return}Je=l=s}while(l!==null);Bt===0&&(Bt=5)}function kN(s,l){do{var h=zF(s.alternate,s);if(h!==null){h.flags&=32767,Je=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){Je=s;return}Je=s=h}while(s!==null);Bt=6,Je=null}function CN(s,l,h,g,w,A,q,z,Z){s.cancelPendingCommit=null;do Xf();while(En!==0);if((ft&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(A=l.lanes|l.childLanes,A|=Im,ni(s,h,A,q,z,Z),s===wt&&(Je=wt=null,rt=0),Jo=l,Ua=s,el=h,Hg=A,Fg=w,wN=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,JF(Ut,function(){return LN(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=B.T,B.T=null,w=F.p,F.p=2,q=ft,ft|=4;try{UF(s,l,h)}finally{ft=q,F.p=w,B.T=g}}En=1,MN(),RN(),DN()}}function MN(){if(En===1){En=0;var s=Ua,l=Jo,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=B.T,B.T=null;var g=F.p;F.p=2;var w=ft;ft|=4;try{pN(l,s);var A=sv,q=xO(s.containerInfo),z=A.focusedElem,Z=A.selectionRange;if(q!==z&&z&&z.ownerDocument&&bO(z.ownerDocument.documentElement,z)){if(Z!==null&&Rm(z)){var oe=Z.start,me=Z.end;if(me===void 0&&(me=oe),"selectionStart"in z)z.selectionStart=oe,z.selectionEnd=Math.min(me,z.value.length);else{var ve=z.ownerDocument||document,ue=ve&&ve.defaultView||window;if(ue.getSelection){var ce=ue.getSelection(),Fe=z.textContent.length,ze=Math.min(Z.start,Fe),vt=Z.end===void 0?ze:Math.min(Z.end,Fe);!ce.extend&&ze>vt&&(q=vt,vt=ze,ze=q);var ie=yO(z,ze),ee=yO(z,vt);if(ie&&ee&&(ce.rangeCount!==1||ce.anchorNode!==ie.node||ce.anchorOffset!==ie.offset||ce.focusNode!==ee.node||ce.focusOffset!==ee.offset)){var se=ve.createRange();se.setStart(ie.node,ie.offset),ce.removeAllRanges(),ze>vt?(ce.addRange(se),ce.extend(ee.node,ee.offset)):(se.setEnd(ee.node,ee.offset),ce.addRange(se))}}}}for(ve=[],ce=z;ce=ce.parentNode;)ce.nodeType===1&&ve.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ve.length;z++){var ge=ve[z];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}ld=!!av,sv=av=null}finally{ft=w,F.p=g,B.T=h}}s.current=l,En=2}}function RN(){if(En===2){En=0;var s=Ua,l=Jo,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=B.T,B.T=null;var g=F.p;F.p=2;var w=ft;ft|=4;try{cN(s,l.alternate,l)}finally{ft=w,F.p=g,B.T=h}}En=3}}function DN(){if(En===4||En===3){En=0,Ce();var s=Ua,l=Jo,h=el,g=wN;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?En=5:(En=0,Jo=Ua=null,PN(s,s.pendingLanes));var w=s.pendingLanes;if(w===0&&(za=null),xs(h),l=l.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Ge,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=B.T,w=F.p,F.p=2,B.T=null;try{for(var A=s.onRecoverableError,q=0;q<g.length;q++){var z=g[q];A(z.value,{componentStack:z.stack})}}finally{B.T=l,F.p=w}}(el&3)!==0&&Xf(),ki(s),w=s.pendingLanes,(h&4194090)!==0&&(w&42)!==0?s===Gg?Ou++:(Ou=0,Gg=s):Ou=0,Tu(0)}}function PN(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,ou(l)))}function Xf(s){return MN(),RN(),DN(),LN()}function LN(){if(En!==5)return!1;var s=Ua,l=Hg;Hg=0;var h=xs(el),g=B.T,w=F.p;try{F.p=32>h?32:h,B.T=null,h=Fg,Fg=null;var A=Ua,q=el;if(En=0,Jo=Ua=null,el=0,(ft&6)!==0)throw Error(r(331));var z=ft;if(ft|=4,bN(A.current),gN(A,A.current,q,h),ft=z,Tu(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Ge,A)}catch{}return!0}finally{F.p=w,B.T=g,PN(s,l)}}function qN(s,l,h){l=Rr(h,l),l=_g(s.stateNode,l,2),s=Ma(s,l,2),s!==null&&(Kn(s,2),ki(s))}function bt(s,l,h){if(s.tag===3)qN(s,s,h);else for(;l!==null;){if(l.tag===3){qN(l,s,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(za===null||!za.has(g))){s=Rr(h,s),h=zT(2),g=Ma(l,h,2),g!==null&&(UT(h,g,l,s),Kn(g,2),ki(g));break}}l=l.return}}function Vg(s,l,h){var g=s.pingCache;if(g===null){g=s.pingCache=new GF;var w=new Set;g.set(l,w)}else w=g.get(l),w===void 0&&(w=new Set,g.set(l,w));w.has(h)||(Bg=!0,w.add(h),s=XF.bind(null,s,l,h),l.then(s,s))}function XF(s,l,h){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,wt===s&&(rt&h)===h&&(Bt===4||Bt===3&&(rt&62914560)===rt&&300>xe()-Ug?(ft&2)===0&&tl(s,0):$g|=h,Zo===rt&&(Zo=0)),ki(s)}function IN(s,l){l===0&&(l=sr()),s=qo(s,l),s!==null&&(Kn(s,l),ki(s))}function QF(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),IN(s,h)}function ZF(s,l){var h=0;switch(s.tag){case 13:var g=s.stateNode,w=s.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),IN(s,h)}function JF(s,l){return Oe(s,l)}var Qf=null,rl=null,Xg=!1,Zf=!1,Qg=!1,$s=0;function ki(s){s!==rl&&s.next===null&&(rl===null?Qf=rl=s:rl=rl.next=s),Zf=!0,Xg||(Xg=!0,tG())}function Tu(s,l){if(!Qg&&Zf){Qg=!0;do for(var h=!1,g=Qf;g!==null;){if(s!==0){var w=g.pendingLanes;if(w===0)var A=0;else{var q=g.suspendedLanes,z=g.pingedLanes;A=(1<<31-ot(42|s)+1)-1,A&=w&~(q&~z),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,UN(g,A))}else A=rt,A=rn(g,g===wt?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||_n(g,A)||(h=!0,UN(g,A));g=g.next}while(h);Qg=!1}}function eG(){BN()}function BN(){Zf=Xg=!1;var s=0;$s!==0&&(uG()&&(s=$s),$s=0);for(var l=xe(),h=null,g=Qf;g!==null;){var w=g.next,A=$N(g,l);A===0?(g.next=null,h===null?Qf=w:h.next=w,w===null&&(rl=h)):(h=g,(s!==0||(A&3)!==0)&&(Zf=!0)),g=w}Tu(s)}function $N(s,l){for(var h=s.suspendedLanes,g=s.pingedLanes,w=s.expirationTimes,A=s.pendingLanes&-62914561;0<A;){var q=31-ot(A),z=1<<q,Z=w[q];Z===-1?((z&h)===0||(z&g)!==0)&&(w[q]=bs(z,l)):Z<=l&&(s.expiredLanes|=z),A&=~z}if(l=wt,h=rt,h=rn(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,h===0||s===l&&(dt===2||dt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Se(g),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||_n(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(g!==null&&Se(g),xs(h)){case 2:case 8:h=Vt;break;case 32:h=Ut;break;case 268435456:h=Ee;break;default:h=Ut}return g=zN.bind(null,s),h=Oe(h,g),s.callbackPriority=l,s.callbackNode=h,l}return g!==null&&g!==null&&Se(g),s.callbackPriority=2,s.callbackNode=null,2}function zN(s,l){if(En!==0&&En!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Xf()&&s.callbackNode!==h)return null;var g=rt;return g=rn(s,s===wt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(_N(s,g,l),$N(s,xe()),s.callbackNode!=null&&s.callbackNode===h?zN.bind(null,s):null)}function UN(s,l){if(Xf())return null;_N(s,l,!0)}function tG(){fG(function(){(ft&6)!==0?Oe(nt,eG):BN()})}function Zg(){return $s===0&&($s=ti()),$s}function HN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:uf(""+s)}function FN(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function nG(s,l,h,g,w){if(l==="submit"&&h&&h.stateNode===w){var A=HN((w[fn]||null).action),q=g.submitter;q&&(l=(l=q[fn]||null)?HN(l.formAction):q.getAttribute("formAction"),l!==null&&(A=l,q=null));var z=new hf("action","action",null,g,w);s.push({event:z,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if($s!==0){var Z=q?FN(w,q):new FormData(w);yg(h,{pending:!0,data:Z,method:w.method,action:A},null,Z)}}else typeof A=="function"&&(z.preventDefault(),Z=q?FN(w,q):new FormData(w),yg(h,{pending:!0,data:Z,method:w.method,action:A},A,Z))},currentTarget:w}]})}}for(var Jg=0;Jg<qm.length;Jg++){var ev=qm[Jg],rG=ev.toLowerCase(),iG=ev[0].toUpperCase()+ev.slice(1);si(rG,"on"+iG)}si(_O,"onAnimationEnd"),si(jO,"onAnimationIteration"),si(EO,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(wF,"onTransitionRun"),si(SF,"onTransitionStart"),si(_F,"onTransitionCancel"),si(AO,"onTransitionEnd"),Te("onMouseEnter",["mouseout","mouseover"]),Te("onMouseLeave",["mouseout","mouseover"]),Te("onPointerEnter",["pointerout","pointerover"]),Te("onPointerLeave",["pointerout","pointerover"]),we("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),we("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),we("onBeforeInput",["compositionend","keypress","textInput","paste"]),we("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),we("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),we("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function GN(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],w=g.event;g=g.listeners;e:{var A=void 0;if(l)for(var q=g.length-1;0<=q;q--){var z=g[q],Z=z.instance,oe=z.currentTarget;if(z=z.listener,Z!==A&&w.isPropagationStopped())break e;A=z,w.currentTarget=oe;try{A(w)}catch(me){Bf(me)}w.currentTarget=null,A=Z}else for(q=0;q<g.length;q++){if(z=g[q],Z=z.instance,oe=z.currentTarget,z=z.listener,Z!==A&&w.isPropagationStopped())break e;A=z,w.currentTarget=oe;try{A(w)}catch(me){Bf(me)}w.currentTarget=null,A=Z}}}}function et(s,l){var h=l[lr];h===void 0&&(h=l[lr]=new Set);var g=s+"__bubble";h.has(g)||(KN(l,s,2,!1),h.add(g))}function tv(s,l,h){var g=0;l&&(g|=4),KN(h,s,g,l)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function nv(s){if(!s[Jf]){s[Jf]=!0,Re.forEach(function(h){h!=="selectionchange"&&(aG.has(h)||tv(h,!1,s),tv(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Jf]||(l[Jf]=!0,tv("selectionchange",!1,l))}}function KN(s,l,h,g){switch(gk(l)){case 2:var w=MG;break;case 8:w=RG;break;default:w=gv}h=w.bind(null,l,h,s),w=void 0,!jm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),g?w!==void 0?s.addEventListener(l,h,{capture:!0,passive:w}):s.addEventListener(l,h,!0):w!==void 0?s.addEventListener(l,h,{passive:w}):s.addEventListener(l,h,!1)}function rv(s,l,h,g,w){var A=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var q=g.tag;if(q===3||q===4){var z=g.stateNode.containerInfo;if(z===w)break;if(q===4)for(q=g.return;q!==null;){var Z=q.tag;if((Z===3||Z===4)&&q.stateNode.containerInfo===w)return;q=q.return}for(;z!==null;){if(q=kr(z),q===null)return;if(Z=q.tag,Z===5||Z===6||Z===26||Z===27){g=A=q;continue e}z=z.parentNode}}g=g.return}JA(function(){var oe=A,me=Sm(h),ve=[];e:{var ue=OO.get(s);if(ue!==void 0){var ce=hf,Fe=s;switch(s){case"keypress":if(ff(h)===0)break e;case"keydown":case"keyup":ce=J5;break;case"focusin":Fe="focus",ce=Tm;break;case"focusout":Fe="blur",ce=Tm;break;case"beforeblur":case"afterblur":ce=Tm;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=nO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=z5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=nF;break;case _O:case jO:case EO:ce=F5;break;case AO:ce=iF;break;case"scroll":case"scrollend":ce=B5;break;case"wheel":ce=sF;break;case"copy":case"cut":case"paste":ce=K5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=iO;break;case"toggle":case"beforetoggle":ce=lF}var ze=(l&4)!==0,vt=!ze&&(s==="scroll"||s==="scrollend"),ie=ze?ue!==null?ue+"Capture":null:ue;ze=[];for(var ee=oe,se;ee!==null;){var ge=ee;if(se=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||se===null||ie===null||(ge=Yl(ee,ie),ge!=null&&ze.push(ku(ee,ge,se))),vt)break;ee=ee.return}0<ze.length&&(ue=new ce(ue,Fe,null,h,me),ve.push({event:ue,listeners:ze}))}}if((l&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",ue&&h!==wm&&(Fe=h.relatedTarget||h.fromElement)&&(kr(Fe)||Fe[an]))break e;if((ce||ue)&&(ue=me.window===me?me:(ue=me.ownerDocument)?ue.defaultView||ue.parentWindow:window,ce?(Fe=h.relatedTarget||h.toElement,ce=oe,Fe=Fe?kr(Fe):null,Fe!==null&&(vt=a(Fe),ze=Fe.tag,Fe!==vt||ze!==5&&ze!==27&&ze!==6)&&(Fe=null)):(ce=null,Fe=oe),ce!==Fe)){if(ze=nO,ge="onMouseLeave",ie="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(ze=iO,ge="onPointerLeave",ie="onPointerEnter",ee="pointer"),vt=ce==null?ue:Ei(ce),se=Fe==null?ue:Ei(Fe),ue=new ze(ge,ee+"leave",ce,h,me),ue.target=vt,ue.relatedTarget=se,ge=null,kr(me)===oe&&(ze=new ze(ie,ee+"enter",Fe,h,me),ze.target=se,ze.relatedTarget=vt,ge=ze),vt=ge,ce&&Fe)t:{for(ze=ce,ie=Fe,ee=0,se=ze;se;se=il(se))ee++;for(se=0,ge=ie;ge;ge=il(ge))se++;for(;0<ee-se;)ze=il(ze),ee--;for(;0<se-ee;)ie=il(ie),se--;for(;ee--;){if(ze===ie||ie!==null&&ze===ie.alternate)break t;ze=il(ze),ie=il(ie)}ze=null}else ze=null;ce!==null&&WN(ve,ue,ce,ze,!1),Fe!==null&&vt!==null&&WN(ve,vt,Fe,ze,!0)}}e:{if(ue=oe?Ei(oe):window,ce=ue.nodeName&&ue.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ue.type==="file")var Me=dO;else if(cO(ue))if(hO)Me=yF;else{Me=gF;var Qe=mF}else ce=ue.nodeName,!ce||ce.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?oe&&xm(oe.elementType)&&(Me=dO):Me=vF;if(Me&&(Me=Me(s,oe))){fO(ve,Me,h,me);break e}Qe&&Qe(s,ue,oe),s==="focusout"&&oe&&ue.type==="number"&&oe.memoizedProps.value!=null&&bm(ue,"number",ue.value)}switch(Qe=oe?Ei(oe):window,s){case"focusin":(cO(Qe)||Qe.contentEditable==="true")&&(Do=Qe,Dm=oe,nu=null);break;case"focusout":nu=Dm=Do=null;break;case"mousedown":Pm=!0;break;case"contextmenu":case"mouseup":case"dragend":Pm=!1,wO(ve,h,me);break;case"selectionchange":if(xF)break;case"keydown":case"keyup":wO(ve,h,me)}var qe;if(km)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ro?lO(s,h)&&(Ue="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Ue="onCompositionStart");Ue&&(aO&&h.locale!=="ko"&&(Ro||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ro&&(qe=eO()):(Ta=me,Em="value"in Ta?Ta.value:Ta.textContent,Ro=!0)),Qe=ed(oe,Ue),0<Qe.length&&(Ue=new rO(Ue,s,null,h,me),ve.push({event:Ue,listeners:Qe}),qe?Ue.data=qe:(qe=uO(h),qe!==null&&(Ue.data=qe)))),(qe=cF?fF(s,h):dF(s,h))&&(Ue=ed(oe,"onBeforeInput"),0<Ue.length&&(Qe=new rO("onBeforeInput","beforeinput",null,h,me),ve.push({event:Qe,listeners:Ue}),Qe.data=qe)),nG(ve,s,oe,h,me)}GN(ve,l)})}function ku(s,l,h){return{instance:s,listener:l,currentTarget:h}}function ed(s,l){for(var h=l+"Capture",g=[];s!==null;){var w=s,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=Yl(s,h),w!=null&&g.unshift(ku(s,w,A)),w=Yl(s,l),w!=null&&g.push(ku(s,w,A))),s.tag===3)return g;s=s.return}return[]}function il(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function WN(s,l,h,g,w){for(var A=l._reactName,q=[];h!==null&&h!==g;){var z=h,Z=z.alternate,oe=z.stateNode;if(z=z.tag,Z!==null&&Z===g)break;z!==5&&z!==26&&z!==27||oe===null||(Z=oe,w?(oe=Yl(h,A),oe!=null&&q.unshift(ku(h,oe,Z))):w||(oe=Yl(h,A),oe!=null&&q.push(ku(h,oe,Z)))),h=h.return}q.length!==0&&s.push({event:l,listeners:q})}var sG=/\r\n?/g,oG=/\u0000|\uFFFD/g;function YN(s){return(typeof s=="string"?s:""+s).replace(sG,`
`).replace(oG,"")}function VN(s,l){return l=YN(l),YN(s)===l}function td(){}function gt(s,l,h,g,w,A){switch(h){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||ko(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&ko(s,""+g);break;case"className":ur(s,"class",g);break;case"tabIndex":ur(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(s,h,g);break;case"style":QA(s,g,A);break;case"data":if(l!=="object"){ur(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=uf(""+g),s.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(l!=="input"&&gt(s,l,"name",w.name,w,null),gt(s,l,"formEncType",w.formEncType,w,null),gt(s,l,"formMethod",w.formMethod,w,null),gt(s,l,"formTarget",w.formTarget,w,null)):(gt(s,l,"encType",w.encType,w,null),gt(s,l,"method",w.method,w,null),gt(s,l,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=uf(""+g),s.setAttribute(h,g);break;case"onClick":g!=null&&(s.onclick=td);break;case"onScroll":g!=null&&et("scroll",s);break;case"onScrollEnd":g!=null&&et("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}h=uf(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""+g):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":g===!0?s.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,g):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(h,g):s.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(h):s.setAttribute(h,g);break;case"popover":et("beforetoggle",s),et("toggle",s),Cn(s,"popover",g);break;case"xlinkActuate":In(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":In(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":In(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":In(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":In(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":In(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":In(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":In(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":In(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Cn(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=q5.get(h)||h,Cn(s,h,g))}}function iv(s,l,h,g,w,A){switch(h){case"style":QA(s,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof g=="string"?ko(s,g):(typeof g=="number"||typeof g=="bigint")&&ko(s,""+g);break;case"onScroll":g!=null&&et("scroll",s);break;case"onScrollEnd":g!=null&&et("scrollend",s);break;case"onClick":g!=null&&(s.onclick=td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!te.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),l=h.slice(2,w?h.length-7:void 0),A=s[fn]||null,A=A!=null?A[h]:null,typeof A=="function"&&s.removeEventListener(l,A,w),typeof g=="function")){typeof A!="function"&&A!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,g,w);break e}h in s?s[h]=g:g===!0?s.setAttribute(h,""):Cn(s,h,g)}}}function An(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",s),et("load",s);var g=!1,w=!1,A;for(A in h)if(h.hasOwnProperty(A)){var q=h[A];if(q!=null)switch(A){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(s,l,A,q,h,null)}}w&&gt(s,l,"srcSet",h.srcSet,h,null),g&&gt(s,l,"src",h.src,h,null);return;case"input":et("invalid",s);var z=A=q=w=null,Z=null,oe=null;for(g in h)if(h.hasOwnProperty(g)){var me=h[g];if(me!=null)switch(g){case"name":w=me;break;case"type":q=me;break;case"checked":Z=me;break;case"defaultChecked":oe=me;break;case"value":A=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:gt(s,l,g,me,h,null)}}WA(s,A,z,Z,oe,q,w,!1),of(s);return;case"select":et("invalid",s),g=q=A=null;for(w in h)if(h.hasOwnProperty(w)&&(z=h[w],z!=null))switch(w){case"value":A=z;break;case"defaultValue":q=z;break;case"multiple":g=z;default:gt(s,l,w,z,h,null)}l=A,h=q,s.multiple=!!g,l!=null?No(s,!!g,l,!1):h!=null&&No(s,!!g,h,!0);return;case"textarea":et("invalid",s),A=w=g=null;for(q in h)if(h.hasOwnProperty(q)&&(z=h[q],z!=null))switch(q){case"value":g=z;break;case"defaultValue":w=z;break;case"children":A=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:gt(s,l,q,z,h,null)}VA(s,g,w,A),of(s);return;case"option":for(Z in h)if(h.hasOwnProperty(Z)&&(g=h[Z],g!=null))switch(Z){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:gt(s,l,Z,g,h,null)}return;case"dialog":et("beforetoggle",s),et("toggle",s),et("cancel",s),et("close",s);break;case"iframe":case"object":et("load",s);break;case"video":case"audio":for(g=0;g<Nu.length;g++)et(Nu[g],s);break;case"image":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"embed":case"source":case"link":et("error",s),et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in h)if(h.hasOwnProperty(oe)&&(g=h[oe],g!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(s,l,oe,g,h,null)}return;default:if(xm(l)){for(me in h)h.hasOwnProperty(me)&&(g=h[me],g!==void 0&&iv(s,l,me,g,h,void 0));return}}for(z in h)h.hasOwnProperty(z)&&(g=h[z],g!=null&&gt(s,l,z,g,h,null))}function lG(s,l,h,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,q=null,z=null,Z=null,oe=null,me=null;for(ce in h){var ve=h[ce];if(h.hasOwnProperty(ce)&&ve!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":Z=ve;default:g.hasOwnProperty(ce)||gt(s,l,ce,null,g,ve)}}for(var ue in g){var ce=g[ue];if(ve=h[ue],g.hasOwnProperty(ue)&&(ce!=null||ve!=null))switch(ue){case"type":A=ce;break;case"name":w=ce;break;case"checked":oe=ce;break;case"defaultChecked":me=ce;break;case"value":q=ce;break;case"defaultValue":z=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,l));break;default:ce!==ve&&gt(s,l,ue,ce,g,ve)}}ym(s,q,z,Z,oe,me,A,w);return;case"select":ce=q=z=ue=null;for(A in h)if(Z=h[A],h.hasOwnProperty(A)&&Z!=null)switch(A){case"value":break;case"multiple":ce=Z;default:g.hasOwnProperty(A)||gt(s,l,A,null,g,Z)}for(w in g)if(A=g[w],Z=h[w],g.hasOwnProperty(w)&&(A!=null||Z!=null))switch(w){case"value":ue=A;break;case"defaultValue":z=A;break;case"multiple":q=A;default:A!==Z&&gt(s,l,w,A,g,Z)}l=z,h=q,g=ce,ue!=null?No(s,!!h,ue,!1):!!g!=!!h&&(l!=null?No(s,!!h,l,!0):No(s,!!h,h?[]:"",!1));return;case"textarea":ce=ue=null;for(z in h)if(w=h[z],h.hasOwnProperty(z)&&w!=null&&!g.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:gt(s,l,z,null,g,w)}for(q in g)if(w=g[q],A=h[q],g.hasOwnProperty(q)&&(w!=null||A!=null))switch(q){case"value":ue=w;break;case"defaultValue":ce=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==A&&gt(s,l,q,w,g,A)}YA(s,ue,ce);return;case"option":for(var Fe in h)if(ue=h[Fe],h.hasOwnProperty(Fe)&&ue!=null&&!g.hasOwnProperty(Fe))switch(Fe){case"selected":s.selected=!1;break;default:gt(s,l,Fe,null,g,ue)}for(Z in g)if(ue=g[Z],ce=h[Z],g.hasOwnProperty(Z)&&ue!==ce&&(ue!=null||ce!=null))switch(Z){case"selected":s.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:gt(s,l,Z,ue,g,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in h)ue=h[ze],h.hasOwnProperty(ze)&&ue!=null&&!g.hasOwnProperty(ze)&&gt(s,l,ze,null,g,ue);for(oe in g)if(ue=g[oe],ce=h[oe],g.hasOwnProperty(oe)&&ue!==ce&&(ue!=null||ce!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:gt(s,l,oe,ue,g,ce)}return;default:if(xm(l)){for(var vt in h)ue=h[vt],h.hasOwnProperty(vt)&&ue!==void 0&&!g.hasOwnProperty(vt)&&iv(s,l,vt,void 0,g,ue);for(me in g)ue=g[me],ce=h[me],!g.hasOwnProperty(me)||ue===ce||ue===void 0&&ce===void 0||iv(s,l,me,ue,g,ce);return}}for(var ie in h)ue=h[ie],h.hasOwnProperty(ie)&&ue!=null&&!g.hasOwnProperty(ie)&&gt(s,l,ie,null,g,ue);for(ve in g)ue=g[ve],ce=h[ve],!g.hasOwnProperty(ve)||ue===ce||ue==null&&ce==null||gt(s,l,ve,ue,g,ce)}var av=null,sv=null;function nd(s){return s.nodeType===9?s:s.ownerDocument}function XN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QN(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function ov(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var lv=null;function uG(){var s=window.event;return s&&s.type==="popstate"?s===lv?!1:(lv=s,!0):(lv=null,!1)}var ZN=typeof setTimeout=="function"?setTimeout:void 0,cG=typeof clearTimeout=="function"?clearTimeout:void 0,JN=typeof Promise=="function"?Promise:void 0,fG=typeof queueMicrotask=="function"?queueMicrotask:typeof JN<"u"?function(s){return JN.resolve(null).then(s).catch(dG)}:ZN;function dG(s){setTimeout(function(){throw s})}function Fa(s){return s==="head"}function ek(s,l){var h=l,g=0,w=0;do{var A=h.nextSibling;if(s.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"){if(0<g&&8>g){h=g;var q=s.ownerDocument;if(h&1&&Cu(q.documentElement),h&2&&Cu(q.body),h&4)for(h=q.head,Cu(h),q=h.firstChild;q;){var z=q.nextSibling,Z=q.nodeName;q[ji]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&q.rel.toLowerCase()==="stylesheet"||h.removeChild(q),q=z}}if(w===0){s.removeChild(A),Bu(l);return}w--}else h==="$"||h==="$?"||h==="$!"?w++:g=h.charCodeAt(0)-48;else g=0;h=A}while(h);Bu(l)}function uv(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":uv(h),qn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function hG(s,l,h,g){for(;s.nodeType===1;){var w=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[ji])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(A=s.getAttribute("rel"),A==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(A!==w.rel||s.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||s.getAttribute("title")!==(w.title==null?null:w.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(A=s.getAttribute("src"),(A!==(w.src==null?null:w.src)||s.getAttribute("type")!==(w.type==null?null:w.type)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&s.getAttribute("name")===A)return s}else return s;if(s=li(s.nextSibling),s===null)break}return null}function pG(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=li(s.nextSibling),s===null))return null;return s}function cv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function mG(s,l){var h=s.ownerDocument;if(s.data!=="$?"||h.readyState==="complete")l();else{var g=function(){l(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function li(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var fv=null;function tk(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}function nk(s,l,h){switch(l=nd(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Cu(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);qn(s)}var Br=new Map,rk=new Set;function rd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ta=F.d;F.d={f:gG,r:vG,D:yG,C:bG,L:xG,m:wG,X:_G,S:SG,M:jG};function gG(){var s=ta.f(),l=Yf();return s||l}function vG(s){var l=ri(s);l!==null&&l.tag===5&&l.type==="form"?_T(l):ta.r(s)}var al=typeof document>"u"?null:document;function ik(s,l,h){var g=al;if(g&&typeof l=="string"&&l){var w=Mr(l);w='link[rel="'+s+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),rk.has(w)||(rk.add(w),s={rel:s,crossOrigin:h,href:l},g.querySelector(w)===null&&(l=g.createElement("link"),An(l,"link",s),qt(l),g.head.appendChild(l)))}}function yG(s){ta.D(s),ik("dns-prefetch",s,null)}function bG(s,l){ta.C(s,l),ik("preconnect",s,l)}function xG(s,l,h){ta.L(s,l,h);var g=al;if(g&&s&&l){var w='link[rel="preload"][as="'+Mr(l)+'"]';l==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+Mr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+Mr(h.imageSizes)+'"]')):w+='[href="'+Mr(s)+'"]';var A=w;switch(l){case"style":A=sl(s);break;case"script":A=ol(s)}Br.has(A)||(s=d({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),Br.set(A,s),g.querySelector(w)!==null||l==="style"&&g.querySelector(Mu(A))||l==="script"&&g.querySelector(Ru(A))||(l=g.createElement("link"),An(l,"link",s),qt(l),g.head.appendChild(l)))}}function wG(s,l){ta.m(s,l);var h=al;if(h&&s){var g=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Mr(g)+'"][href="'+Mr(s)+'"]',A=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=ol(s)}if(!Br.has(A)&&(s=d({rel:"modulepreload",href:s},l),Br.set(A,s),h.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ru(A)))return}g=h.createElement("link"),An(g,"link",s),qt(g),h.head.appendChild(g)}}}function SG(s,l,h){ta.S(s,l,h);var g=al;if(g&&s){var w=ii(g).hoistableStyles,A=sl(s);l=l||"default";var q=w.get(A);if(!q){var z={loading:0,preload:null};if(q=g.querySelector(Mu(A)))z.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":l},h),(h=Br.get(A))&&dv(s,h);var Z=q=g.createElement("link");qt(Z),An(Z,"link",s),Z._p=new Promise(function(oe,me){Z.onload=oe,Z.onerror=me}),Z.addEventListener("load",function(){z.loading|=1}),Z.addEventListener("error",function(){z.loading|=2}),z.loading|=4,id(q,l,g)}q={type:"stylesheet",instance:q,count:1,state:z},w.set(A,q)}}}function _G(s,l){ta.X(s,l);var h=al;if(h&&s){var g=ii(h).hoistableScripts,w=ol(s),A=g.get(w);A||(A=h.querySelector(Ru(w)),A||(s=d({src:s,async:!0},l),(l=Br.get(w))&&hv(s,l),A=h.createElement("script"),qt(A),An(A,"link",s),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(w,A))}}function jG(s,l){ta.M(s,l);var h=al;if(h&&s){var g=ii(h).hoistableScripts,w=ol(s),A=g.get(w);A||(A=h.querySelector(Ru(w)),A||(s=d({src:s,async:!0,type:"module"},l),(l=Br.get(w))&&hv(s,l),A=h.createElement("script"),qt(A),An(A,"link",s),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(w,A))}}function ak(s,l,h,g){var w=(w=Y.current)?rd(w):null;if(!w)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=sl(h.href),h=ii(w).hoistableStyles,g=h.get(l),g||(g={type:"style",instance:null,count:0,state:null},h.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=sl(h.href);var A=ii(w).hoistableStyles,q=A.get(s);if(q||(w=w.ownerDocument||w,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(s,q),(A=w.querySelector(Mu(s)))&&!A._p&&(q.instance=A,q.state.loading=5),Br.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Br.set(s,h),A||EG(w,s,h,q.state))),l&&g===null)throw Error(r(528,""));return q}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=ol(h),h=ii(w).hoistableScripts,g=h.get(l),g||(g={type:"script",instance:null,count:0,state:null},h.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function sl(s){return'href="'+Mr(s)+'"'}function Mu(s){return'link[rel="stylesheet"]['+s+"]"}function sk(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function EG(s,l,h,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),An(l,"link",h),qt(l),s.head.appendChild(l))}function ol(s){return'[src="'+Mr(s)+'"]'}function Ru(s){return"script[async]"+s}function ok(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Mr(h.href)+'"]');if(g)return l.instance=g,qt(g),g;var w=d({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),qt(g),An(g,"style",w),id(g,h.precedence,s),l.instance=g;case"stylesheet":w=sl(h.href);var A=s.querySelector(Mu(w));if(A)return l.state.loading|=4,l.instance=A,qt(A),A;g=sk(h),(w=Br.get(w))&&dv(g,w),A=(s.ownerDocument||s).createElement("link"),qt(A);var q=A;return q._p=new Promise(function(z,Z){q.onload=z,q.onerror=Z}),An(A,"link",g),l.state.loading|=4,id(A,h.precedence,s),l.instance=A;case"script":return A=ol(h.src),(w=s.querySelector(Ru(A)))?(l.instance=w,qt(w),w):(g=h,(w=Br.get(A))&&(g=d({},h),hv(g,w)),s=s.ownerDocument||s,w=s.createElement("script"),qt(w),An(w,"link",g),s.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,id(g,h.precedence,s));return l.instance}function id(s,l,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,A=w,q=0;q<g.length;q++){var z=g[q];if(z.dataset.precedence===l)A=z;else if(A!==w)break}A?A.parentNode.insertBefore(s,A.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function dv(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function hv(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var ad=null;function lk(s,l,h){if(ad===null){var g=new Map,w=ad=new Map;w.set(h,g)}else w=ad,g=w.get(h),g||(g=new Map,w.set(h,g));if(g.has(s))return g;for(g.set(s,null),h=h.getElementsByTagName(s),w=0;w<h.length;w++){var A=h[w];if(!(A[ji]||A[Ht]||s==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var q=A.getAttribute(l)||"";q=s+q;var z=g.get(q);z?z.push(A):g.set(q,[A])}}return g}function uk(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function AG(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function ck(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Du=null;function OG(){}function TG(s,l,h){if(Du===null)throw Error(r(475));var g=Du;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var w=sl(h.href),A=s.querySelector(Mu(w));if(A){s=A._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=sd.bind(g),s.then(g,g)),l.state.loading|=4,l.instance=A,qt(A);return}A=s.ownerDocument||s,h=sk(h),(w=Br.get(w))&&dv(h,w),A=A.createElement("link"),qt(A);var q=A;q._p=new Promise(function(z,Z){q.onload=z,q.onerror=Z}),An(A,"link",h),l.instance=A}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=sd.bind(g),s.addEventListener("load",l),s.addEventListener("error",l))}}function NG(){if(Du===null)throw Error(r(475));var s=Du;return s.stylesheets&&s.count===0&&pv(s,s.stylesheets),0<s.count?function(l){var h=setTimeout(function(){if(s.stylesheets&&pv(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(h)}}:null}function sd(){if(this.count--,this.count===0){if(this.stylesheets)pv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var od=null;function pv(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,od=new Map,l.forEach(kG,s),od=null,sd.call(s))}function kG(s,l){if(!(l.state.loading&4)){var h=od.get(s);if(h)var g=h.get(null);else{h=new Map,od.set(s,h);for(var w=s.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var q=w[A];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(h.set(q.dataset.precedence,q),g=q)}g&&h.set(null,g)}w=l.instance,q=w.getAttribute("data-precedence"),A=h.get(q)||g,A===g&&h.set(null,w),h.set(q,w),this.count++,g=sd.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),A?A.parentNode.insertBefore(w,A.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(w,s.firstChild)),l.state.loading|=4}}var Pu={$$typeof:O,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function CG(s,l,h,g,w,A,q,z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function fk(s,l,h,g,w,A,q,z,Z,oe,me,ve){return s=new CG(s,l,h,q,z,Z,oe,ve),l=1,A===!0&&(l|=24),A=fr(3,null,null,l),s.current=A,A.stateNode=s,l=Vm(),l.refCount++,s.pooledCache=l,l.refCount++,A.memoizedState={element:g,isDehydrated:h,cache:l},Jm(A),s}function dk(s){return s?(s=Io,s):Io}function hk(s,l,h,g,w,A){w=dk(w),g.context===null?g.context=w:g.pendingContext=w,g=Ca(l),g.payload={element:h},A=A===void 0?null:A,A!==null&&(g.callback=A),h=Ma(s,g,l),h!==null&&(gr(h,s,l),fu(h,s,l))}function pk(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function mv(s,l){pk(s,l),(s=s.alternate)&&pk(s,l)}function mk(s){if(s.tag===13){var l=qo(s,67108864);l!==null&&gr(l,s,67108864),mv(s,67108864)}}var ld=!0;function MG(s,l,h,g){var w=B.T;B.T=null;var A=F.p;try{F.p=2,gv(s,l,h,g)}finally{F.p=A,B.T=w}}function RG(s,l,h,g){var w=B.T;B.T=null;var A=F.p;try{F.p=8,gv(s,l,h,g)}finally{F.p=A,B.T=w}}function gv(s,l,h,g){if(ld){var w=vv(g);if(w===null)rv(s,l,g,ud,h),vk(s,g);else if(PG(w,s,l,h,g))g.stopPropagation();else if(vk(s,g),l&4&&-1<DG.indexOf(s)){for(;w!==null;){var A=ri(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var q=Xe(A.pendingLanes);if(q!==0){var z=A;for(z.pendingLanes|=2,z.entangledLanes|=2;q;){var Z=1<<31-ot(q);z.entanglements[1]|=Z,q&=~Z}ki(A),(ft&6)===0&&(Kf=xe()+500,Tu(0))}}break;case 13:z=qo(A,2),z!==null&&gr(z,A,2),Yf(),mv(A,2)}if(A=vv(g),A===null&&rv(s,l,g,ud,h),A===w)break;w=A}w!==null&&g.stopPropagation()}else rv(s,l,g,null,h)}}function vv(s){return s=Sm(s),yv(s)}var ud=null;function yv(s){if(ud=null,s=kr(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return ud=s,null}function gk(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case nt:return 2;case Vt:return 8;case Ut:case fe:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var bv=!1,Ga=null,Ka=null,Wa=null,Lu=new Map,qu=new Map,Ya=[],DG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vk(s,l){switch(s){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Lu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(l.pointerId)}}function Iu(s,l,h,g,w,A){return s===null||s.nativeEvent!==A?(s={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:A,targetContainers:[w]},l!==null&&(l=ri(l),l!==null&&mk(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),s)}function PG(s,l,h,g,w){switch(l){case"focusin":return Ga=Iu(Ga,s,l,h,g,w),!0;case"dragenter":return Ka=Iu(Ka,s,l,h,g,w),!0;case"mouseover":return Wa=Iu(Wa,s,l,h,g,w),!0;case"pointerover":var A=w.pointerId;return Lu.set(A,Iu(Lu.get(A)||null,s,l,h,g,w)),!0;case"gotpointercapture":return A=w.pointerId,qu.set(A,Iu(qu.get(A)||null,s,l,h,g,w)),!0}return!1}function yk(s){var l=kr(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,Ss(s.priority,function(){if(h.tag===13){var g=mr();g=Nr(g);var w=qo(h,g);w!==null&&gr(w,h,g),mv(h,g)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function cd(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=vv(s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);wm=g,h.target.dispatchEvent(g),wm=null}else return l=ri(h),l!==null&&mk(l),s.blockedOn=h,!1;l.shift()}return!0}function bk(s,l,h){cd(s)&&h.delete(l)}function LG(){bv=!1,Ga!==null&&cd(Ga)&&(Ga=null),Ka!==null&&cd(Ka)&&(Ka=null),Wa!==null&&cd(Wa)&&(Wa=null),Lu.forEach(bk),qu.forEach(bk)}function fd(s,l){s.blockedOn===l&&(s.blockedOn=null,bv||(bv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LG)))}var dd=null;function xk(s){dd!==s&&(dd=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dd===s&&(dd=null);for(var l=0;l<s.length;l+=3){var h=s[l],g=s[l+1],w=s[l+2];if(typeof g!="function"){if(yv(g||h)===null)continue;break}var A=ri(h);A!==null&&(s.splice(l,3),l-=3,yg(A,{pending:!0,data:w,method:h.method,action:g},g,w))}}))}function Bu(s){function l(Z){return fd(Z,s)}Ga!==null&&fd(Ga,s),Ka!==null&&fd(Ka,s),Wa!==null&&fd(Wa,s),Lu.forEach(l),qu.forEach(l);for(var h=0;h<Ya.length;h++){var g=Ya[h];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Ya.length&&(h=Ya[0],h.blockedOn===null);)yk(h),h.blockedOn===null&&Ya.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var w=h[g],A=h[g+1],q=w[fn]||null;if(typeof A=="function")q||xk(h);else if(q){var z=null;if(A&&A.hasAttribute("formAction")){if(w=A,q=A[fn]||null)z=q.formAction;else if(yv(w)!==null)continue}else z=q.action;typeof z=="function"?h[g+1]=z:(h.splice(g,3),g-=3),xk(h)}}}function xv(s){this._internalRoot=s}hd.prototype.render=xv.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,g=mr();hk(h,g,s,l,null,null)},hd.prototype.unmount=xv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;hk(s.current,2,null,s,null,null),Yf(),l[an]=null}};function hd(s){this._internalRoot=s}hd.prototype.unstable_scheduleHydration=function(s){if(s){var l=ws();s={blockedOn:null,target:s,priority:l};for(var h=0;h<Ya.length&&l!==0&&l<Ya[h].priority;h++);Ya.splice(h,0,s),h===0&&yk(s)}};var wk=t.version;if(wk!=="19.1.1")throw Error(r(527,wk,"19.1.1"));F.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(l),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var qG={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Ge=pd.inject(qG),Ne=pd}catch{}}return zu.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,g="",w=qT,A=IT,q=BT,z=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(q=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks)),l=fk(s,1,!1,null,null,h,g,w,A,q,z,null),s[an]=l.current,nv(s),new xv(l)},zu.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var g=!1,w="",A=qT,q=IT,z=BT,Z=null,oe=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(q=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Z=h.unstable_transitionCallbacks),h.formState!==void 0&&(oe=h.formState)),l=fk(s,1,!0,l,h??null,g,w,A,q,z,Z,oe),l.context=dk(null),h=l.current,g=mr(),g=Nr(g),w=Ca(g),w.callback=null,Ma(h,w,g),h=g,l.current.lanes=h,Kn(l,h),ki(l),s[an]=l.current,nv(s),new hd(l)},zu.version="19.1.1",zu}var Ck;function YG(){if(Ck)return _v.exports;Ck=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_v.exports=WG(),_v.exports}var VG=YG();const XG=Or(VG);var Pc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},QG={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ZG=class{#e=QG;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Ys=new ZG;function JG(e){setTimeout(e,0)}var ao=typeof window>"u"||"Deno"in globalThis;function Zn(){}function e7(e,t){return typeof e=="function"?e(t):e}function FS(e){return typeof e=="number"&&e>=0&&e!==1/0}function k$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rs(e,t){return typeof e=="function"?e(t):e}function Fr(e,t){return typeof e=="function"?e(t):e}function Mk(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:u}=e;if(o){if(r){if(t.queryHash!==mj(o,t.options))return!1}else if(!yc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||a&&!a(t))}function Rk(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(vc(t.options.mutationKey)!==vc(a))return!1}else if(!yc(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function mj(e,t){return(t?.queryKeyHashFn||vc)(e)}function vc(e){return JSON.stringify(e,(t,n)=>KS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function yc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>yc(e[n],t[n])):!1}var t7=Object.prototype.hasOwnProperty;function C$(e,t){if(e===t)return e;const n=Dk(e)&&Dk(t);if(!n&&!(KS(e)&&KS(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,u=n?new Array(o):{};let c=0;for(let f=0;f<o;f++){const d=n?f:a[f],p=e[d],v=t[d];if(p===v){u[d]=p,(n?f<i:t7.call(e,d))&&c++;continue}if(p===null||v===null||typeof p!="object"||typeof v!="object"){u[d]=v;continue}const y=C$(p,v);u[d]=y,y===p&&c++}return i===o&&c===i?e:u}function GS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Dk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function KS(e){if(!Pk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Pk(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Pk(e){return Object.prototype.toString.call(e)==="[object Object]"}function n7(e){return new Promise(t=>{Ys.setTimeout(t,e)})}function WS(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?C$(e,t):t}function r7(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function i7(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gj=Symbol();function M$(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===gj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function a7(e,t){return typeof e=="function"?e(...t):!!e}var s7=class extends Pc{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ao&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},vj=new s7;function YS(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var o7=JG;function l7(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=o7;const a=u=>{t?e.push(u):i(()=>{n(u)})},o=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;t++;try{c=u()}finally{t--,t||o()}return c},batchCalls:u=>(...c)=>{a(()=>{u(...c)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var Nn=l7(),u7=class extends Pc{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ao&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},ih=new u7;function c7(e){return Math.min(1e3*2**e,3e4)}function R$(e){return(e??"online")==="online"?ih.isOnline():!0}var VS=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function D$(e){let t=!1,n=0,r;const i=YS(),a=()=>i.status!=="pending",o=x=>{if(!a()){const S=new VS(x);v(S),e.onCancel?.(S)}},u=()=>{t=!0},c=()=>{t=!1},f=()=>vj.isFocused()&&(e.networkMode==="always"||ih.isOnline())&&e.canRun(),d=()=>R$(e.networkMode)&&e.canRun(),p=x=>{a()||(r?.(),i.resolve(x))},v=x=>{a()||(r?.(),i.reject(x))},y=()=>new Promise(x=>{r=S=>{(a()||f())&&x(S)},e.onPause?.()}).then(()=>{r=void 0,a()||e.onContinue?.()}),b=()=>{if(a())return;let x;const S=n===0?e.initialPromise:void 0;try{x=S??e.fn()}catch(_){x=Promise.reject(_)}Promise.resolve(x).then(p).catch(_=>{if(a())return;const E=e.retry??(ao?0:3),O=e.retryDelay??c7,T=typeof O=="function"?O(n,_):O,N=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(t||!N){v(_);return}n++,e.onFail?.(n,_),n7(T).then(()=>f()?void 0:y()).then(()=>{t?v(_):b()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:u,continueRetry:c,canStart:d,start:()=>(d()?b():y().then(b),i)}}var P$=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),FS(this.gcTime)&&(this.#e=Ys.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ao?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ys.clearTimeout(this.#e),this.#e=void 0)}},f7=class extends P${#e;#t;#n;#i;#r;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Lk(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Lk(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=WS(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Fr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>rs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!k$(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const u=M$(this.options,t),f=(()=>{const d={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#s=!1,this.options.persister?this.options.persister(u,f,this):u(f)},o=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=D$({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:u=>{u instanceof VS&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(u,c)=>{this.#a({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const u=await this.#r.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof VS){if(u.silent)return this.#r.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#a({type:"error",error:u}),this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...L$(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Nn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function L$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:R$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Lk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var d7=class extends Pc{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#s=YS(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#o;#s;#a;#m;#d;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),qk(this.#t,this.options)?this.#f():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return XS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return XS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!GS(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Ik(this.#t,n,this.options,t)&&this.#f(),this.updateResult(),r&&(this.#t!==n||Fr(this.options.enabled,this.#t)!==Fr(t.enabled,this.#t)||rs(this.options.staleTime,this.#t)!==rs(t.staleTime,this.#t))&&this.#g();const i=this.#v();r&&(this.#t!==n||Fr(this.options.enabled,this.#t)!==Fr(t.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return p7(this,n)&&(this.#i=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Zn)),t}#g(){this.#x();const e=rs(this.options.staleTime,this.#t);if(ao||this.#i.isStale||!FS(e))return;const n=k$(this.#i.dataUpdatedAt,e)+1;this.#u=Ys.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(ao||Fr(this.options.enabled,this.#t)===!1||!FS(this.#l)||this.#l===0)&&(this.#c=Ys.setInterval(()=>{(this.options.refetchIntervalInBackground||vj.isFocused())&&this.#f()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#u&&(Ys.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(Ys.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#t,r=this.options,i=this.#i,a=this.#r,o=this.#o,c=e!==n?e.state:this.#n,{state:f}=e;let d={...f},p=!1,v;if(t._optimisticResults){const D=this.hasListeners(),R=!D&&qk(e,t),C=D&&Ik(e,n,t,r);(R||C)&&(d={...d,...L$(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:x}=d;v=d.data;let S=!1;if(t.placeholderData!==void 0&&v===void 0&&x==="pending"){let D;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(D=i.data,S=!0):D=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,D!==void 0&&(x="success",v=WS(i?.data,D,t),p=!0)}if(t.select&&v!==void 0&&!S)if(i&&v===a?.data&&t.select===this.#m)v=this.#d;else try{this.#m=t.select,v=t.select(v),v=WS(i?.data,v,t),this.#d=v,this.#a=null}catch(D){this.#a=D}this.#a&&(y=this.#a,v=this.#d,b=Date.now(),x="error");const _=d.fetchStatus==="fetching",E=x==="pending",O=x==="error",T=E&&_,N=v!==void 0,M={status:x,fetchStatus:d.fetchStatus,isPending:E,isSuccess:x==="success",isError:O,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:O&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:O&&N,isStale:yj(e,t),refetch:this.refetch,promise:this.#s,isEnabled:Fr(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=L=>{M.status==="error"?L.reject(M.error):M.data!==void 0&&L.resolve(M.data)},R=()=>{const L=this.#s=M.promise=YS();D(L)},C=this.#s;switch(C.status){case"pending":e.queryHash===n.queryHash&&D(C);break;case"fulfilled":(M.status==="error"||M.data!==C.value)&&R();break;case"rejected":(M.status!=="error"||M.error!==C.reason)&&R();break}}return M}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#h=this.#t),GS(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#i).some(o=>{const u=o;return this.#i[u]!==e[u]&&a.has(u)})};this.#_({listeners:n()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(e){Nn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function h7(e,t){return Fr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qk(e,t){return h7(e,t)||e.state.data!==void 0&&XS(e,t,t.refetchOnMount)}function XS(e,t,n){if(Fr(t.enabled,e)!==!1&&rs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&yj(e,t)}return!1}function Ik(e,t,n,r){return(e!==t||Fr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&yj(e,n)}function yj(e,t){return Fr(t.enabled,e)!==!1&&e.isStaleByTime(rs(t.staleTime,e))}function p7(e,t){return!GS(e.getCurrentResult(),t)}function Bk(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},c=0;const f=async()=>{let d=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},v=M$(t.options,t.fetchOptions),y=async(b,x,S)=>{if(d)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:x,direction:S?"backward":"forward",meta:t.options.meta};return p(k),k})(),O=await v(E),{maxPages:T}=t.options,N=S?i7:r7;return{pages:N(b.pages,O,T),pageParams:N(b.pageParams,x,T)}};if(i&&a.length){const b=i==="backward",x=b?m7:$k,S={pages:a,pageParams:o},_=x(r,S);u=await y(S,_,b)}else{const b=e??a.length;do{const x=c===0?o[0]??r.initialPageParam:$k(r,u);if(c>0&&x==null)break;u=await y(u,x),c++}while(c<b)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=f}}}function $k(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function m7(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var g7=class extends P${#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||v7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=D$({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#r({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),await this.#n.config.onMutate?.(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:i})}const a=await this.#i.start();return await this.#n.config.onSuccess?.(a,e,this.state.context,this,n),await this.options.onSuccess?.(a,e,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,e,this.state.context,n),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#n.config.onError?.(a,e,this.state.context,this,n),await this.options.onError?.(a,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,a,e,this.state.context,n),a}finally{this.#r({type:"error",error:a})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Nn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function v7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var y7=class extends Pc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new g7({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=gd(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=gd(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=gd(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=gd(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Nn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Rk(t,n))}findAll(e={}){return this.getAll().filter(t=>Rk(e,t))}notify(e){Nn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Nn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Zn))))}};function gd(e){return e.options.scope?.id}var b7=class extends Pc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??mj(r,t);let a=this.get(i);return a||(a=new f7({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Mk(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Mk(e,n)):t}notify(e){Nn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},x7=class{#e;#t;#n;#i;#r;#o;#s;#a;constructor(e={}){this.#e=e.queryCache||new b7,this.#t=e.mutationCache||new y7,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=vj.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=ih.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(rs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(r.queryHash)?.state.data,o=e7(t,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Nn.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Nn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Nn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Nn.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Zn).catch(Zn)}invalidateQueries(e,t={}){return Nn.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Nn.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Zn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(rs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zn).catch(Zn)}fetchInfiniteQuery(e){return e.behavior=Bk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zn).catch(Zn)}ensureInfiniteQueryData(e){return e.behavior=Bk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ih.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(vc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{yc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(vc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{yc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gj&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},q$=j.createContext(void 0),I$=e=>{const t=j.useContext(q$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},w7=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),m.jsx(q$.Provider,{value:e,children:t})),B$=j.createContext(!1),S7=()=>j.useContext(B$);B$.Provider;function _7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var j7=j.createContext(_7()),E7=()=>j.useContext(j7),A7=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},O7=e=>{j.useEffect(()=>{e.clearReset()},[e])},T7=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||a7(n,[e.error,r])),N7=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},k7=(e,t)=>e.isLoading&&e.isFetching&&!t,C7=(e,t)=>e?.suspense&&t.isPending,zk=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function M7(e,t,n){const r=S7(),i=E7(),a=I$(),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",N7(o),A7(o,i),O7(i);const u=!a.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(a,o)),f=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(p=>{const v=d?c.subscribe(Nn.batchCalls(p)):Zn;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o)},[o,c]),C7(o,f))throw zk(o,c,i);if(T7({result:f,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw f.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!ao&&k7(f,r)&&(u?zk(o,c,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(Zn).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?f:c.trackResult(f)}function R7(e,t){return M7(e,d7)}const $$=j.createContext(null);function D7(e){if(!e)return!1;const t=String(e).trim();return/\.(png|jpe?g|gif|svg|webp)$/i.test(t)||/^https?:\/\//i.test(t)||t.startsWith("/")}function P7(e,{baseIconPath:t="/assets/icons/"}={}){if(!e)return e;const n=i=>{if(!i)return{};const a={};return Object.entries(i).forEach(([o,u])=>{if(!u)return;const c={...u},f=(u.emoji||"").toString().trim();if(c.iconUrl){const d=c.iconUrl,p=he.createElement("img",{src:d,alt:c.name||o,style:{width:"1em",height:"1em",objectFit:"contain",verticalAlign:"-0.15em"},className:"res-icon-inline"});c.emoji=p,c.emojiText=`<img src="${d}" alt="${(c.name||o).replace(/"/g,"&quot;")}" style="width:1em;height:1em;vertical-align:-0.15em;object-fit:contain;display:inline-block" />`,a[o]=c;return}if(!f){c.emoji="",c.emojiText="",a[o]=c;return}if(D7(f)){const d=f.startsWith("/")||/^https?:\/\//i.test(f)?f:t+f;c.iconUrl=d;const p=he.createElement("img",{src:d,alt:c.name||o,style:{width:"1em",height:"1em",objectFit:"contain",verticalAlign:"-0.15em"},className:"res-icon-inline"});c.emoji=p,c.emojiText=`<img src="${d}" alt="${(c.name||o).replace(/"/g,"&quot;")}" style="width:1em;height:1em;vertical-align:-0.15em;object-fit:contain;display:inline-block" />`,a[o]=c}else c.emoji=f,c.emojiText=f,a[o]=c}),a},r={...e};return r.res=n(e.res),r.ani=n(e.ani),r}function L7({children:e}){const t=I$(),[n,r]=j.useState(()=>new Set);j.useEffect(()=>{let p=!0;return(async()=>{try{const v=await fetch("/assets/art/manifest.json",{cache:"no-store"});if(v.ok){const y=await v.json();p&&Array.isArray(y)&&r(new Set(y))}}catch{}})(),()=>{p=!1}},[]);const{data:i,error:a,isLoading:o,refetch:u}=R7({queryKey:["alldata"],queryFn:q7}),c=j.useCallback((p=[],v=-1)=>{!Array.isArray(p)||p.length===0||t.setQueryData(["alldata"],y=>{if(!y)return y;const b={...y,state:{...y.state,inv:{...y.state?.inv||{},solid:{...y.state?.inv?.solid||{}},liquid:{...y.state?.inv?.liquid||{}}},ani:{...y.state?.ani||{}}}};for(const x of p){const S=String(x?.res_id||""),_=Number(x?.amount||0)*v;if(!(!S||!_))if(S.startsWith("ani.")){const E=b.state.ani[S]?.quantity||0;b.state.ani[S]={...b.state.ani[S]||{},quantity:E+_}}else{const E=S.replace(/^res\./,"");E in b.state.inv.solid?b.state.inv.solid[E]=(b.state.inv.solid[E]||0)+_:E in b.state.inv.liquid?b.state.inv.liquid[E]=(b.state.inv.liquid[E]||0)+_:b.state.inv.solid[E]=(b.state.inv.solid[E]||0)+_}}return b})},[t]),f=j.useCallback((p={})=>{!p||typeof p!="object"||t.setQueryData(["alldata"],v=>{if(!v)return v;const y={...v,state:{...v.state,inv:{...v.state?.inv||{},solid:{...v.state?.inv?.solid||{}},liquid:{...v.state?.inv?.liquid||{}}}}};for(const[b,x]of Object.entries(p)){const S=Number(x||0);if(!S)continue;const _=String(b).replace(/^res\./,"");_ in y.state.inv.solid?y.state.inv.solid[_]=(y.state.inv.solid[_]||0)+S:_ in y.state.inv.liquid?y.state.inv.liquid[_]=(y.state.inv.liquid[_]||0)+S:y.state.inv.solid[_]=(y.state.inv.solid[_]||0)+S}return y})},[t]),d=j.useMemo(()=>({isLoading:o,data:i,artManifest:n,error:a,refreshData:u,applyLockedCostsDelta:c,applyResourceDeltaMap:f}),[o,i,n,a,u,c,f]);return m.jsx($$.Provider,{value:d,children:e})}const Ie=()=>j.useContext($$);async function q7(){const e=`/world-spil/backend/api/alldata.php?ts=${Date.now()}`,t=await fetch(e,{cache:"no-store"});if(!t.ok)throw new Error(`API error: ${t.status}`);const n=await t.json();if(!n?.ok)throw new Error(n?.error?.message||"API data error");try{if(n?.data?.defs){const r=P7(n.data.defs,{baseIconPath:"/assets/icons/"});n.data.defs=r;try{window.data=n.data}catch{}try{const i=Object.keys(r.res||{})[0];console.debug("[fetchAllData] normalized.defs.sample:",i,r.res?.[i])}catch{}}}catch(r){console.warn("normalizeDefsForIcons failed",r)}return n.data}function Uk(e){const t=new URLSearchParams(e||""),n={};for(const[r,i]of t.entries())n[r]=i;return n}function vd(){const e=window.location.search||"",t=Uk(e),n=window.location.hash||"";if(n.startsWith("#/")){const a=n.indexOf("?");if(a!==-1){const u=n.slice(2,a),c=n.slice(a+1),f=Uk(c),d=u.split("/").filter(Boolean);return{page:d[0]||"map",param:d[1]||null,query:{...t,...f}}}const o=n.slice(2).split("/").filter(Boolean);return{page:o[0]||"map",param:o[1]||null,query:t}}const r=window.location.pathname.replace(/^\/+|\/+$/g,"");if(!r)return{page:"map",param:null,query:t};const i=r.split("/");return{page:i[0]||"map",param:i[1]||null,query:t}}function I7(){const[e,t]=j.useState(vd);j.useEffect(()=>{const i=()=>t(vd());return window.addEventListener("hashchange",i),window.addEventListener("popstate",i),()=>{window.removeEventListener("hashchange",i),window.removeEventListener("popstate",i)}},[]);const n=j.useCallback((i,a,o={})=>{const u="#/"+(i||"map")+(a?"/"+a:"");if(Object.prototype.hasOwnProperty.call(o,"query")){const c=o.query&&typeof o.query=="object"?new URLSearchParams(o.query).toString():"",f=c?`?${c}`:"";history.pushState({},"",window.location.pathname+f+u),t(vd())}else window.location.hash=u},[]),r=j.useCallback((i,a,o={})=>{const u="#/"+(i||"map")+(a?"/"+a:"");let c=window.location.search||"";Object.prototype.hasOwnProperty.call(o,"query")&&(o.query&&typeof o.query=="object"?c="?"+new URLSearchParams(o.query).toString():c=""),history.replaceState({},"",window.location.pathname+(c||"")+u),t(vd())},[]);return{page:e.page,param:e.param,query:e.query||{},push:n,replace:r}}function B7(e){if(!e)return!1;const t=String(e).trim();return/\.(png|jpe?g|gif|svg|webp)$/i.test(t)||/^https?:\/\//i.test(t)||t.startsWith("/")}function z$({value:e,iconUrl:t,alt:n="",basePath:r="/assets/icons/",size:i="1em",fallback:a=null}){const o=(t||e||"").toString().trim();if(t)return m.jsx("img",{src:t,alt:n,style:{width:i,height:i,objectFit:"contain",verticalAlign:"-0.15em"}});if(B7(o)){const u=/^(https?:)?\/\//.test(o)||o.startsWith("/")?o:r+o;return m.jsx("img",{src:u,alt:n,style:{width:i,height:i,objectFit:"contain",verticalAlign:"-0.15em"}})}return o?m.jsx("span",{role:"img","aria-label":n,style:{fontSize:i,lineHeight:1,verticalAlign:"-0.15em"},children:o}):a?m.jsx("span",{style:{fontSize:i},children:a}):null}const je=e=>typeof e=="number"?e.toLocaleString("da-DK"):String(e),os=e=>{if(e==null)return"";const t=Math.max(0,Math.round(+e)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n?`${n}h ${r}m ${i}s`:r?`${r}m ${i}s`:`${i}s`},Jn=e=>{const n=/^(?:bld\.)?(.+)\.l(\d+)$/i.exec(String(e||""));return n?{series:`bld.${n[1]}`,family:n[1],level:Number(n[2])}:null},Yr=e=>{if(!e)return{};const t={};if(Array.isArray(e))e.forEach(n=>{const r=n.id??n.rid??n.resource??n.type,i=n.amount??n.qty??n.value;r&&Number(i)&&(t[String(r)]={id:String(r),amount:Number(i)})});else if(typeof e=="object")for(const[n,r]of Object.entries(e)){const i=Number(typeof r=="object"&&r!==null?r.amount??0:r??0);i&&(t[n]={id:n,amount:i})}return t},mi=(e="bld",t)=>{if(!t)return{};const n={},r=e,i=t?.[e]||{};for(const a of Object.keys(i)){const o=a.match(new RegExp(`^${r}\\.(.+)\\.l(\\d+)$`));if(o){const u=`${r}.${o[1]}`,c=Number(o[2]);n[u]=Math.max(n[u]||0,c)}}return n},QS=(e,t)=>{if(!t)return 0;let n=0;const r=String(e).replace(/^rsd\./,""),i=u=>{const c=String(u),f=[`${e}.l`,`${r}.l`];for(const d of f)if(c.startsWith(d)){const p=c.match(/\.l(\d+)$/),v=p?Number(p[1]):0;v>n&&(n=v);return}};if(t.rsd&&typeof t.rsd=="object")for(const u of Object.keys(t.rsd))i(u);const a=t.research||{};for(const u of Object.keys(a))u!=="completed"&&i(u);const o=a.completed;if(o){const u=o instanceof Set?Array.from(o):Object.keys(o);for(const c of u)i(c)}return n},da=(e,t)=>{if(!e||!t)return!1;const n=String(e),r=n.replace(/^rsd\./,""),i=t.rsd||{},a=t.research||{},o=y=>{const b=a.completed;return b?b instanceof Set?b.has(y):!!b[y]:!1};if(i[n]||i[r]||a[n]||a[r]||o(n)||o(r))return!0;const c=n.match(/^rsd\.(.+)\.l(\d+)$/);if(!c){const y=n.startsWith("rsd.")?n:`rsd.${n}`;return QS(y,t)>0}const f=c[1],d=Number(c[2]),p=`rsd.${f}`;return QS(p,t)>=d},U$=(e,t,n)=>{const r={};for(const[i,a]of Object.entries(e||{})){if(Number(a?.stage??0)>t)continue;const u=i.match(/^(.+)\.l(\d+)$/i);if(u){const c=`${n}.${u[1]}`;(r[c]||=[]).push({key:i,def:a,level:Number(u[2])})}}for(const i in r)r[i].sort((a,o)=>a.level-o.level);return r},H$=(e,t)=>{if(!Array.isArray(e)||e.length===0)return null;const n=(t||0)+1;return e.find(r=>r.level===n)||null};function F$(e,t,{baseIconPath:n="/assets/icons/"}={}){if(!e||!t)return"";try{if(e.startsWith("res.")){const r=e.replace(/^res\./,""),i=t.res?.[r];if(!i)return"";if(i.emojiText)return i.emojiText;if(typeof i.emoji=="string"&&i.emoji.length)return i.emoji;if(i.iconUrl)return`<img src="${i.iconUrl}" alt="${(i.name||r).replace(/"/g,"&quot;")}" style="width:1em;height:1em;vertical-align:-0.15em;object-fit:contain;display:inline-block" />`}if(e.startsWith("ani.")){const r=e.replace(/^ani\./,""),i=t.ani?.[r];if(!i)return"";if(i.emojiText)return i.emojiText;if(typeof i.emoji=="string"&&i.emoji.length)return i.emoji;if(i.iconUrl)return`<img src="${i.iconUrl}" alt="${(i.name||r).replace(/"/g,"&quot;")}" style="width:1em;height:1em;vertical-align:-0.15em;object-fit:contain;display:inline-block" />`}}catch{}return""}function $7(e){if(!e||!e.length)return"";const t=n=>(n||"").replace(/[&<>"']/g,r=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[r]);return e.map(n=>{const r=[];return r.push(`${n.prefix}${n.amount}`),n.icon?.iconUrl?r.push(`<img src="${t(n.icon.iconUrl)}" alt="${t(n.icon.name||"")}" style="width:1em;height:1em;vertical-align:-0.15em;object-fit:contain;display:inline-block;margin-left:6px;margin-right:6px" />`):n.icon?.emoji&&r.push(t(String(n.icon.emoji))),r.join(" ")}).join("  ")}function z7(e,{baseIconPath:t="/assets/icons/"}={}){if(!e)return null;const n=[],r=/\[icon:([^\]]+)\]/g;let i=0,a;for(;(a=r.exec(e))!==null;){a.index>i&&n.push(e.slice(i,a.index));const o=a[1],c=/\.(png|jpe?g|gif|svg|webp)$/i.test(o)||o.startsWith("/")?o.startsWith("/")?o:t+o:null;c?n.push(he.createElement(z$,{key:n.length,iconUrl:c,size:"1em"})):n.push(a[0]),i=a.index+a[0].length}return i<e.length&&n.push(e.slice(i)),n}const Hk=Object.freeze(Object.defineProperty({__proto__:null,computeOwnedMaxBySeries:mi,emojiHtmlForId:F$,fmt:je,groupDefsBySeriesInStage:U$,hasResearch:da,normalizePrice:Yr,ownedResearchMax:QS,parseBldKey:Jn,pickNextTargetInSeries:H$,prettyTime:os,renderTextWithIcons:z7,tokensToHtmlString:$7},Symbol.toStringTag,{value:"Module"})),G$="/world-spil/backend/api";async function Fk(e){try{const t=await fetch(`${G$}${e}`,{method:"GET",credentials:"include",headers:{Accept:"application/json"}}),n=t.status,r=await t.text();let i=null;try{i=r?JSON.parse(r):null}catch{}return n===401?{ok:!1,status:401,data:i,error:{code:"unauthorized",message:i?.error?.message||i?.message||"Unauthorized"}}:n>=200&&n<300?{ok:!0,status:n,data:i}:{ok:!1,status:n,data:i,error:i?.error||{message:r||`HTTP ${n}`}}}catch(t){return{ok:!1,status:0,error:{message:String(t)}}}}async function yd(e,t){try{const n=await fetch(`${G$}${e}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t||{})}),r=n.status,i=await n.text();let a=null;try{a=i?JSON.parse(i):null}catch{}return r===401?{ok:!1,status:401,data:a,error:{code:"unauthorized",message:a?.error?.message||a?.message||"Unauthorized"}}:r>=200&&r<300?{ok:!0,status:r,data:a}:{ok:!1,status:r,data:a,error:a?.error||{message:i||`HTTP ${r}`}}}catch(n){return{ok:!1,status:0,error:{message:String(n)}}}}function U7({onAuthChange:e=()=>window.location.reload()}){const[t,n]=j.useState(!0),[r,i]=j.useState({loggedIn:!1,userId:null,username:null}),[a,o]=j.useState(!1),[u,c]=j.useState(!1),[f,d]=j.useState(""),[p,v]=j.useState(""),[y,b]=j.useState(""),[x,S]=j.useState(""),[_,E]=j.useState(""),[O,T]=j.useState(""),N=j.useRef(null);j.useEffect(()=>{const R=C=>{N.current&&(N.current.contains(C.target)||(o(!1),c(!1),T("")))};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[]),j.useEffect(()=>{let R=!0;return(async()=>{n(!0),T("");try{const C=await Fk("/user/profile.php");if(!R)return;C.ok&&C.data?.data?.userId?i({loggedIn:!0,userId:C.data.data.userId,username:C.data.data.username??null}):i({loggedIn:!1,userId:null,username:null})}catch(C){console.error("TopbarAuth: error fetching profile",C),i({loggedIn:!1,userId:null,username:null})}finally{R&&n(!1)}})(),()=>{R=!1}},[]);async function k(R){if(R?.preventDefault(),T(""),!f||!p){T("Udfyld brugernavn og kodeord.");return}const C=await yd("/auth/login.php",{username:f,password:p});if(C.ok&&C.data?.ok){i({loggedIn:!0,userId:C.data.data?.userId??null,username:C.data.data?.username??f}),o(!1),v(""),e();return}T(C.data?.error?.message||C.error?.message||"Login fejlede")}async function M(){T("");const R=await yd("/auth/logout.php",{});R.ok&&R.data?.ok?(i({loggedIn:!1,userId:null,username:null}),e()):T(R.data?.error?.message||R.error?.message||"Log ud fejlede")}async function D(R){if(R?.preventDefault(),T(""),!y||!x||!_){T("Udfyld brugernavn, email og kodeord.");return}const C=await yd("/auth/register.php",{username:y,email:x,password:_});if(C.ok&&C.data?.ok){const L=await Fk("/user/profile.php");if(L.ok&&L.data?.data?.userId)i({loggedIn:!0,userId:L.data.data.userId,username:L.data.data.username??y});else{const I=await yd("/auth/login.php",{username:y,password:_});I.ok&&I.data?.ok?i({loggedIn:!0,userId:I.data.data?.userId??null,username:I.data.data?.username??y}):i({loggedIn:!1,userId:null,username:null})}c(!1),E(""),e()}else T(C.data?.error?.message||C.error?.message||"Registrering fejlede")}return m.jsx("div",{className:"topbar-auth",ref:N,children:t?m.jsx("span",{className:"auth-muted",children:"Tjekker login"}):r.loggedIn?m.jsxs("div",{className:"auth-inline",children:[m.jsxs("span",{className:"auth-user",title:"Logget ind",children:[" ",r.username||"Bruger"]}),m.jsx("button",{className:"btn small",onClick:M,children:"Log ud"})]}):m.jsxs("div",{className:"auth-inline",children:[m.jsx("button",{className:"btn small",onClick:R=>{R.stopPropagation(),o(C=>!C),c(!1),T("")},children:"Log ind"}),m.jsx("button",{className:"btn small secondary",onClick:R=>{R.stopPropagation(),c(C=>!C),o(!1),T("")},children:"Opret"}),a&&m.jsxs("form",{className:"auth-pop",onSubmit:k,onClick:R=>R.stopPropagation(),children:[m.jsx("div",{className:"auth-title",children:"Log ind"}),m.jsx("input",{className:"auth-input",type:"text",placeholder:"Brugernavn",value:f,onChange:R=>d(R.target.value),autoFocus:!0}),m.jsx("input",{className:"auth-input",type:"password",placeholder:"Kodeord",value:p,onChange:R=>v(R.target.value)}),O&&m.jsx("div",{className:"auth-error",children:O}),m.jsxs("div",{className:"auth-actions",children:[m.jsx("button",{type:"submit",className:"btn small primary",children:"Log ind"}),m.jsx("button",{type:"button",className:"btn small",onClick:()=>o(!1),children:"Luk"})]})]}),u&&m.jsxs("form",{className:"auth-pop",onSubmit:D,onClick:R=>R.stopPropagation(),children:[m.jsx("div",{className:"auth-title",children:"Opret bruger"}),m.jsx("input",{className:"auth-input",type:"text",placeholder:"Brugernavn",value:y,onChange:R=>b(R.target.value),autoFocus:!0}),m.jsx("input",{className:"auth-input",type:"email",placeholder:"Email",value:x,onChange:R=>S(R.target.value)}),m.jsx("input",{className:"auth-input",type:"password",placeholder:"Kodeord",value:_,onChange:R=>E(R.target.value)}),O&&m.jsx("div",{className:"auth-error",children:O}),m.jsxs("div",{className:"auth-actions",children:[m.jsx("button",{type:"submit",className:"btn small primary",children:"Opret"}),m.jsx("button",{type:"button",className:"btn small",onClick:()=>c(!1),children:"Luk"})]})]})]})})}const ah=new Set;function K$(e){ah.add(e)}function W$(e){ah.delete(e)}function lp(e={}){console.debug("summaryEvents: triggerSummaryRefresh called",{payload:e,listeners:ah.size}),setTimeout(()=>{for(const t of Array.from(ah))try{t(e)}catch(n){console.error("summaryEvents listener failed",n)}},0)}const H7="/world-spil/backend/api/header/summary.php",Y$="ws:summary-cache-v1",Ve={data:null,err:null,promise:null,at:0,unauthenticated:!1,isFetching:!1};function F7(){try{const e=sessionStorage.getItem(Y$);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?null:t}catch{return null}}function Gk(e){try{sessionStorage.setItem(Y$,JSON.stringify(e))}catch{}}(()=>{const e=F7();e&&e.data&&(Ve.data=e.data,Ve.at=e.at||Date.now()),e&&e.unauthenticated&&(Ve.unauthenticated=!0)})();async function G7(){const e=await fetch(H7,{credentials:"include"}),t=await e.text();let n=null;try{n=t?JSON.parse(t):null}catch{}if(e.status===401)return{unauthenticated:!0};if(!e.ok){const r=n?.error?.message||n?.message||t||`HTTP ${e.status}`;throw new Error(r)}if(!n||n.ok===!1){const r=n&&(n.error?.message||n.message)||"Ukendt serverfejl";throw new Error(r)}return{data:n.data??null}}function Ov(){return Ve.promise||(Ve.isFetching=!0,Ve.promise=G7().then(e=>(Ve.isFetching=!1,e?.unauthenticated?(Ve.data=null,Ve.err=null,Ve.unauthenticated=!0,Ve.at=Date.now(),Gk({data:null,at:Ve.at,unauthenticated:!0}),{unauthenticated:!0}):(Ve.data=e.data??null,Ve.err=null,Ve.unauthenticated=!1,Ve.at=Date.now(),Gk({data:Ve.data,at:Ve.at,unauthenticated:!1}),{data:Ve.data}))).catch(e=>{throw Ve.err=String(e?.message||e),Ve.isFetching=!1,e}).finally(()=>{Ve.promise=null})),Ve.promise}function Ii({revalidateMs:e=3e4}={}){const[t,n]=j.useState(Ve.data),[r,i]=j.useState(Ve.err),[a,o]=j.useState(!Ve.data&&!Ve.promise),[u,c]=j.useState(!!Ve.isFetching),[f,d]=j.useState(Ve.at),[p,v]=j.useState(Ve.unauthenticated),y=j.useRef(!0);j.useEffect(()=>{y.current=!0,c(!0),Ov().then(E=>{y.current&&(E?.unauthenticated?(v(!0),n(null),i(null)):(n(E?.data??Ve.data),i(null),v(!1)),o(!1),c(!1),d(Ve.at))}).catch(E=>{y.current&&(i(String(E?.message||E)),o(!1),c(!1))});let _=null;return e>0&&(_=setInterval(()=>{c(!0),Ov().then(E=>{y.current&&(E?.unauthenticated?(v(!0),n(null),i(null)):(n(E?.data??Ve.data),i(null),v(!1)),d(Ve.at))}).catch(E=>{y.current&&i(String(E?.message||E))})},e)),()=>{y.current=!1,_&&clearInterval(_)}},[e]);const b=async()=>{o(!0),c(!0);try{const _=await Ov();if(!y.current)return;_?.unauthenticated?(v(!0),n(null),i(null)):(n(_?.data??Ve.data),i(null),v(!1)),d(Ve.at)}catch(_){if(!y.current)return;i(String(_?.message||_))}finally{y.current&&o(!1),y.current&&c(!1)}},x=j.useRef(b);j.useEffect(()=>{x.current=b},[b]),j.useEffect(()=>{const _=()=>{try{x.current?.()}catch{}};return K$(_),()=>W$(_)},[]);const S=!!(Ve.data&&Date.now()-(Ve.at||0)>Math.max(0,e||3e4));return{data:t,err:r,loading:a,isFetching:u,isStale:S,refresh:b,lastUpdated:f,unauthenticated:p}}function gi({children:e,content:t,placement:n="bottom",offset:r=8,style:i,cardStyle:a,interactive:o=!0,closeDelay:u=150}){const[c,f]=j.useState(!1),d=j.useRef(null),p=j.useRef(null),v=()=>{p.current&&(clearTimeout(p.current),p.current=null)},y=()=>{v(),p.current=setTimeout(()=>f(!1),u)};j.useEffect(()=>{function x(S){S.key==="Escape"&&f(!1)}return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[]);const b=(()=>{const x={position:"absolute",zIndex:1e3,background:"#fff",border:"1px solid rgba(0,0,0,0.1)",borderRadius:6,boxShadow:"0 6px 24px rgba(0,0,0,0.12), 0 2px 6px rgba(0,0,0,0.08)",padding:10,maxWidth:320,color:"#222",fontSize:12,lineHeight:1.35,pointerEvents:o?"auto":"none"};return n==="right"?{...x,left:`calc(100% + ${r}px)`,top:0}:{...x,top:`calc(100% + ${r}px)`,left:0}})();return m.jsxs("div",{ref:d,style:{position:"relative",display:"inline-flex",...i},onMouseEnter:()=>{v(),f(!0)},onMouseLeave:y,onFocus:()=>{v(),f(!0)},onBlur:y,onClick:()=>f(x=>!x),tabIndex:0,children:[e,c&&t&&m.jsx("div",{style:{...b,...a},onMouseEnter:v,onMouseLeave:y,onClick:x=>x.stopPropagation(),children:t})]})}function K7(e,t){if(e)return String(t).split(".").reduce((n,r)=>n&&n[r]!=null?n[r]:void 0,e)}function zt(){const{data:e}=Ie(),t=[e?.lang,e?.defs?.lang,e?.state?.lang].filter(Boolean);return function(r){for(const i of t){const a=i[r];if(a!=null)return a;const o=K7(i,r);if(o!=null)return o}return r}}function W7(){const e=zt(),{data:t}=Ie(),{data:n}=Ii(),r=j.useRef(n);j.useEffect(()=>{n&&(r.current=n)},[n]);const i=n||r.current,[a,o]=j.useState(!1);if(!i)return null;const u=Number(t?.state?.user?.currentstage??0),c=u<=1,f=i?.usages??{},d=i?.capacities??{},p=i?.citizens?.groupCounts??i?.population??{},v=t?.state?.city?.population??t?.state?.population??{},y=i?.citizens?.raw||{},b=St(i?.citizens?.totals?.totalPersons??p.total??v.total),x=St(p.adultsTotal??v.adults),S=St(y?.adultsUnemployed),_=St(p.young??v.young),E=St(p.kids??v.kids),O=St(p.baby??v.baby),T=St(y?.adultsPolice),N=St(y?.adultsFire),k=St(y?.adultsHealth),M=St(y?.adultsPolitician),D=St(y?.adultsGovernment),R=St(y?.adultsWorker),C=St(y?.adultsSoldier),L=St(y?.youngStudent),I=St(y?.youngWorker),U=St(y?.kidsStudent),P=St(y?.kidsStreet),H=St(y?.old);St(p?.crime);const B=St(bd(f.useHousing)),F=St(d.housing??d.housingCapacity),G=St(y?.adultsHomeless),K=St(bd(f.useHealth)),$=St(d.healthCapacity??d.health),W=St(bd(f.useProvision)),X=St(bd(f.useWater)),ne=j.useMemo(()=>m.jsxs("div",{style:{minWidth:260,maxWidth:420},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[m.jsx("strong",{children:"Borgere"}),m.jsxs("span",{style:{opacity:.75},children:["Stage ",u]})]}),m.jsxs("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:[m.jsx(it,{label:"Total",value:je(b),strong:!0}),m.jsx("hr",{}),c?m.jsxs(m.Fragment,{children:[m.jsx(it,{label:"Voksne",value:je(x),strong:!0}),m.jsx(it,{label:"Unge",value:je(_),strong:!0}),m.jsx(it,{label:e("ui.citizens.baby.h1"),value:je(E),strong:!0}),m.jsx(it,{label:"Babyer",value:je(O),strong:!0}),m.jsx("hr",{}),m.jsx(it,{label:"Housing",value:`${je(B)} / ${je(F)}`,mono:!0}),m.jsx(it,{label:"Hjemlse",value:je(G)}),m.jsx(it,{label:"Health",value:`${je(K)} / ${je($)}`,mono:!0}),m.jsx("hr",{}),m.jsx(it,{label:"Provision forbrug",value:je(W),mono:!0}),m.jsx(it,{label:"Vand forbrug",value:je(X),mono:!0})]}):m.jsxs(m.Fragment,{children:[m.jsx(it,{label:"Voksne:",strong:!0}),m.jsx(it,{label:`${e("ui.emoji.adults_police.h1")} ${e("ui.citizens.adults_police.h1")}`,value:je(T)}),m.jsx(it,{label:`${e("ui.emoji.adults_fire.h1")} ${e("ui.citizens.adults_fire.h1")}`,value:je(N)}),m.jsx(it,{label:`${e("ui.emoji.adults_health.h1")} ${e("ui.citizens.adults_health.h1")}`,value:je(k)}),m.jsx(it,{label:`${e("ui.emoji.adults_politician.h1")} ${e("ui.citizens.adults_politician.h1")}`,value:je(M)}),m.jsx(it,{label:`${e("ui.emoji.adults_government.h1")} ${e("ui.citizens.adults_government.h1")}`,value:je(D)}),m.jsx(it,{label:`${e("ui.emoji.adults_worker.h1")} ${e("ui.citizens.adults_worker.h1")}`,value:je(R)}),m.jsx(it,{label:`${e("ui.emoji.adults_soldier.h1")} ${e("ui.citizens.adults_soldier.h1")}`,value:je(C)}),m.jsx(it,{label:`${e("ui.emoji.old.h1")} ${e("ui.citizens.old.h1")}`,value:je(H)}),m.jsx(it,{label:`${e("ui.emoji.adults_unemployed.h1")} ${e("ui.citizens.adults_unemployed.h1")}`,value:je(S)}),m.jsx(it,{label:`${e("ui.emoji.adults_homeless.h1")} ${e("ui.citizens.adults_homeless.h1")}`,value:je(G)}),m.jsx("hr",{}),m.jsx(it,{label:"Unge:",strong:!0}),m.jsx(it,{label:`${e("ui.emoji.young_student.h1")} ${e("ui.citizens.young_student.h1")}`,value:je(L)}),m.jsx(it,{label:`${e("ui.emoji.young_worker.h1")} ${e("ui.citizens.young_worker.h1")}`,value:je(I)}),m.jsx("hr",{}),m.jsx(it,{label:"Brn og babyer:",strong:!0}),m.jsx(it,{label:`${e("ui.emoji.kids_student.h1")} ${e("ui.citizens.kids_student.h1")}`,value:je(U)}),m.jsx(it,{label:`${e("ui.emoji.kids_street.h1")} ${e("ui.citizens.kids_street.h1")}`,value:je(P)}),m.jsx(it,{label:`${e("ui.emoji.baby.h1")} ${e("ui.citizens.baby.h1")}`,value:je(O)}),m.jsx("hr",{}),m.jsx(it,{label:"Stats:",strong:!0}),m.jsx(it,{label:"Housing",value:`${je(B)} / ${je(F)}`,mono:!0}),m.jsx(it,{label:"Health",value:`${je(K)} / ${je($)}`,mono:!0}),m.jsx(it,{label:"Provision forbrug",value:je(W),mono:!0}),m.jsx(it,{label:"Vand forbrug",value:je(X),mono:!0}),m.jsx("hr",{}),"Se detaljer i ",m.jsx("a",{href:"#/help?topic=population",children:"Hjlp: Befolkning"})," og ",m.jsx("a",{href:"#/help?topic=stats-overview",children:"Hjlp: Stats"})]})]})]}),[c,u,b,x,_,E,B,F,G,K,$,W,X]);return m.jsx(gi,{content:ne,cardStyle:{maxWidth:480,minWidth:320},children:m.jsxs("span",{className:"res-chip",title:"Borgere",style:{cursor:"pointer",userSelect:"none"},children:[" ",je(b)]})})}function it({label:e,value:t,mono:n,strong:r}){return m.jsx("li",{style:{padding:"4px 6px",borderRadius:6},children:m.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"space-between",alignItems:"baseline"},children:[m.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e?r?m.jsx("strong",{children:e}):m.jsx("span",{style:{opacity:.9},children:e}):null}),m.jsx("div",{style:{textAlign:"right",fontVariantNumeric:n?"tabular-nums":"normal"},children:t})]})})}function St(e){const t=Number(e);return Number.isFinite(t)?t:0}function bd(e){if(e==null)return 0;if(typeof e=="object"){if(typeof e.total=="number")return e.total;const t=Object.values(e).filter(n=>typeof n=="number");if(t.length)return t.reduce((n,r)=>n+r,0)}return e}function bj(){const e=zt();return j.useMemo(()=>({housing:e("ui.emoji.housing.h1")+" "+e("ui.label.housing.h1")||"Housing",food:e("ui.emoji.provision.h1")+" "+e("ui.label.provision.h1")||"Provision",water:e("ui.emoji.water.h1")+" "+e("ui.label.water.h1")||"Water",health:e("ui.emoji.health.h1")+" "+e("ui.label.health.h1")||"Health",healthDentist:e("ui.emoji.health.h1")+" "+e("ui.label.health_dentist.h1")||"Dentist",heat:e("ui.emoji.heat.h1")+" "+e("ui.label.heat.h1")||"Heat",power:e("ui.emoji.power.h1")+" "+e("ui.label.power.h1")||"Power",heatFossil:e("ui.emoji.heat_fossil.h1")+" "+e("ui.label.heat_fossil.h1")||"Heat (Fossil)",heatGreen:e("ui.emoji.heat_green.h1")+" "+e("ui.label.heat_green.h1")||"Heat (Green)",heatNuclear:e("ui.emoji.heat_nuclear.h1")+" "+e("ui.label.heat_nuclear.h1")||"Heat (Nuclear)",powerFossil:e("ui.emoji.power_fossil.h1")+" "+e("ui.label.power_fossil.h1")||"Power (Fossil)",powerGreen:e("ui.emoji.power_green.h1")+" "+e("ui.label.power_green.h1")||"Power (Green)",powerNuclear:e("ui.emoji.power_nuclear.h1")+" "+e("ui.label.power_nuclear.h1")||"Power (Nuclear)",cloth:e("ui.emoji.product_cloth.h1")+" "+e("ui.label.product_cloth.h1")||"Cloth",medicin:e("ui.emoji.product_medicin.h1")+" "+e("ui.label.product_medicin.h1")||"Medicine",social:e("ui.emoji.social.h1")+" "+e("ui.label.social.h1")||"Social",waste:e("ui.emoji.waste.h1")+" "+e("ui.label.waste.h1")||"Waste",wasteOrganic:e("ui.emoji.waste_organic.h1")+" "+e("ui.label.waste_organic.h1")||"Organic Waste",wasteOther:e("ui.emoji.waste_other.h1")+" "+e("ui.label.waste_other.h1")||"Other Waste",tax:e("ui.emoji.tax.h1")+" "+e("ui.label.tax.h1")||"Tax",taxHealth:e("ui.emoji.tax_health.h1")+" "+e("ui.label.tax_health.h1")||"Skat (sundhed)",taxCitizens:e("ui.emoji.tax_citizens.h1")+" "+e("ui.label.tax_citizens.h1")||"Skat (borgere)",police:e("ui.emoji.adults_police.h1")+" "+e("ui.citizens.adults_police.h1")||"Police"}),[e])}function Y7(){const e=zt(),t={footprint:{label:e("ui.emoji.footprint.h1")+e("ui.label.footprint.h1"),desc:e("ui.desc.footprint.h1")},animal_cap:{label:e("ui.emoji.animalcap.h1")+e("ui.label.animalcap.h1"),desc:e("ui.desc.animalcap.h1")},housing:{label:e("ui.emoji.housing.h1")+e("ui.label.housing.h1"),desc:e("ui.capdesc.housing.h1")},housingCapacity:{label:e("ui.emoji.housing.h1")+e("ui.label.housing.h1"),desc:e("ui.capdesc.housing.h1")},provision_cap:{label:e("ui.emoji.provision.h1")+e("ui.label.provision.h1"),desc:e("ui.capdesc.provision.h1")},provisionCapacity:{label:e("ui.emoji.provision.h1")+e("ui.label.provision.h1"),desc:e("ui.capdesc.provision.h1")},provisionUsage:{label:e("ui.emoji.provision.h1")+e("ui.label.provision.h1"),desc:e("ui.usagedesc.provision.h1")},heatFossilCapacity:{label:e("ui.emoji.heat.h1")+e("ui.label.heat.h1"),desc:e("ui.capdesc.heat.h1")},storageSolidCap:{label:e("ui.emoji.storage_solid.h1")+e("ui.label.storage_solid.h1"),desc:e("ui.capdesc.storage_solid.h1")},storageLiquidCap:{label:e("ui.emoji.storage_liquid.h1")+e("ui.label.storage_liquid.h1"),desc:e("ui.capdesc.storage_liquid.h1")},waterUsage:{label:e("ui.emoji.water.h1")+e("ui.label.water.h1"),desc:e("ui.usagedesc.water.h1")},waterCapacity:{label:e("ui.emoji.water.h1")+e("ui.label.water.h1"),desc:e("ui.capdesc.water.h1")},wasteUsage:{label:e("ui.emoji.waste.h1")+e("ui.label.waste.h1"),desc:e("ui.usagedesc.waste.h1")},wasteCapacity:{label:e("ui.emoji.waste.h1")+e("ui.label.waste.h1"),desc:e("ui.capdesc.waste.h1")},wasteOrganicUsage:{label:e("ui.emoji.waste_organic.h1")+e("ui.label.waste_organic.h1"),desc:e("ui.usagedesc.waste_organic.h1")},wasteOrganicCapacity:{label:e("ui.emoji.waste_organic.h1")+e("ui.label.waste_organic.h1"),desc:e("ui.capdesc.waste_organic.h1")},wasteOtherUsage:{label:e("ui.emoji.waste_other.h1")+e("ui.label.waste_other.h1"),desc:e("ui.usagedesc.waste_other.h1")},wasteOtherCapacity:{label:e("ui.emoji.waste_other.h1")+e("ui.label.waste_other.h1"),desc:e("ui.capdesc.waste_other.h1")},healthCapacity:{label:e("ui.emoji.health.h1")+e("ui.label.health.h1"),desc:e("ui.capdesc.health.h1")},healthUnitUsage:{label:e("ui.emoji.health_unit.h1")+e("ui.label.health_unit.h1"),desc:e("ui.usagedesc.health_unit.h1")},healthUnitCapacity:{label:e("ui.emoji.health_unit.h1")+e("ui.label.health_unit.h1"),desc:e("ui.capdesc.health_unit.h1")},healthDentistUsage:{label:e("ui.emoji.health_dentist.h1")+e("ui.label.health_dentist.h1"),desc:e("ui.usagedesc.health_dentist.h1")},healthDentistCapacity:{label:e("ui.emoji.health_dentist.h1")+e("ui.label.health_dentist.h1"),desc:e("ui.capdesc.health_dentist.h1")},adultsPoliceCapacity:{label:e("ui.emoji.adults_police.h1")+e("ui.citizens.adults_police.h1"),desc:e("ui.capdesc.adults_police.h1")},adultsFireCapacity:{label:e("ui.emoji.adults_fire.h1")+e("ui.citizens.adults_fire.h1"),desc:e("ui.capdesc.adults_fire.h1")},adultsHealthCapacity:{label:e("ui.emoji.adults_health.h1")+e("ui.citizens.adults_health.h1"),desc:e("ui.capdesc.adults_health.h1")},adultsSoldierCapacity:{label:e("ui.emoji.adults_soldier.h1")+e("ui.citizens.adults_soldier.h1"),desc:e("ui.capdesc.adults_soldier.h1")},kidsStudentCapacity:{label:e("ui.emoji.kids_student.h1")+e("ui.citizens.kids_student.h1"),desc:e("ui.capdesc.kids_student.h1")},youngStudentCapacity:{label:e("ui.emoji.young_student.h1")+e("ui.citizens.young_student.h1"),desc:e("ui.capdesc.young_student.h1")},productClothUsage:{label:e("ui.emoji.cloth.h1")+e("ui.label.product_cloth.h1"),desc:e("ui.usagedesc.product_cloth.h1")},productClothCapacity:{label:e("ui.emoji.cloth.h1")+e("ui.label.product_cloth.h1"),desc:e("ui.capdesc.product_cloth.h1")},taxUsage:{label:e("ui.emoji.tax.h1")+e("ui.label.tax.h1"),desc:e("ui.capdesc.tax.h1")},taxCapacity:{label:e("ui.emoji.tax.h1")+e("ui.label.tax.h1"),desc:e("ui.usagedesc.tax.h1")},taxHealthUsage:{label:e("ui.emoji.tax_health.h1")+e("ui.label.tax_health.h1"),desc:e("ui.capdesc.tax_health.h1")},taxHealthCapacity:{label:e("ui.emoji.tax_health.h1")+e("ui.label.tax_health.h1"),desc:e("ui.usagedesc.tax_health.h1")}};return t.provision_cap=t.provisionCapacity,t}function V7(e){return e>=.9?"":e>=.8?"":e>=.7?"":e>=.6?"":e>=.5?"":""}function X7(e){const t=Number(e||0);return t>=.85?"":t>=.7?"":t>=.55?"":t>=.4?"":t>=.25?"":""}const Kk={heat:["heatGreen","heatNuclear","heatFossil"],power:["powerGreen","powerNuclear","powerFossil"],health:["healthDentist"],tax:["taxHealth","taxCitizens"],waste:["wasteOrganic","wasteOther"]},Q7={};function Z7(e,t){const n=Number(e)||0,r=Number(t)||0;if(r<=0)return 0;const i=Math.max(0,n/r-1);return Math.max(0,1-i)}function J7(){const{data:e,isFetching:t}=Ii(),n=j.useRef(e);j.useEffect(()=>{e&&(n.current=e)},[e]);const r=e||n.current,{data:i}=Ie(),[a,o]=j.useState(null),u=bj(),c=r?.happiness??{impacts:{},weightTotal:0,impactTotal:0,happiness:0},f=r?.usages??{},d=r?.capacities??{},p=r?.metricsMeta??{},v=Number(i?.state?.user?.currentstage??0),y=Number(c.total||c.happiness||0),b=Math.round(y*100),x=V7(y),S=j.useRef(b),[_,E]=j.useState(!1);j.useEffect(()=>{if(S.current!==void 0&&S.current!==b){E(!0);const D=setTimeout(()=>E(!1),180);return()=>clearTimeout(D)}S.current=b},[b]);const O=D=>{const R=p?.[D]||{},C=Number(R?.stage?.unlock_at??1),L=Number(R?.stage?.visible_at??C);return{unlockAt:C,visibleAt:L}},T=D=>{const{visibleAt:R}=O(D);return v>=R},N=D=>{const{unlockAt:R}=O(D);return v>=R},k=D=>{const R=u[D]||D,C=c.impacts?.[D]||null,L=!!C;if(!L&&(!T(D)||!N(D)))return null;let I=0,U=0,P=0,H=0,B=0;if(L)I=Number(C.used||0),U=Number(C.capacity||0),P=Number(C.score||0),H=Number(C.weight||0),B=Number(C.impact||0);else{const F=Q7[D];F&&(I=Number(f?.[F.usage]?.total||0),U=Number(d?.[F.cap]||0),P=Z7(I,U)),H=0,B=0}return{key:D,label:R,used:I,cap:U,scorePct:Math.round(P*100),weight:H,impact:B,fromImpact:L}},M=j.useMemo(()=>{const D=["health","food","water","housing","heat","power"],R=new Set(Object.values(Kk||{}).flat()),C=Object.entries(c.impacts||{}).filter(([,P])=>Number(P?.weight||0)>0).map(([P])=>P).filter(P=>!R.has(P)),L=Array.from(new Set([...C,...D])),I=P=>{const H=D.indexOf(P);return H===-1?Number.POSITIVE_INFINITY:H};L.sort((P,H)=>{const B=I(P),F=I(H);return B!==F?B-F:P.localeCompare(H)});const U=L.map(P=>k(P)).filter(Boolean).filter(P=>P.fromImpact||P.used>0||P.cap>0);return m.jsxs("div",{style:{minWidth:260,maxWidth:420},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[m.jsx("strong",{children:"Happiness breakdown"}),m.jsxs("span",{style:{opacity:.75},children:["w=",Math.round(c.weightTotal||0)]})]}),U.length===0?m.jsx("div",{style:{opacity:.7},children:"Ingen aktive kategorier."}):m.jsx("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:U.map(P=>{const H=Kk[P.key]||[],B=a===P.key&&H.length>0;return m.jsxs("li",{onMouseEnter:()=>o(P.key),onMouseLeave:()=>o(null),style:{padding:"4px 6px",borderRadius:6,background:a===P.key?"rgba(44,123,229,0.08)":"transparent",transition:"background 120ms linear"},children:[m.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"space-between",alignItems:"baseline"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[m.jsx("strong",{children:P.label}),m.jsxs("span",{style:{fontSize:12,opacity:.8},children:["brug: ",P.used.toLocaleString()," / ",P.cap.toLocaleString()]})]}),m.jsxs("div",{style:{textAlign:"right"},children:[m.jsxs("div",{style:{fontVariantNumeric:"tabular-nums"},children:[P.scorePct,"%"]}),P.fromImpact&&m.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Weight:",P.weight]})]})]}),B&&m.jsx("div",{style:{marginTop:6,paddingLeft:8},children:m.jsx("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:H.map(F=>{const G=k(F);return G?m.jsx("li",{style:{padding:"4px 6px",borderRadius:6,background:a===F?"rgba(44,123,229,0.04)":"transparent",marginBottom:4},children:m.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"space-between",alignItems:"baseline"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[m.jsx("strong",{style:{fontSize:13},children:u[F]||F}),m.jsxs("span",{style:{fontSize:12,opacity:.8},children:["brug: ",G.used.toLocaleString()," / ",G.cap.toLocaleString()]})]}),m.jsxs("div",{style:{textAlign:"right"},children:[m.jsxs("div",{style:{fontVariantNumeric:"tabular-nums"},children:[G.scorePct,"%"]}),G.fromImpact&&m.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Weight:",G.weight]})]})]})},F):null})})})]},P.key)})}),m.jsxs("span",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:[m.jsx("hr",{}),"Se detaljer i ",m.jsx("a",{href:"#/help?topic=stats-happiness",children:"Hjlp: Happiness"})," og ",m.jsx("a",{href:"#/help?topic=stats-overview",children:"Hjlp: Stats"}),"."]})]})},[c,f,d,a,p,v,u]);return r?m.jsx(gi,{content:M,cardStyle:{maxWidth:560,minWidth:420},children:m.jsxs("span",{className:"res-chip",title:void 0,style:{cursor:"pointer",userSelect:"none",transition:"opacity 160ms ease, transform 160ms ease",opacity:_?.5:t?.65:1,transform:_?"translateY(-4px)":"translateY(0)"},children:[x," ",b]})}):null}function eK(e){return Array.isArray(e)?e:e==null?[]:typeof e=="string"?e.split(",").map(t=>t.trim()).filter(Boolean):[e]}function tK(e){const t=String(e||"").toLowerCase().trim();return t?t==="animal"||t==="animal_cap"||t==="animalcap"?"animal_cap":t==="solid"||t==="storagesolidcap"||t==="storage_solid_cap"||t==="solid_cap"?"storageSolidCap":t==="liquid"||t==="storageliquidcap"||t==="storage_liquid_cap"||t==="liquid_cap"?"storageLiquidCap":t==="footprint"?"footprint":t:""}function nK(e){const t=eK(e),n=[];for(const r of t){const i=tK(r);i&&!n.includes(i)&&n.push(i)}return n}function V$(e,t){if(!e||typeof e!="object")return null;const r={footprint:["footprint"],animal_cap:["animal_cap","animalCap"],storageSolidCap:["storageSolidCap","storage_solid_cap","solid_cap","solidCap"],storageLiquidCap:["storageLiquidCap","storage_liquid_cap","liquid_cap","liquidCap"]}[t]||[];for(const i of r)if(e[i]!=null&&typeof e[i]=="number"){const a=Number(e[i]);if(Number.isFinite(a))return a}return null}function rK(e,t,n){if(!n)return!1;const r=n[e];if(!r||typeof r!="object")return!1;const i=e==="bld"?"bld.":e==="add"?"add.":"rsd.",a=t.replace(/^(?:bld\.|add\.|rsd\.)/i,""),o=i+a;if(r[o]||r[i+a])return!0;try{for(const[u,c]of Object.entries(r)){if(u===o||u===i+a)return!0;const f=c?.bld_id||c?.add_id||c?.rsd_id||c?.id;if(typeof f=="string"&&(f===o||f===i+a))return!0}}catch{}return!1}function iK(e,{bucket:t,defKey:n,name:r},i){const a=e?.stats||{},o=[];for(const u of i){const c=V$(a,u);c==null||!Number.isFinite(c)||c===0||o.push({metric:u,amount:Number(c),sourceType:t,sourceId:(t==="bld"?"bld.":t==="add"?"add.":"rsd.")+n.replace(/^(?:bld\.|add\.|rsd\.)/i,""),name:r||e?.name||n})}return o}function aK(e,t){const n=e?.cap||{},r=i=>{const a=Number(i);return Number.isFinite(a)?a:null};switch(t){case"footprint":return r(n?.footprint?.base);case"animal_cap":return r(n?.animal_cap?.base);case"storageSolidCap":return r(n?.solid?.base??n?.storageSolidCap?.base);case"storageLiquidCap":return r(n?.liquid?.base??n?.storageLiquidCap?.base);default:return null}}function sK({defs:e,state:t,modeLc:n,positiveByMetric:r,negativeByMetric:i,selected:a}){if(!a.includes("animal_cap"))return;const o=t?.ani||t?.animals||t?.animal;if(!(!o||typeof o!="object"))for(const[u,c]of Object.entries(o)){const f=typeof c=="number"?c:Number(c?.count??c?.qty??c?.quantity??0);if(!Number.isFinite(f)||f<=0)continue;const p=String(u||"").replace(/^ani\./i,""),v=e?.ani?.[p]??e?.animals?.[p],y=V$(v?.stats||{},"animal_cap");if(y==null||!Number.isFinite(y)||y===0)continue;const x={metric:"animal_cap",amount:y*f,sourceType:"ani",sourceId:`ani.${p}`,name:v?.name||p,meta:{count:f,perUnit:y}},S=Math.sign(x.amount);S>0?n!=="take"&&r.animal_cap.push(x):S<0&&n!=="give"&&i.animal_cap.push(x)}}function oK({defs:e,state:t,metrics:n,mode:r="both"}={}){const i=nK(n),a=String(r||"both").toLowerCase(),o={},u={};for(const d of i)o[d]=[],u[d]=[];const c=["bld","add","rsd"];for(const d of c){const p=e?.[d]||{};for(const[v,y]of Object.entries(p)){if(!rK(d,v,t))continue;const b=y?.name||v,x=iK(y,{bucket:d,defKey:v,name:b},i);for(const S of x){const _=Math.sign(S.amount);_>0?a!=="take"&&o[S.metric].push(S):_<0&&a!=="give"&&u[S.metric].push(S)}}}for(const d of i){const p=aK(t,d);if(p!=null&&p!==0){const v={metric:d,amount:p,sourceType:"base",sourceId:`state.cap.${d==="storageSolidCap"?"solid":d==="storageLiquidCap"?"liquid":d}.base`,name:"Base"},y=Math.sign(v.amount);y>0?a!=="take"&&o[d].push(v):y<0&&a!=="give"&&u[d].push(v)}}sK({defs:e,state:t,modeLc:a,positiveByMetric:o,negativeByMetric:u,selected:i});const f=(d,p)=>Math.abs(p.amount)-Math.abs(d.amount);for(const d of i)o[d].sort(f),u[d].sort(f);return{positiveByMetric:o,negativeByMetric:u,selected:i,mode:a}}function lK({metrics:e,mode:t="both",groupByMetric:n=!0,title:r,emptyText:i="Ingen",showTotals:a=!0,className:o="",style:u}){const{data:c}=Ie()||{},f=c?.defs||{},d=c?.state||{},p=j.useMemo(()=>oK({defs:f,state:d,metrics:e,mode:t}),[f,d,e,t]),v=p.selected,y=O=>{const T=Number(O??0);return(T>0?"+":"")+T},b=({m:O})=>{const T={footprint:"Footprint",animal_cap:"Animal cap",storageSolidCap:"Solid cap",storageLiquidCap:"Liquid cap"}[O]||O;return m.jsx("span",{style:{textTransform:"none"},children:T})},x=({heading:O,items:T})=>m.jsxs("div",{style:{marginBottom:8},children:[O?m.jsx("div",{style:{fontWeight:700,marginBottom:4},children:O}):null,T.length===0?m.jsx("div",{className:"sub",style:{opacity:.7},children:i}):m.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:T.map((N,k)=>m.jsxs("li",{style:{display:"flex",gap:8,padding:"2px 0",alignItems:"center"},children:[m.jsx("span",{style:{opacity:.7,minWidth:60},children:N.sourceType.toUpperCase()}),m.jsx("span",{style:{flex:1},children:N.name||N.sourceId}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap"},children:y(N.amount)})]},k))})]}),S=({positiveItems:O,negativeItems:T})=>{if(!a)return null;const N=O.reduce((L,I)=>L+(I.amount??0),0),k=T.reduce((L,I)=>L+(I.amount??0),0),M=Math.abs(k),D=N+k,R=[];t!=="cost"&&t!=="take"&&R.push(`+${N}`),t!=="give"&&R.push(`-${M}`);const C=t==="both"?`Netto: ${D>=0?"+":""}${D}`:void 0;return m.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.15)",paddingTop:6,marginTop:6,fontWeight:700,display:"flex",gap:12},children:[m.jsx("span",{children:"Total:"}),R.map((L,I)=>m.jsx("span",{children:L},I)),C?m.jsx("span",{style:{marginLeft:"auto"},children:C}):null]})};if(!v?.length)return null;if(n)return m.jsxs("div",{className:o,style:u,children:[r?m.jsx("div",{style:{fontWeight:700,marginBottom:6},children:r}):null,v.map(O=>{const T=p.positiveByMetric[O]||[],N=p.negativeByMetric[O]||[];return m.jsxs("div",{style:{marginBottom:12},children:[m.jsx("div",{style:{fontWeight:700,marginBottom:4},children:m.jsx(b,{m:O})}),t!=="take"&&m.jsx(x,{heading:"Giver (+)",items:T}),t!=="give"&&m.jsx(x,{heading:"Tager (-)",items:N}),m.jsx(S,{positiveItems:T,negativeItems:N})]},O)})]});const _=v.flatMap(O=>p.positiveByMetric[O].map(T=>({...T,_m:O}))),E=v.flatMap(O=>p.negativeByMetric[O].map(T=>({...T,_m:O})));return m.jsxs("div",{className:o,style:u,children:[r?m.jsx("div",{style:{fontWeight:700,marginBottom:6},children:r}):null,t!=="take"&&m.jsx(x,{heading:"Giver (+)",items:_}),t!=="give"&&m.jsx(x,{heading:"Tager (-)",items:E}),m.jsx(S,{positiveItems:_,negativeItems:E})]})}function pc({title:e,metric:t,capObj:n}){const r=Number(n?.base??0),i=Number(n?.bonus??0),a=Number(n?.used??0),o=Number(n?.total??0),u=({label:c,value:f})=>m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{style:{opacity:.8},children:c}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:f})]});return m.jsxs("div",{style:{maxWidth:420},children:[e?m.jsx("div",{style:{fontWeight:700,marginBottom:6},children:e}):null,m.jsxs("div",{style:{display:"grid",gap:2,marginBottom:8},children:[m.jsx(u,{label:"Brugt",value:a}),m.jsx(u,{label:"Total",value:o}),m.jsx(u,{label:"Base",value:r}),m.jsx(u,{label:"Bonus",value:i})]}),m.jsx("div",{style:{borderTop:"1px solid #eee",margin:"6px 0",opacity:.6}}),m.jsx(lK,{metrics:[t],mode:"both",groupByMetric:!1,title:"Kilder",showTotals:!0})]})}function uK(){const{data:e}=Ii(),t=j.useRef(e);j.useEffect(()=>{e&&(t.current=e)},[e]);const n=e||t.current,[r,i]=j.useState(null),a=bj();if(!n)return null;const o=n?.popularity??{impacts:{},weightTotal:0,popularity:0},u=Number(o.popularity||0),c=j.useRef(u),[f,d]=j.useState(!1);j.useEffect(()=>{if(c.current!==void 0&&c.current!==u){d(!0);const x=setTimeout(()=>d(!1),180);return()=>clearTimeout(x)}c.current=u},[u]);const p=Math.round(u*100),v=X7(u),y=j.useMemo(()=>{const x=o.impacts||{},S=Object.entries(x).map(([_,E])=>{const O=a[_]||_,T=Number(E.used||0),N=Number(E.capacity||0),k=Number(E.score||0),M=Number(E.weight||0),D=Number(E.impact||0);return{key:_,label:O,used:T,cap:N,scorePct:Math.round(k*100),weight:M,impact:D}});return S.sort((_,E)=>E.impact-_.impact||E.weight-_.weight),S},[o.impacts,a]),b=m.jsxs("div",{style:{minWidth:260,maxWidth:420},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[m.jsx("strong",{children:"Popularity breakdown"}),m.jsxs("span",{style:{opacity:.75},children:["w=",Math.round(o.weightTotal||0)]})]}),y.length===0?m.jsx("div",{style:{opacity:.7},children:"Ingen aktive kategorier."}):m.jsx("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:y.map(x=>m.jsx("li",{onMouseEnter:()=>i(x.key),onMouseLeave:()=>i(null),style:{padding:"4px 6px",borderRadius:6,background:r===x.key?"rgba(76, 175, 80, 0.10)":"transparent",transition:"background 120ms linear"},children:m.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"space-between"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[m.jsx("strong",{children:x.label}),m.jsxs("span",{style:{fontSize:12,opacity:.8},children:["brug: ",x.used.toLocaleString()," / ",x.cap.toLocaleString()]})]}),m.jsxs("div",{style:{textAlign:"right"},children:[m.jsxs("div",{style:{fontVariantNumeric:"tabular-nums"},children:[x.scorePct,"%"]}),m.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Weight:",x.weight]})]})]})},x.key))}),m.jsxs("span",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:[m.jsx("hr",{}),"Se detaljer i ",m.jsx("a",{href:"#/help?topic=stats-popularity",children:"Hjlp: Popularity"})," og ",m.jsx("a",{href:"#/help?topic=stats-overview",children:"Hjlp: Stats"}),"."]})]});return m.jsx(gi,{content:b,children:m.jsx("div",{title:void 0,style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",userSelect:"none",fontSize:14},children:m.jsxs("span",{className:"res-chip",title:void 0,style:{cursor:"pointer",userSelect:"none",transition:"opacity 160ms ease, transform 160ms ease",opacity:f?.5:1,transform:f?"translateY(-4px)":"translateY(0)"},children:[m.jsx("span",{role:"img","aria-label":"popularity",style:{fontSize:16},children:""}),m.jsxs("span",{style:{fontWeight:600},children:[p,"%"]}),m.jsx("span",{children:v})]})})})}function Wk(e,t={}){const n=Number(e||0);return t.percent?`${Math.round(n*100)}%`:n.toLocaleString("da-DK")}function cK(){const{data:e}=Ii(),t=j.useRef(e);j.useEffect(()=>{e&&(t.current=e)},[e]);const n=e||t.current,{data:r}=Ie();if(Number(r?.state?.user?.currentstage??0),!n)return null;const i=n?.citizens?.groupCounts?.adultsTotal??{},a=n?.citizens?.groupCounts?.crime??{};n?.citizens?.groupCounts?.adults;const o=i>0?a/i:0,u=Math.round(o*1e3)/10,c=j.useRef(u),[f,d]=j.useState(!1);j.useEffect(()=>{if(c.current!==void 0&&c.current!==u){d(!0);const v=setTimeout(()=>d(!1),180);return()=>clearTimeout(v)}c.current=u},[u]);const p=m.jsxs("div",{style:{minWidth:260},children:[m.jsx("div",{style:{fontWeight:700,marginBottom:4},children:"Kriminalitet"}),m.jsxs("div",{style:{display:"grid",gap:4},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Voksne i alt"}),m.jsx("span",{children:Wk(i)})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Voksne kriminelle"}),m.jsx("span",{children:Wk(a)})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #e5e7eb",paddingTop:6,fontWeight:600},children:[m.jsx("span",{children:"Andel"}),m.jsxs("span",{children:[u.toLocaleString("da-DK"),"%"]})]})]})]});return m.jsx(gi,{content:p,cardStyle:{maxWidth:340,minWidth:260},children:m.jsxs("span",{className:"res-chip",title:"Kriminalitet",style:{cursor:"pointer",userSelect:"none",transition:"opacity 160ms ease, transform 160ms ease",opacity:f?.5:1,transform:f?"translateY(-4px)":"translateY(0)"},children:[" ",u.toLocaleString("da-DK"),"%"]})})}var Lc=N$();const fK=Or(Lc);function X$({open:e,onClose:t,title:n="",size:r="medium",children:i,className:a=""}){if(j.useEffect(()=>{if(!e)return;const v=b=>{b.key==="Escape"&&t?.()};document.addEventListener("keydown",v);const y=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",v),document.body.style.overflow=y}},[e,t]),!e)return null;const o={small:420,medium:720,large:1e3},u=o[r]||o.medium,c={position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},f={color:"var(--text, #e6eef8)",background:"var(--panel-bg, #071128)",borderRadius:8,width:Math.min(u,window.innerWidth-32),maxHeight:"90vh",overflow:"auto",boxShadow:"0 12px 40px rgba(2,6,23,0.7)"},d={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px",borderBottom:"1px solid #eee"},p={padding:12};return Lc.createPortal(m.jsx("div",{style:c,onClick:t,role:"dialog","aria-modal":"true",children:m.jsxs("div",{style:f,className:a,onClick:v=>v.stopPropagation(),children:[m.jsxs("div",{style:d,children:[m.jsx("div",{style:{fontWeight:700},children:n}),m.jsx("button",{type:"button",onClick:t,"aria-label":"Luk",style:{border:"none",background:"transparent",cursor:"pointer",fontSize:18},children:""})]}),m.jsx("div",{style:p,children:i})]})}),document.body)}function Xa(e){return Number(e||0).toLocaleString("da-DK",{maximumFractionDigits:2})}const ZS={health_free_dentist_kids:"Gratis tandpleje  brn",health_free_dentist_young:"Gratis tandpleje  unge",health_free_dentist_adults:"Gratis tandpleje  voksne",health_wait_target_days:"Maks. ventetid (dage)"};function Yk(e){return e?ZS[e]?ZS[e]:e.replace(/^(health_|use_|choiceByPolicy_)/i,"").split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "):""}function na(e){return e==null?0:typeof e=="number"?e:Number(e.total??e.choice_total??e.amount??0)}function dK(){const{data:e,isFetching:t}=Ii();zt();const n=j.useRef(e);j.useEffect(()=>{e&&(n.current=e)},[e]);const r=e||n.current,[i,a]=j.useState(!1),[o,u]=j.useState(!1),[c,f]=j.useState(!1);if(j.useEffect(()=>{const H=B=>{B.key==="Escape"&&a(!1)};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[]),!r)return null;const d=r?.usages??{},p=r?.capacities??{},v=r?.metricsMeta??{},y=d.useTax?.total,b=Number(p.taxCapacity??p.budgetCapacity??0),x=d.useTaxHealth?.total||{},S=d.useTaxHealth?.choiceByPolicy||{};v?.taxHealth;const _=d.useTaxCitizens?.total||{},E=p.taxCitizensCapacity||{},O=d.useTaxCitizens?.citizens||{},T=(Number(b)||0)-(Number(y)||0),N=T>0?T:0,k=T<0?-T:0,M={width:120,textAlign:"right",fontVariantNumeric:"tabular-nums"};function D(H,B=0,F=0,G=null){return m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:13,padding:"4px 0"},children:[m.jsx("div",{style:{color:"var(--muted, #999)",flex:"1 1 auto"},children:H}),m.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[m.jsx("div",{style:{...M,color:B?"var(--income, #198754)":"var(--muted, #999)"},children:B?Xa(B):""}),m.jsx("div",{style:{...M,color:F?"var(--expense, #dc3545)":"var(--muted, #999)"},children:F?Xa(F):""})]})]},G||H)}const R=(H,B,F)=>{const G=na(B);return D(Yk(H),0,G,H)},C=m.jsxs("div",{style:{minWidth:360},children:[m.jsx("div",{style:{fontWeight:800,marginBottom:8},children:"Budget detaljer"}),m.jsxs("div",{style:{display:"grid",gap:8},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[m.jsx("div",{style:{color:"var(--muted, #999)",flex:"1 1 auto"},children:"Metrik"}),m.jsxs("div",{style:{display:"flex",gap:12,width:260,justifyContent:"flex-end"},children:[m.jsx("div",{style:{textAlign:"right",width:120,color:"var(--income, #198754)",fontWeight:600},children:"Indkomst"}),m.jsx("div",{style:{textAlign:"right",width:120,color:"var(--expense, #dc3545)",fontWeight:600},children:"Udgift"})]})]}),D("Forbrug ialt (tax)",0,y,"taxUsed"),m.jsxs("div",{role:"button","aria-expanded":o,onClick:()=>u(H=>!H),style:{cursor:"pointer",userSelect:"none"},children:[D("Sundhed (tax) ",0,na(x)||0,"sundhed"),o&&m.jsx("div",{style:{padding:"8px 12px 12px 12px",background:"var(--panel-alt, rgba(255,255,255,0.02))",borderRadius:6},children:Object.entries(S||{}).length===0?m.jsx("div",{style:{fontSize:13,color:"var(--muted, #999)"},children:"Ingen detaljer tilgngelige"}):(()=>{const H=Object.entries(S||{});return H.reduce((B,[,F])=>B+na(F),0)||na(x),H.map(([B,F])=>R(B,F))})()})]}),m.jsxs("div",{role:"button","aria-expanded":c,onClick:()=>f(H=>!H),style:{cursor:"pointer",userSelect:"none"},children:[D("Udbetalinger (ln/offentlig ydelse) ",0,na(_)||0,"taxCitizens"),c&&m.jsx("div",{style:{padding:"8px 12px 12px 12px",background:"var(--panel-alt, rgba(255,255,255,0.02))",borderRadius:6},children:!O||Object.keys(O).length===0?m.jsx("div",{style:{fontSize:13,color:"var(--muted, #999)"},children:"Ingen detaljer tilgngelige"}):(()=>{const H=Object.entries(O);console.debug("HeaderBudgetBadge: taxCitizensByPolicy entries",H);const B=H.reduce((F,[,G])=>{const K=Number(G?.amount??G?.total??na(G)??0);return F+(Number.isFinite(K)?K:0)},0)||na(_)||0;return H.map(([F,G])=>{const K=G?.name||v?.taxCitizens&&(v.taxCitizens.labels?.[F]||v.taxCitizens.names?.[F])||ZS[F]||Yk(F)||F,$=Number(G?.amount??G?.total??na(G)??0),W=B>0?Math.round($/B*100):null;return m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13,padding:"4px 0"},children:[m.jsx("div",{style:{color:"var(--muted, #999)"},children:K}),m.jsxs("div",{style:{fontWeight:600,color:"var(--expense, #dc3545)"},children:[Xa($),W!=null?` (${W}%)`:""]})]},F)})})()})]}),m.jsxs("div",{style:{borderTop:"1px dashed var(--border, #e5e7eb)",paddingTop:8},children:[m.jsx("div",{style:{fontWeight:700},children:"Indtgter:"}),m.jsx("div",{style:{fontSize:13,color:"var(--muted, #999)"},children:D("Borger (skatte indtgter)",E,0,0)})]}),m.jsxs("div",{style:{borderTop:"1px dashed var(--border, #e5e7eb)",paddingTop:8},children:[m.jsx("div",{style:{fontWeight:700},children:"Ialt:"}),m.jsxs("div",{style:{fontSize:13,color:"var(--muted, #999)"},children:[D("Opgrelse",b,na(y)||0,"taxHealth"),D("Forskel",N,k,"taxDiff")]})]})]})]}),L=j.useRef(y),[I,U]=j.useState(!1);j.useEffect(()=>{if(L.current!==void 0&&L.current!==y){U(!0);const H=setTimeout(()=>U(!1),180);return()=>clearTimeout(H)}L.current=y},[y]);const P=m.jsxs("div",{style:{minWidth:220},children:[m.jsx("div",{style:{fontWeight:700,marginBottom:4},children:"Budget"}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Forbrug (tax)"}),m.jsx("span",{children:Xa(y)})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Indkomst (tax)"}),m.jsx("span",{children:Xa(b)})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Forskel"}),m.jsx("span",{children:Xa(T)})]}),m.jsx("div",{style:{marginTop:6,fontSize:12,color:"var(--muted, #888)"},children:"Klik for flere detaljer"})]});return m.jsxs(m.Fragment,{children:[m.jsx(gi,{content:P,cardStyle:{maxWidth:360,minWidth:220},children:m.jsxs("span",{className:"res-chip",title:t?"Opdaterer...":"Budget (tax)",style:{cursor:"pointer",userSelect:"none",transition:"opacity 160ms ease, transform 160ms ease",opacity:I?.5:t?.65:1,transform:I?"translateY(-4px)":"translateY(0)"},onClick:H=>{H.stopPropagation(),a(!0)},children:[" ",Xa(y)," / ",Xa(b)]})}),m.jsx(X$,{open:i,onClose:()=>a(!1),title:"Budget",size:"medium",children:m.jsx("div",{style:{padding:12,maxWidth:640},children:C})})]})}const Tv="ws:lang",hK=[{code:"da",label:"Dansk"},{code:"en",label:"English"}];function pK({langs:e=hK,onChange:t}){const n=(()=>{try{const f=localStorage.getItem(Tv);if(f)return f}catch{}return e[0]?.code||"da"})(),[r,i]=j.useState(n),[a,o]=j.useState(!1);j.useEffect(()=>{try{localStorage.setItem(Tv,r)}catch{}},[r]);const u=async f=>{try{const d=await fetch("/world-spil/backend/api/actions/set-language.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:f})});return d.ok?!!(await d.json())?.ok:!1}catch(d){return console.error("setServerLang error",d),!1}},c=async f=>{const d=f.target.value;i(d);try{localStorage.setItem(Tv,d)}catch{}if(typeof t=="function")try{t(d)}catch{}o(!0),await u(d),o(!1),window.location.reload()};return m.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[m.jsx("label",{htmlFor:"ws-lang-select",style:{fontSize:12,color:"var(--color-muted,#6b7280)"},children:"Sprog"}),m.jsx("select",{id:"ws-lang-select",value:r,onChange:c,disabled:a,"aria-label":"Vlg sprog",style:{fontSize:13,padding:"4px 8px",borderRadius:6,border:"1px solid #e5e7eb",background:a?"#f9fafb":"#fff",cursor:"pointer"},children:e.map(f=>m.jsx("option",{value:f.code,children:f.label},f.code))})]})}function mK(){const e=j.useRef(null);return e.current||(e.current=document.createElement("div"),e.current.setAttribute("data-confirm-modal-root","")),j.useEffect(()=>(document.body.appendChild(e.current),()=>{e.current&&e.current.parentNode&&e.current.parentNode.removeChild(e.current)}),[]),e.current}function xj({isOpen:e,open:t,title:n="Bekrft",body:r="",confirmText:i="OK",cancelText:a="Annuller",onConfirm:o,onCancel:u,children:c}){const f=mK(),d=typeof e<"u"?e:!!t;if(j.useEffect(()=>{if(!d)return;const v=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=v}},[d]),j.useEffect(()=>{if(!d)return;const v=y=>{y.key==="Escape"&&u&&u()};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[d,u]),!d)return null;const p=m.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title",onClick:v=>{v.target===v.currentTarget&&u&&u()},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"24px"},children:m.jsxs("div",{style:{width:"min(560px, 96vw)",background:"#0f172a",color:"#e2e8f0",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.08)"},onClick:v=>v.stopPropagation(),children:[m.jsx("div",{style:{padding:"16px 18px 0 18px"},children:m.jsx("h3",{id:"confirm-title",style:{margin:0,fontSize:18},children:n})}),r&&m.jsx("div",{style:{padding:"12px 18px 0 18px",lineHeight:1.5,color:"#cbd5e1"},dangerouslySetInnerHTML:{__html:r}}),c&&m.jsx("div",{style:{padding:"12px 18px 0 18px"},children:c}),m.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",padding:"16px 18px 18px 18px"},children:[m.jsx("button",{type:"button",onClick:u,style:{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(255,255,255,0.1)",background:"transparent",color:"#e2e8f0",cursor:"pointer"},children:a}),m.jsx("button",{type:"button",onClick:o,style:{padding:"8px 14px",borderRadius:8,border:"none",background:"#2563eb",color:"white",cursor:"pointer"},children:i})]})]})});return Lc.createPortal(p,f)}function Vk({title:e,children:t,style:n}){return m.jsxs("div",{style:{marginBottom:12,...n},children:[e?m.jsx("div",{style:{fontWeight:700,marginBottom:6,fontSize:16},children:e}):null,t]})}function gK({open:e,onClose:t,pages:n=[],initialIndex:r=0}){const[i,a]=j.useState(()=>{const y=Math.max(0,n.length-1),b=Number.isFinite(r)?r:0;return Math.min(Math.max(0,b),y)});j.useEffect(()=>{const y=Math.max(0,n.length-1),b=Number.isFinite(r)?r:0;a(Math.min(Math.max(0,b),y))},[e,n.length,r]);const o=n[i]||{},u=n.length>1,c=i===0,f=i===n.length-1,d=j.useMemo(()=>u?f?{confirmText:"Frdig",cancelText:i>0?"Tilbage":"Luk"}:{confirmText:"Nste",cancelText:i>0?"Tilbage":"Luk"}:{confirmText:"OK",cancelText:"Luk"},[u,f,i]),p=()=>{if(u&&!f){a(y=>y+1);return}t?.()},v=()=>{if(u&&!c){a(y=>Math.max(0,y-1));return}t?.()};return e?m.jsx(xj,{isOpen:e,onCancel:v,onConfirm:p,confirmText:d.confirmText,cancelText:d.cancelText,title:o?.title||`Nyt trin lst op (Stage ${o?.stage??""})`,cardStyle:{maxWidth:720,minWidth:360},children:m.jsxs("div",{style:{display:"grid",gap:12},children:[o?.imageUrl?m.jsx("div",{style:{width:"100%",borderRadius:8,overflow:"hidden",border:"1px solid #e5e7eb"},children:m.jsx("img",{src:o.imageUrl,alt:"",style:{width:"100%",display:"block"}})}):null,o?.desc?m.jsx(Vk,{children:m.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:1.4},children:o.desc})}):null,Array.isArray(o?.unlocked)&&o.unlocked.length>0?m.jsx(Vk,{title:"Nye muligheder",children:m.jsx("ul",{style:{margin:0,paddingLeft:18},children:o.unlocked.map(y=>m.jsx("li",{style:{marginBottom:4},children:y.label||y.id},y.id))})}):null,u?m.jsx("div",{style:{display:"flex",justifyContent:"center",gap:6,marginTop:4},children:n.map((y,b)=>m.jsx("span",{style:{width:8,height:8,borderRadius:999,background:b===i?"#111827":"#d1d5db"}},b))}):null]})}):null}const vK={1:{image:"stage/stage-1.jpg",title:"Nyt trin lst op  Stage 1",desc:`Tillykke! Velkommen til spillet WORLD. I dette her spil skal du forsge at f et samfund op at kre ved at bygge, forske og indsamle ressourcer. Efterhnden som du fr bygget og forsket vil du nr videre til hjere stages, som hver vil introducere nye mekanikker og muligheder. 

God fornjelse!`},2:{image:"stage/stage-2.png",title:"Nyt trin lst op  Stage 2",desc:"Tillykke! Du har lst op for nye funktioner ssom borger, borgergrupper og sundhed. Her er et overblik over det vigtigste."},3:{image:"stage/stage-3.png",title:"Nyt trin lst op  Stage 3",desc:"Endnu flere muligheder er bne. Se hvad du kan udforske nu."}},Xk=e=>`ws:lastStageSeen:${e}`;function yK(e,t){if(!t)return"";if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const n=String(t).replace(/^\.?\/+/,""),r=(e?.art_url_base||e?.artBase||"").replace(/\/+$/,""),a=`${"/".replace(/\/+$/,"")}/assets/art`.replace(/\/+/g,"/");let o=(r||a).replace(/\/+$/,"");try{const u=o.indexOf("/assets/");u>=0&&(o=o.slice(u))}catch{}return`${o}/${n}`}function bK(){const{data:e,loading:t,err:n}=Ii(),{data:r}=Ie(),i=!1,a=r?.state?.user?.userId??r?.state?.user?.user_id??null,o=Number(e?.stage?.current??r?.state?.user?.currentstage??0),u=e?.metricsMeta||{},c=r?.config?.paths||r?.config?.Paths||{},[f,d]=j.useState(null);j.useEffect(()=>{if(a)try{const _=localStorage.getItem(Xk(a));d(_!==null?Number(_):0)}catch{d(0)}},[a]);const p=j.useMemo(()=>{if(f===null)return[];if(!Number.isFinite(o))return[];const _=Number.isFinite(f)?f:0;if(o<=_)return[];const E=[];for(let O=_+1;O<=o;O++)E.push(O);return E},[o,f]),v=j.useMemo(()=>{if(!a||!Number.isFinite(o)||o<=0)return[];const _=E=>{const O=vK[E]||{},T=O.image?yK(c,O.image):"",N=Object.entries(u).filter(([,D])=>Number(D?.stage?.unlock_at??0)===E).map(([D,R])=>({id:D,label:R?.label||D})),k=O.title||`Stage ${E} lst op`,M=O.desc||(N.length?"Nye muligheder er tilgngelige:":"Der er lst op for nye muligheder.");return{stage:E,title:k,desc:M,imageUrl:T,unlocked:N}};return f===null?[]:p.length?p.map(_):[]},[i,a,o,f,p,u,c]),[y,b]=j.useState(!1);j.useEffect(()=>{t||n||a&&b(v.length>0)},[v.length,t,n,a]);const x=()=>{if(b(!1),a&&Number.isFinite(o)&&o>0){try{localStorage.setItem(Xk(a),String(o))}catch{}d(o)}};if(!y||!v.length)return null;const S=Math.max(0,v.length-1);return m.jsx(gK,{open:y,onClose:x,pages:v,initialIndex:S})}function xK(){const{data:e}=Ie(),t=e?.defs||{},n=e?.state||{},[r,i]=j.useState(!1),[a,o]=j.useState(null),[u,c]=j.useState(!1),f=e?.config?.game_data?.historyfile??"/history.txt",d=()=>{i(!0),a===null&&(c(!0),fetch(f).then(G=>{if(!G.ok)throw new Error(`HTTP ${G.status}`);return G.text()}).then(G=>o(G)).catch(()=>o("Kunne ikke indlse filen.")).finally(()=>c(!1)))},p=()=>i(!1);n?.inv?.solid,n?.inv?.liquid;const v=n?.cap?.footprint??{},y=n?.cap?.animal_cap??{};t?.res;const b=j.useRef(y),x=j.useRef(v);j.useEffect(()=>{y&&(y.used!==void 0||y.total!==void 0)&&(b.current=y)},[y]),j.useEffect(()=>{v&&(v.used!==void 0||v.total!==void 0)&&(x.current=v)},[v]);const S=y?.used??b.current?.used??0,_=y?.total??b.current?.total??0,E=v?.used??x.current?.used??0,O=v?.total??x.current?.total??0,T=e?.config?.stagemanagement||e?.config?.stageManagement||{},N=Number(n?.user?.currentstage||0),k=Number(T.turnOnTax??0),M=Number(T.turnOnCrime??0),D=Number(T.turnOnHappiness??0),R=Number(T.turnOnPopularity??0),C=Number(T.turnOnCitizensLite??0),L=N>=k,I=N>=M,U=N>=R,P=N>=D,H=N>=C,B=m.jsx(pc,{title:"Staldplads",metric:"animal_cap",capObj:y}),F=m.jsx(pc,{title:"Byggepoint",metric:"footprint",capObj:v});return m.jsxs("header",{className:"topbar",children:[m.jsxs("div",{className:"brand",style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},onClick:d,title:"Vis info",children:[m.jsx("span",{className:"brand-emoji",style:{fontSize:20},children:""}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",lineHeight:1},children:[m.jsx("span",{className:"brand-name",style:{fontWeight:700},children:"World"}),m.jsx("span",{className:"brand-version",style:{fontSize:12,color:"#9ca3af"},children:e?.config?.game_data?.version})]})]}),m.jsxs("div",{className:"header-resources",children:[m.jsx("div",{className:`badge-wrap ${I?"visible":"hidden"}`,style:{transition:"opacity 180ms",opacity:I?1:0,pointerEvents:I?"auto":"none"},children:m.jsx(cK,{})}),m.jsx("div",{className:`badge-wrap ${L?"visible":"hidden"}`,style:{transition:"opacity 180ms",opacity:L?1:0,pointerEvents:L?"auto":"none"},children:m.jsx(dK,{})}),m.jsx("div",{className:`badge-wrap ${U?"visible":"hidden"}`,style:{transition:"opacity 180ms",opacity:U?1:0,pointerEvents:U?"auto":"none"},children:m.jsx(uK,{})}),m.jsx("div",{className:`badge-wrap ${P?"visible":"hidden"}`,style:{transition:"opacity 180ms",opacity:P?1:0,pointerEvents:P?"auto":"none"},children:m.jsx(J7,{})}),m.jsx(bK,{}),m.jsx("div",{className:`badge-wrap ${H?"visible":"hidden"}`,style:{transition:"opacity 180ms",opacity:H?1:0,pointerEvents:H?"auto":"none"},children:m.jsx(W7,{})}),m.jsx(gi,{content:B,children:m.jsxs("span",{className:"res-chip",children:[" ",je(S),m.jsxs("span",{className:"max",children:["/",je(_)]})]})}),m.jsx(gi,{content:F,children:m.jsxs("span",{className:"res-chip",children:[" ",je(Math.abs(E)||0),m.jsxs("span",{className:"max",children:["/",je(O)]})]})})]}),m.jsxs("div",{className:"header-tools",style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:8},children:["STAGE: ",n?.user?.currentstage||"0",m.jsx("button",{className:"icon-btn",onClick:()=>window.location.hash="#/help?topic=intro",title:"Hjlp",children:"Hjlp"}),m.jsx(U7,{onAuthChange:()=>window.location.reload()}),m.jsx(pK,{})]}),r&&m.jsx("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:1200},onClick:p,children:m.jsxs("div",{onClick:G=>G.stopPropagation(),style:{maxWidth:720,width:"90%",maxHeight:"80%",overflow:"auto",background:"#fff",borderRadius:8,padding:18},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[m.jsx("strong",{children:"Information"}),m.jsx("button",{className:"icon-btn",onClick:p,"aria-label":"Luk",children:""})]}),m.jsx("div",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:13,color:"#111"},children:u?"Indlser":a??"Ingen information tilgngelig."})]})})]})}function Q$({icon:e,title:t,subtitle:n,value:r,children:i}){return m.jsxs("div",{className:"item",children:[m.jsx("div",{className:"icon",children:e}),i||m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("div",{className:"title",children:t}),n&&m.jsx("div",{className:"sub",children:n})]}),m.jsx("div",{className:"right",children:m.jsx("strong",{children:r})})]})]})}function JS(e){const t=String(e||"").trim();return t.startsWith("res.")?t.toLowerCase():`res.${t.toLowerCase()}`}function Qk(e,t){if(!e)return!1;if(e==="all")return!0;const n=Array.isArray(e)?e:String(e).split(/[,;]/).map(r=>r.trim()).filter(Boolean);return n.length?n.includes("all")||t.startsWith("bld.")&&n.includes("buildings")||t.startsWith("add.")&&n.includes("addons")||t.startsWith("rsd.")&&n.includes("research")?!0:n.includes(t):!1}function Zk(e,t){const n=e??"all",r=JS(t);return n==="all"?!0:n==="solid"?r.startsWith("res.")&&!r.startsWith("res.water")&&!r.startsWith("res.oil"):n==="liquid"?r.startsWith("res.water")||r.startsWith("res.oil"):JS(n)===r}function Z$(e,t,{appliesToCtx:n="all",activeBuffs:r=[]}={}){let i=Number(e||0);if(!Number.isFinite(i)||!r?.length)return e;const a=JS(t);for(const u of r){if((u?.kind||"")!=="res")continue;const c=u?.mode||"both";if(c!=="yield"&&c!=="both"||!Qk(u?.applies_to||"all",n))continue;const f=u?.scope??u?.id??"all",d=u?.op||u?.type,p=Number(u?.amount||0);!Number.isFinite(p)||p===0||Zk(f,a)&&(d==="adds"&&(i+=p),d==="subt"&&(i=Math.max(0,i-p)))}let o=1;for(const u of r){if((u?.kind||"")!=="res")continue;const c=u?.mode||"both";if(c!=="yield"&&c!=="both"||(u?.op||u?.type)!=="mult"||!Qk(u?.applies_to||"all",n))continue;const f=u?.scope??u?.id??"all";if(!Zk(f,a))continue;const d=Number(u?.amount||0);!Number.isFinite(d)||d===0||(o*=1+d/100)}return i*=o,i<0?0:i}function e_(e){const t=String(e||"").trim().toLowerCase();return t.startsWith("res.")?t:`res.${t}`}function J$(e,t){return e_(e)===e_(t)}function ez(e,t,n){const r=n?.[e];if(!r||typeof r!="object")return!1;const i=e==="bld"?"bld.":e==="add"?"add.":e==="rsd"?"rsd.":"ani.",a=String(t).replace(/^(?:bld\.|add\.|rsd\.|ani\.)/i,""),o=i+a;if(r[o]||r[i+a])return!0;for(const u of Object.keys(r))if(u===o||u===i+a)return!0;return!1}function wK(e){const t=e||{},n=t.stats||{},r=["yield_period_s","yieldPeriodS","production_period_s","period_s"];for(const i of r){if(typeof t[i]=="number"&&t[i]>0)return t[i];if(typeof n[i]=="number"&&n[i]>0)return n[i]}return 3600}function SK(e){const t=[];if(!e)return t;const n=e.yield??e.yields??null,r=wK(e);if(!Array.isArray(n))return t;for(const i of n){const a=i.id??i.res??null,o=i.amount??i.qty??null;if(a==null||o==null)continue;const u=Number(o)*(3600/(r||3600));t.push({resourceId:String(a),perHour:u,period_s:r,amount_per_cycle:Number(o)})}return t}function _K(e,t){const n=[],r=i=>Array.isArray(i)&&i.forEach(a=>n.push(a));for(const i of["bld","add","rsd"]){const a=e?.[i]||{};for(const[o,u]of Object.entries(a))ez(i,o,t)&&r(u?.buffs)}return n}function jK({defs:e,state:t,resourceResId:n,positive:r,modeLc:i}){const a=t?.user||{},o=a.currentstage??a.stage??t?.currentstage??t?.stage??1,u=e?.stage_bonus_rules?.[o]||{},c={forest:Number(a.mul_forest??a.bonus_forest??0),mining:Number(a.mul_mining??a.bonus_mining??0),field:Number(a.mul_field??a.bonus_field??0),water:Number(a.mul_water??a.bonus_water??0)},f={forest:"Basebonus (Skov)",mining:"Basebonus (Mine)",field:"Basebonus (Mark)",water:"Basebonus (Vand)"};for(const[d,p]of Object.entries(u)){const v=c[d]||0;if(v<=0||!(p||[]).some(x=>J$(x,n)))continue;const b={sourceType:"base",sourceId:`stage.${o}.${d}`,name:f[d],perHour:Number(v)};b.perHour>0&&i!=="cost"&&r.push(b)}}function tz({defs:e,state:t,resource:n,mode:r="both"}={}){const i=String(n||"").trim();if(!i)return{positive:[],negative:[],meta:{resource:i,mode:r}};const a=String(r||"both").toLowerCase(),o=[],u=[],c=_K(e,t);for(const d of["bld","add","rsd","ani"]){const p=e?.[d]||{};for(const[v,y]of Object.entries(p)){if(!ez(d,v,t))continue;const b=(d==="bld"?"bld.":d==="add"?"add.":d==="rsd"?"rsd.":"ani.")+String(v).replace(/^(?:bld\.|add\.|rsd\.|ani\.)/i,""),x=SK(y);for(const S of x){if(!J$(S.resourceId,i))continue;let _=S.perHour;_=Z$(_,e_(i),{appliesToCtx:b,activeBuffs:c});const E={sourceType:d,sourceId:b,name:y?.name||v,perHour:_};_>0?a!=="cost"&&o.push(E):_<0&&a!=="give"&&u.push(E)}}}jK({defs:e,state:t,resourceResId:i,positive:o,modeLc:a});const f=(d,p)=>Math.abs(p.perHour)-Math.abs(d.perHour);return o.sort(f),u.sort(f),{positive:o,negative:u,meta:{resource:i,mode:a}}}function EK({defs:e,state:t,resource:n,mode:r="both",heading:i=""}){const{positive:a,negative:o}=tz({defs:e,state:t,resource:n,mode:r}),u=[];if(i&&u.push(i),r!=="cost")for(const c of a)u.push(`${c.sourceType.toUpperCase()}: ${c.name} (+${Jk(c.perHour)}/t)`);if(r!=="give")for(const c of o)u.push(`${c.sourceType.toUpperCase()}: ${c.name} (${Jk(c.perHour)}/t)`);return u.length?u.join(`
`):i||""}function Jk(e){return Math.round((e??0)*100)/100}const Hs=e=>Number(e||0).toLocaleString("da-DK",{maximumFractionDigits:2}),eC=({title:e,items:t,sign:n})=>!t||t.length===0?m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:600,marginBottom:4},children:e}),m.jsx("div",{style:{opacity:.7,fontSize:11},children:"Ingen kilder."})]}):m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:600,marginBottom:4},children:e}),m.jsx("div",{style:{display:"grid",gap:4},children:t.map((r,i)=>m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[m.jsx("span",{style:{opacity:.6,minWidth:52,fontSize:11},children:String(r.sourceType||"").toUpperCase()}),m.jsx("span",{style:{flex:1,minWidth:0},children:r.name||r.sourceId}),m.jsxs("span",{style:{fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",fontSize:12},children:[n,Hs(Math.abs(r.perHour||0))," / t"]})]},`${r.sourceId||r.name||"source"}-${i}`))})]});function AK({resourceId:e,resourceDef:t,amount:n,totalSpace:r}){const{data:i}=Ie()||{},a=i?.defs,o=i?.state,{positive:u,negative:c}=j.useMemo(()=>{if(!e)return{positive:[],negative:[]};try{return tz({defs:a,state:o,resource:e})||{positive:[],negative:[]}}catch{return{positive:[],negative:[]}}},[a,o,e]),f=u.reduce((x,S)=>x+(S.perHour||0),0),d=c.reduce((x,S)=>x+(S.perHour||0),0),p=f+d,v=Number(t?.unitSpace??0),y=t?.name||e?.replace(/^res\./i,"")||"Ukendt ressource",b=t?.unit?` ${t.unit}`:"";return m.jsxs("div",{style:{maxWidth:420,display:"grid",gap:10},children:[m.jsxs("div",{style:{display:"grid",gap:4},children:[m.jsxs("div",{style:{fontWeight:700},children:[t?.emoji?m.jsx("span",{style:{marginRight:6,display:"inline-flex",alignItems:"center"},children:t.emoji}):null,y]}),m.jsxs("div",{style:{fontSize:11,opacity:.8},children:["Mngde: ",Hs(n),b]}),m.jsxs("div",{style:{fontSize:11,opacity:.8},children:["Fylder i lager: ",Hs(r)," (pr. enhed: ",Hs(v),")"]})]}),m.jsx(eC,{title:"Producerer (+)",items:u,sign:"+"}),m.jsx(eC,{title:"Forbruger (-)",items:c,sign:"-"}),m.jsxs("div",{style:{borderTop:"1px solid rgba(0,0,0,0.08)",paddingTop:8,display:"grid",gap:4,fontSize:12},children:[m.jsxs("div",{style:{display:"flex",gap:8},children:[m.jsx("span",{style:{opacity:.8},children:"Total +"}),m.jsxs("span",{style:{fontVariantNumeric:"tabular-nums"},children:[Hs(Math.max(0,f))," ","/ t"]})]}),m.jsxs("div",{style:{display:"flex",gap:8},children:[m.jsx("span",{style:{opacity:.8},children:"Total -"}),m.jsxs("span",{style:{fontVariantNumeric:"tabular-nums"},children:[Hs(Math.abs(Math.min(0,d)))," ","/ t"]})]}),m.jsxs("div",{style:{display:"flex",gap:8,fontWeight:700},children:[m.jsx("span",{children:"Netto"}),m.jsxs("span",{style:{fontVariantNumeric:"tabular-nums"},children:[p>=0?"+":"-",Hs(Math.abs(p))," ","/ t"]})]})]})]})}function OK(e){if(!e)return{};if(typeof e=="object")return e;if(typeof e=="string"){const t=e.split(";").map(r=>r.trim()).filter(Boolean),n={};for(const r of t){const[i,a=""]=r.split("=",2).map(u=>u.trim());if(i==="")continue;const o=Number(a);n[i]=!Number.isNaN(o)&&a!==""?o:a}return n}return{}}function so({def:e,translations:t={}}){const n=OK(e?.stats??e?.stat??{}),r=Y7(),i=o=>{const u=t[`stat.${o}.label`]??t[`${o}.label`]??null,c=t[`stat.${o}.desc`]??t[`${o}.desc`]??null;return u||c?{label:u||o,desc:c||""}:r[o]?{label:r[o].label||o,desc:r[o].desc||""}:{label:o.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),desc:""}},a=Object.entries(n).filter(([o])=>o&&o!=="id").map(([o,u])=>{const{label:c,desc:f}=i(o),d=String(o).toLowerCase();let p="";d.includes("cap")||d.includes("capacity")||d.includes("footprint")||d.includes("housing")?p="+":(d.includes("usage")||d.includes("use"))&&(p="-");let v;typeof u=="number"?v=new Intl.NumberFormat("da-DK",{maximumFractionDigits:2,signDisplay:"always"}).format(u):v=`${p}${String(u)}`;let y="#000000ff";return typeof u=="number"&&u<0?y="#ff6b6b":p==="+"?y="#16a34a":p==="-"&&(y="#ef4444"),{key:o,label:c,desc:f,value:u,display:v,color:y}});return a.length===0?m.jsx("div",{style:{maxWidth:320,color:"#666"},children:"Ingen stats."}):m.jsxs("div",{style:{maxWidth:380},children:[m.jsxs("div",{style:{fontWeight:700,marginBottom:0},children:[e?.display_name??e?.name??e?.id," "]}),m.jsx("div",{style:{fontWeight:0,marginBottom:8,fontSize:11,color:"#666"},children:e?.display_desc??e?.desc??e?.id}),m.jsx("div",{style:{display:"grid",gap:6},children:a.map(o=>m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12},children:[m.jsxs("div",{style:{minWidth:140},children:[m.jsx("div",{style:{fontSize:13,fontWeight:600},children:o.label}),o.desc?m.jsx("div",{style:{fontSize:11,color:"#666"},children:o.desc}):null]}),m.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums",minWidth:60,color:o.color},children:o.display})]},o.key))})]})}function ls({children:e,content:t,cardStyle:n,delayOpen:r=100,delayClose:i=120,dockBottom:a=78,dockRight:o=16}){const[u,c]=j.useState(!1),[f,d]=j.useState(!!t),p=j.useRef(null),v=j.useRef(null),y=()=>{p.current&&(clearTimeout(p.current),p.current=null),v.current&&(clearTimeout(v.current),v.current=null)},b=j.useCallback(()=>{y(),t&&(d(!0),p.current=setTimeout(()=>c(!0),r))},[t,r]),x=j.useCallback(()=>{y(),v.current=setTimeout(()=>c(!1),i)},[i]),S=j.useCallback(()=>{y()},[]),_=j.useCallback(()=>{y(),v.current=setTimeout(()=>c(!1),i)},[i]);let E=e;if(j.isValidElement(e)){const O=e.props?.onMouseEnter,T=e.props?.onMouseLeave;E=j.cloneElement(e,{onMouseEnter:N=>{O?.(N),b()},onMouseLeave:N=>{T?.(N),x()}})}else E=m.jsx("div",{onMouseEnter:b,onMouseLeave:x,style:{display:"block"},children:e});return m.jsxs(m.Fragment,{children:[E,u&&f&&m.jsx("div",{onMouseEnter:S,onMouseLeave:_,style:{position:"fixed",zIndex:1e3,bottom:a,right:o,maxWidth:440,minWidth:280,pointerEvents:"auto"},children:m.jsx("div",{className:"panel",style:{background:"#fff",border:"1px solid var(--border)",borderRadius:8,boxShadow:"0 8px 28px rgba(255, 255, 255, 0.28)",padding:12,color:"#222",fontSize:14,...n},children:t})})]})}function TK(e,t={}){e&&(String(e).startsWith("ani.")||window.dispatchEvent(new CustomEvent("resources:trade",{detail:{resId:e,...t}})))}function sh({items:e,defs:t,format:n="detailed",columns:r=1}){const{data:i}=Ie(),a=i?.defs||{},o=i?.state||{},u=i?.i18n?.current??{},c=a.res||t||{},f=Object.entries(e||{}).sort();if(f.length===0)return m.jsx("div",{className:"sub",children:"Ingen"});const d=(p,v,y,b)=>{const x=p.clientX??null,S=p.clientY??null,_=p.currentTarget||p.target,E=_&&_.getBoundingClientRect?_.getBoundingClientRect():null,O={};E&&(O.rect={top:E.top+window.scrollY,left:E.left+window.scrollX,width:E.width,height:E.height,right:E.right+window.scrollX,bottom:E.bottom+window.scrollY}),typeof x=="number"&&typeof S=="number"&&(O.click={x:x+window.scrollX,y:S+window.scrollY}),O.resName=y||v,O.resEmoji=b||"",TK(v,O)};if(n==="simple"){const p=f.map(([v,y])=>{const b=c[v];if(!b)return null;const x=`res.${v}`;let S="";try{S=EK({defs:a,state:o,resource:x,mode:"both",heading:b.name||v})}catch{S=""}const _=m.jsxs("div",{style:{maxWidth:420,maxHeight:320,overflowY:"auto",whiteSpace:"pre-wrap"},children:[m.jsxs("div",{style:{fontWeight:700,marginBottom:6},children:[b.emoji?m.jsx("span",{style:{marginRight:6,display:"inline-flex",alignItems:"center"},children:b.emoji}):null,b.name||v]}),m.jsxs("div",{style:{marginBottom:8,opacity:.85},children:["Mngde: ",je(y),b.unit?` ${b.unit}`:"","  UnitSpace: ",Number(b.unitSpace??0)]}),S?m.jsx("div",{children:S}):m.jsx("div",{style:{opacity:.7},children:"Ingen passive kilder fundet."})]}),E=b.emojiText??(typeof b.emoji=="string"?b.emoji:"");return m.jsx(ls,{content:_,style:{display:"block",width:"100%"},children:m.jsxs("div",{className:"row",role:"button",tabIndex:0,onClick:O=>d(O,x,b.name,E),onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),d(O,x,b.name,E))},style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,padding:"6px 8px",cursor:"pointer",minWidth:0,borderRadius:8},children:[m.jsxs("div",{className:"left",style:{display:"flex",alignItems:"center",gap:8,minWidth:0,flex:1},children:[m.jsx("span",{children:b.emoji}),m.jsx("span",{title:b.name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:b.name})]}),m.jsx("div",{className:"right",style:{fontWeight:600,marginLeft:8,flexShrink:0,fontVariantNumeric:"tabular-nums"},children:je(y)})]})},v)});return m.jsx("div",{className:"resource-grid",style:{display:"grid",gridTemplateColumns:`repeat(${Math.max(1,Number(r)||1)}, minmax(0, 1fr))`,gap:6},children:p})}return n==="detailed"?f.map(([p,v])=>{const y=c[p];if(!y)return null;const b=`res.${p}`,x=(y.unitSpace||0)*v,S=y.unit?` ${y.unit}`:"",_=m.jsxs("div",{style:{display:"grid",gap:12},children:[m.jsx(AK,{resourceId:b,resourceDef:y,amount:v,totalSpace:x}),m.jsx("div",{style:{borderTop:"1px solid rgba(0,0,0,0.08)",paddingTop:8,display:"grid",gap:4,fontSize:12},children:m.jsx(so,{def:y,translations:u})})]});return m.jsx(ls,{content:_,style:{display:"block",width:"100%"},children:m.jsx("div",{role:"button",tabIndex:0,onClick:E=>d(E,b,y.name,y.emoji),onKeyDown:E=>{(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),d(E,b,y.name,y.emoji))},style:{cursor:"pointer"},children:m.jsx(Q$,{icon:y.emoji,title:y.name,subtitle:`Fylder pr. enhed: ${y.unitSpace||0}`,value:`${je(v)}${S} / Fylder: ${je(x)} ialt`})})},p)}):null}function nz({format:e="simple",family:t=null}){const{data:n}=Ie();if(!n)return null;const i=Object.entries(n.state.ani||{}).filter(([a,o])=>(o?.quantity||0)>0).sort().filter(([a])=>{const o=a.replace(/^ani\./,""),u=n.defs.ani?.[o];return u?t?String(u.family||"").split(",").map(f=>f.trim()).filter(Boolean).includes(t):!0:!1});return i.length===0?m.jsx("div",{className:"sub",children:"Ingen"}):i.map(([a,o])=>{const u=a.replace(/^ani\./,""),c=n.defs.ani?.[u];if(!c)return null;const f=Number(o.quantity||0),d=Math.abs(Number(c.stats?.animal_cap??0)),p=Math.abs(Number(c.stats?.healthUnitUsage??0));if(e==="simple")return m.jsxs("div",{className:"row",children:[m.jsxs("div",{className:"left",children:[m.jsx("span",{children:c.emoji}),m.jsx("span",{children:c.name})]}),m.jsx("div",{className:"right",children:m.jsx("strong",{children:je(f)})})]},a);if(e==="detailed"){const v=p>0,y=v?`Forbruger ${p} health-unit pr. stk`:`Optager ${d} staldplads pr. stk`,b=v?`${je(f)} stk / Forbrug ${je(p*f)} health-units i alt`:`${je(f)} stk / Fylder ${je(d*f)} staldpladser i alt`;return m.jsx(Q$,{icon:c.emoji,title:c.name,subtitle:y,value:b},a)}return null})}const NK=["yield_paid","yield_lost","build_completed","build_canceled"];function Mi(e){return e<10?"0"+e:""+e}function kK(e){const t=new Date(Date.now()-e),n=t.getUTCFullYear(),r=Mi(t.getUTCMonth()+1),i=Mi(t.getUTCDate()),a=Mi(t.getUTCHours()),o=Mi(t.getUTCMinutes()),u=Mi(t.getUTCSeconds());return`${n}-${r}-${i} ${a}:${o}:${u}`}function CK(e,t=!0){const n=t?new Date(e.replace(" ","T")+"Z"):new Date(e),r=n.getFullYear(),i=Mi(n.getMonth()+1),a=Mi(n.getDate()),o=Mi(n.getHours()),u=Mi(n.getMinutes()),c=Mi(n.getSeconds());return`${r}-${i}-${a} ${o}:${u}:${c}`}function MK(e,t){return e&&(String(e).startsWith(t)?String(e).slice(t.length):String(e))}function RK(e,t,n){if(!e)return`${t}.${n}`;const r={bld:"bld",add:"add",rcp:"rcp",rsd:"rsd",ani:"ani"}[t];if(!r||!e[r])return`${t}.${n}`;const i=e[r][n];return i&&(i.display_name||i.name||i.title)||`${t}.${n}`}function tC(e,t){const n=MK(t,"res.");return!e||!e.res||!e.res[n]?t:e.res[n].name||e.res[n].display_name||t}function DK(e){if(!e)return!1;const t=String(e).toLowerCase();return t.includes("upg")||t==="upgrade"||t==="opgrade"||t==="opgradering"}function PK({endpoint:e="/world-spil/backend/api/user_log.php",initialSinceMs:t=24*3600*1e3,pollMs:n=3e4,limit:r=200,maxRender:i=60,showTypes:a=NK,timesAreUTC:o=!0}){const{data:u}=Ie(),c=u?.defs||null,[f,d]=j.useState(t),[p,v]=j.useState([]),[y,b]=j.useState(!1),[x,S]=j.useState(null),_=j.useRef(null),E=j.useMemo(()=>[{label:"1t",value:1*3600*1e3},{label:"6t",value:6*3600*1e3},{label:"24t",value:24*3600*1e3},{label:"7d",value:168*3600*1e3},{label:"30d",value:720*3600*1e3}],[]);async function O(){b(!0),S(null);try{const k=kK(f),M=new URLSearchParams;M.set("from",k),M.set("limit",String(r));const D=`${e}?${M.toString()}`,R=await fetch(D,{credentials:"include"});if(!R.ok)throw new Error(`HTTP ${R.status}`);const C=await R.json(),I=(Array.isArray(C.items)?C.items:[]).filter(U=>a.includes(U.event_type));I.sort((U,P)=>U.event_time<P.event_time?1:-1),v(I.slice(0,i))}catch(k){S(String(k.message||k))}finally{b(!1)}}j.useEffect(()=>{if(O(),n>0)return _.current=setInterval(O,n),()=>clearInterval(_.current)},[f,e,n,r,i,JSON.stringify(a)]);function T(k){const M=k.subject_scope,D=(k.subject_key||"").split(".").slice(1).join(".")||k.subject_key,R=RK(c,M,D);if(k.event_type==="yield_paid"){const L=(Array.isArray(k.payload)?k.payload:[]).map(U=>{const P=tC(c,U.res_id),H=Number(U.amount);return`${H%1===0?H:H.toFixed(2)} ${P}`});return{text:`${M==="ani"?`Dit ${R}`:R} gav ${L.join(", ")} i udbytte`,className:"sl-yield"}}if(k.event_type==="yield_lost"){const L=(Array.isArray(k.payload)?k.payload:[]).map(U=>{const P=tC(c,U.res_id),H=Number(U.amount);return`${H%1===0?H:H.toFixed(2)} ${P}`});return{text:`${M==="ani"?`Dit ${R}`:R} tabte ${L.join(", ")} (ingen plads)`,className:"sl-yield-lost"}}return k.event_type==="build_completed"?DK(k.mode)?{text:`Opgradering af ${R} frdig`,className:"sl-completed"}:{text:`${N(M)} ${R} frdig`,className:"sl-completed"}:k.event_type==="build_canceled"?{text:`Annulleret: ${N(M)} ${R}`,className:"sl-canceled"}:{text:`${k.event_type}: ${M}.${D}`,className:""}}function N(k){switch(k){case"bld":return"Bygning";case"add":return"Addon";case"rcp":return"Opskrift";case"rsd":return"Research";case"ani":return"Dyr";default:return k||"Emne"}}return m.jsxs("div",{className:"sidebar-log",children:[m.jsxs("div",{className:"sl-header",children:[m.jsx("div",{className:"sl-title",children:"Aktivitet"}),m.jsx("select",{value:String(f),onChange:k=>d(parseInt(k.target.value,10)),children:E.map(k=>m.jsx("option",{value:k.value,children:k.label},k.value))}),m.jsx("button",{onClick:O,children:"Opdatr"})]}),x&&m.jsxs("div",{className:"sl-error",children:["Fejl: ",x]}),y&&m.jsx("div",{className:"sl-loading",children:"Henter..."}),m.jsxs("ul",{className:"sl-list",children:[p.map((k,M)=>{const{text:D,className:R}=T(k);return m.jsxs("li",{className:"sl-item",children:[m.jsxs("span",{className:"sl-time",children:[CK(k.event_time,o),":"]}),m.jsx("span",{className:`sl-body ${R}`,children:D})]},M)}),!p.length&&!y&&!x&&m.jsx("li",{className:"sl-item sl-empty",children:"Ingen hndelser i valgt periode"})]})]})}function LK({label:e,used:t=0,capacity:n=0,hoverContent:r=null,scaleMaxDelta:i=0}){const a=Math.max(0,Number(t)||0),o=Math.max(0,Number(n)||0),u=o>0?a/o*100:a>0?200:0,c=Math.abs(u-100);let f;i>0?f=Math.min(100,c/i*100):f=Math.min(100,Math.max(0,u));const d="linear-gradient(90deg,#2c7be5,#06b6d4)",p="linear-gradient(90deg,#ffb020,#ff7a18)",v="linear-gradient(90deg,#ff7b72,#d9534f)",y="linear-gradient(90deg,#6b0505,#3c0200)",b="linear-gradient(90deg,#300000,#120000)";let x;u>=200?x=b:u>100?x=y:u>=96?x=v:u>=76?x=p:x=d;const S=u>=60||u>100?"#fff":"#cbd5e1",E=m.jsxs("div",{role:"group","aria-label":`${e} kapacitet`,title:typeof r=="string"?r:void 0,style:{position:"relative",width:"100%",height:20,borderRadius:8,overflow:"hidden",background:"linear-gradient(90deg,#0b1220,#0f1724)",border:"1px solid rgba(255,255,255,0.03)",boxShadow:"inset 0 -1px 0 rgba(0,0,0,0.25)",display:"flex",alignItems:"center",padding:"0 10px",gap:10},children:[f>0&&m.jsx("div",{"aria-hidden":!0,style:{position:"absolute",left:0,top:0,bottom:0,width:`${f}%`,background:x,transition:"width 260ms ease, background 260ms ease",zIndex:0}}),m.jsx("div",{"aria-hidden":!0,style:{position:"absolute",left:"100%",top:3,bottom:3,width:2,transform:"translateX(-100%)",background:"rgba(255,255,255,0.06)",borderRadius:2,zIndex:1}}),m.jsxs("div",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",pointerEvents:"none"},children:[m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:2},children:m.jsxs("div",{style:{fontSize:11,fontWeight:700,color:"#cbd5e1"},children:[e," (",a.toLocaleString()," / ",o.toLocaleString(),")"]})}),m.jsxs("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums",fontWeight:700,color:S,fontSize:12},children:[Math.round(u),"%",!(u>100)&&u<100&&m.jsxs("span",{style:{marginLeft:8,color:"#9ae6ff",fontWeight:600},children:["-",Math.round(100-u),"%"]}),u>100&&m.jsxs("span",{style:{marginLeft:8,color:u>=200?"#ffdede":"#ffd6d6",fontWeight:600},children:["+",Math.round(u-100),"%"]})]})]})]});return r?m.jsx(gi,{content:r,children:E}):E}const qK=["bld","add","rsd","ani","res"];function nC(e){return String(e||"").replace(/^(bld|add|rsd|ani|res)\./,"")}function rC(e){return String(e||"").replace(/\.l\d+$/i,"")}function IK(e){const t={};for(const r of qK){const i=e?.[r]||{},a={};for(const o of Object.keys(i)){const u=i[o];if(!u)continue;const c=u.name||u.label||u.title||o,f=o,d=nC(o),p=rC(d);a[f]=c,a[d]=a[d]||c,a[p]=a[p]||c}t[r]=a}function n(r,i){if(i&&typeof i=="object"&&i.name&&i.name!==i.id)return i.name;const a=typeof i=="string"?i:String(i?.id??i?.type??"");if(!a)return"Ukendt";const o=t[r]||{},u=nC(a),c=rC(u),f=o[a]||o[u]||o[c]||null;return f||c.replace(/_/g," ").replace(/\./g," ").replace(/([a-z])([A-Z])/g,"$1 $2").split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ")}return{resolve:n}}const Vs=e=>Number(e||0).toLocaleString("da-DK",{maximumFractionDigits:2});function iC({label:e,list:t,defs:n,partsList:r}){if(!t)return null;const i=j.useMemo(()=>IK(n),[n]),o=[["buildings","Bygninger"],["addon","Addons"],["research","Forskning"],["animals","Dyr"],["inventory","Lager"],["citizens","Borgere"]].filter(([f])=>Array.isArray(t?.[f])&&t[f].length>0);if(o.length===0)return null;const u={buildings:"bld",addon:"add",research:"rsd",animals:"ani",inventory:"res"},c=({items:f,familyKey:d})=>!Array.isArray(f)||f.length===0?null:m.jsx("div",{style:{display:"grid",gap:4},children:f.map((p,v)=>{const y=u[d],b=i.resolve(y,p),x=p?.amount??p?.value??p?.val??(typeof p=="number"?p:0);return m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[m.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:b}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:Number(x||0).toLocaleString("da-DK",{maximumFractionDigits:2})})]},v)})});return m.jsxs("div",{style:{display:"grid",gap:6},children:[m.jsx("div",{style:{fontWeight:700},children:e}),o.map(([f,d])=>m.jsxs("div",{style:{display:"grid",gap:2},children:[m.jsx("div",{style:{fontSize:12,opacity:.7},children:d}),m.jsx(c,{items:t?.[f],familyKey:f})]},f))]})}function aC({label:e,usage:t}){if(!t)return null;const n=t.breakdown||{},r=Number(n.crime||0),a=["baby","kids","young","adults","old"].map(c=>{let f=Number(n[c]||0);return c==="adults"&&(f+=r),[c,f]}).filter(([,c])=>c!==0),o=Number(t.infra||0),u=Number(t.total||0);return m.jsxs("div",{style:{display:"grid",gap:6},children:[m.jsx("div",{style:{fontWeight:700},children:e}),m.jsxs("div",{style:{display:"grid",gap:4},children:[a.length===0?m.jsx("div",{style:{opacity:.6},children:""}):a.map(([c,f])=>m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[m.jsx("span",{style:{textTransform:"capitalize"},children:c}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:Vs(f)})]},c)),o!==0&&m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[m.jsx("span",{children:"Infra"}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:Vs(o)})]})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8,borderTop:"1px solid #e5e7eb",paddingTop:6,fontWeight:600},children:[m.jsx("span",{children:"Total"}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:Vs(u)})]})]})}function BK({open:e,onClose:t,content:n,panelRef:r,locked:i}){const a=j.useRef(null),o=r||a;return j.useEffect(()=>{if(!e)return;const u=c=>{c.key==="Escape"&&t?.()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[e,t]),e?m.jsx("div",{ref:o,style:{position:"fixed",right:12,bottom:12,zIndex:50,width:420,maxWidth:"calc(100vw - 24px)",maxHeight:"60vh",overflow:"auto",background:"#ffffff",color:"#0b1220",boxShadow:"0 10px 25px rgba(0,0,0,0.15)",border:"1px solid #e5e7eb",borderRadius:8,padding:12,display:"grid",gap:10,fontFamily:"Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial",fontSize:12,lineHeight:1.3},onMouseLeave:()=>{i||t?.()},children:m.jsx("div",{style:{display:"grid",gap:8},children:n})}):null}function $K(){const{data:e}=Ii(),{data:t}=Ie(),n=bj(),r=t?.defs||{},i=e?.usages||{},a=e?.capacities||{},o=e?.partsList||{},u=e?.metricsMeta||{},c=Number(t?.state?.user?.currentstage??0),f=j.useMemo(()=>{if(!u)return[];const T=Object.entries(u).filter(([N,k])=>{const M=Number(k?.stage?.unlock_at??1),D=c>=M,R=!k?.parent,C=!!((k?.usageField||"").length||(k?.capacityField||"").length);return D&&R&&C});return T.sort((N,k)=>{const M=(N[1]?.label||N[0]).toLowerCase(),D=(k[1]?.label||k[0]).toLowerCase();return M.localeCompare(D)}),T.map(([N,k])=>{const M=n?.[N]||k?.label||N,D=k?.usageField||"",R=k?.capacityField||"",C=D?Number(i[D]?.total||0):0,L=R?Number(a[R]||0):0;return{key:N,label:M,used:C,cap:L}})},[u,c,i,a]),[d,p]=j.useState(null),[v,y]=j.useState(!1),b=j.useRef(null),x=j.useRef(null),S=O=>{b.current&&clearTimeout(b.current),p(O)},_=()=>{b.current&&clearTimeout(b.current),!v&&(b.current=setTimeout(()=>p(null),120))};j.useEffect(()=>{if(!v)return;const O=T=>{const N=x.current;N&&N.contains(T.target)||(y(!1),p(null))};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[v]);const E=j.useMemo(()=>!d||!u?.[d]?null:(T=>{const N=u[T]||{},k=n?.[T]||N.label||T,M=N.usageField||"",D=N.capacityField||"",R=Array.isArray(N.subs)?N.subs:[],C=M?i[M]:null,L=D?o[D]:null,I=R.filter(H=>{const B=u[H];if(!B)return!1;const F=Number(B?.stage?.unlock_at??1);return c>=F}),U=M?Number(i[M]?.total||0):0,P=D?Number(a[D]||0):0;return m.jsxs("div",{style:{display:"grid",gap:12},children:[m.jsx("div",{style:{fontSize:13,fontWeight:800},children:k}),m.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[m.jsxs("div",{style:{flex:"1 1 180px",minWidth:220},children:[m.jsx("div",{style:{fontSize:10,opacity:.7,marginBottom:4},children:"Brug (usage)"}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Total"}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:Vs(U)})]})]}),m.jsxs("div",{style:{flex:"1 1 180px",minWidth:220},children:[m.jsx("div",{style:{fontSize:10,opacity:.7,marginBottom:4},children:"Kapacitet (capacity)"}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Total"}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:Vs(P)})]})]})]}),C&&m.jsx(aC,{label:"Usage  opdeling",usage:C}),L&&m.jsx(iC,{label:"Capacity  kilder",list:L,defs:r,partsList:o}),I.length>0&&m.jsxs("div",{style:{display:"grid",gap:10},children:[m.jsx("div",{style:{fontWeight:700,marginTop:6},children:"Underomrder"}),I.map(H=>{const B=u[H]||{},F=n?.[H]||B.label||H,G=B.usageField||"",K=B.capacityField||"",$=G?i[G]:null,W=K?o[K]:null,X=G?Number(i[G]?.total||0):0,ne=K?Number(a[K]||0):0;return m.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:8,display:"grid",gap:8},children:[m.jsx("div",{style:{fontWeight:700},children:F}),m.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[m.jsxs("div",{style:{flex:"1 1 180px",minWidth:220},children:[m.jsx("div",{style:{fontSize:10,opacity:.7,marginBottom:4},children:"Brug (usage)"}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Total"}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:Vs(X)})]})]}),m.jsxs("div",{style:{flex:"1 1 180px",minWidth:220},children:[m.jsx("div",{style:{fontSize:10,opacity:.7,marginBottom:4},children:"Kapacitet (capacity)"}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Total"}),m.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:Vs(ne)})]})]})]}),$&&m.jsx(aC,{label:"Usage  opdeling",usage:$}),W&&m.jsx(iC,{label:"Capacity  kilder",list:W,defs:r,partsList:o})]},H)})]})]},T)})(d),[d,u,i,a,o,r,c]);return m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[f.map(O=>m.jsx("div",{onMouseEnter:()=>{v||S(O.key)},onMouseLeave:_,onClick:()=>{v||(p(O.key),y(!0))},style:{cursor:"pointer"},children:m.jsx(LK,{label:O.label,used:O.used,capacity:O.cap})},O.key)),m.jsx(BK,{open:!!d&&!!E,onClose:()=>{p(null),y(!1)},content:E,panelRef:x,locked:v})]})}function rz(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=rz(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=rz(e))&&(r&&(r+=" "),r+=t);return r}var Nv={},kv={},sC;function zK(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(kv)),kv}var Cv={},oC;function iz(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Cv)),Cv}var Mv={},lC;function az(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Mv)),Mv}var Rv={},uC;function wj(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let a=0,o="",u="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const f=n[a];u?f==="\\"&&a+1<i?(a++,o+=n[a]):f===u?u="":o+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,r.push(o),o=""):o+=f:f==="["?(c=!0,o&&(r.push(o),o="")):f==="."?o&&(r.push(o),o=""):o+=f,a++}return o&&r.push(o),r}e.toPath=t})(Rv)),Rv}var cC;function Sj(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK(),n=iz(),r=az(),i=wj();function a(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return f;const d=u[c];return d===void 0?n.isDeepKey(c)?a(u,i.toPath(c),f):f:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=u[c];return d===void 0?f:d}default:{if(Array.isArray(c))return o(u,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return f;const d=u[c];return d===void 0?f:d}}}function o(u,c,f){if(c.length===0)return f;let d=u;for(let p=0;p<c.length;p++){if(d==null||t.isUnsafeProperty(c[p]))return f;d=d[c[p]]}return d===void 0?f:d}e.get=a})(Nv)),Nv}var Dv,fC;function UK(){return fC||(fC=1,Dv=Sj().get),Dv}var HK=UK();const wl=Or(HK);var Pv={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC;function FK(){if(dC)return yt;dC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function b(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case e:switch(x=x.type,x){case n:case i:case r:case c:case f:case v:return x;default:switch(x=x&&x.$$typeof,x){case o:case u:case p:case d:return x;case a:return x;default:return S}}case t:return S}}}return yt.ContextConsumer=a,yt.ContextProvider=o,yt.Element=e,yt.ForwardRef=u,yt.Fragment=n,yt.Lazy=p,yt.Memo=d,yt.Portal=t,yt.Profiler=i,yt.StrictMode=r,yt.Suspense=c,yt.SuspenseList=f,yt.isContextConsumer=function(x){return b(x)===a},yt.isContextProvider=function(x){return b(x)===o},yt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},yt.isForwardRef=function(x){return b(x)===u},yt.isFragment=function(x){return b(x)===n},yt.isLazy=function(x){return b(x)===p},yt.isMemo=function(x){return b(x)===d},yt.isPortal=function(x){return b(x)===t},yt.isProfiler=function(x){return b(x)===i},yt.isStrictMode=function(x){return b(x)===r},yt.isSuspense=function(x){return b(x)===c},yt.isSuspenseList=function(x){return b(x)===f},yt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===c||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===d||x.$$typeof===o||x.$$typeof===a||x.$$typeof===u||x.$$typeof===y||x.getModuleId!==void 0)},yt.typeOf=b,yt}var hC;function GK(){return hC||(hC=1,Pv.exports=FK()),Pv.exports}var KK=GK(),er=e=>e===0?0:e>0?1:-1,_r=e=>typeof e=="number"&&e!=+e,Xs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Be=e=>(typeof e=="number"||e instanceof Number)&&!_r(e),Li=e=>Be(e)||typeof e=="string",WK=0,bc=e=>{var t=++WK;return"".concat(e||"").concat(t)},yi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(t)&&typeof t!="string")return r;var a;if(Xs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return _r(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},sz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Zt(e,t,n){return Be(e)&&Be(t)?e+n*(t-e):t}function oz(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):wl(r,t))===n)}var kt=e=>e===null||typeof e>"u",qc=e=>kt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),YK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _j(e){if(typeof e!="string")return!1;var t=YK;return t.includes(e)}var VK=["viewBox","children"],pC=["points","pathLength"],Lv={svg:VK,polygon:pC,polyline:pC},jj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{_j(i)&&(r[i]=(a=>n[i](n,a)))}),r},XK=(e,t,n)=>r=>(e(t,n,r),null),up=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];_j(i)&&typeof a=="function"&&(r||(r={}),r[i]=XK(a,t,n))}),r},QK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function lz(e){if(typeof e!="string")return!1;var t=QK;return t.includes(e)}function hs(e){var t=Object.entries(e).filter(n=>{var[r]=n;return lz(r)});return Object.fromEntries(t)}var mC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",gC=null,qv=null,uz=e=>{if(e===gC&&Array.isArray(qv))return qv;var t=[];return j.Children.forEach(e,n=>{kt(n)||(KK.isFragment(n)?t=t.concat(uz(n.props.children)):t.push(n))}),qv=t,gC=e,t};function ZK(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>mC(i)):r=[mC(t)],uz(e).forEach(i=>{var a=wl(i,"type.displayName")||wl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var cz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,JK=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&Lv?.[r])!==null&&i!==void 0?i:[],o=t.startsWith("data-"),u=typeof e!="function"&&(!!r&&a.includes(t)||lz(t)),c=!!n&&_j(t);return o||u||c},Yt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;JK((o=r)===null||o===void 0?void 0:o[a],a,t,n)&&(i[a]=r[a])}),i},e9=["children","width","height","viewBox","className","style","title","desc"];function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t_.apply(null,arguments)}function t9(e,t){if(e==null)return{};var n,r,i=n9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ej=j.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:u,title:c,desc:f}=e,d=t9(e,e9),p=a||{width:r,height:i,x:0,y:0},v=pt("recharts-surface",o);return j.createElement("svg",t_({},Yt(d,!0,"svg"),{className:v,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),j.createElement("title",null,c),j.createElement("desc",null,f),n)}),r9=["children","className"];function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n_.apply(null,arguments)}function i9(e,t){if(e==null)return{};var n,r,i=a9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bi=j.forwardRef((e,t)=>{var{children:n,className:r}=e,i=i9(e,r9),a=pt("recharts-layer",r);return j.createElement("g",n_({className:a},Yt(i,!0),{ref:t}),n)}),fz=j.createContext(null),s9=()=>j.useContext(fz);function _t(e){return function(){return e}}const dz=Math.cos,oh=Math.sin,wi=Math.sqrt,lh=Math.PI,cp=2*lh,r_=Math.PI,i_=2*r_,Fs=1e-6,o9=i_-Fs;function hz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function l9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hz;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class u9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hz:l9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,c=r-t,f=i-n,d=o-t,p=u-n,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Fs)if(!(Math.abs(p*c-f*d)>Fs)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,b=i-u,x=c*c+f*f,S=y*y+b*b,_=Math.sqrt(x),E=Math.sqrt(v),O=a*Math.tan((r_-Math.acos((x+v-S)/(2*_*E)))/2),T=O/E,N=O/_;Math.abs(T-1)>Fs&&this._append`L${t+T*d},${n+T*p}`,this._append`A${a},${a},0,0,${+(p*y>d*b)},${this._x1=t+N*c},${this._y1=n+N*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=t+u,d=n+c,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>Fs||Math.abs(this._y1-d)>Fs)&&this._append`L${f},${d}`,r&&(v<0&&(v=v%i_+i_),v>o9?this._append`A${r},${r},0,1,${p},${t-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:v>Fs&&this._append`A${r},${r},0,${+(v>=r_)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Aj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new u9(t)}function Oj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pz(e){this._context=e}pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fp(e){return new pz(e)}function mz(e){return e[0]}function gz(e){return e[1]}function vz(e,t){var n=_t(!0),r=null,i=fp,a=null,o=Aj(u);e=typeof e=="function"?e:e===void 0?mz:_t(e),t=typeof t=="function"?t:t===void 0?gz:_t(t);function u(c){var f,d=(c=Oj(c)).length,p,v=!1,y;for(r==null&&(a=i(y=o())),f=0;f<=d;++f)!(f<d&&n(p=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(p,f,c),+t(p,f,c));if(y)return a=null,y+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:_t(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:_t(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:_t(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function xd(e,t,n){var r=null,i=_t(!0),a=null,o=fp,u=null,c=Aj(f);e=typeof e=="function"?e:e===void 0?mz:_t(+e),t=typeof t=="function"?t:_t(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?gz:_t(+n);function f(p){var v,y,b,x=(p=Oj(p)).length,S,_=!1,E,O=new Array(x),T=new Array(x);for(a==null&&(u=o(E=c())),v=0;v<=x;++v){if(!(v<x&&i(S=p[v],v,p))===_)if(_=!_)y=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),b=v-1;b>=y;--b)u.point(O[b],T[b]);u.lineEnd(),u.areaEnd()}_&&(O[v]=+e(S,v,p),T[v]=+t(S,v,p),u.point(r?+r(S,v,p):O[v],n?+n(S,v,p):T[v]))}if(E)return u=null,E+""||null}function d(){return vz().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:_t(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:_t(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:_t(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:_t(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:_t(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:_t(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(e).y(t)},f.lineY1=function(){return d().x(e).y(n)},f.lineX1=function(){return d().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:_t(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(u=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=u=null:u=o(a=p),f):a},f}class yz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function c9(e){return new yz(e,!0)}function f9(e){return new yz(e,!1)}const Tj={draw(e,t){const n=wi(t/lh);e.moveTo(n,0),e.arc(0,0,n,0,cp)}},d9={draw(e,t){const n=wi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},bz=wi(1/3),h9=bz*2,p9={draw(e,t){const n=wi(t/h9),r=n*bz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},m9={draw(e,t){const n=wi(t),r=-n/2;e.rect(r,r,n,n)}},g9=.8908130915292852,xz=oh(lh/10)/oh(7*lh/10),v9=oh(cp/10)*xz,y9=-dz(cp/10)*xz,b9={draw(e,t){const n=wi(t*g9),r=v9*n,i=y9*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=cp*a/5,u=dz(o),c=oh(o);e.lineTo(c*n,-u*n),e.lineTo(u*r-c*i,c*r+u*i)}e.closePath()}},Iv=wi(3),x9={draw(e,t){const n=-wi(t/(Iv*3));e.moveTo(0,n*2),e.lineTo(-Iv*n,-n),e.lineTo(Iv*n,-n),e.closePath()}},$r=-.5,zr=wi(3)/2,a_=1/wi(12),w9=(a_/2+1)*3,S9={draw(e,t){const n=wi(t/w9),r=n/2,i=n*a_,a=r,o=n*a_+n,u=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(u,c),e.lineTo($r*r-zr*i,zr*r+$r*i),e.lineTo($r*a-zr*o,zr*a+$r*o),e.lineTo($r*u-zr*c,zr*u+$r*c),e.lineTo($r*r+zr*i,$r*i-zr*r),e.lineTo($r*a+zr*o,$r*o-zr*a),e.lineTo($r*u+zr*c,$r*c-zr*u),e.closePath()}};function _9(e,t){let n=null,r=Aj(i);e=typeof e=="function"?e:_t(e||Tj),t=typeof t=="function"?t:_t(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:_t(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:_t(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function uh(){}function ch(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wz(e){this._context=e}wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ch(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ch(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j9(e){return new wz(e)}function Sz(e){this._context=e}Sz.prototype={areaStart:uh,areaEnd:uh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ch(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E9(e){return new Sz(e)}function _z(e){this._context=e}_z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ch(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A9(e){return new _z(e)}function jz(e){this._context=e}jz.prototype={areaStart:uh,areaEnd:uh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function O9(e){return new jz(e)}function vC(e){return e<0?-1:1}function yC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(vC(a)+vC(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function bC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function fh(e){this._context=e}fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bv(this,this._t0,bC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bv(this,bC(this,n=yC(this,e,t)),n);break;default:Bv(this,this._t0,n=yC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Ez(e){this._context=new Az(e)}(Ez.prototype=Object.create(fh.prototype)).point=function(e,t){fh.prototype.point.call(this,t,e)};function Az(e){this._context=e}Az.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function T9(e){return new fh(e)}function N9(e){return new Ez(e)}function Oz(e){this._context=e}Oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=xC(e),i=xC(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function k9(e){return new Oz(e)}function dp(e,t){this._context=e,this._t=t}dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function C9(e){return new dp(e,.5)}function M9(e){return new dp(e,0)}function R9(e){return new dp(e,1)}function Sl(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,u=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function s_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function D9(e,t){return e[t]}function P9(e){const t=[];return t.key=e,t}function L9(){var e=_t([]),t=s_,n=Sl,r=D9;function i(a){var o=Array.from(e.apply(this,arguments),P9),u,c=o.length,f=-1,d;for(const p of a)for(u=0,++f;u<c;++u)(o[u][f]=[0,+r(p,o[u].key,f,a)]).data=p;for(u=0,d=Oj(t(o));u<c;++u)o[d[u]].index=u;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:_t(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:_t(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?s_:typeof a=="function"?a:_t(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Sl,i):n},i}function q9(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Sl(e,t)}}function I9(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=e[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}Sl(e,t)}}function B9(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,c=0,f=0;u<o;++u){for(var d=e[t[u]],p=d[r][1]||0,v=d[r-1][1]||0,y=(p-v)/2,b=0;b<u;++b){var x=e[t[b]],S=x[r][1]||0,_=x[r-1][1]||0;y+=S-_}c+=p,f+=y*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Sl(e,t)}}var $9=["type","size","sizeType"];function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(null,arguments)}function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(r){z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z9(e,t,n){return(t=U9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U9(e){var t=H9(e,"string");return typeof t=="symbol"?t:t+""}function H9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F9(e,t){if(e==null)return{};var n,r,i=G9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tz={symbolCircle:Tj,symbolCross:d9,symbolDiamond:p9,symbolSquare:m9,symbolStar:b9,symbolTriangle:x9,symbolWye:S9},K9=Math.PI/180,W9=e=>{var t="symbol".concat(qc(e));return Tz[t]||Tj},Y9=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*K9;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},V9=(e,t)=>{Tz["symbol".concat(qc(e))]=t},Nj=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=F9(e,$9),a=SC(SC({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var u=()=>{var v=W9(o),y=_9().type(v).size(Y9(n,r,o));return y()},{className:c,cx:f,cy:d}=a,p=Yt(a,!0);return f===+f&&d===+d&&n===+n?j.createElement("path",o_({},p,{className:pt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(d,")"),d:u()})):null};Nj.registerSymbol=V9;function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l_.apply(null,arguments)}function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(n),!0).forEach(function(r){kj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kj(e,t,n){return(t=Q9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q9(e){var t=Z9(e,"string");return typeof t=="symbol"?t:t+""}function Z9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ur=32;class Cj extends j.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Ur/2,a=Ur/6,o=Ur/3,u=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Ur,y2:i,className:"recharts-legend-icon"});if(c==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ur,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return j.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ur/8,"h").concat(Ur,"v").concat(Ur*3/4,"h").concat(-Ur,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var f=X9({},t);return delete f.legendIcon,j.cloneElement(t.legendIcon,f)}return j.createElement(Nj,{fill:u,cx:i,cy:i,size:Ur,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,u={x:0,y:0,width:Ur,height:Ur},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,p)=>{var v=d.formatter||i,y=pt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var b=d.inactive?a:d.color,x=v?v(d.value,d,p):d.value;return j.createElement("li",l_({className:y,style:c,key:"legend-item-".concat(p)},up(this.props,d,p)),j.createElement(Ej,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,o)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}kj(Cj,"displayName","Legend");kj(Cj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var $v={},zv={},jC;function J9(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],u=r(o);i.has(u)||i.set(u,o)}return Array.from(i.values())}e.uniqBy=t})(zv)),zv}var Uv={},EC;function Nz(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Uv)),Uv}var Hv={},Fv={},Gv={},AC;function eW(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Gv)),Gv}var OC;function Mj(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eW();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Fv)),Fv}var Kv={},TC;function tW(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Kv)),Kv}var NC;function nW(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj(),n=tW();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Hv)),Hv}var Wv={},Yv={},kC;function rW(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sj();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Yv)),Yv}var Vv={},Xv={},Qv={},Zv={},CC;function kz(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Zv)),Zv}var Jv={},MC;function Cz(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Jv)),Jv}var ey={},RC;function Mz(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(ey)),ey}var DC;function iW(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rj(),n=kz(),r=Cz(),i=Mz();function a(p,v,y){return typeof y!="function"?t.isMatch(p,v):o(p,v,function b(x,S,_,E,O,T){const N=y(x,S,_,E,O,T);return N!==void 0?!!N:o(x,S,b,T)},new Map)}function o(p,v,y,b){if(v===p)return!0;switch(typeof v){case"object":return u(p,v,y,b);case"function":return Object.keys(v).length>0?o(p,{...v},y,b):i.eq(p,v);default:return n.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function u(p,v,y,b){if(v==null)return!0;if(Array.isArray(v))return f(p,v,y,b);if(v instanceof Map)return c(p,v,y,b);if(v instanceof Set)return d(p,v,y,b);const x=Object.keys(v);if(p==null)return x.length===0;if(x.length===0)return!0;if(b&&b.has(v))return b.get(v)===p;b&&b.set(v,p);try{for(let S=0;S<x.length;S++){const _=x[S];if(!r.isPrimitive(p)&&!(_ in p)||v[_]===void 0&&p[_]!==void 0||v[_]===null&&p[_]!==null||!y(p[_],v[_],_,p,v,b))return!1}return!0}finally{b&&b.delete(v)}}function c(p,v,y,b){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[x,S]of v.entries()){const _=p.get(x);if(y(_,S,x,p,v,b)===!1)return!1}return!0}function f(p,v,y,b){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const x=new Set;for(let S=0;S<v.length;S++){const _=v[S];let E=!1;for(let O=0;O<p.length;O++){if(x.has(O))continue;const T=p[O];let N=!1;if(y(T,_,S,p,v,b)&&(N=!0),N){x.add(O),E=!0;break}}if(!E)return!1}return!0}function d(p,v,y,b){return v.size===0?!0:p instanceof Set?f([...p],[...v],y,b):!1}e.isMatchWith=a,e.isSetMatch=d})(Qv)),Qv}var PC;function Rj(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iW();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Xv)),Xv}var ty={},ny={},ry={},LC;function aW(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(ry)),ry}var iy={},qC;function Rz(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(iy)),iy}var ay={},IC;function Dz(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",d="[object Array]",p="[object Function]",v="[object ArrayBuffer]",y="[object Object]",b="[object Error]",x="[object DataView]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",O="[object Uint32Array]",T="[object BigUint64Array]",N="[object Int8Array]",k="[object Int16Array]",M="[object Int32Array]",D="[object BigInt64Array]",R="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=v,e.arrayTag=d,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=T,e.booleanTag=i,e.dataViewTag=x,e.dateTag=u,e.errorTag=b,e.float32ArrayTag=R,e.float64ArrayTag=C,e.functionTag=p,e.int16ArrayTag=k,e.int32ArrayTag=M,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=E,e.uint32ArrayTag=O,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=_})(ay)),ay}var sy={},BC;function sW(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(sy)),sy}var $C;function Pz(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aW(),n=Rz(),r=Dz(),i=Cz(),a=sW();function o(d,p){return u(d,void 0,d,new Map,p)}function u(d,p,v,y=new Map,b=void 0){const x=b?.(d,p,v,y);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const S=new Array(d.length);y.set(d,S);for(let _=0;_<d.length;_++)S[_]=u(d[_],_,v,y,b);return Object.hasOwn(d,"index")&&(S.index=d.index),Object.hasOwn(d,"input")&&(S.input=d.input),S}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const S=new RegExp(d.source,d.flags);return S.lastIndex=d.lastIndex,S}if(d instanceof Map){const S=new Map;y.set(d,S);for(const[_,E]of d)S.set(_,u(E,_,v,y,b));return S}if(d instanceof Set){const S=new Set;y.set(d,S);for(const _ of d)S.add(u(_,void 0,v,y,b));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const S=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,S);for(let _=0;_<d.length;_++)S[_]=u(d[_],_,v,y,b);return S}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const S=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,S),c(S,d,v,y,b),S}if(typeof File<"u"&&d instanceof File){const S=new File([d],d.name,{type:d.type});return y.set(d,S),c(S,d,v,y,b),S}if(d instanceof Blob){const S=new Blob([d],{type:d.type});return y.set(d,S),c(S,d,v,y,b),S}if(d instanceof Error){const S=new d.constructor;return y.set(d,S),S.message=d.message,S.name=d.name,S.stack=d.stack,S.cause=d.cause,c(S,d,v,y,b),S}if(typeof d=="object"&&f(d)){const S=Object.create(Object.getPrototypeOf(d));return y.set(d,S),c(S,d,v,y,b),S}return d}function c(d,p,v=d,y,b){const x=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<x.length;S++){const _=x[S],E=Object.getOwnPropertyDescriptor(d,_);(E==null||E.writable)&&(d[_]=u(p[_],_,v,y,b))}}function f(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=c})(ny)),ny}var zC;function oW(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pz();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(ty)),ty}var UC;function lW(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rj(),n=oW();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Vv)),Vv}var oy={},ly={},uy={},HC;function uW(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pz(),n=Dz();function r(i,a){return t.cloneDeepWith(i,(o,u,c,f)=>{const d=a?.(o,u,c,f);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(uy)),uy}var FC;function cW(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uW();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(ly)),ly}var cy={},fy={},GC;function Lz(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(fy)),fy}var dy={},KC;function fW(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rz();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(dy)),dy}var WC;function dW(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iz(),n=Lz(),r=fW(),i=wj();function a(o,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&t.isDeepKey(u)&&o?.[u]==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=o;for(let d=0;d<c.length;d++){const p=c[d];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(cy)),cy}var YC;function hW(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rj(),n=az(),r=cW(),i=Sj(),a=dW();function o(u,c){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const d=i.get(f,u);return d===void 0?a.has(f,u):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(oy)),oy}var VC;function pW(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nz(),n=rW(),r=lW(),i=hW();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(Wv)),Wv}var XC;function mW(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J9(),n=Nz(),r=nW(),i=pW();function a(o,u=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(u)):[]}e.uniqBy=a})($v)),$v}var hy,QC;function gW(){return QC||(QC=1,hy=mW().uniqBy),hy}var vW=gW();const ZC=Or(vW);function qz(e,t,n){return t===!0?ZC(e,n):typeof t=="function"?ZC(e,t):e}var py={exports:{}},my={},gy={exports:{}},vy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function yW(){if(JC)return vy;JC=1;var e=Rl();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function u(p,v){var y=v(),b=r({inst:{value:y,getSnapshot:v}}),x=b[0].inst,S=b[1];return a(function(){x.value=y,x.getSnapshot=v,c(x)&&S({inst:x})},[p,y,v]),i(function(){return c(x)&&S({inst:x}),p(function(){c(x)&&S({inst:x})})},[p]),o(y),y}function c(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!n(p,y)}catch{return!0}}function f(p,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return vy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,vy}var eM;function bW(){return eM||(eM=1,gy.exports=yW()),gy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tM;function xW(){if(tM)return my;tM=1;var e=Rl(),t=bW();function n(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,u=e.useMemo,c=e.useDebugValue;return my.useSyncExternalStoreWithSelector=function(f,d,p,v,y){var b=a(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=u(function(){function _(k){if(!E){if(E=!0,O=k,k=v(k),y!==void 0&&x.hasValue){var M=x.value;if(y(M,k))return T=M}return T=k}if(M=T,r(O,k))return M;var D=v(k);return y!==void 0&&y(M,D)?(O=k,M):(O=k,T=D)}var E=!1,O,T,N=p===void 0?null:p;return[function(){return _(d())},N===null?void 0:function(){return _(N())}]},[d,p,v,y]);var S=i(f,b[0],b[1]);return o(function(){x.hasValue=!0,x.value=S},[S]),c(S),S},my}var nM;function wW(){return nM||(nM=1,py.exports=xW()),py.exports}var Iz=wW();const SW=Or(Iz);var Dj=j.createContext(null),_W=e=>e,en=()=>{var e=j.useContext(Dj);return e?e.store.dispatch:_W},Qd=()=>{},jW=()=>Qd,EW=(e,t)=>e===t;function Le(e){var t=j.useContext(Dj);return Iz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:jW,t?t.store.getState:Qd,t?t.store.getState:Qd,t?e:Qd,EW)}function AW(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function OW(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function TW(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var rM=e=>Array.isArray(e)?e:[e];function NW(e){const t=Array.isArray(e[0])?e[0]:e;return TW(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function kW(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var CW=class{constructor(e){this.value=e}deref(){return this.value}},MW=typeof WeakRef<"u"?WeakRef:CW,RW=0,iM=1;function wd(){return{s:RW,v:void 0,o:null,p:null}}function Bz(e,t={}){let n=wd();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let u=n;const{length:c}=arguments;for(let p=0,v=c;p<v;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=u.o;b===null&&(u.o=b=new WeakMap);const x=b.get(y);x===void 0?(u=wd(),b.set(y,u)):u=x}else{let b=u.p;b===null&&(u.p=b=new Map);const x=b.get(y);x===void 0?(u=wd(),b.set(y,u)):u=x}}const f=u;let d;if(u.s===iM)d=u.v;else if(d=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new MW(d):d}return f.s=iM,f.v=d,d}return o.clearCache=()=>{n=wd(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function DW(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),AW(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...n,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:y=Bz,argsMemoizeOptions:b=[]}=d,x=rM(v),S=rM(b),_=NW(i),E=p(function(){return a++,f.apply(null,arguments)},...x),O=y(function(){o++;const N=kW(_,arguments);return u=E.apply(null,N),u},...S);return Object.assign(O,{resultFunc:f,memoizedResultFunc:E,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var pe=DW(Bz),PW=Object.assign((e,t=pe)=>{OW(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,u,c)=>(o[n[c]]=u,o),{}))},{withTypes:()=>PW}),yy={},by={},xy={},aM;function LW(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),u=t(i);if(o===u&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};e.compareValues=n})(xy)),xy}var wy={},Sy={},sM;function $z(){return sM||(sM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Sy)),Sy}var oM;function qW(){return oM||(oM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$z(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(wy)),wy}var lM;function IW(){return lM||(lM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LW(),n=qW(),r=wj();function i(a,o,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,b)=>{let x=y;for(let S=0;S<b.length&&x!=null;++S)x=x[b[S]];return x},d=(y,b)=>b==null||y==null?b:typeof y=="object"&&"key"in y?Object.hasOwn(b,y.key)?b[y.key]:f(b,y.path):typeof y=="function"?y(b):Array.isArray(y)?f(b,y):typeof b=="object"?b[y]:b,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(b=>d(b,y))})).slice().sort((y,b)=>{for(let x=0;x<p.length;x++){const S=t.compareValues(y.criteria[x],b.criteria[x],u[x]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=i})(by)),by}var _y={},uM;function BW(){return uM||(uM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(u,c)=>{for(let f=0;f<u.length;f++){const d=u[f];Array.isArray(d)&&c<a?o(d,c+1):i.push(d)}};return o(n,0),i}e.flatten=t})(_y)),_y}var jy={},cM;function zz(){return cM||(cM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lz(),n=Mj(),r=kz(),i=Mz();function a(o,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&t.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],o):!1}e.isIterateeCall=a})(jy)),jy}var fM;function $W(){return fM||(fM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IW(),n=BW(),r=zz();function i(a,...o){const u=o.length;return u>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(yy)),yy}var Ey,dM;function zW(){return dM||(dM=1,Ey=$W().sortBy),Ey}var UW=zW();const hp=Or(UW);var Uz=e=>e.legend.settings,HW=e=>e.legend.size,FW=e=>e.legend.payload,GW=pe([FW,Uz],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?hp(r,n):r});function KW(){return Le(GW)}var Sd=1;function Hz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Sd||Math.abs(o.left-t.left)>Sd||Math.abs(o.top-t.top)>Sd||Math.abs(o.width-t.width)>Sd)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function On(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WW=typeof Symbol=="function"&&Symbol.observable||"@@observable",hM=WW,Ay=()=>Math.random().toString(36).substring(7).split("").join("."),YW={INIT:`@@redux/INIT${Ay()}`,REPLACE:`@@redux/REPLACE${Ay()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ay()}`},dh=YW;function Pj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Fz(e,t,n){if(typeof e!="function")throw new Error(On(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(On(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(On(1));return n(Fz)(e,t)}let r=e,i=t,a=new Map,o=a,u=0,c=!1;function f(){o===a&&(o=new Map,a.forEach((S,_)=>{o.set(_,S)}))}function d(){if(c)throw new Error(On(3));return i}function p(S){if(typeof S!="function")throw new Error(On(4));if(c)throw new Error(On(5));let _=!0;f();const E=u++;return o.set(E,S),function(){if(_){if(c)throw new Error(On(6));_=!1,f(),o.delete(E),a=null}}}function v(S){if(!Pj(S))throw new Error(On(7));if(typeof S.type>"u")throw new Error(On(8));if(typeof S.type!="string")throw new Error(On(17));if(c)throw new Error(On(9));try{c=!0,i=r(i,S)}finally{c=!1}return(a=o).forEach(E=>{E()}),S}function y(S){if(typeof S!="function")throw new Error(On(10));r=S,v({type:dh.REPLACE})}function b(){const S=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(On(11));function E(){const T=_;T.next&&T.next(d())}return E(),{unsubscribe:S(E)}},[hM](){return this}}}return v({type:dh.INIT}),{dispatch:v,subscribe:p,getState:d,replaceReducer:y,[hM]:b}}function VW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:dh.INIT})>"u")throw new Error(On(12));if(typeof n(void 0,{type:dh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(On(13))})}function Gz(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{VW(n)}catch(a){i=a}return function(o={},u){if(i)throw i;let c=!1;const f={};for(let d=0;d<r.length;d++){const p=r[d],v=n[p],y=o[p],b=v(y,u);if(typeof b>"u")throw u&&u.type,new Error(On(14));f[p]=b,c=c||b!==y}return c=c||r.length!==Object.keys(o).length,c?f:o}}function hh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function XW(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(On(15))};const o={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},u=e.map(c=>c(o));return a=hh(...u)(i.dispatch),{...i,dispatch:a}}}function Kz(e){return Pj(e)&&"type"in e&&typeof e.type=="string"}var Wz=Symbol.for("immer-nothing"),pM=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function di(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _l=Object.getPrototypeOf;function oo(e){return!!e&&!!e[jr]}function ha(e){return e?Yz(e)||Array.isArray(e)||!!e[pM]||!!e.constructor?.[pM]||Ic(e)||mp(e):!1}var QW=Object.prototype.constructor.toString();function Yz(e){if(!e||typeof e!="object")return!1;const t=_l(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===QW}function ph(e,t){pp(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function pp(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:Ic(e)?2:mp(e)?3:0}function u_(e,t){return pp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vz(e,t,n){const r=pp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ZW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ic(e){return e instanceof Map}function mp(e){return e instanceof Set}function Gs(e){return e.copy_||e.base_}function c_(e,t){if(Ic(e))return new Map(e);if(mp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Yz(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[jr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(_l(e),r)}else{const r=_l(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Lj(e,t=!1){return gp(e)||oo(e)||!ha(e)||(pp(e)>1&&Object.defineProperties(e,{set:{value:_d},add:{value:_d},clear:{value:_d},delete:{value:_d}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Lj(n,!0))),e}function _d(){di(2)}function gp(e){return Object.isFrozen(e)}var JW={};function lo(e){const t=JW[e];return t||di(0,e),t}var xc;function Xz(){return xc}function eY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mM(e,t){t&&(lo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function f_(e){d_(e),e.drafts_.forEach(tY),e.drafts_=null}function d_(e){e===xc&&(xc=e.parent_)}function gM(e){return xc=eY(xc,e)}function tY(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[jr].modified_&&(f_(t),di(4)),ha(e)&&(e=mh(t,e),t.parent_||gh(t,e)),t.patches_&&lo("Patches").generateReplacementPatches_(n[jr].base_,e,t.patches_,t.inversePatches_)):e=mh(t,n,[]),f_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Wz?e:void 0}function mh(e,t,n){if(gp(t))return t;const r=t[jr];if(!r)return ph(t,(i,a)=>yM(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return gh(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),ph(a,(u,c)=>yM(e,r,i,u,c,n,o)),gh(e,i,!1),n&&e.patches_&&lo("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function yM(e,t,n,r,i,a,o){if(oo(i)){const u=a&&t&&t.type_!==3&&!u_(t.assigned_,r)?a.concat(r):void 0,c=mh(e,i,u);if(Vz(n,r,c),oo(c))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ha(i)&&!gp(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;mh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Ic(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&gh(e,i)}}function gh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Lj(t,n)}function nY(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Xz(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=qj;n&&(i=[r],a=wc);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,u}var qj={get(e,t){if(t===jr)return e;const n=Gs(e);if(!u_(n,t))return rY(e,n,t);const r=n[t];return e.finalized_||!ha(r)?r:r===Oy(e.base_,t)?(Ty(e),e.copy_[t]=p_(r,e)):r},has(e,t){return t in Gs(e)},ownKeys(e){return Reflect.ownKeys(Gs(e))},set(e,t,n){const r=Qz(Gs(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Oy(Gs(e),t),a=i?.[jr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(ZW(n,i)&&(n!==void 0||u_(e.base_,t)))return!0;Ty(e),h_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Oy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ty(e),h_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){di(11)},getPrototypeOf(e){return _l(e.base_)},setPrototypeOf(){di(12)}},wc={};ph(qj,(e,t)=>{wc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wc.deleteProperty=function(e,t){return wc.set.call(this,e,t,void 0)};wc.set=function(e,t,n){return qj.set.call(this,e[0],t,n,e[0])};function Oy(e,t){const n=e[jr];return(n?Gs(n):e)[t]}function rY(e,t,n){const r=Qz(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Qz(e,t){if(!(t in e))return;let n=_l(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_l(n)}}function h_(e){e.modified_||(e.modified_=!0,e.parent_&&h_(e.parent_))}function Ty(e){e.copy_||(e.copy_=c_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(c=a,...f){return o.produce(c,d=>n.call(this,d,...f))}}typeof n!="function"&&di(6),r!==void 0&&typeof r!="function"&&di(7);let i;if(ha(t)){const a=gM(this),o=p_(t,void 0);let u=!0;try{i=n(o),u=!1}finally{u?f_(a):d_(a)}return mM(a,r),vM(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Wz&&(i=void 0),this.autoFreeze_&&Lj(i,!0),r){const a=[],o=[];lo("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else di(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,c=>t(c,...u));let r,i;return[this.produce(t,n,(o,u)=>{r=o,i=u}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ha(e)||di(8),oo(e)&&(e=ca(e));const t=gM(this),n=p_(e,void 0);return n[jr].isManual_=!0,d_(t),n}finishDraft(e,t){const n=e&&e[jr];(!n||!n.isManual_)&&di(9);const{scope_:r}=n;return mM(r,t),vM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=lo("Patches").applyPatches_;return oo(e)?r(e,t):this.produce(e,i=>r(i,t))}};function p_(e,t){const n=Ic(e)?lo("MapSet").proxyMap_(e,t):mp(e)?lo("MapSet").proxySet_(e,t):nY(e,t);return(t?t.scope_:Xz()).drafts_.push(n),n}function ca(e){return oo(e)||di(10,e),Zz(e)}function Zz(e){if(!ha(e)||gp(e))return e;const t=e[jr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=c_(e,t.scope_.immer_.useStrictShallowCopy_)}else n=c_(e,!0);return ph(n,(r,i)=>{Vz(n,r,Zz(i))}),t&&(t.finalized_=!1),n}var aY=new iY,Jz=aY.produce;function e3(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var sY=e3(),oY=e3,lY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hh:hh.apply(null,arguments)};function Vr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Sr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Kz(r)&&r.type===e,n}var t3=class sc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sc.prototype)}static get[Symbol.species](){return sc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sc(...t[0].concat(this)):new sc(...t.concat(this))}};function bM(e){return ha(e)?Jz(e,()=>{}):e}function jd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function uY(e){return typeof e=="boolean"}var cY=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new t3;return n&&(uY(n)?o.push(sY):o.push(oY(n.extraArgument))),o},fY="RTK_autoBatch",xM=e=>t=>{setTimeout(t,e)},dY=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const u=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xM(10):e.type==="callback"?e.queueNotification:xM(e.timeout),f=()=>{o=!1,a&&(a=!1,u.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),v=r.subscribe(p);return u.add(d),()=>{v(),u.delete(d)}},dispatch(d){try{return i=!d?.meta?.[fY],a=!i,a&&(o||(o=!0,c(f))),r.dispatch(d)}finally{i=!0}}})},hY=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new t3(e);return r&&i.push(dY(typeof r=="object"?r:void 0)),i};function pY(e){const t=cY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(Pj(n))u=Gz(n);else throw new Error(Sr(1));let c;typeof r=="function"?c=r(t):c=t();let f=hh;i&&(f=lY({trace:!1,...typeof i=="object"&&i}));const d=XW(...c),p=hY(d);let v=typeof o=="function"?o(p):p();const y=f(...v);return Fz(u,a,y)}function n3(e){const t={},n=[];let r;const i={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Sr(28));if(u in t)throw new Error(Sr(29));return t[u]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function mY(e){return typeof e=="function"}function gY(e,t){let[n,r,i]=n3(t),a;if(mY(e))a=()=>bM(e());else{const u=bM(e);a=()=>u}function o(u=a(),c){let f=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,p)=>{if(p)if(oo(d)){const y=p(d,c);return y===void 0?d:y}else{if(ha(d))return Jz(d,v=>p(v,c));{const v=p(d,c);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return d},u)}return o.getInitialState=a,o}var vY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yY=(e=21)=>{let t="",n=e;for(;n--;)t+=vY[Math.random()*64|0];return t},bY=Symbol.for("rtk-slice-createasyncthunk");function xY(e,t){return`${e}/${t}`}function wY({creators:e}={}){const t=e?.asyncThunk?.[bY];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Sr(11));const o=(typeof r.reducers=="function"?r.reducers(_Y()):r.reducers)||{},u=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,T){const N=typeof O=="string"?O:O.type;if(!N)throw new Error(Sr(12));if(N in c.sliceCaseReducersByType)throw new Error(Sr(13));return c.sliceCaseReducersByType[N]=T,f},addMatcher(O,T){return c.sliceMatchers.push({matcher:O,reducer:T}),f},exposeAction(O,T){return c.actionCreators[O]=T,f},exposeCaseReducer(O,T){return c.sliceCaseReducersByName[O]=T,f}};u.forEach(O=>{const T=o[O],N={reducerName:O,type:xY(i,O),createNotation:typeof r.reducers=="function"};EY(T)?OY(N,T,f,t):jY(N,T,f)});function d(){const[O={},T=[],N=void 0]=typeof r.extraReducers=="function"?n3(r.extraReducers):[r.extraReducers],k={...O,...c.sliceCaseReducersByType};return gY(r.initialState,M=>{for(let D in k)M.addCase(D,k[D]);for(let D of c.sliceMatchers)M.addMatcher(D.matcher,D.reducer);for(let D of T)M.addMatcher(D.matcher,D.reducer);N&&M.addDefaultCase(N)})}const p=O=>O,v=new Map,y=new WeakMap;let b;function x(O,T){return b||(b=d()),b(O,T)}function S(){return b||(b=d()),b.getInitialState()}function _(O,T=!1){function N(M){let D=M[O];return typeof D>"u"&&T&&(D=jd(y,N,S)),D}function k(M=p){const D=jd(v,T,()=>new WeakMap);return jd(D,M,()=>{const R={};for(const[C,L]of Object.entries(r.selectors??{}))R[C]=SY(L,M,()=>jd(y,M,S),T);return R})}return{reducerPath:O,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const E={name:i,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,..._(a),injectInto(O,{reducerPath:T,...N}={}){const k=T??a;return O.inject({reducerPath:k,reducer:x},N),{...E,..._(k,!0)}}};return E}}function SY(e,t,n,r){function i(a,...o){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...o)}return i.unwrapped=e,i}var Tr=wY();function _Y(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function jY({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!AY(r))throw new Error(Sr(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Vr(e,o):Vr(e))}function EY(e){return e._reducerDefinitionType==="asyncThunk"}function AY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function OY({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Sr(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:c,settled:f,options:d}=n,p=i(e,a,d);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||Ed,pending:u||Ed,rejected:c||Ed,settled:f||Ed})}function Ed(){}var TY="task",r3="listener",i3="completed",Ij="cancelled",NY=`task-${Ij}`,kY=`task-${i3}`,m_=`${r3}-${Ij}`,CY=`${r3}-${i3}`,vp=class{constructor(e){this.code=e,this.message=`${TY} ${Ij} (reason: ${e})`}name="TaskAbortError";message},Bj=(e,t)=>{if(typeof e!="function")throw new TypeError(Sr(32))},vh=()=>{},a3=(e,t=vh)=>(e.catch(t),e),s3=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),to=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},no=e=>{if(e.aborted){const{reason:t}=e;throw new vp(t)}};function o3(e,t){let n=vh;return new Promise((r,i)=>{const a=()=>i(new vp(e.reason));if(e.aborted){a();return}n=s3(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=vh})}var MY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof vp?"cancelled":"rejected",error:n}}finally{t?.()}},yh=e=>t=>a3(o3(e,t).then(n=>(no(e),n))),l3=e=>{const t=yh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:gl}=Object,wM={},yp="listenerMiddleware",RY=(e,t)=>{const n=r=>s3(e,()=>to(r,e.reason));return(r,i)=>{Bj(r);const a=new AbortController;n(a);const o=MY(async()=>{no(e),no(a.signal);const u=await r({pause:yh(a.signal),delay:l3(a.signal),signal:a.signal});return no(a.signal),u},()=>to(a,kY));return i?.autoJoin&&t.push(o.catch(vh)),{result:yh(e)(o),cancel(){to(a,NY)}}}},DY=(e,t)=>{const n=async(r,i)=>{no(t);let a=()=>{};const u=[new Promise((c,f)=>{let d=e({predicate:r,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{d(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await o3(t,Promise.race(u));return no(t),c}finally{a()}};return(r,i)=>a3(n(r,i))},u3=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Vr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Sr(21));return Bj(a),{predicate:i,type:t,effect:a}},c3=gl(e=>{const{type:t,predicate:n,effect:r}=u3(e);return{id:yY(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Sr(22))}}},{withTypes:()=>c3}),SM=(e,t)=>{const{type:n,effect:r,predicate:i}=u3(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},g_=e=>{e.pending.forEach(t=>{to(t,m_)})},PY=e=>()=>{e.forEach(g_),e.clear()},_M=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},f3=gl(Vr(`${yp}/add`),{withTypes:()=>f3}),LY=Vr(`${yp}/removeAll`),d3=gl(Vr(`${yp}/remove`),{withTypes:()=>d3}),qY=(...e)=>{console.error(`${yp}/error`,...e)},Bc=(e={})=>{const t=new Map,{extra:n,onError:r=qY}=e;Bj(r);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&g_(d)}),a=d=>{const p=SM(t,d)??c3(d);return i(p)};gl(a,{withTypes:()=>a});const o=d=>{const p=SM(t,d);return p&&(p.unsubscribe(),d.cancelActive&&g_(p)),!!p};gl(o,{withTypes:()=>o});const u=async(d,p,v,y)=>{const b=new AbortController,x=DY(a,b.signal),S=[];try{d.pending.add(b),await Promise.resolve(d.effect(p,gl({},v,{getOriginalState:y,condition:(_,E)=>x(_,E).then(Boolean),take:x,delay:l3(b.signal),pause:yh(b.signal),extra:n,signal:b.signal,fork:RY(b.signal,S),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((_,E,O)=>{_!==b&&(to(_,m_),O.delete(_))})},cancel:()=>{to(b,m_),d.pending.delete(b)},throwIfCancelled:()=>{no(b.signal)}})))}catch(_){_ instanceof vp||_M(r,_,{raisedBy:"effect"})}finally{await Promise.all(S),to(b,CY),d.pending.delete(b)}},c=PY(t);return{middleware:d=>p=>v=>{if(!Kz(v))return p(v);if(f3.match(v))return a(v.payload);if(LY.match(v)){c();return}if(d3.match(v))return o(v.payload);let y=d.getState();const b=()=>{if(y===wM)throw new Error(Sr(23));return y};let x;try{if(x=p(v),t.size>0){const S=d.getState(),_=Array.from(t.values());for(const E of _){let O=!1;try{O=E.predicate(v,S,y)}catch(T){O=!1,_M(r,T,{raisedBy:"predicate"})}O&&u(E,v,d,b)}}}finally{y=wM}return x},startListening:a,stopListening:o,clearListeners:c}};function Sr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var IY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},h3=Tr({name:"chartLayout",initialState:IY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:BY,setLayout:$Y,setChartSize:zY,setScale:UY}=h3.actions,HY=h3.reducer;function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){FY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FY(e,t,n){return(t=GY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bh=Math.PI/180,WY=e=>e*180/Math.PI,kn=(e,t,n,r)=>({x:e+Math.cos(-bh*r)*n,y:t+Math.sin(-bh*r)*n}),YY=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},VY=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},XY=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=VY({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var u=(n-i)/o,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:o,angle:WY(c),angleInRadian:c}},QY=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},ZY=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},JY=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=XY({x:n,y:r},t),{innerRadius:o,outerRadius:u}=t;if(i<o||i>u||i===0)return null;var{startAngle:c,endAngle:f}=QY(t),d=a,p;if(c<=f){for(;d>f;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=f}else{for(;d>c;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=c}return p?EM(EM({},t),{},{radius:i,angle:ZY(d,t)}):null};function p3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){eV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eV(e,t,n){return(t=tV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yn(e,t,n){return kt(e)||kt(t)?n:Li(t)?wl(e,t,n):typeof t=="function"?t(e):n}var rV=(e,t,n,r,i)=>{var a,o=-1,u=(a=t?.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var f=c>0?n[c-1].coordinate:n[u-1].coordinate,d=n[c].coordinate,p=c>=u-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(er(d-f)!==er(p-d)){var y=[];if(er(p-d)===er(i[1]-i[0])){v=p;var b=d+i[1]-i[0];y[0]=Math.min(b,(b+f)/2),y[1]=Math.max(b,(b+f)/2)}else{v=f;var x=p+i[1]-i[0];y[0]=Math.min(d,(x+d)/2),y[1]=Math.max(d,(x+d)/2)}var S=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:o}=n[c]);break}}else{var _=Math.min(f,p),E=Math.max(f,p);if(e>(_+d)/2&&e<=(E+d)/2){({index:o}=n[c]);break}}}else if(t){for(var O=0;O<u;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<u-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===u-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:o}=t[O]);break}}return o},iV=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&Be(e[a]))return Gr(Gr({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&Be(e[o]))return Gr(Gr({},e),{},{[o]:e[o]+(i||0)})}return e},ps=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",m3=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,o=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||o.push(t),a||o.push(n),o},g3=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:u,isCategorical:c,categoricalDomain:f,tickCount:d,ticks:p,niceTicks:v,axisType:y}=e;if(!o)return null;var b=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=i==="category"&&o.bandwidth?o.bandwidth()/b:0;if(x=y==="angleAxis"&&a&&a.length>=2?er(a[0]-a[1])*2*x:x,p||v){var S=(p||v||[]).map((_,E)=>{var O=r?r.indexOf(_):_;return{coordinate:o(O)+x,value:_,offset:x,index:E}});return S.filter(_=>!_r(_.coordinate))}return c&&f?f.map((_,E)=>({coordinate:o(_)+x,value:_,index:E,offset:x})):o.ticks&&d!=null?o.ticks(d).map((_,E)=>({coordinate:o(_)+x,value:_,offset:x,index:E})):o.domain().map((_,E)=>({coordinate:o(_)+x,value:r?r[_]:_,index:E,offset:x}))},OM=1e-4,aV=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-OM,a=Math.max(r[0],r[1])+OM,o=e(t[0]),u=e(t[n-1]);(o<i||o>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},sV=(e,t)=>{if(!t||t.length!==2||!Be(t[0])||!Be(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Be(e[0])||e[0]<n)&&(i[0]=n),(!Be(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},oV=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var u=_r(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=i,e[o][n][1]=i+u,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+u,a=e[o][n][1])}},lV=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=_r(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},uV={sign:oV,expand:q9,none:Sl,silhouette:I9,wiggle:B9,positive:lV},cV=(e,t,n)=>{var r=uV[n],i=L9().keys(t).value((a,o)=>+yn(a,o,0)).order(s_).offset(r);return i(e)};function fV(e){return e==null?void 0:String(e)}function TM(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kt(i[t.dataKey])){var u=oz(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=yn(i,kt(o)?t.dataKey:o);return kt(c)?null:t.scale(c)}var NM=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var u=yn(a,t.dataKey,t.scale.domain()[o]);return kt(u)?null:t.scale(u)-i/2+r},dV=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},hV=e=>{var t=e.flat(2).filter(Be);return[Math.min(...t),Math.max(...t)]},pV=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],mV=(e,t,n)=>{if(e!=null)return pV(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,u=o.reduce((c,f)=>{var d=p3(f,t,n),p=hV(d);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},kM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=hp(t,d=>d.coordinate),a=1/0,o=1,u=i.length;o<u;o++){var c=i[o],f=i[o-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function MM(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Gr(Gr({},t),{},{dataKey:n,payload:r,value:i,name:a})}function bp(e,t){if(e)return String(e);if(typeof t=="string")return t}function gV(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?JY({x:e,y:t},r):null}var vV=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Gr(Gr(Gr({},r),kn(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,{angle:c}=r;return Gr(Gr(Gr({},r),kn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{x:0,y:0}},yV=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ba=e=>e.layout.width,xa=e=>e.layout.height,bV=e=>e.layout.scale,v3=e=>e.layout.margin,xp=pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),wp=pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xV="data-recharts-item-index",wV="data-recharts-item-data-key",$c=60;function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(n),!0).forEach(function(r){SV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SV(e,t,n){return(t=_V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _V(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EV=e=>e.brush.height;function AV(e){var t=wp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:$c;return n+i}return n},0)}function OV(e){var t=wp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:$c;return n+i}return n},0)}function TV(e){var t=xp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function NV(e){var t=xp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var bn=pe([ba,xa,v3,EV,AV,OV,TV,NV,Uz,HW],(e,t,n,r,i,a,o,u,c,f)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+u},v=Ad(Ad({},p),d),y=v.bottom;v.bottom+=r,v=iV(v,c,f);var b=e-v.left-v.right,x=t-v.top-v.bottom;return Ad(Ad({brushBottom:y},v),{},{width:Math.max(b,0),height:Math.max(x,0)})}),kV=pe(bn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),$j=pe(ba,xa,(e,t)=>({x:0,y:0,width:e,height:t})),CV=j.createContext(null),rr=()=>j.useContext(CV)!=null,Sp=e=>e.brush,_p=pe([Sp,bn,v3],(e,t,n)=>({height:e.height,x:Be(e.x)?e.x:t.left,y:Be(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Be(e.width)?e.width:t.width})),zj=()=>{var e,t=rr(),n=Le(kV),r=Le(_p),i=(e=Le(Sp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},MV={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},y3=()=>{var e;return(e=Le(bn))!==null&&e!==void 0?e:MV},Uj=()=>Le(ba),Hj=()=>Le(xa),RV=()=>Le(e=>e.layout.margin),ut=e=>e.layout.layoutType,jp=()=>Le(ut),DV={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},b3=Tr({name:"legend",initialState:DV,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=ca(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:DM,setLegendSettings:PV,addLegendPayload:LV,removeLegendPayload:qV}=b3.actions,IV=b3.reducer,BV=["contextPayload"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(null,arguments)}function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(r){Fj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fj(e,t,n){return(t=$V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $V(e){var t=zV(e,"string");return typeof t=="symbol"?t:t+""}function zV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UV(e,t){if(e==null)return{};var n,r,i=HV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FV(e){return e.value}function GV(e){var{contextPayload:t}=e,n=UV(e,BV),r=qz(t,e.payloadUniqBy,FV),i=jl(jl({},n),{},{payload:r});return j.isValidElement(e.content)?j.cloneElement(e.content,i):typeof e.content=="function"?j.createElement(e.content,i):j.createElement(Cj,i)}function KV(e,t,n,r,i,a){var{layout:o,align:u,verticalAlign:c}=t,f,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&o==="vertical"?f={left:((r||0)-a.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),jl(jl({},f),d)}function WV(e){var t=en();return j.useEffect(()=>{t(PV(e))},[t,e]),null}function YV(e){var t=en();return j.useEffect(()=>(t(DM(e)),()=>{t(DM({width:0,height:0}))}),[t,e]),null}function VV(e){var t=KW(),n=s9(),r=RV(),{width:i,height:a,wrapperStyle:o,portal:u}=e,[c,f]=Hz([t]),d=Uj(),p=Hj();if(d==null||p==null)return null;var v=d-(r.left||0)-(r.right||0),y=Ep.getWidthOrHeight(e.layout,a,i,v),b=u?o:jl(jl({position:"absolute",width:y?.width||i||"auto",height:y?.height||a||"auto"},KV(o,e,r,d,p,c)),o),x=u??n;if(x==null)return null;var S=j.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},j.createElement(WV,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(YV,{width:c.width,height:c.height}),j.createElement(GV,v_({},e,y,{margin:r,chartWidth:d,chartHeight:p,contextPayload:t})));return Lc.createPortal(S,x)}class Ep extends j.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&Be(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return j.createElement(VV,this.props)}}Fj(Ep,"displayName","Legend");Fj(Ep,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(null,arguments)}function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(r){XV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XV(e,t,n){return(t=QV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QV(e){var t=ZV(e,"string");return typeof t=="symbol"?t:t+""}function ZV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JV(e){return Array.isArray(e)&&Li(e[0])&&Li(e[1])?e.join(" ~ "):e}var eX=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:u,wrapperClassName:c,labelClassName:f,label:d,labelFormatter:p,accessibilityLayer:v=!1}=e,y=()=>{if(a&&a.length){var N={padding:0,margin:0},k=(u?hp(a,u):a).map((M,D)=>{if(M.type==="none")return null;var R=M.formatter||o||JV,{value:C,name:L}=M,I=C,U=L;if(R){var P=R(C,L,M,D,a);if(Array.isArray(P))[I,U]=P;else if(P!=null)I=P;else return null}var H=Ny({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:H},Li(U)?j.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Li(U)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},I),j.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},b=Ny({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=Ny({margin:0},i),S=!kt(d),_=S?d:"",E=pt("recharts-default-tooltip",c),O=pt("recharts-tooltip-label",f);S&&p&&a!==void 0&&a!==null&&(_=p(d,a));var T=v?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",y_({className:E,style:b},T),j.createElement("p",{className:O,style:x},j.isValidElement(_)?_:"".concat(_)),y())},Uu="recharts-tooltip-wrapper",tX={visibility:"hidden"};function nX(e){var{coordinate:t,translateX:n,translateY:r}=e;return pt(Uu,{["".concat(Uu,"-right")]:Be(n)&&t&&Be(t.x)&&n>=t.x,["".concat(Uu,"-left")]:Be(n)&&t&&Be(t.x)&&n<t.x,["".concat(Uu,"-bottom")]:Be(r)&&t&&Be(t.y)&&r>=t.y,["".concat(Uu,"-top")]:Be(r)&&t&&Be(t.y)&&r<t.y})}function qM(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=e;if(a&&Be(a[r]))return a[r];var d=n[r]-u-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?d:p;var v=c[r];if(v==null)return 0;if(o[r]){var y=d,b=v;return y<b?Math.max(p,v):Math.max(d,v)}if(f==null)return 0;var x=p+u,S=v+f;return x>S?Math.max(d,v):Math.max(p,v)}function rX(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function iX(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:u,viewBox:c}=e,f,d,p;return o.height>0&&o.width>0&&n?(d=qM({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=qM({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=rX({translateX:d,translateY:p,useTranslate3d:u})):f=tX,{cssProperties:f,cssClasses:nX({translateX:d,translateY:p,coordinate:n})}}function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(r){b_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b_(e,t,n){return(t=aX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oX extends j.PureComponent{constructor(){super(...arguments),b_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),b_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:u,isAnimationActive:c,offset:f,position:d,reverseDirection:p,useTranslate3d:v,viewBox:y,wrapperStyle:b,lastBoundingBox:x,innerRef:S,hasPortalFromProps:_}=this.props,{cssClasses:E,cssProperties:O}=iX({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:d,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:v,viewBox:y}),T=_?{}:Od(Od({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),N=Od(Od({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},b);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:N,ref:S},a)}}var lX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yo={devToolsEnabled:!1,isSsr:lX()},x3=()=>Le(e=>e.rootProps.accessibilityLayer);function Er(e){return Number.isFinite(e)}function xh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x_.apply(null,arguments)}function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(n),!0).forEach(function(r){uX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uX(e,t,n){return(t=cX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zM={curveBasisClosed:E9,curveBasisOpen:A9,curveBasis:j9,curveBumpX:c9,curveBumpY:f9,curveLinearClosed:O9,curveLinear:fp,curveMonotoneX:T9,curveMonotoneY:N9,curveNatural:k9,curveStep:C9,curveStepAfter:R9,curveStepBefore:M9},Td=e=>Er(e.x)&&Er(e.y),Hu=e=>e.x,Fu=e=>e.y,dX=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(qc(e));return(n==="curveMonotone"||n==="curveBump")&&t?zM["".concat(n).concat(t==="vertical"?"Y":"X")]:zM[n]||fp},hX=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=dX(t,i),u=a?n.filter(Td):n,c;if(Array.isArray(r)){var f=a?r.filter(p=>Td(p)):r,d=u.map((p,v)=>$M($M({},p),{},{base:f[v]}));return i==="vertical"?c=xd().y(Fu).x1(Hu).x0(p=>p.base.x):c=xd().x(Hu).y1(Fu).y0(p=>p.base.y),c.defined(Td).curve(o),c(d)}return i==="vertical"&&Be(r)?c=xd().y(Fu).x1(Hu).x0(r):Be(r)?c=xd().x(Hu).y1(Fu).y0(r):c=vz().x(Hu).y(Fu),c.defined(Td).curve(o),c(u)},w3=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?hX(e):r;return j.createElement("path",x_({},hs(e),jj(e),{className:pt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},pX=["x","y","top","left","width","height","className"];function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w_.apply(null,arguments)}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){gX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gX(e,t,n){return(t=vX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bX(e,t){if(e==null)return{};var n,r,i=xX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wX=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),SX=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:u}=e,c=bX(e,pX),f=mX({x:t,y:n,top:r,left:i,width:a,height:o},c);return!Be(t)||!Be(n)||!Be(a)||!Be(o)||!Be(r)||!Be(i)?null:j.createElement("path",w_({},Yt(f,!0),{className:pt("recharts-cross",u),d:wX(t,n,a,o,r,i)}))};function _X(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function HM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(n),!0).forEach(function(r){EX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EX(e,t,n){return(t=AX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ir(e,t){var n=jX({},e),r=t,i=Object.keys(t),a=i.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return a}function TX(){}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(r){NX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NX(e,t,n){return(t=kX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kX(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MX=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),S3=(e,t,n)=>e.map(r=>"".concat(MX(r)," ").concat(t,"ms ").concat(n)).join(","),RX=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),_c=(e,t)=>Object.keys(t).reduce((n,r)=>GM(GM({},n),{},{[r]:e(r,t[r])}),{});function KM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(n),!0).forEach(function(r){DX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DX(e,t,n){return(t=PX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wh=(e,t,n)=>e+(t-e)*n,S_=e=>{var{from:t,to:n}=e;return t!==n},_3=(e,t,n)=>{var r=_c((i,a)=>{if(S_(a)){var[o,u]=e(a.from,a.to,a.velocity);return Tn(Tn({},a),{},{from:o,velocity:u})}return a},t);return n<1?_c((i,a)=>S_(a)?Tn(Tn({},a),{},{velocity:wh(a.velocity,r[i].velocity,n),from:wh(a.from,r[i].from,n)}):a,t):_3(e,r,n-1)};function qX(e,t,n,r,i,a){var o,u=r.reduce((v,y)=>Tn(Tn({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),c=()=>_c((v,y)=>y.from,u),f=()=>!Object.values(u).filter(S_).length,d=null,p=v=>{o||(o=v);var y=v-o,b=y/n.dt;u=_3(n,u,b),i(Tn(Tn(Tn({},e),t),c())),o=v,f()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{d()})}function IX(e,t,n,r,i,a,o){var u=null,c=i.reduce((p,v)=>Tn(Tn({},p),{},{[v]:[e[v],t[v]]}),{}),f,d=p=>{f||(f=p);var v=(p-f)/r,y=_c((x,S)=>wh(...S,n(v)),c);if(a(Tn(Tn(Tn({},e),t),y)),v<1)u=o.setTimeout(d);else{var b=_c((x,S)=>wh(...S,n(1)),c);a(Tn(Tn(Tn({},e),t),b))}};return()=>(u=o.setTimeout(d),()=>{u()})}const BX=(e,t,n,r,i,a)=>{var o=RX(e,t);return n.isStepper===!0?qX(e,t,n,o,i,a):IX(e,t,n,r,o,i,a)};var Sh=1e-4,j3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],E3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),WM=(e,t)=>n=>{var r=j3(e,t);return E3(r,n)},$X=(e,t)=>n=>{var r=j3(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return E3(i,n)},YM=function(){for(var t,n,r,i,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,r,n,i]=c[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else o.length===4&&([t,r,n,i]=o);var f=WM(t,n),d=WM(r,i),p=$X(t,n),v=b=>b>1?1:b<0?0:b,y=b=>{for(var x=b>1?1:b,S=x,_=0;_<8;++_){var E=f(S)-x,O=p(S);if(Math.abs(E-x)<Sh||O<Sh)return d(S);S=v(S-E/O)}return d(S)};return y.isStepper=!1,y},zX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,u,c)=>{var f=-(o-u)*n,d=c*r,p=c+(f-d)*i/1e3,v=c*i/1e3+o;return Math.abs(v-u)<Sh&&Math.abs(p)<Sh?[u,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},UX=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YM(e);case"spring":return zX();default:if(e.split("(")[0]==="cubic-bezier")return YM(e)}return typeof e=="function"?e:null};function HX(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[c,...f]=u;if(typeof c=="number"){i=e.setTimeout(a.bind(null,f),c);return}a(c),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class FX{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function GX(){return HX(new FX)}var KX=j.createContext(GX);function WX(e,t){var n=j.useContext(KX);return j.useMemo(()=>t??n(e),[e,t,n])}var YX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VM={t:0},ky={t:1};function Ap(e){var t=ir(e,YX),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:c,children:f}=t,d=WX(t.animationId,t.animationManager),[p,v]=j.useState(n?VM:ky),y=j.useRef(null);return j.useEffect(()=>{n||v(ky)},[n]),j.useEffect(()=>{if(!n||!r)return TX;var b=BX(VM,ky,UX(a),i,v,d.getTimeoutController()),x=()=>{y.current=b()};return d.start([c,o,x,i,u]),()=>{d.stop(),y.current&&y.current(),u()}},[n,r,i,a,o,c,u,d]),f(p.t)}function Op(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(bc(t)),r=j.useRef(e);return r.current!==e&&(n.current=bc(t),r.current=e),n.current}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(r){VX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VX(e,t,n){return(t=XX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_h.apply(null,arguments)}var ZM=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,v=4;p<v;p++)d[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+u*d[0],",").concat(t)),f+="L ".concat(e+n-u*d[1],",").concat(t),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+o*d[1])),f+="L ".concat(e+n,",").concat(t+r-o*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-u*d[2],",").concat(t+r)),f+="L ".concat(e+u*d[3],",").concat(t+r),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-o*d[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);f="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+n-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n-u*y,",").concat(t+r,`
            L `).concat(e+u*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},ZX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A3=e=>{var t=ir(e,ZX),n=j.useRef(null),[r,i]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&i(P)}catch{}},[]);var{x:a,y:o,width:u,height:c,radius:f,className:d}=t,{animationEasing:p,animationDuration:v,animationBegin:y,isAnimationActive:b,isUpdateAnimationActive:x}=t,S=j.useRef(u),_=j.useRef(c),E=j.useRef(a),O=j.useRef(o),T=j.useMemo(()=>({x:a,y:o,width:u,height:c,radius:f}),[a,o,u,c,f]),N=Op(T,"rectangle-");if(a!==+a||o!==+o||u!==+u||c!==+c||u===0||c===0)return null;var k=pt("recharts-rectangle",d);if(!x)return j.createElement("path",_h({},Yt(t,!0),{className:k,d:ZM(a,o,u,c,f)}));var M=S.current,D=_.current,R=E.current,C=O.current,L="0px ".concat(r===-1?1:r,"px"),I="".concat(r,"px 0px"),U=S3(["strokeDasharray"],v,typeof p=="string"?p:void 0);return j.createElement(Ap,{animationId:N,key:N,canBegin:r>0,duration:v,easing:p,isActive:x,begin:y},P=>{var H=Zt(M,u,P),B=Zt(D,c,P),F=Zt(R,a,P),G=Zt(C,o,P);n.current&&(S.current=H,_.current=B,E.current=F,O.current=G);var K;return b?P>0?K={transition:U,strokeDasharray:I}:K={strokeDasharray:L}:K={strokeDasharray:I},j.createElement("path",_h({},Yt(t,!0),{className:k,d:ZM(F,G,H,B,f),ref:n,style:QM(QM({},K),t.style)}))})};function O3(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=kn(t,n,r,i),u=kn(t,n,r,a);return{points:[o,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},__.apply(null,arguments)}var JX=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Nd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:u,cornerIsExternal:c}=e,f=u*(o?1:-1)+r,d=Math.asin(u/f)/bh,p=c?i:i+a*d,v=kn(t,n,f,p),y=kn(t,n,r,p),b=c?i-a*d:i,x=kn(t,n,f*Math.cos(d*bh),b);return{center:v,circleTangency:y,lineTangency:x,theta:d}},T3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,u=JX(a,o),c=a+u,f=kn(t,n,i,a),d=kn(t,n,i,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var v=kn(t,n,r,a),y=kn(t,n,r,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},eQ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:f}=e,d=er(f-c),{circleTangency:p,lineTangency:v,theta:y}=Nd({cx:t,cy:n,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:u}),{circleTangency:b,lineTangency:x,theta:S}=Nd({cx:t,cy:n,radius:i,angle:f,sign:-d,cornerRadius:a,cornerIsExternal:u}),_=u?Math.abs(c-f):Math.abs(c-f)-y-S;if(_<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):T3({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:T,theta:N}=Nd({cx:t,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:k,lineTangency:M,theta:D}=Nd({cx:t,cy:n,radius:r,angle:f,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),R=u?Math.abs(c-f):Math.abs(c-f)-N-D;if(R<0&&a===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},tQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},N3=e=>{var t=ir(e,tQ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:d,className:p}=t;if(a<i||f===d)return null;var v=pt("recharts-sector",p),y=a-i,b=yi(o,y,0,!0),x;return b>0&&Math.abs(f-d)<360?x=eQ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,y/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:d}):x=T3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:d}),j.createElement("path",__({},Yt(t,!0),{className:v,d:x}))};function nQ(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:c,innerRadius:f,outerRadius:d,angle:p}=t,v=kn(u,c,f,p),y=kn(u,c,d,p);r=v.x,i=v.y,a=y.x,o=y.y}else return O3(t);return[{x:r,y:i},{x:a,y:o}]}var Cy={},My={},Ry={},JM;function rQ(){return JM||(JM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$z();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Ry)),Ry}var e2;function iQ(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rQ();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(My)),My}var t2;function aQ(){return t2||(t2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zz(),n=iQ();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=o;return c}e.range=r})(Cy)),Cy}var Dy,n2;function sQ(){return n2||(n2=1,Dy=aQ().range),Dy}var oQ=sQ();const k3=Or(oQ);function is(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gj(e){let t,n,r;e.length!==2?(t=is,n=(u,c)=>is(e(u),c),r=(u,c)=>e(u)-c):(t=e===is||e===lQ?e:uQ,n=e,r=e);function i(u,c,f=0,d=u.length){if(f<d){if(t(c,c)!==0)return d;do{const p=f+d>>>1;n(u[p],c)<0?f=p+1:d=p}while(f<d)}return f}function a(u,c,f=0,d=u.length){if(f<d){if(t(c,c)!==0)return d;do{const p=f+d>>>1;n(u[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function o(u,c,f=0,d=u.length){const p=i(u,c,f,d-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:o,right:a}}function uQ(){return 0}function C3(e){return e===null?NaN:+e}function*cQ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const fQ=Gj(is),zc=fQ.right;Gj(C3).center;class r2 extends Map{constructor(t,n=pQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(i2(this,t))}has(t){return super.has(i2(this,t))}set(t,n){return super.set(dQ(this,t),n)}delete(t){return super.delete(hQ(this,t))}}function i2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function dQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function hQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function pQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mQ(e=is){if(e===is)return M3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function M3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gQ=Math.sqrt(50),vQ=Math.sqrt(10),yQ=Math.sqrt(2);function jh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=gQ?10:a>=vQ?5:a>=yQ?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(e*f),c=Math.round(t*f),u/f<e&&++u,c/f>t&&--c,f=-f):(f=Math.pow(10,i)*o,u=Math.round(e/f),c=Math.round(t/f),u*f<e&&++u,c*f>t&&--c),c<u&&.5<=n&&n<2?jh(e,t,n*2):[u,c,f]}function j_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?jh(t,e,n):jh(e,t,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(o<0)for(let f=0;f<u;++f)c[f]=(a-f)/-o;else for(let f=0;f<u;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<u;++f)c[f]=(i+f)/-o;else for(let f=0;f<u;++f)c[f]=(i+f)*o;return c}function E_(e,t,n){return t=+t,e=+e,n=+n,jh(e,t,n)[2]}function A_(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?E_(t,e,n):E_(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function a2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function s2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function R3(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?M3:mQ(i);r>n;){if(r-n>600){const c=r-n+1,f=t-n+1,d=Math.log(c),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(t-f*p/c+v)),b=Math.min(r,Math.floor(t+(c-f)*p/c+v));R3(e,t,y,b,i)}const a=e[t];let o=n,u=r;for(Gu(e,n,t),i(e[r],a)>0&&Gu(e,n,r);o<u;){for(Gu(e,o,u),++o,--u;i(e[o],a)<0;)++o;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?Gu(e,n,u):(++u,Gu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Gu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function bQ(e,t,n){if(e=Float64Array.from(cQ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return s2(e);if(t>=1)return a2(e);var r,i=(r-1)*t,a=Math.floor(i),o=a2(R3(e,a).subarray(0,a+1)),u=s2(e.subarray(a+1));return o+(u-o)*(i-a)}}function xQ(e,t,n=C3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return o+(u-o)*(i-a)}}function wQ(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const O_=Symbol("implicit");function Kj(){var e=new r2,t=[],n=[],r=O_;function i(a){let o=e.get(a);if(o===void 0){if(r!==O_)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new r2;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Kj(t,n).unknown(r)},Zr.apply(i,arguments),i}function Wj(){var e=Kj().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,u=!1,c=0,f=0,d=.5;delete e.unknown;function p(){var v=t().length,y=i<r,b=y?i:r,x=y?r:i;a=(x-b)/Math.max(1,v-c+f*2),u&&(a=Math.floor(a)),b+=(x-b-a*(v-c))*d,o=a*(1-c),u&&(b=Math.round(b),o=Math.round(o));var S=wQ(v).map(function(_){return b+a*_});return n(y?S.reverse():S)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(v){return arguments.length?(u=!!v,p()):u},e.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},e.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},e.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},e.copy=function(){return Wj(t(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(d)},Zr.apply(p(),arguments)}function D3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return D3(t())},e}function SQ(){return D3(Wj.apply(null,arguments).paddingInner(1))}function Yj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function P3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Uc(){}var jc=.7,Eh=1/jc,vl="\\s*([+-]?\\d+)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Q=/^#([0-9a-f]{3,8})$/,jQ=new RegExp(`^rgb\\(${vl},${vl},${vl}\\)$`),EQ=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),AQ=new RegExp(`^rgba\\(${vl},${vl},${vl},${Ec}\\)$`),OQ=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${Ec}\\)$`),TQ=new RegExp(`^hsl\\(${Ec},${Pi},${Pi}\\)$`),NQ=new RegExp(`^hsla\\(${Ec},${Pi},${Pi},${Ec}\\)$`),o2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yj(Uc,uo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:l2,formatHex:l2,formatHex8:kQ,formatHsl:CQ,formatRgb:u2,toString:u2});function l2(){return this.rgb().formatHex()}function kQ(){return this.rgb().formatHex8()}function CQ(){return L3(this).formatHsl()}function u2(){return this.rgb().formatRgb()}function uo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_Q.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?c2(t):n===3?new tr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jQ.exec(e))?new tr(t[1],t[2],t[3],1):(t=EQ.exec(e))?new tr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AQ.exec(e))?kd(t[1],t[2],t[3],t[4]):(t=OQ.exec(e))?kd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=TQ.exec(e))?h2(t[1],t[2]/100,t[3]/100,1):(t=NQ.exec(e))?h2(t[1],t[2]/100,t[3]/100,t[4]):o2.hasOwnProperty(e)?c2(o2[e]):e==="transparent"?new tr(NaN,NaN,NaN,0):null}function c2(e){return new tr(e>>16&255,e>>8&255,e&255,1)}function kd(e,t,n,r){return r<=0&&(e=t=n=NaN),new tr(e,t,n,r)}function MQ(e){return e instanceof Uc||(e=uo(e)),e?(e=e.rgb(),new tr(e.r,e.g,e.b,e.opacity)):new tr}function T_(e,t,n,r){return arguments.length===1?MQ(e):new tr(e,t,n,r??1)}function tr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Yj(tr,T_,P3(Uc,{brighter(e){return e=e==null?Eh:Math.pow(Eh,e),new tr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jc:Math.pow(jc,e),new tr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tr(ro(this.r),ro(this.g),ro(this.b),Ah(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f2,formatHex:f2,formatHex8:RQ,formatRgb:d2,toString:d2}));function f2(){return`#${Qs(this.r)}${Qs(this.g)}${Qs(this.b)}`}function RQ(){return`#${Qs(this.r)}${Qs(this.g)}${Qs(this.b)}${Qs((isNaN(this.opacity)?1:this.opacity)*255)}`}function d2(){const e=Ah(this.opacity);return`${e===1?"rgb(":"rgba("}${ro(this.r)}, ${ro(this.g)}, ${ro(this.b)}${e===1?")":`, ${e})`}`}function Ah(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qs(e){return e=ro(e),(e<16?"0":"")+e.toString(16)}function h2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hi(e,t,n,r)}function L3(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof Uc||(e=uo(e)),!e)return new hi;if(e instanceof hi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,c=(a+i)/2;return u?(t===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-t)/u+2:o=(t-n)/u+4,u/=c<.5?a+i:2-a-i,o*=60):u=c>0&&c<1?0:o,new hi(o,u,c,e.opacity)}function DQ(e,t,n,r){return arguments.length===1?L3(e):new hi(e,t,n,r??1)}function hi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Yj(hi,DQ,P3(Uc,{brighter(e){return e=e==null?Eh:Math.pow(Eh,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jc:Math.pow(jc,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new tr(Py(e>=240?e-240:e+120,i,r),Py(e,i,r),Py(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new hi(p2(this.h),Cd(this.s),Cd(this.l),Ah(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ah(this.opacity);return`${e===1?"hsl(":"hsla("}${p2(this.h)}, ${Cd(this.s)*100}%, ${Cd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function p2(e){return e=(e||0)%360,e<0?e+360:e}function Cd(e){return Math.max(0,Math.min(1,e||0))}function Py(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vj=e=>()=>e;function PQ(e,t){return function(n){return e+n*t}}function LQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function qQ(e){return(e=+e)==1?q3:function(t,n){return n-t?LQ(t,n,e):Vj(isNaN(t)?n:t)}}function q3(e,t){var n=t-e;return n?PQ(e,n):Vj(isNaN(e)?t:e)}const Oh=(function e(t){var n=qQ(t);function r(i,a){var o=n((i=T_(i)).r,(a=T_(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=q3(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=u(d),i.b=c(d),i.opacity=f(d),i+""}}return r.gamma=e,r})(1);function IQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function BQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $Q(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Dl(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function zQ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function UQ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Dl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var N_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ly=new RegExp(N_.source,"g");function HQ(e){return function(){return e}}function FQ(e){return function(t){return e(t)+""}}function I3(e,t){var n=N_.lastIndex=Ly.lastIndex=0,r,i,a,o=-1,u=[],c=[];for(e=e+"",t=t+"";(r=N_.exec(e))&&(i=Ly.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,c.push({i:o,x:fi(r,i)})),n=Ly.lastIndex;return n<t.length&&(a=t.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?c[0]?FQ(c[0].x):HQ(t):(t=c.length,function(f){for(var d=0,p;d<t;++d)u[(p=c[d]).i]=p.x(f);return u.join("")})}function Dl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vj(t):(n==="number"?fi:n==="string"?(r=uo(t))?(t=r,Oh):I3:t instanceof uo?Oh:t instanceof Date?zQ:BQ(t)?IQ:Array.isArray(t)?$Q:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UQ:fi)(e,t)}function Xj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var m2=180/Math.PI,k_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function B3(e,t,n,r,i,a){var o,u,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*m2,skewX:Math.atan(c)*m2,scaleX:o,scaleY:u}}var Md;function GQ(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?k_:B3(t.a,t.b,t.c,t.d,t.e,t.f)}function KQ(e){return e==null||(Md||(Md=document.createElementNS("http://www.w3.org/2000/svg","g")),Md.setAttribute("transform",e),!(e=Md.transform.baseVal.consolidate()))?k_:(e=e.matrix,B3(e.a,e.b,e.c,e.d,e.e,e.f))}function $3(e,t,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,d,p,v,y,b){if(f!==p||d!==v){var x=y.push("translate(",null,t,null,n);b.push({i:x-4,x:fi(f,p)},{i:x-2,x:fi(d,v)})}else(p||v)&&y.push("translate("+p+t+v+n)}function o(f,d,p,v){f!==d?(f-d>180?d+=360:d-f>180&&(f+=360),v.push({i:p.push(i(p)+"rotate(",null,r)-2,x:fi(f,d)})):d&&p.push(i(p)+"rotate("+d+r)}function u(f,d,p,v){f!==d?v.push({i:p.push(i(p)+"skewX(",null,r)-2,x:fi(f,d)}):d&&p.push(i(p)+"skewX("+d+r)}function c(f,d,p,v,y,b){if(f!==p||d!==v){var x=y.push(i(y)+"scale(",null,",",null,")");b.push({i:x-4,x:fi(f,p)},{i:x-2,x:fi(d,v)})}else(p!==1||v!==1)&&y.push(i(y)+"scale("+p+","+v+")")}return function(f,d){var p=[],v=[];return f=e(f),d=e(d),a(f.translateX,f.translateY,d.translateX,d.translateY,p,v),o(f.rotate,d.rotate,p,v),u(f.skewX,d.skewX,p,v),c(f.scaleX,f.scaleY,d.scaleX,d.scaleY,p,v),f=d=null,function(y){for(var b=-1,x=v.length,S;++b<x;)p[(S=v[b]).i]=S.x(y);return p.join("")}}}var WQ=$3(GQ,"px, ","px)","deg)"),YQ=$3(KQ,", ",")",")"),VQ=1e-12;function g2(e){return((e=Math.exp(e))+1/e)/2}function XQ(e){return((e=Math.exp(e))-1/e)/2}function QQ(e){return((e=Math.exp(2*e))-1)/(e+1)}const ZQ=(function e(t,n,r){function i(a,o){var u=a[0],c=a[1],f=a[2],d=o[0],p=o[1],v=o[2],y=d-u,b=p-c,x=y*y+b*b,S,_;if(x<VQ)_=Math.log(v/f)/t,S=function(M){return[u+M*y,c+M*b,f*Math.exp(t*M*_)]};else{var E=Math.sqrt(x),O=(v*v-f*f+r*x)/(2*f*n*E),T=(v*v-f*f-r*x)/(2*v*n*E),N=Math.log(Math.sqrt(O*O+1)-O),k=Math.log(Math.sqrt(T*T+1)-T);_=(k-N)/t,S=function(M){var D=M*_,R=g2(N),C=f/(n*E)*(R*QQ(t*D+N)-XQ(N));return[u+C*y,c+C*b,f*R/g2(t*D+N)]}}return S.duration=_*1e3*t/Math.SQRT2,S}return i.rho=function(a){var o=Math.max(.001,+a),u=o*o,c=u*u;return e(o,u,c)},i})(Math.SQRT2,2,4);function JQ(e,t){t===void 0&&(t=e,e=Dl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function eZ(e){return function(){return e}}function Th(e){return+e}var v2=[0,1];function Un(e){return e}function C_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:eZ(isNaN(t)?NaN:.5)}function tZ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function nZ(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=C_(i,r),a=n(o,a)):(r=C_(r,i),a=n(a,o)),function(u){return a(r(u))}}function rZ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=C_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(u){var c=zc(e,u,1,r)-1;return a[c](i[c](u))}}function Hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tp(){var e=v2,t=v2,n=Dl,r,i,a,o=Un,u,c,f;function d(){var v=Math.min(e.length,t.length);return o!==Un&&(o=tZ(e[0],e[v-1])),u=v>2?rZ:nZ,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=u(e.map(r),t,n)))(r(o(v)))}return p.invert=function(v){return o(i((f||(f=u(t,e.map(r),fi)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,Th),d()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),d()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),n=Xj,d()},p.clamp=function(v){return arguments.length?(o=v?!0:Un,d()):o!==Un},p.interpolate=function(v){return arguments.length?(n=v,d()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,y){return r=v,i=y,d()}}function Qj(){return Tp()(Un,Un)}function iZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function El(e){return e=Nh(Math.abs(e)),e?e[1]:NaN}function aZ(e,t){return function(n,r){for(var i=n.length,a=[],o=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}function sZ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ac(e){if(!(t=oZ.exec(e)))throw new Error("invalid format: "+e);var t;return new Zj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ac.prototype=Zj.prototype;function Zj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lZ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var z3;function uZ(e,t){var n=Nh(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(z3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Nh(e,Math.max(0,t+a-1))[0]}function y2(e,t){var n=Nh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const b2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>y2(e*100,t),r:y2,s:uZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function x2(e){return e}var w2=Array.prototype.map,S2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cZ(e){var t=e.grouping===void 0||e.thousands===void 0?x2:aZ(w2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?x2:sZ(w2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Ac(p);var v=p.fill,y=p.align,b=p.sign,x=p.symbol,S=p.zero,_=p.width,E=p.comma,O=p.precision,T=p.trim,N=p.type;N==="n"?(E=!0,N="g"):b2[N]||(O===void 0&&(O=12),T=!0,N="g"),(S||v==="0"&&y==="=")&&(S=!0,v="0",y="=");var k=x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",M=x==="$"?r:/[%p]/.test(N)?o:"",D=b2[N],R=/[defgprs%]/.test(N);O=O===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function C(L){var I=k,U=M,P,H,B;if(N==="c")U=D(L)+U,L="";else{L=+L;var F=L<0||1/L<0;if(L=isNaN(L)?c:D(Math.abs(L),O),T&&(L=lZ(L)),F&&+L==0&&b!=="+"&&(F=!1),I=(F?b==="("?b:u:b==="-"||b==="("?"":b)+I,U=(N==="s"?S2[8+z3/3]:"")+U+(F&&b==="("?")":""),R){for(P=-1,H=L.length;++P<H;)if(B=L.charCodeAt(P),48>B||B>57){U=(B===46?i+L.slice(P+1):L.slice(P))+U,L=L.slice(0,P);break}}}E&&!S&&(L=t(L,1/0));var G=I.length+L.length+U.length,K=G<_?new Array(_-G+1).join(v):"";switch(E&&S&&(L=t(K+L,K.length?_-U.length:1/0),K=""),y){case"<":L=I+L+U+K;break;case"=":L=I+K+L+U;break;case"^":L=K.slice(0,G=K.length>>1)+I+L+U+K.slice(G);break;default:L=K+I+L+U;break}return a(L)}return C.toString=function(){return p+""},C}function d(p,v){var y=f((p=Ac(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(El(v)/3)))*3,x=Math.pow(10,-b),S=S2[8+b/3];return function(_){return y(x*_)+S}}return{format:f,formatPrefix:d}}var Rd,Jj,U3;fZ({thousands:",",grouping:[3],currency:["$",""]});function fZ(e){return Rd=cZ(e),Jj=Rd.format,U3=Rd.formatPrefix,Rd}function dZ(e){return Math.max(0,-El(Math.abs(e)))}function hZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(El(t)/3)))*3-El(Math.abs(e)))}function pZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,El(t)-El(e))+1}function H3(e,t,n,r){var i=A_(e,t,n),a;switch(r=Ac(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=hZ(i,o))&&(r.precision=a),U3(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=pZ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=dZ(i))&&(r.precision=a-(r.type==="%")*2);break}}return Jj(r)}function ms(e){var t=e.domain;return e.ticks=function(n){var r=t();return j_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return H3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],u=r[a],c,f,d=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);d-- >0;){if(f=E_(o,u,n),f===c)return r[i]=o,r[a]=u,t(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;c=f}return e},e}function F3(){var e=Qj();return e.copy=function(){return Hc(e,F3())},Zr.apply(e,arguments),ms(e)}function G3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Th),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return G3(e).unknown(t)},e=arguments.length?Array.from(e,Th):[0,1],ms(n)}function K3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function _2(e){return Math.log(e)}function j2(e){return Math.exp(e)}function mZ(e){return-Math.log(-e)}function gZ(e){return-Math.exp(-e)}function vZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yZ(e){return e===10?vZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function E2(e){return(t,n)=>-e(-t,n)}function eE(e){const t=e(_2,j2),n=t.domain;let r=10,i,a;function o(){return i=bZ(r),a=yZ(r),n()[0]<0?(i=E2(i),a=E2(a),e(mZ,gZ)):e(_2,j2),t}return t.base=function(u){return arguments.length?(r=+u,o()):r},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=u=>{const c=n();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let v=i(f),y=i(d),b,x;const S=u==null?10:+u;let _=[];if(!(r%1)&&y-v<S){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(b=1;b<r;++b)if(x=v<0?b/a(-v):b*a(v),!(x<f)){if(x>d)break;_.push(x)}}else for(;v<=y;++v)for(b=r-1;b>=1;--b)if(x=v>0?b/a(-v):b*a(v),!(x<f)){if(x>d)break;_.push(x)}_.length*2<S&&(_=j_(f,d,S))}else _=j_(v,y,Math.min(y-v,S)).map(a);return p?_.reverse():_},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ac(c)).precision==null&&(c.trim=!0),c=Jj(c)),u===1/0)return c;const f=Math.max(1,r*u/t.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?c(d):""}},t.nice=()=>n(K3(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function W3(){const e=eE(Tp()).domain([1,10]);return e.copy=()=>Hc(e,W3()).base(e.base()),Zr.apply(e,arguments),e}function A2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function O2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tE(e){var t=1,n=e(A2(t),O2(t));return n.constant=function(r){return arguments.length?e(A2(t=+r),O2(t)):t},ms(n)}function Y3(){var e=tE(Tp());return e.copy=function(){return Hc(e,Y3()).constant(e.constant())},Zr.apply(e,arguments)}function T2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wZ(e){return e<0?-e*e:e*e}function nE(e){var t=e(Un,Un),n=1;function r(){return n===1?e(Un,Un):n===.5?e(xZ,wZ):e(T2(n),T2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ms(t)}function rE(){var e=nE(Tp());return e.copy=function(){return Hc(e,rE()).exponent(e.exponent())},Zr.apply(e,arguments),e}function SZ(){return rE.apply(null,arguments).exponent(.5)}function N2(e){return Math.sign(e)*e*e}function _Z(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function V3(){var e=Qj(),t=[0,1],n=!1,r;function i(a){var o=_Z(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(N2(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Th)).map(N2)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Zr.apply(i,arguments),ms(i)}function X3(){var e=[],t=[],n=[],r;function i(){var o=0,u=Math.max(1,t.length);for(n=new Array(u-1);++o<u;)n[o-1]=xQ(e,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:t[zc(n,o)]}return a.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(is),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return X3().domain(e).range(t).unknown(r)},Zr.apply(a,arguments)}function Q3(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[zc(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,u()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},o.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Q3().domain([e,t]).range(i).unknown(a)},Zr.apply(ms(o),arguments)}function Z3(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[zc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Z3().domain(e).range(t).unknown(n)},Zr.apply(i,arguments)}const qy=new Date,Iy=new Date;function un(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return c;let f;do c.push(f=new Date(+a)),t(a,u),e(a);while(f<a&&a<o);return c},i.filter=a=>un(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!a(o););else for(;--u>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(qy.setTime(+a),Iy.setTime(+o),e(qy),e(Iy),Math.floor(n(qy,Iy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const kh=un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?un(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):kh);kh.range;const oa=1e3,Kr=oa*60,la=Kr*60,pa=la*24,iE=pa*7,k2=pa*30,By=pa*365,Zs=un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCSeconds());Zs.range;const aE=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oa)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getMinutes());aE.range;const sE=un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getUTCMinutes());sE.range;const oE=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oa-e.getMinutes()*Kr)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getHours());oE.range;const lE=un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCHours());lE.range;const Fc=un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/pa,e=>e.getDate()-1);Fc.range;const Np=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>e.getUTCDate()-1);Np.range;const J3=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>Math.floor(e/pa));J3.range;function bo(e){return un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/iE)}const kp=bo(0),Ch=bo(1),jZ=bo(2),EZ=bo(3),Al=bo(4),AZ=bo(5),OZ=bo(6);kp.range;Ch.range;jZ.range;EZ.range;Al.range;AZ.range;OZ.range;function xo(e){return un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/iE)}const Cp=xo(0),Mh=xo(1),TZ=xo(2),NZ=xo(3),Ol=xo(4),kZ=xo(5),CZ=xo(6);Cp.range;Mh.range;TZ.range;NZ.range;Ol.range;kZ.range;CZ.range;const uE=un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uE.range;const cE=un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cE.range;const ma=un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ma.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ma.range;const ga=un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ga.range;function eU(e,t,n,r,i,a){const o=[[Zs,1,oa],[Zs,5,5*oa],[Zs,15,15*oa],[Zs,30,30*oa],[a,1,Kr],[a,5,5*Kr],[a,15,15*Kr],[a,30,30*Kr],[i,1,la],[i,3,3*la],[i,6,6*la],[i,12,12*la],[r,1,pa],[r,2,2*pa],[n,1,iE],[t,1,k2],[t,3,3*k2],[e,1,By]];function u(f,d,p){const v=d<f;v&&([f,d]=[d,f]);const y=p&&typeof p.range=="function"?p:c(f,d,p),b=y?y.range(f,+d+1):[];return v?b.reverse():b}function c(f,d,p){const v=Math.abs(d-f)/p,y=Gj(([,,S])=>S).right(o,v);if(y===o.length)return e.every(A_(f/By,d/By,p));if(y===0)return kh.every(Math.max(A_(f,d,p),1));const[b,x]=o[v/o[y-1][2]<o[y][2]/v?y-1:y];return b.every(x)}return[u,c]}const[MZ,RZ]=eU(ga,cE,Cp,J3,lE,sE),[DZ,PZ]=eU(ma,uE,kp,Fc,oE,aE);function $y(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ku(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function LZ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,c=e.shortMonths,f=Wu(i),d=Yu(i),p=Wu(a),v=Yu(a),y=Wu(o),b=Yu(o),x=Wu(u),S=Yu(u),_=Wu(c),E=Yu(c),O={a:F,A:G,b:K,B:$,c:null,d:L2,e:L2,f:aJ,g:mJ,G:vJ,H:nJ,I:rJ,j:iJ,L:tU,m:sJ,M:oJ,p:W,q:X,Q:B2,s:$2,S:lJ,u:uJ,U:cJ,V:fJ,w:dJ,W:hJ,x:null,X:null,y:pJ,Y:gJ,Z:yJ,"%":I2},T={a:ne,A:V,b:Q,B:Y,c:null,d:q2,e:q2,f:SJ,g:MJ,G:DJ,H:bJ,I:xJ,j:wJ,L:rU,m:_J,M:jJ,p:J,q:ae,Q:B2,s:$2,S:EJ,u:AJ,U:OJ,V:TJ,w:NJ,W:kJ,x:null,X:null,y:CJ,Y:RJ,Z:PJ,"%":I2},N={a:C,A:L,b:I,B:U,c:P,d:D2,e:D2,f:ZZ,g:R2,G:M2,H:P2,I:P2,j:YZ,L:QZ,m:WZ,M:VZ,p:R,q:KZ,Q:eJ,s:tJ,S:XZ,u:zZ,U:UZ,V:HZ,w:$Z,W:FZ,x:H,X:B,y:R2,Y:M2,Z:GZ,"%":JZ};O.x=k(n,O),O.X=k(r,O),O.c=k(t,O),T.x=k(n,T),T.X=k(r,T),T.c=k(t,T);function k(re,de){return function(ye){var le=[],Oe=-1,Se=0,be=re.length,Ce,xe,_e;for(ye instanceof Date||(ye=new Date(+ye));++Oe<be;)re.charCodeAt(Oe)===37&&(le.push(re.slice(Se,Oe)),(xe=C2[Ce=re.charAt(++Oe)])!=null?Ce=re.charAt(++Oe):xe=Ce==="e"?" ":"0",(_e=de[Ce])&&(Ce=_e(ye,xe)),le.push(Ce),Se=Oe+1);return le.push(re.slice(Se,Oe)),le.join("")}}function M(re,de){return function(ye){var le=Ku(1900,void 0,1),Oe=D(le,re,ye+="",0),Se,be;if(Oe!=ye.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(de&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Se=zy(Ku(le.y,0,1)),be=Se.getUTCDay(),Se=be>4||be===0?Mh.ceil(Se):Mh(Se),Se=Np.offset(Se,(le.V-1)*7),le.y=Se.getUTCFullYear(),le.m=Se.getUTCMonth(),le.d=Se.getUTCDate()+(le.w+6)%7):(Se=$y(Ku(le.y,0,1)),be=Se.getDay(),Se=be>4||be===0?Ch.ceil(Se):Ch(Se),Se=Fc.offset(Se,(le.V-1)*7),le.y=Se.getFullYear(),le.m=Se.getMonth(),le.d=Se.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),be="Z"in le?zy(Ku(le.y,0,1)).getUTCDay():$y(Ku(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(be+5)%7:le.w+le.U*7-(be+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,zy(le)):$y(le)}}function D(re,de,ye,le){for(var Oe=0,Se=de.length,be=ye.length,Ce,xe;Oe<Se;){if(le>=be)return-1;if(Ce=de.charCodeAt(Oe++),Ce===37){if(Ce=de.charAt(Oe++),xe=N[Ce in C2?de.charAt(Oe++):Ce],!xe||(le=xe(re,ye,le))<0)return-1}else if(Ce!=ye.charCodeAt(le++))return-1}return le}function R(re,de,ye){var le=f.exec(de.slice(ye));return le?(re.p=d.get(le[0].toLowerCase()),ye+le[0].length):-1}function C(re,de,ye){var le=y.exec(de.slice(ye));return le?(re.w=b.get(le[0].toLowerCase()),ye+le[0].length):-1}function L(re,de,ye){var le=p.exec(de.slice(ye));return le?(re.w=v.get(le[0].toLowerCase()),ye+le[0].length):-1}function I(re,de,ye){var le=_.exec(de.slice(ye));return le?(re.m=E.get(le[0].toLowerCase()),ye+le[0].length):-1}function U(re,de,ye){var le=x.exec(de.slice(ye));return le?(re.m=S.get(le[0].toLowerCase()),ye+le[0].length):-1}function P(re,de,ye){return D(re,t,de,ye)}function H(re,de,ye){return D(re,n,de,ye)}function B(re,de,ye){return D(re,r,de,ye)}function F(re){return o[re.getDay()]}function G(re){return a[re.getDay()]}function K(re){return c[re.getMonth()]}function $(re){return u[re.getMonth()]}function W(re){return i[+(re.getHours()>=12)]}function X(re){return 1+~~(re.getMonth()/3)}function ne(re){return o[re.getUTCDay()]}function V(re){return a[re.getUTCDay()]}function Q(re){return c[re.getUTCMonth()]}function Y(re){return u[re.getUTCMonth()]}function J(re){return i[+(re.getUTCHours()>=12)]}function ae(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var de=k(re+="",O);return de.toString=function(){return re},de},parse:function(re){var de=M(re+="",!1);return de.toString=function(){return re},de},utcFormat:function(re){var de=k(re+="",T);return de.toString=function(){return re},de},utcParse:function(re){var de=M(re+="",!0);return de.toString=function(){return re},de}}}var C2={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,qZ=/^%/,IZ=/[\\^$*+?|[\]().{}]/g;function st(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function BZ(e){return e.replace(IZ,"\\$&")}function Wu(e){return new RegExp("^(?:"+e.map(BZ).join("|")+")","i")}function Yu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function $Z(e,t,n){var r=xn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zZ(e,t,n){var r=xn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function UZ(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function HZ(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function FZ(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function M2(e,t,n){var r=xn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function R2(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function GZ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function KZ(e,t,n){var r=xn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function WZ(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function D2(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function YZ(e,t,n){var r=xn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function P2(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function VZ(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function XZ(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function QZ(e,t,n){var r=xn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ZZ(e,t,n){var r=xn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function JZ(e,t,n){var r=qZ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function eJ(e,t,n){var r=xn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function tJ(e,t,n){var r=xn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function L2(e,t){return st(e.getDate(),t,2)}function nJ(e,t){return st(e.getHours(),t,2)}function rJ(e,t){return st(e.getHours()%12||12,t,2)}function iJ(e,t){return st(1+Fc.count(ma(e),e),t,3)}function tU(e,t){return st(e.getMilliseconds(),t,3)}function aJ(e,t){return tU(e,t)+"000"}function sJ(e,t){return st(e.getMonth()+1,t,2)}function oJ(e,t){return st(e.getMinutes(),t,2)}function lJ(e,t){return st(e.getSeconds(),t,2)}function uJ(e){var t=e.getDay();return t===0?7:t}function cJ(e,t){return st(kp.count(ma(e)-1,e),t,2)}function nU(e){var t=e.getDay();return t>=4||t===0?Al(e):Al.ceil(e)}function fJ(e,t){return e=nU(e),st(Al.count(ma(e),e)+(ma(e).getDay()===4),t,2)}function dJ(e){return e.getDay()}function hJ(e,t){return st(Ch.count(ma(e)-1,e),t,2)}function pJ(e,t){return st(e.getFullYear()%100,t,2)}function mJ(e,t){return e=nU(e),st(e.getFullYear()%100,t,2)}function gJ(e,t){return st(e.getFullYear()%1e4,t,4)}function vJ(e,t){var n=e.getDay();return e=n>=4||n===0?Al(e):Al.ceil(e),st(e.getFullYear()%1e4,t,4)}function yJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+st(t/60|0,"0",2)+st(t%60,"0",2)}function q2(e,t){return st(e.getUTCDate(),t,2)}function bJ(e,t){return st(e.getUTCHours(),t,2)}function xJ(e,t){return st(e.getUTCHours()%12||12,t,2)}function wJ(e,t){return st(1+Np.count(ga(e),e),t,3)}function rU(e,t){return st(e.getUTCMilliseconds(),t,3)}function SJ(e,t){return rU(e,t)+"000"}function _J(e,t){return st(e.getUTCMonth()+1,t,2)}function jJ(e,t){return st(e.getUTCMinutes(),t,2)}function EJ(e,t){return st(e.getUTCSeconds(),t,2)}function AJ(e){var t=e.getUTCDay();return t===0?7:t}function OJ(e,t){return st(Cp.count(ga(e)-1,e),t,2)}function iU(e){var t=e.getUTCDay();return t>=4||t===0?Ol(e):Ol.ceil(e)}function TJ(e,t){return e=iU(e),st(Ol.count(ga(e),e)+(ga(e).getUTCDay()===4),t,2)}function NJ(e){return e.getUTCDay()}function kJ(e,t){return st(Mh.count(ga(e)-1,e),t,2)}function CJ(e,t){return st(e.getUTCFullYear()%100,t,2)}function MJ(e,t){return e=iU(e),st(e.getUTCFullYear()%100,t,2)}function RJ(e,t){return st(e.getUTCFullYear()%1e4,t,4)}function DJ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ol(e):Ol.ceil(e),st(e.getUTCFullYear()%1e4,t,4)}function PJ(){return"+0000"}function I2(){return"%"}function B2(e){return+e}function $2(e){return Math.floor(+e/1e3)}var ll,aU,sU;LJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LJ(e){return ll=LZ(e),aU=ll.format,ll.parse,sU=ll.utcFormat,ll.utcParse,ll}function qJ(e){return new Date(e)}function IJ(e){return e instanceof Date?+e:+new Date(+e)}function fE(e,t,n,r,i,a,o,u,c,f){var d=Qj(),p=d.invert,v=d.domain,y=f(".%L"),b=f(":%S"),x=f("%I:%M"),S=f("%I %p"),_=f("%a %d"),E=f("%b %d"),O=f("%B"),T=f("%Y");function N(k){return(c(k)<k?y:u(k)<k?b:o(k)<k?x:a(k)<k?S:r(k)<k?i(k)<k?_:E:n(k)<k?O:T)(k)}return d.invert=function(k){return new Date(p(k))},d.domain=function(k){return arguments.length?v(Array.from(k,IJ)):v().map(qJ)},d.ticks=function(k){var M=v();return e(M[0],M[M.length-1],k??10)},d.tickFormat=function(k,M){return M==null?N:f(M)},d.nice=function(k){var M=v();return(!k||typeof k.range!="function")&&(k=t(M[0],M[M.length-1],k??10)),k?v(K3(M,k)):d},d.copy=function(){return Hc(d,fE(e,t,n,r,i,a,o,u,c,f))},d}function BJ(){return Zr.apply(fE(DZ,PZ,ma,uE,kp,Fc,oE,aE,Zs,aU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $J(){return Zr.apply(fE(MZ,RZ,ga,cE,Cp,Np,lE,sE,Zs,sU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mp(){var e=0,t=1,n,r,i,a,o=Un,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(o=p,f):o};function d(p){return function(v){var y,b;return arguments.length?([y,b]=v,o=p(y,b),f):[o(0),o(1)]}}return f.range=d(Dl),f.rangeRound=d(Xj),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function gs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oU(){var e=ms(Mp()(Un));return e.copy=function(){return gs(e,oU())},wa.apply(e,arguments)}function lU(){var e=eE(Mp()).domain([1,10]);return e.copy=function(){return gs(e,lU()).base(e.base())},wa.apply(e,arguments)}function uU(){var e=tE(Mp());return e.copy=function(){return gs(e,uU()).constant(e.constant())},wa.apply(e,arguments)}function dE(){var e=nE(Mp());return e.copy=function(){return gs(e,dE()).exponent(e.exponent())},wa.apply(e,arguments)}function zJ(){return dE.apply(null,arguments).exponent(.5)}function cU(){var e=[],t=Un;function n(r){if(r!=null&&!isNaN(r=+r))return t((zc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(is),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>bQ(e,a/r))},n.copy=function(){return cU(t).domain(e)},wa.apply(n,arguments)}function Rp(){var e=0,t=.5,n=1,r=1,i,a,o,u,c,f=Un,d,p=!1,v;function y(x){return isNaN(x=+x)?v:(x=.5+((x=+d(x))-a)*(r*x<r*a?u:c),f(p?Math.max(0,Math.min(1,x)):x))}y.domain=function(x){return arguments.length?([e,t,n]=x,i=d(e=+e),a=d(t=+t),o=d(n=+n),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(x){return arguments.length?(p=!!x,y):p},y.interpolator=function(x){return arguments.length?(f=x,y):f};function b(x){return function(S){var _,E,O;return arguments.length?([_,E,O]=S,f=JQ(x,[_,E,O]),y):[f(0),f(.5),f(1)]}}return y.range=b(Dl),y.rangeRound=b(Xj),y.unknown=function(x){return arguments.length?(v=x,y):v},function(x){return d=x,i=x(e),a=x(t),o=x(n),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function fU(){var e=ms(Rp()(Un));return e.copy=function(){return gs(e,fU())},wa.apply(e,arguments)}function dU(){var e=eE(Rp()).domain([.1,1,10]);return e.copy=function(){return gs(e,dU()).base(e.base())},wa.apply(e,arguments)}function hU(){var e=tE(Rp());return e.copy=function(){return gs(e,hU()).constant(e.constant())},wa.apply(e,arguments)}function hE(){var e=nE(Rp());return e.copy=function(){return gs(e,hE()).exponent(e.exponent())},wa.apply(e,arguments)}function UJ(){return hE.apply(null,arguments).exponent(.5)}const oc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wj,scaleDiverging:fU,scaleDivergingLog:dU,scaleDivergingPow:hE,scaleDivergingSqrt:UJ,scaleDivergingSymlog:hU,scaleIdentity:G3,scaleImplicit:O_,scaleLinear:F3,scaleLog:W3,scaleOrdinal:Kj,scalePoint:SQ,scalePow:rE,scaleQuantile:X3,scaleQuantize:Q3,scaleRadial:V3,scaleSequential:oU,scaleSequentialLog:lU,scaleSequentialPow:dE,scaleSequentialQuantile:cU,scaleSequentialSqrt:zJ,scaleSequentialSymlog:uU,scaleSqrt:SZ,scaleSymlog:Y3,scaleThreshold:Z3,scaleTime:BJ,scaleUtc:$J,tickFormat:H3},Symbol.toStringTag,{value:"Module"}));var vs=e=>e.chartData,HJ=pe([vs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Dp=(e,t,n,r)=>r?HJ(e):vs(e);function Tl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Er(t)&&Er(n))return!0}return!1}function z2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function FJ(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Er(n))i=n;else if(typeof n=="function")return;if(Er(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Tl(o))return o}}function GJ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Tl(r))return z2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,u;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Be(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&kM.test(i)){var c=kM.exec(i);if(c==null||t==null)o=void 0;else{var f=+c[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(Be(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t?.[1]))}catch{}else if(typeof a=="string"&&CM.test(a)){var d=CM.exec(a);if(d==null||t==null)u=void 0;else{var p=+d[1];u=t[1]+p}}else u=t?.[1];var v=[o,u];if(Tl(v))return t==null?v:z2(v,t,n)}}}var Pl=1e9,KJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mE,Nt=!0,Xr="[DecimalError] ",io=Xr+"Invalid argument: ",pE=Xr+"Exponent out of range: ",Ll=Math.floor,Ks=Math.pow,WJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,vn=1e7,At=7,pU=9007199254740991,Rh=Ll(pU/At),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(e){return fa(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,n=t.constructor;return xt(fa(t,new n(e),0,1),n.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return Jt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(wr))throw Error(Xr+"NaN");if(n.s<1)throw Error(Xr+(n.s?"NaN":"-Infinity"));return n.eq(wr)?new r(0):(Nt=!1,t=fa(Oc(n,a),Oc(e,a),a),Nt=!0,xt(t,i))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vU(t,e):mU(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Xr+"NaN");return n.s?(Nt=!1,t=fa(n,e,0,1).times(e),Nt=!0,n.minus(t)):xt(new r(n),i)};ke.naturalExponential=ke.exp=function(){return gU(this)};ke.naturalLogarithm=ke.ln=function(){return Oc(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mU(t,e):vU(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(io+e);if(t=Jt(i)+1,r=i.d.length-1,n=r*At+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ke.squareRoot=ke.sqrt=function(){var e,t,n,r,i,a,o,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Xr+"NaN")}for(e=Jt(u),Nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Di(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ll((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(fa(u,a,o+2)).times(.5),Di(a.d).slice(0,o)===(t=Di(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(xt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;o+=4}return Nt=!0,xt(r,n)};ke.times=ke.mul=function(e){var t,n,r,i,a,o,u,c,f,d=this,p=d.constructor,v=d.d,y=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,n=d.e+e.e,c=v.length,f=y.length,c<f&&(a=v,v=y,y=a,o=c,c=f,f=o),a=[],o=c+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=c+r;i>r;)u=a[i]+y[r]*v[i-r-1]+t,a[i--]=u%vn|0,t=u/vn|0;a[i]=(a[i]+t)%vn|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Nt?xt(e,p.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(qi(e,0,Pl),t===void 0?t=r.rounding:qi(t,0,8),xt(n,e+Jt(n)+1,t))};ke.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=co(r,!0):(qi(e,0,Pl),t===void 0?t=i.rounding:qi(t,0,8),r=xt(new i(r),e+1,t),n=co(r,!0,e+1)),n};ke.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?co(i):(qi(e,0,Pl),t===void 0?t=a.rounding:qi(t,0,8),r=xt(new a(i),e+Jt(i)+1,t),n=co(r.abs(),!1,e+Jt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return xt(new t(e),Jt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,n,r,i,a,o,u=this,c=u.constructor,f=12,d=+(e=new c(e));if(!e.s)return new c(wr);if(u=new c(u),!u.s){if(e.s<1)throw Error(Xr+"Infinity");return u}if(u.eq(wr))return u;if(r=c.precision,e.eq(wr))return xt(u,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=u.s,o){if((n=d<0?-d:d)<=pU){for(i=new c(wr),t=Math.ceil(r/At+4),Nt=!1;n%2&&(i=i.times(u),H2(i.d,t)),n=Ll(n/2),n!==0;)u=u.times(u),H2(u.d,t);return Nt=!0,e.s<0?new c(wr).div(i):xt(i,r)}}else if(a<0)throw Error(Xr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Nt=!1,i=e.times(Oc(u,r+f)),Nt=!0,i=gU(i),i.s=a,i};ke.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Jt(i),r=co(i,n<=a.toExpNeg||n>=a.toExpPos)):(qi(e,1,Pl),t===void 0?t=a.rounding:qi(t,0,8),i=xt(new a(i),e,t),n=Jt(i),r=co(i,e<=n||n<=a.toExpNeg,e)),r};ke.toSignificantDigits=ke.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(qi(e,1,Pl),t===void 0?t=r.rounding:qi(t,0,8)),xt(new r(n),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jt(e),n=e.constructor;return co(e,t<=n.toExpNeg||t>=n.toExpPos)};function mU(e,t){var n,r,i,a,o,u,c,f,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Nt?xt(t,p):t;if(c=e.d,f=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,u=f.length):(r=f,i=o,u=c.length),o=Math.ceil(p/At),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/vn|0,c[a]%=vn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return t.d=c,t.e=i,Nt?xt(t,p):t}function qi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(io+e)}function Di(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=At-r.length,n&&(a+=Za(n)),a+=r;o=e[t],r=o+"",n=At-r.length,n&&(a+=Za(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var fa=(function(){function e(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%vn|0,o=a/vn|0;return o&&r.unshift(o),r}function t(r,i,a,o){var u,c;if(a!=o)c=a>o?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*vn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,c,f,d,p,v,y,b,x,S,_,E,O,T,N,k,M,D,R=r.constructor,C=r.s==i.s?1:-1,L=r.d,I=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Xr+"Division by zero");for(c=r.e-i.e,M=I.length,N=L.length,y=new R(C),b=y.d=[],f=0;I[f]==(L[f]||0);)++f;if(I[f]>(L[f]||0)&&--c,a==null?E=a=R.precision:o?E=a+(Jt(r)-Jt(i))+1:E=a,E<0)return new R(0);if(E=E/At+2|0,f=0,M==1)for(d=0,I=I[0],E++;(f<N||d)&&E--;f++)O=d*vn+(L[f]||0),b[f]=O/I|0,d=O%I|0;else{for(d=vn/(I[0]+1)|0,d>1&&(I=e(I,d),L=e(L,d),M=I.length,N=L.length),T=M,x=L.slice(0,M),S=x.length;S<M;)x[S++]=0;D=I.slice(),D.unshift(0),k=I[0],I[1]>=vn/2&&++k;do d=0,u=t(I,x,M,S),u<0?(_=x[0],M!=S&&(_=_*vn+(x[1]||0)),d=_/k|0,d>1?(d>=vn&&(d=vn-1),p=e(I,d),v=p.length,S=x.length,u=t(p,x,v,S),u==1&&(d--,n(p,M<v?D:I,v))):(d==0&&(u=d=1),p=I.slice()),v=p.length,v<S&&p.unshift(0),n(x,p,S),u==-1&&(S=x.length,u=t(I,x,M,S),u<1&&(d++,n(x,M<S?D:I,S))),S=x.length):u===0&&(d++,x=[0]),b[f++]=d,u&&x[0]?x[S++]=L[T]||0:(x=[L[T]],S=1);while((T++<N||x[0]!==void 0)&&E--)}return b[0]||b.shift(),y.e=c,xt(y,o?a+Jt(y)+1:a)}})();function gU(e,t){var n,r,i,a,o,u,c=0,f=0,d=e.constructor,p=d.precision;if(Jt(e)>16)throw Error(pE+Jt(e));if(!e.s)return new d(wr);for(Nt=!1,u=p,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(Ks(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new d(wr),d.precision=u;;){if(i=xt(i.times(e),u),n=n.times(++c),o=a.plus(fa(i,n,u)),Di(o.d).slice(0,u)===Di(a.d).slice(0,u)){for(;f--;)a=xt(a.times(a),u);return d.precision=p,t==null?(Nt=!0,xt(a,p)):a}a=o}}function Jt(e){for(var t=e.e*At,n=e.d[0];n>=10;n/=10)t++;return t}function Uy(e,t,n){if(t>e.LN10.sd())throw Nt=!0,n&&(e.precision=n),Error(Xr+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function Za(e){for(var t="";e--;)t+="0";return t}function Oc(e,t){var n,r,i,a,o,u,c,f,d,p=1,v=10,y=e,b=y.d,x=y.constructor,S=x.precision;if(y.s<1)throw Error(Xr+(y.s?"NaN":"-Infinity"));if(y.eq(wr))return new x(0);if(t==null?(Nt=!1,f=S):f=t,y.eq(10))return t==null&&(Nt=!0),Uy(x,f);if(f+=v,x.precision=f,n=Di(b),r=n.charAt(0),a=Jt(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=Di(y.d),r=n.charAt(0),p++;a=Jt(y),r>1?(y=new x("0."+n),a++):y=new x(r+"."+n.slice(1))}else return c=Uy(x,f+2,S).times(a+""),y=Oc(new x(r+"."+n.slice(1)),f-v).plus(c),x.precision=S,t==null?(Nt=!0,xt(y,S)):y;for(u=o=y=fa(y.minus(wr),y.plus(wr),f),d=xt(y.times(y),f),i=3;;){if(o=xt(o.times(d),f),c=u.plus(fa(o,new x(i),f)),Di(c.d).slice(0,f)===Di(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(Uy(x,f+2,S).times(a+""))),u=fa(u,new x(p),f),x.precision=S,t==null?(Nt=!0,xt(u,S)):u;u=c,i+=2}}function U2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ll(n/At),e.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=At;r<i;)e.d.push(+t.slice(r,r+=At));t=t.slice(r),r=At-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Nt&&(e.e>Rh||e.e<-Rh))throw Error(pE+n)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,n){var r,i,a,o,u,c,f,d,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=At,i=t,f=p[d=0];else{if(d=Math.ceil((r+1)/At),a=p.length,d>=a)return e;for(f=a=p[d],o=1;a>=10;a/=10)o++;r%=At,i=r-At+o}if(n!==void 0&&(a=Ks(10,o-i-1),u=f/a%10|0,c=t<0||p[d+1]!==void 0||f%a,c=n<4?(u||c)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Ks(10,o-i):0:p[d-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return c?(a=Jt(e),p.length=1,t=t-a-1,p[0]=Ks(10,(At-t%At)%At),e.e=Ll(-t/At)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=Ks(10,At-r),p[d]=i>0?(f/Ks(10,o-i)%Ks(10,i)|0)*a:0),c)for(;;)if(d==0){(p[0]+=a)==vn&&(p[0]=1,++e.e);break}else{if(p[d]+=a,p[d]!=vn)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Nt&&(e.e>Rh||e.e<-Rh))throw Error(pE+Jt(e));return e}function vU(e,t){var n,r,i,a,o,u,c,f,d,p,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Nt?xt(t,y):t;if(c=e.d,p=t.d,r=t.e,f=e.e,c=c.slice(),o=f-r,o){for(d=o<0,d?(n=c,o=-o,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(y/At),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,d=i<u,d&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}o=0}for(d&&(n=c,c=p,p=n,t.s=-t.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=vn-1;--c[a],c[i]+=vn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Nt?xt(t,y):t):new v(0)}function co(e,t,n){var r,i=Jt(e),a=Di(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Za(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Za(-i-1)+a,n&&(r=n-o)>0&&(a+=Za(r))):i>=o?(a+=Za(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Za(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Za(r))),e.s<0?"-"+a:a}function H2(e,t){if(e.length>t)return e.length=t,!0}function yU(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(io+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return U2(o,a.toString())}else if(typeof a!="string")throw Error(io+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,WJ.test(a))U2(o,a);else throw Error(io+a)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yU,i.config=i.set=YJ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function YJ(e){if(!e||typeof e!="object")throw Error(Xr+"Object expected");var t,n,r,i=["precision",1,Pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ll(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(io+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(io+n+": "+r);return this}var mE=yU(KJ);wr=new mE(1);const ht=mE;var VJ=e=>e,bU={},xU=e=>e===bU,F2=e=>function t(){return arguments.length===0||arguments.length===1&&xU(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wU=(e,t)=>e===1?t:F2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==bU).length;return a>=e?t(...r):wU(e-a,F2(function(){for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];var f=r.map(d=>xU(d)?u.shift():d);return t(...f,...u)}))}),Pp=e=>wU(e.length,e),M_=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},XJ=Pp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),QJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return VJ;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((u,c)=>c(u),a(...arguments))}},R_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),SU=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((o,u)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[u])})||(t=i,n=e(...i)),n}};function _U(e){var t;return e===0?t=1:t=Math.floor(new ht(e).abs().log(10).toNumber())+1,t}function jU(e,t,n){for(var r=new ht(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Pp((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Pp((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Pp((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var EU=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},AU=(e,t,n)=>{if(e.lte(0))return new ht(0);var r=_U(e.toNumber()),i=new ht(10).pow(r),a=e.div(i),o=r!==1?.05:.1,u=new ht(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=u.mul(i);return t?new ht(c.toNumber()):new ht(Math.ceil(c.toNumber()))},ZJ=(e,t,n)=>{var r=new ht(1),i=new ht(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new ht(10).pow(_U(e)-1),i=new ht(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ht(Math.floor(e)))}else e===0?i=new ht(Math.floor((t-1)/2)):n||(i=new ht(Math.floor(e)));var o=Math.floor((t-1)/2),u=QJ(XJ(c=>i.add(new ht(c-o).mul(r)).toNumber()),M_);return u(0,t)},OU=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var o=AU(new ht(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new ht(0):(u=new ht(t).add(n).div(2),u=u.sub(new ht(u).mod(o)));var c=Math.ceil(u.sub(t).div(o).toNumber()),f=Math.ceil(new ht(n).sub(u).div(o).toNumber()),d=c+f+1;return d>r?OU(t,n,r,i,a+1):(d<r&&(f=n>0?f+(r-d):f,c=n>0?c:c+(r-d)),{step:o,tickMin:u.sub(new ht(c).mul(o)),tickMax:u.add(new ht(f).mul(o))})};function JJ(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,u]=EU([t,n]);if(o===-1/0||u===1/0){var c=u===1/0?[o,...M_(0,r-1).map(()=>1/0)]:[...M_(0,r-1).map(()=>-1/0),u];return t>n?R_(c):c}if(o===u)return ZJ(o,r,i);var{step:f,tickMin:d,tickMax:p}=OU(o,u,a,i,0),v=jU(d,p.add(new ht(.1).mul(f)),f);return t>n?R_(v):v}function eee(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=EU([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var u=Math.max(t,2),c=AU(new ht(o).sub(a).div(u-1),i,0),f=[...jU(new ht(a),new ht(o),c),o];return i===!1&&(f=f.map(d=>Math.round(d))),n>r?R_(f):f}var tee=SU(JJ),nee=SU(eee),TU=e=>e.rootProps.maxBarSize,ree=e=>e.rootProps.barGap,NU=e=>e.rootProps.barCategoryGap,iee=e=>e.rootProps.barSize,Lp=e=>e.rootProps.stackOffset,gE=e=>e.options.chartName,vE=e=>e.rootProps.syncId,kU=e=>e.rootProps.syncMethod,yE=e=>e.options.eventEmitter,aa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},br={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},aee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:aa.angleAxisId,includeHidden:!1,name:void 0,reversed:aa.reversed,scale:aa.scale,tick:aa.tick,tickCount:void 0,ticks:void 0,type:aa.type,unit:void 0},see={allowDataOverflow:br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:br.scale,tick:br.tick,tickCount:br.tickCount,ticks:void 0,type:br.type,unit:void 0},oee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:aa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:aa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:aa.scale,tick:aa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},lee={allowDataOverflow:br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:br.scale,tick:br.tick,tickCount:br.tickCount,ticks:void 0,type:"category",unit:void 0},bE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?oee:aee,xE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?lee:see,Ip=e=>e.polarOptions,wE=pe([ba,xa,bn],YY),CU=pe([Ip,wE],(e,t)=>{if(e!=null)return yi(e.innerRadius,t,0)}),MU=pe([Ip,wE],(e,t)=>{if(e!=null)return yi(e.outerRadius,t,t*.8)}),uee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},RU=pe([Ip],uee);pe([bE,RU],qp);var DU=pe([wE,CU,MU],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});pe([xE,DU],qp);var PU=pe([ut,Ip,CU,MU,ba,xa],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:u,startAngle:c,endAngle:f}=t;return{cx:yi(o,i,i/2),cy:yi(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),tn=(e,t)=>t,Bp=(e,t,n)=>n;function SE(e){return e?.id}var cn=e=>{var t=ut(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ql=e=>e.tooltip.settings.axisId,wn=e=>{var t=cn(e),n=ql(e);return Gc(e,t,n)},LU=pe([wn],e=>e?.dataKey);function qU(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var d=SE(u);f.forEach((p,v)=>{var y=a==null||i?v:String(yn(p,a,null)),b=yn(p,u.dataKey,0),x;o.has(y)?x=o.get(y):x={},Object.assign(x,{[d]:b}),o.set(y,x)})}}),Array.from(o.values())}function $p(e){return e.stackId!=null&&e.dataKey!=null}function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(r){cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cee(e,t,n){return(t=fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fee(e){var t=dee(e,"string");return typeof t=="symbol"?t:t+""}function dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D_=[0,"auto"],vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IU=(e,t)=>e.cartesianAxis.xAxis[t],Sa=(e,t)=>{var n=IU(e,t);return n??vr},yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:D_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:$c},BU=(e,t)=>e.cartesianAxis.yAxis[t],_a=(e,t)=>{var n=BU(e,t);return n??yr},hee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_E=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??hee},ar=(e,t,n)=>{switch(t){case"xAxis":return Sa(e,n);case"yAxis":return _a(e,n);case"zAxis":return _E(e,n);case"angleAxis":return bE(e,n);case"radiusAxis":return xE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pee=(e,t,n)=>{switch(t){case"xAxis":return Sa(e,n);case"yAxis":return _a(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Gc=(e,t,n)=>{switch(t){case"xAxis":return Sa(e,n);case"yAxis":return _a(e,n);case"angleAxis":return bE(e,n);case"radiusAxis":return xE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},$U=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function zU(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var zp=e=>e.graphicalItems.cartesianItems,mee=pe([tn,Bp],zU),UU=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Kc=pe([zp,ar,mee],UU),HU=pe([Kc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter($p)),FU=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),GU=pe([Kc],FU),KU=e=>e.map(t=>t.data).filter(Boolean).flat(1),gee=pe([Kc],KU),WU=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},jE=pe([gee,Dp],WU),YU=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:yn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:yn(i,r)}))):e.map(r=>({value:r})),Up=pe([jE,ar,Kc],YU);function VU(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function wo(e){return e.filter(t=>Li(t)||t instanceof Date).map(Number).filter(t=>_r(t)===!1)}function vee(e,t,n){return!n||typeof t!="number"||_r(t)?[]:n.length?wo(n.flatMap(r=>{var i=yn(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Er(a)||!Er(o)))return[t-a,t+o]})):[]}var yee=pe([HU,Dp,wn],qU),XU=(e,t,n)=>{var r={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,u]=a,c=u.map(SE);return[o,{stackedData:cV(e,c,n),graphicalItems:u}]}))},P_=pe([yee,HU,Lp],XU),QU=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=mV(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},bee=pe([P_,vs,tn],QU),ZU=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(o=>{var u,c,f=(u=r[o.id])===null||u===void 0?void 0:u.filter(p=>VU(i,p)),d=yn(a,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:vee(a,d,f)}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:yn(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Hp=e=>e.errorBars,JU=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>VU(n,r));pe([GU,Hp,tn],JU);var xee=pe([jE,ar,GU,Hp,tn],ZU);function wee(e){var{value:t}=e;if(Li(t)||t instanceof Date)return t}var K2=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=wo(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},See=(e,t,n)=>{var r=e.map(wee).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&sz(r))?k3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},EE=e=>{var t;if(e==null||!("domain"in e))return D_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=wo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:D_},Ph=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},e6=e=>e.referenceElements.dots,Il=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),_ee=pe([e6,tn,Bp],Il),t6=e=>e.referenceElements.areas,jee=pe([t6,tn,Bp],Il),n6=e=>e.referenceElements.lines,Eee=pe([n6,tn,Bp],Il),r6=(e,t)=>{var n=wo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Aee=pe(_ee,tn,r6),i6=(e,t)=>{var n=wo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Oee=pe([jee,tn],i6),a6=(e,t)=>{var n=wo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Tee=pe(Eee,tn,a6),Nee=pe(Aee,Tee,Oee,(e,t,n)=>Ph(e,n,t)),kee=pe([ar],EE),s6=(e,t,n,r,i,a,o)=>{var u=FJ(t,e.allowDataOverflow);if(u!=null)return u;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=c?Ph(n,i,K2(r)):Ph(i,K2(r));return GJ(t,f,e.allowDataOverflow)},Cee=pe([ar,kee,bee,xee,Nee,ut,tn],s6),Mee=[0,1],o6=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:c}=e,f=ps(t,a);return f&&u==null?k3(0,n.length):c==="category"?See(r,e,f):i==="expand"?Mee:o}},AE=pe([ar,ut,jE,Up,Lp,tn,Cee],o6),l6=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(qc(a));return u in oc?u:"point"}}},Wc=pe([ar,ut,$U,gE,tn],l6);function Ree(e){if(e!=null){if(e in oc)return oc[e]();var t="scale".concat(qc(e));if(t in oc)return oc[t]()}}function OE(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Ree(t);if(i!=null){var a=i.domain(n).range(r);return aV(a),a}}}var u6=(e,t,n)=>{var r=EE(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Tl(e))return tee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Tl(e))return nee(e,t.tickCount,t.allowDecimals)}},TE=pe([AE,Gc,Wc],u6),c6=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Tl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],u=n[n.length-1];return[Math.min(i,a),Math.max(o,u)]}return t},Dee=pe([ar,AE,TE,tn],c6),Pee=pe(Up,ar,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(wo(e.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),f6=pe(Pee,ut,NU,bn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Er(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=yi(n,e*a),u=e*a/2;return u-o-(u-o)/a*o}return 0}),Lee=(e,t)=>{var n=Sa(e,t);return n==null||typeof n.padding!="string"?0:f6(e,"xAxis",t,n.padding)},qee=(e,t)=>{var n=_a(e,t);return n==null||typeof n.padding!="string"?0:f6(e,"yAxis",t,n.padding)},Iee=pe(Sa,Lee,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Bee=pe(_a,qee,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),$ee=pe([bn,Iee,_p,Sp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),zee=pe([bn,ut,Bee,_p,Sp,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Yc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return $ee(e,n,r);case"yAxis":return zee(e,n,r);case"zAxis":return(i=_E(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return RU(e);case"radiusAxis":return DU(e,n);default:return}},d6=pe([ar,Yc],qp),Bl=pe([ar,Wc,Dee,d6],OE);pe([Kc,Hp,tn],JU);function h6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Fp=(e,t)=>t,Gp=(e,t,n)=>n,Uee=pe(xp,Fp,Gp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(h6)),Hee=pe(wp,Fp,Gp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(h6)),p6=(e,t)=>({width:e.width,height:t.height}),Fee=(e,t)=>{var n=typeof t.width=="number"?t.width:$c;return{width:n,height:e.height}},m6=pe(bn,Sa,p6),Gee=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Kee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Wee=pe(xa,bn,Uee,Fp,Gp,(e,t,n,r,i)=>{var a={},o;return n.forEach(u=>{var c=p6(t,u);o==null&&(o=Gee(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=o-Number(f)*c.height,o+=(f?-1:1)*c.height}),a}),Yee=pe(ba,bn,Hee,Fp,Gp,(e,t,n,r,i)=>{var a={},o;return n.forEach(u=>{var c=Fee(t,u);o==null&&(o=Kee(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=o-Number(f)*c.width,o+=(f?-1:1)*c.width}),a}),Vee=(e,t)=>{var n=Sa(e,t);if(n!=null)return Wee(e,n.orientation,n.mirror)},Xee=pe([bn,Sa,Vee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Qee=(e,t)=>{var n=_a(e,t);if(n!=null)return Yee(e,n.orientation,n.mirror)},Zee=pe([bn,_a,Qee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),g6=pe(bn,_a,(e,t)=>{var n=typeof t.width=="number"?t.width:$c;return{width:n,height:e.height}}),W2=(e,t,n)=>{switch(t){case"xAxis":return m6(e,n).width;case"yAxis":return g6(e,n).height;default:return}},v6=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,u=ps(e,r),c=t.map(f=>f.value);if(o&&u&&a==="category"&&i&&sz(c))return c}},NE=pe([ut,Up,ar,tn],v6),y6=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=ps(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},kE=pe([ut,Up,Gc,tn],y6),Y2=pe([ut,pee,Wc,Bl,NE,kE,Yc,TE,tn],(e,t,n,r,i,a,o,u,c)=>{if(t==null)return null;var f=ps(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:o,realScaleType:n,scale:r}}),Jee=(e,t,n,r,i,a,o,u,c)=>{if(!(t==null||r==null)){var f=ps(e,c),{type:d,ticks:p,tickCount:v}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=d==="category"&&r.bandwidth?r.bandwidth()/y:0;b=c==="angleAxis"&&a!=null&&a.length>=2?er(a[0]-a[1])*2*b:b;var x=p||i;if(x){var S=x.map((_,E)=>{var O=o?o.indexOf(_):_;return{index:E,coordinate:r(O)+b,value:_,offset:b}});return S.filter(_=>!_r(_.coordinate))}return f&&u?u.map((_,E)=>({coordinate:r(_)+b,value:_,index:E,offset:b})):r.ticks?r.ticks(v).map(_=>({coordinate:r(_)+b,value:_,offset:b})):r.domain().map((_,E)=>({coordinate:r(_)+b,value:o?o[_]:_,index:E,offset:b}))}},b6=pe([ut,Gc,Wc,Bl,TE,Yc,NE,kE,tn],Jee),ete=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ps(e,o),{tickCount:c}=t,f=0;return f=o==="angleAxis"&&r?.length>=2?er(r[0]-r[1])*2*f:f,u&&a?a.map((d,p)=>({coordinate:n(d)+f,value:d,index:p,offset:f})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+f,value:d,offset:f})):n.domain().map((d,p)=>({coordinate:n(d)+f,value:i?i[d]:d,index:p,offset:f}))}},us=pe([ut,Gc,Bl,Yc,NE,kE,tn],ete),cs=pe(ar,Bl,(e,t)=>{if(!(e==null||t==null))return Dh(Dh({},e),{},{scale:t})}),tte=pe([ar,Wc,AE,d6],OE);pe((e,t,n)=>_E(e,n),tte,(e,t)=>{if(!(e==null||t==null))return Dh(Dh({},e),{},{scale:t})});var nte=pe([ut,xp,wp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),x6=e=>e.options.defaultTooltipEventType,w6=e=>e.options.validateTooltipEventTypes;function S6(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function CE(e,t){var n=x6(e),r=w6(e);return S6(t,n,r)}function rte(e){return Le(t=>CE(t,e))}var _6=(e,t)=>{var n,r=Number(t);if(!(_r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},ite=e=>e.tooltip.settings,ts={active:!1,index:null,dataKey:void 0,coordinate:void 0},ate={itemInteraction:{click:ts,hover:ts},axisInteraction:{click:ts,hover:ts},keyboardInteraction:ts,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},j6=Tr({name:"tooltip",initialState:ate,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=ca(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ste,removeTooltipEntrySettings:ote,setTooltipSettingsState:lte,setActiveMouseOverItemIndex:E6,mouseLeaveItem:ute,mouseLeaveChart:A6,setActiveClickItemIndex:cte,setMouseOverAxisIndex:O6,setMouseClickAxisIndex:fte,setSyncInteraction:L_,setKeyboardInteraction:q_}=j6.actions,dte=j6.reducer;function V2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(n),!0).forEach(function(r){hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hte(e,t,n){return(t=pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gte(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function vte(e){return e.index!=null}var T6=(e,t,n,r)=>{if(t==null)return ts;var i=gte(e,t,n);if(i==null)return ts;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(vte(i)){if(a)return Dd(Dd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Dd(Dd({},ts),{},{coordinate:i.coordinate})},ME=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!Er(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},N6=(e,t,n,r,i,a,o,u)=>{if(!(a==null||u==null)){var c=o[0],f=c==null?void 0:u(c.positions,a);if(f!=null)return f;var d=i?.[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},k6=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Vc=e=>e.options.tooltipPayloadSearcher,$l=e=>e.tooltip;function X2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(n),!0).forEach(function(r){yte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yte(e,t,n){return(t=bte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wte(e,t){return e??t}var C6=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:d}=n,p=[];return e.reduce((v,y)=>{var b,{dataDefinedOnItem:x,settings:S}=y,_=wte(x,u),E=Array.isArray(_)?p3(_,f,d):_,O=(b=S?.dataKey)!==null&&b!==void 0?b:r,T=S?.nameKey,N;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?N=oz(E,r,i):N=a(E,t,c,T),Array.isArray(N))N.forEach(M=>{var D=Q2(Q2({},S),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(MM({tooltipEntrySettings:D,dataKey:M.dataKey,payload:M.payload,value:yn(M.payload,M.dataKey),name:M.name}))});else{var k;v.push(MM({tooltipEntrySettings:S,dataKey:O,payload:N,value:yn(N,O),name:(k=yn(N,T))!==null&&k!==void 0?k:S?.name}))}return v},p)}},RE=pe([wn,ut,$U,gE,cn],l6),Ste=pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),_te=pe([cn,ql],zU),Xc=pe([Ste,wn,_te],UU),jte=pe([Xc],e=>e.filter($p)),Ete=pe([Xc],KU),zl=pe([Ete,vs],WU),Ate=pe([jte,vs,wn],qU),DE=pe([zl,wn,Xc],YU),Ote=pe([wn],EE),Tte=pe([Xc],e=>e.filter($p)),Nte=pe([Ate,Tte,Lp],XU),kte=pe([Nte,vs,cn],QU),Cte=pe([Xc],FU),Mte=pe([zl,wn,Cte,Hp,cn],ZU),Rte=pe([e6,cn,ql],Il),Dte=pe([Rte,cn],r6),Pte=pe([t6,cn,ql],Il),Lte=pe([Pte,cn],i6),qte=pe([n6,cn,ql],Il),Ite=pe([qte,cn],a6),Bte=pe([Dte,Ite,Lte],Ph),$te=pe([wn,Ote,kte,Mte,Bte,ut,cn],s6),M6=pe([wn,ut,zl,DE,Lp,cn,$te],o6),zte=pe([M6,wn,RE],u6),Ute=pe([wn,M6,zte,cn],c6),R6=e=>{var t=cn(e),n=ql(e),r=!1;return Yc(e,t,n,r)},D6=pe([wn,R6],qp),P6=pe([wn,RE,Ute,D6],OE),Hte=pe([ut,DE,wn,cn],v6),Fte=pe([ut,DE,wn,cn],y6),Gte=(e,t,n,r,i,a,o,u)=>{if(t){var{type:c}=t,f=ps(e,u);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?er(i[0]-i[1])*2*p:p,f&&o?o.map((v,y)=>({coordinate:r(v)+p,value:v,index:y,offset:p})):r.domain().map((v,y)=>({coordinate:r(v)+p,value:a?a[v]:v,index:y,offset:p}))}}},ja=pe([ut,wn,RE,P6,R6,Hte,Fte,cn],Gte),PE=pe([x6,w6,ite],(e,t,n)=>S6(n.shared,e,t)),L6=e=>e.tooltip.settings.trigger,LE=e=>e.tooltip.settings.defaultIndex,Kp=pe([$l,PE,L6,LE],T6),fo=pe([Kp,zl],ME),q6=pe([ja,fo],_6),I6=pe([Kp],e=>{if(e)return e.dataKey}),B6=pe([$l,PE,L6,LE],k6),Kte=pe([ba,xa,ut,bn,ja,LE,B6,Vc],N6),Wte=pe([Kp,Kte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Yte=pe([Kp],e=>e.active),Vte=pe([B6,fo,vs,LU,q6,Vc,PE],C6),Xte=pe([Vte],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(n),!0).forEach(function(r){Qte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qte(e,t,n){return(t=Zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zte(e){var t=Jte(e,"string");return typeof t=="symbol"?t:t+""}function Jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ene=()=>Le(wn),tne=()=>{var e=ene(),t=Le(ja),n=Le(P6);return Sc(J2(J2({},e),{},{scale:n}),t)},nne=()=>Le(gE),qE=(e,t)=>t,$6=(e,t,n)=>n,IE=(e,t,n,r)=>r,rne=pe(ja,e=>hp(e,t=>t.coordinate)),BE=pe([$l,qE,$6,IE],T6),z6=pe([BE,zl],ME),ine=(e,t,n)=>{if(t!=null){var r=$l(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},U6=pe([$l,qE,$6,IE],k6),Lh=pe([ba,xa,ut,bn,ja,IE,U6,Vc],N6),ane=pe([BE,Lh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),H6=pe(ja,z6,_6),sne=pe([U6,z6,vs,LU,H6,Vc,qE],C6),one=pe([BE],e=>({isActive:e.active,activeIndex:e.index})),lne=(e,t,n,r,i,a,o,u)=>{if(!(!e||!t||!r||!i||!a)){var c=gV(e.chartX,e.chartY,t,n,u);if(c){var f=yV(c,t),d=rV(f,o,a,r,i),p=vV(t,a,d,c);return{activeIndex:String(d),activeCoordinate:p}}}};function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I_.apply(null,arguments)}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function une(e,t,n){return(t=cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:u,tooltipEventType:c,chartName:f}=e,d=t,p=n,v=r;if(!u||!d||f!=="ScatterChart"&&c!=="axis")return null;var y,b;if(f==="ScatterChart")y=d,b=SX;else if(f==="BarChart")y=_X(o,d,i,a),b=A3;else if(o==="radial"){var{cx:x,cy:S,radius:_,startAngle:E,endAngle:O}=O3(d);y={cx:x,cy:S,startAngle:E,endAngle:O,innerRadius:_,outerRadius:_},b=N3}else y={points:nQ(o,d,i)},b=w3;var T=typeof u=="object"&&"className"in u?u.className:void 0,N=Pd(Pd(Pd(Pd({stroke:"#ccc",pointerEvents:"none"},i),y),Yt(u,!1)),{},{payload:p,payloadIndex:v,className:pt("recharts-tooltip-cursor",T)});return j.isValidElement(u)?j.cloneElement(u,N):j.createElement(b,N)}function hne(e){var t=tne(),n=y3(),r=jp(),i=nne();return j.createElement(dne,I_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var F6=j.createContext(null),pne=()=>j.useContext(F6),Hy={exports:{}},tR;function mne(){return tR||(tR=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function a(c,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||c,v),b=n?n+f:f;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],y]:c._events[b].push(y):(c._events[b]=y,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)t.call(d,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},u.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,b=new Array(y);v<y;v++)b[v]=p[v].fn;return b},u.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,d,p,v,y,b){var x=n?n+f:f;if(!this._events[x])return!1;var S=this._events[x],_=arguments.length,E,O;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),_){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,d),!0;case 3:return S.fn.call(S.context,d,p),!0;case 4:return S.fn.call(S.context,d,p,v),!0;case 5:return S.fn.call(S.context,d,p,v,y),!0;case 6:return S.fn.call(S.context,d,p,v,y,b),!0}for(O=1,E=new Array(_-1);O<_;O++)E[O-1]=arguments[O];S.fn.apply(S.context,E)}else{var T=S.length,N;for(O=0;O<T;O++)switch(S[O].once&&this.removeListener(f,S[O].fn,void 0,!0),_){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,d);break;case 3:S[O].fn.call(S[O].context,d,p);break;case 4:S[O].fn.call(S[O].context,d,p,v);break;default:if(!E)for(N=1,E=new Array(_-1);N<_;N++)E[N-1]=arguments[N];S[O].fn.apply(S[O].context,E)}}return!0},u.prototype.on=function(f,d,p){return a(this,f,d,p,!1)},u.prototype.once=function(f,d,p){return a(this,f,d,p,!0)},u.prototype.removeListener=function(f,d,p,v){var y=n?n+f:f;if(!this._events[y])return this;if(!d)return o(this,y),this;var b=this._events[y];if(b.fn)b.fn===d&&(!v||b.once)&&(!p||b.context===p)&&o(this,y);else{for(var x=0,S=[],_=b.length;x<_;x++)(b[x].fn!==d||v&&!b[x].once||p&&b[x].context!==p)&&S.push(b[x]);S.length?this._events[y]=S.length===1?S[0]:S:o(this,y)}return this},u.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Hy)),Hy.exports}var gne=mne();const vne=Or(gne);var Tc=new vne,B_="recharts.syncEvent.tooltip",nR="recharts.syncEvent.brush";function G6(e,t){if(t){var n=Number.parseInt(t,10);if(!_r(n))return e?.[n]}}var yne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},K6=Tr({name:"options",initialState:yne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bne=K6.reducer,{createEventEmitter:xne}=K6.actions;function wne(e){return e.tooltip.syncInteraction}var Sne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W6=Tr({name:"chartData",initialState:Sne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:rR,setDataStartEndIndexes:_ne,setComputedData:c0e}=W6.actions,jne=W6.reducer,Ene=["x","y"];function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(r){Ane(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ane(e,t,n){return(t=One(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function One(e){var t=Tne(e,"string");return typeof t=="symbol"?t:t+""}function Tne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nne(e,t){if(e==null)return{};var n,r,i=kne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Y6=()=>{};function Cne(){var e=Le(vE),t=Le(yE),n=en(),r=Le(kU),i=Le(ja),a=jp(),o=zj(),u=Le(c=>c.rootProps.className);j.useEffect(()=>{if(e==null)return Y6;var c=(f,d,p)=>{if(t!==p&&e===f){if(r==="index"){var v;if(o&&d!==null&&d!==void 0&&(v=d.payload)!==null&&v!==void 0&&v.coordinate){var y=d.payload.coordinate,{x:b,y:x}=y,S=Nne(y,Ene),_=zs(zs(zs({},S),typeof b=="number"&&{x:Math.max(o.x,Math.min(b,o.x+o.width))}),typeof x=="number"&&{y:Math.max(o.y,Math.min(x,o.y+o.height))}),E=zs(zs({},d),{},{payload:zs(zs({},d.payload),{},{coordinate:_})});n(E)}else n(d);return}if(i!=null){var O;if(typeof r=="function"){var T={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=r(i,T);O=i[N]}else r==="value"&&(O=i.find(U=>String(U.value)===d.payload.label));var{coordinate:k}=d.payload;if(O==null||d.payload.active===!1||k==null||o==null){n(L_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:M,y:D}=k,R=Math.min(M,o.x+o.width),C=Math.min(D,o.y+o.height),L={x:a==="horizontal"?O.coordinate:R,y:a==="horizontal"?C:O.coordinate},I=L_({active:d.payload.active,coordinate:L,dataKey:d.payload.dataKey,index:String(O.index),label:d.payload.label});n(I)}}};return Tc.on(B_,c),()=>{Tc.off(B_,c)}},[u,n,t,e,r,i,a,o])}function Mne(){var e=Le(vE),t=Le(yE),n=en();j.useEffect(()=>{if(e==null)return Y6;var r=(i,a,o)=>{t!==o&&e===i&&n(_ne(a))};return Tc.on(nR,r),()=>{Tc.off(nR,r)}},[n,t,e])}function Rne(){var e=en();j.useEffect(()=>{e(xne())},[e]),Cne(),Mne()}function Dne(e,t,n,r,i,a){var o=Le(v=>ine(v,e,t)),u=Le(yE),c=Le(vE),f=Le(kU),d=Le(wne),p=d?.active;j.useEffect(()=>{if(!p&&c!=null&&u!=null){var v=L_({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});Tc.emit(B_,c,v,u)}},[p,n,o,i,r,u,c,f,a])}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(r){Pne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pne(e,t,n){return(t=Lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lne(e){var t=qne(e,"string");return typeof t=="symbol"?t:t+""}function qne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ine(e){return e.dataKey}function Bne(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(eX,t)}var oR=[],$ne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!yo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $_(e){var t=ir(e,$ne),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:d,position:p,reverseDirection:v,useTranslate3d:y,wrapperStyle:b,cursor:x,shared:S,trigger:_,defaultIndex:E,portal:O,axisId:T}=t,N=en(),k=typeof E=="number"?String(E):E;j.useEffect(()=>{N(lte({shared:S,trigger:_,axisId:T,active:n,defaultIndex:k}))},[N,S,_,T,n,k]);var M=zj(),D=x3(),R=rte(S),{activeIndex:C,isActive:L}=Le(Q=>one(Q,R,_,k)),I=Le(Q=>sne(Q,R,_,k)),U=Le(Q=>H6(Q,R,_,k)),P=Le(Q=>ane(Q,R,_,k)),H=I,B=pne(),F=n??L,[G,K]=Hz([H,F]),$=R==="axis"?U:void 0;Dne(R,_,P,$,C,F);var W=O??B;if(W==null)return null;var X=H??oR;F||(X=oR),u&&X.length&&(X=qz(H.filter(Q=>Q.value!=null&&(Q.hide!==!0||t.includeHidden)),d,Ine));var ne=X.length>0,V=j.createElement(oX,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:c,active:F,coordinate:P,hasPayload:ne,offset:f,position:p,reverseDirection:v,useTranslate3d:y,viewBox:M,wrapperStyle:b,lastBoundingBox:G,innerRef:K,hasPortalFromProps:!!O},Bne(o,sR(sR({},t),{},{payload:X,label:$,active:F,coordinate:P,accessibilityLayer:D})));return j.createElement(j.Fragment,null,Lc.createPortal(V,W),F&&j.createElement(hne,{cursor:x,tooltipEventType:R,coordinate:P,payload:H,index:C}))}var Fy={},Gy={},Ky={},lR;function zne(){return lR||(lR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,u=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),d=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},p=()=>{f&&d(),x()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},b=()=>{v!==null&&(clearTimeout(v),v=null)},x=()=>{b(),o=void 0,u=null},S=()=>{d()},_=function(...E){if(i?.aborted)return;o=this,u=E;const O=v==null;y(),c&&O&&d()};return _.schedule=y,_.cancel=x,_.flush=S,i?.addEventListener("abort",x,{once:!0}),_}e.debounce=t})(Ky)),Ky}var uR;function Une(){return uR||(uR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zne();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:c}=a,f=Array(2);o&&(f[0]="leading"),u&&(f[1]="trailing");let d,p=null;const v=t.debounce(function(...x){d=r.apply(this,x),p=null},i,{edges:f}),y=function(...x){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(d=r.apply(this,x),p=Date.now(),v.cancel(),v.schedule(),d):(v.apply(this,x),d)},b=()=>(v.flush(),d);return y.cancel=v.cancel,y.flush=b,y}e.debounce=n})(Gy)),Gy}var cR;function Hne(){return cR||(cR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Une();function n(r,i=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:u})}e.throttle=n})(Fy)),Fy}var Wy,fR;function Fne(){return fR||(fR=1,Wy=Hne().throttle),Wy}var Gne=Fne();const Kne=Or(Gne);var mc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){Wne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wne(e,t,n){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:t+""}function Vne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z_=j.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:u,maxHeight:c,children:f,debounce:d=0,id:p,className:v,onResize:y,style:b={}}=e,x=j.useRef(null),S=j.useRef();S.current=y,j.useImperativeHandle(t,()=>x.current);var[_,E]=j.useState({containerWidth:r.width,containerHeight:r.height}),O=j.useCallback((N,k)=>{E(M=>{var D=Math.round(N),R=Math.round(k);return M.containerWidth===D&&M.containerHeight===R?M:{containerWidth:D,containerHeight:R}})},[]);j.useEffect(()=>{var N=R=>{var C,{width:L,height:I}=R[0].contentRect;O(L,I),(C=S.current)===null||C===void 0||C.call(S,L,I)};d>0&&(N=Kne(N,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(N),{width:M,height:D}=x.current.getBoundingClientRect();return O(M,D),k.observe(x.current),()=>{k.disconnect()}},[O,d]);var T=j.useMemo(()=>{var{containerWidth:N,containerHeight:k}=_;if(N<0||k<0)return null;mc(Xs(i)||Xs(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),mc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Xs(i)?N:i,D=Xs(a)?k:a;return n&&n>0&&(M?D=M/n:D&&(M=D*n),c&&D>c&&(D=c)),mc(M>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,i,a,o,u,n),j.Children.map(f,R=>j.cloneElement(R,{width:M,height:D,style:Yy({width:M,height:D},R.props.style)}))},[n,f,a,c,u,o,_,i]);return j.createElement("div",{id:p?"".concat(p):void 0,className:pt("recharts-responsive-container",v),style:Yy(Yy({},b),{},{width:i,height:a,minWidth:o,minHeight:u,maxHeight:c}),ref:x},j.createElement("div",{style:{width:0,height:0,overflow:"visible"}},T))}),V6=e=>null;V6.displayName="Cell";function Xne(e,t,n){return(t=Qne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jne{constructor(t){Xne(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ere(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(r){tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tre(e,t,n){return(t=nre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nre(e){var t=rre(e,"string");return typeof t=="symbol"?t:t+""}function rre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ire={cacheSize:2e3,enableCache:!0},X6=ere({},ire),pR=new Jne(X6.cacheSize),are={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mR="recharts_measurement_span";function sre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(u)}var gR=(e,t)=>{try{var n=document.getElementById(mR);n||(n=document.createElement("span"),n.setAttribute("id",mR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,are,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},gc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yo.isSsr)return{width:0,height:0};if(!X6.enableCache)return gR(t,n);var r=sre(t,n),i=pR.get(r);if(i)return i;var a=gR(t,n);return pR.set(r,a),a},vR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ore=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Q6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ure=Object.keys(Q6),pl="NaN";function cre(e,t){return e*Q6[t]}class Qn{static parse(t){var n,[,r,i]=(n=lre.exec(t))!==null&&n!==void 0?n:[];return new Qn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_r(t)&&(this.unit=""),n!==""&&!ore.test(n)&&(this.num=NaN,this.unit=""),ure.includes(n)&&(this.num=cre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _r(this.num)}}function Z6(e){if(e.includes(pl))return pl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=vR.exec(t))!==null&&n!==void 0?n:[],o=Qn.parse(r??""),u=Qn.parse(a??""),c=i==="*"?o.multiply(u):o.divide(u);if(c.isNaN())return pl;t=t.replace(vR,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,d,p,v]=(f=yR.exec(t))!==null&&f!==void 0?f:[],y=Qn.parse(d??""),b=Qn.parse(v??""),x=p==="+"?y.add(b):y.subtract(b);if(x.isNaN())return pl;t=t.replace(yR,x.toString())}return t}var bR=/\(([^()]*)\)/;function fre(e){for(var t=e,n;(n=bR.exec(t))!=null;){var[,r]=n;t=t.replace(bR,Z6(r))}return t}function dre(e){var t=e.replace(/\s+/g,"");return t=fre(t),t=Z6(t),t}function hre(e){try{return dre(e)}catch{return pl}}function Vy(e){var t=hre(e.slice(5,-1));return t===pl?"":t}var pre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mre=["dx","dy","angle","className","breakAll"];function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U_.apply(null,arguments)}function xR(e,t){if(e==null)return{};var n,r,i=gre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J6=/[ \f\n\r\t\v\u2028\u2029]+/,e4=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];kt(t)||(n?i=t.toString().split(""):i=t.toString().split(J6));var a=i.map(u=>({word:u,width:gc(u,r).width})),o=n?0:gc("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},vre=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:u,breakAll:c}=e,f=Be(a),d=o,p=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((I,U)=>{var{word:P,width:H}=U,B=I[I.length-1];if(B&&(r==null||i||B.width+H+n<Number(r)))B.words.push(P),B.width+=H+n;else{var F={words:[P],width:H};I.push(F)}return I},[])},v=p(t),y=C=>C.reduce((L,I)=>L.width>I.width?L:I);if(!f||i)return v;var b=v.length>a||y(v).width>Number(r);if(!b)return v;for(var x="",S=C=>{var L=d.slice(0,C),I=e4({breakAll:c,style:u,children:L+x}).wordsWithComputedWidth,U=p(I),P=U.length>a||y(U).width>Number(r);return[P,U]},_=0,E=d.length-1,O=0,T;_<=E&&O<=d.length-1;){var N=Math.floor((_+E)/2),k=N-1,[M,D]=S(k),[R]=S(N);if(!M&&!R&&(_=N+1),M&&R&&(E=N-1),!M&&R){T=D;break}O++}return T||v},wR=e=>{var t=kt(e)?[]:e.toString().split(J6);return[{words:t}]},yre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!yo.isSsr){var u,c,f=e4({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:d,spaceWidth:p}=f;u=d,c=p}else return wR(r);return vre({breakAll:a,children:r,maxLines:o,style:i},u,c,t,n)}return wR(r)},SR="#808080",$E=j.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:c="end",fill:f=SR}=e,d=xR(e,pre),p=j.useMemo(()=>yre({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:v,dy:y,angle:b,className:x,breakAll:S}=d,_=xR(d,mre);if(!Li(n)||!Li(r)||p.length===0)return null;var E=n+(Be(v)?v:0),O=r+(Be(y)?y:0),T;switch(c){case"start":T=Vy("calc(".concat(a,")"));break;case"middle":T=Vy("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:T=Vy("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(o){var k=p[0].width,{width:M}=d;N.push("scale(".concat(Be(M)?M/k:1,")"))}return b&&N.push("rotate(".concat(b,", ").concat(E,", ").concat(O,")")),N.length&&(_.transform=N.join(" ")),j.createElement("text",U_({},Yt(_,!0),{ref:t,x:E,y:O,className:pt("recharts-text",x),textAnchor:u,fill:f.includes("url")?SR:f}),p.map((D,R)=>{var C=D.words.join(S?"":" ");return j.createElement("tspan",{x:E,dy:R===0?T:i,key:"".concat(C,"-").concat(R)},C)}))});$E.displayName="Text";var bre=["labelRef"];function xre(e,t){if(e==null)return{};var n,r,i=wre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sre(e,t,n){return(t=_re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _re(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sa.apply(null,arguments)}var t4=j.createContext(null),Ere=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,o=j.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return j.createElement(t4.Provider,{value:o},a)},n4=()=>{var e=j.useContext(t4),t=zj();return e||t},Are=j.createContext(null),Ore=()=>{var e=j.useContext(Are),t=Le(PU);return e||t},Tre=e=>{var{value:t,formatter:n}=e,r=kt(e.children)?t:e.children;return typeof n=="function"?n(r):r},zE=e=>e!=null&&typeof e=="function",Nre=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},kre=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:u,cy:c,innerRadius:f,outerRadius:d,startAngle:p,endAngle:v,clockWise:y}=i,b=(f+d)/2,x=Nre(p,v),S=x>=0?1:-1,_,E;switch(t){case"insideStart":_=p+S*a,E=y;break;case"insideEnd":_=v-S*a,E=!y;break;case"end":_=v+S*a,E=y;break;default:throw new Error("Unsupported position ".concat(t))}E=x<=0?E:!E;var O=kn(u,c,b,_),T=kn(u,c,b,_+(E?1:-1)*359),N="M".concat(O.x,",").concat(O.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),k=kt(e.id)?bc("recharts-radial-line-"):e.id;return j.createElement("text",sa({},r,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",o)}),j.createElement("defs",null,j.createElement("path",{id:k,d:N})),j.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Cre=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:c}=e,f=(u+c)/2;if(n==="outside"){var{x:d,y:p}=kn(r,i,o+t,f);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:y,y:b}=kn(r,i,v,f);return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},r4=e=>"cx"in e&&Be(e.cx),Mre=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!r4(n)&&(a=n);var{x:o,y:u,width:c,height:f}=t,d=f>=0?1:-1,p=d*r,v=d>0?"end":"start",y=d>0?"start":"end",b=c>=0?1:-1,x=b*r,S=b>0?"end":"start",_=b>0?"start":"end";if(i==="top"){var E={x:o+c/2,y:u-d*r,textAnchor:"middle",verticalAnchor:v};return Wt(Wt({},E),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:u+f+p,textAnchor:"middle",verticalAnchor:y};return Wt(Wt({},O),a?{height:Math.max(a.y+a.height-(u+f),0),width:c}:{})}if(i==="left"){var T={x:o-x,y:u+f/2,textAnchor:S,verticalAnchor:"middle"};return Wt(Wt({},T),a?{width:Math.max(T.x-a.x,0),height:f}:{})}if(i==="right"){var N={x:o+c+x,y:u+f/2,textAnchor:_,verticalAnchor:"middle"};return Wt(Wt({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:f}:{})}var k=a?{width:c,height:f}:{};return i==="insideLeft"?Wt({x:o+x,y:u+f/2,textAnchor:_,verticalAnchor:"middle"},k):i==="insideRight"?Wt({x:o+c-x,y:u+f/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideTop"?Wt({x:o+c/2,y:u+p,textAnchor:"middle",verticalAnchor:y},k):i==="insideBottom"?Wt({x:o+c/2,y:u+f-p,textAnchor:"middle",verticalAnchor:v},k):i==="insideTopLeft"?Wt({x:o+x,y:u+p,textAnchor:_,verticalAnchor:y},k):i==="insideTopRight"?Wt({x:o+c-x,y:u+p,textAnchor:S,verticalAnchor:y},k):i==="insideBottomLeft"?Wt({x:o+x,y:u+f-p,textAnchor:_,verticalAnchor:v},k):i==="insideBottomRight"?Wt({x:o+c-x,y:u+f-p,textAnchor:S,verticalAnchor:v},k):i&&typeof i=="object"&&(Be(i.x)||Xs(i.x))&&(Be(i.y)||Xs(i.y))?Wt({x:o+yi(i.x,c),y:u+yi(i.y,f),textAnchor:"end",verticalAnchor:"end"},k):Wt({x:o+c/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Rre={offset:5};function Ja(e){var t=ir(e,Rre),{viewBox:n,position:r,value:i,children:a,content:o,className:u="",textBreakAll:c,labelRef:f}=t,d=Ore(),p=n4(),v=r==="center"?p:d??p,y=n||v;if(!y||kt(i)&&kt(a)&&!j.isValidElement(o)&&typeof o!="function")return null;var b=Wt(Wt({},t),{},{viewBox:y});if(j.isValidElement(o)){var{labelRef:x}=b,S=xre(b,bre);return j.cloneElement(o,S)}var _;if(typeof o=="function"){if(_=j.createElement(o,b),j.isValidElement(_))return _}else _=Tre(t);var E=r4(y),O=Yt(t,!0);if(E&&(r==="insideStart"||r==="insideEnd"||r==="end"))return kre(t,r,_,O,y);var T=E?Cre(y,t.offset,t.position):Mre(t,y);return j.createElement($E,sa({ref:f,className:pt("recharts-label",u)},O,T,{breakAll:c}),_)}Ja.displayName="Label";var Dre=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?j.createElement(Ja,sa({key:"label-implicit"},r)):Li(e)?j.createElement(Ja,sa({key:"label-implicit",value:e},r)):j.isValidElement(e)?e.type===Ja?j.cloneElement(e,Wt({key:"label-implicit"},r)):j.createElement(Ja,sa({key:"label-implicit",content:e},r)):zE(e)?j.createElement(Ja,sa({key:"label-implicit",content:e},r)):e&&typeof e=="object"?j.createElement(Ja,sa({},e,{key:"label-implicit"},r)):null};function Pre(e){var{label:t}=e,n=n4();return Dre(t,n)||null}var Xy={},Qy={},jR;function Lre(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Qy)),Qy}var Zy={},ER;function qre(){return ER||(ER=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Zy)),Zy}var AR;function Ire(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lre(),n=qre(),r=Mj();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Xy)),Xy}var Jy,OR;function Bre(){return OR||(OR=1,Jy=Ire().last),Jy}var $re=Bre();const zre=Or($re);var Ure=["valueAccessor"],Hre=["dataKey","clockWise","id","textBreakAll"];function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(null,arguments)}function TR(e,t){if(e==null)return{};var n,r,i=Fre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gre=e=>Array.isArray(e.value)?zre(e.value):e.value,i4=j.createContext(void 0),a4=i4.Provider,s4=j.createContext(void 0);s4.Provider;function Kre(){return j.useContext(i4)}function Wre(){return j.useContext(s4)}function Zd(e){var{valueAccessor:t=Gre}=e,n=TR(e,Ure),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,u=TR(n,Hre),c=Kre(),f=Wre(),d=c||f;return!d||!d.length?null:j.createElement(bi,{className:"recharts-label-list"},d.map((p,v)=>{var y,b=kt(r)?t(p,v):yn(p&&p.payload,r),x=kt(a)?{}:{id:"".concat(a,"-").concat(v)};return j.createElement(Ja,qh({},Yt(p,!0),u,x,{fill:(y=n.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}Zd.displayName="LabelList";function o4(e){var{label:t}=e;return t?t===!0?j.createElement(Zd,{key:"labelList-implicit"}):j.isValidElement(t)||zE(t)?j.createElement(Zd,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(Zd,qh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H_.apply(null,arguments)}var l4=e=>{var{cx:t,cy:n,r,className:i}=e,a=pt("recharts-dot",i);return t===+t&&n===+n&&r===+r?j.createElement("circle",H_({},hs(e),jj(e),{className:a,cx:t,cy:n,r})):null},Yre={radiusAxis:{},angleAxis:{}},u4=Tr({name:"polarAxis",initialState:Yre,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:f0e,removeRadiusAxis:d0e,addAngleAxis:h0e,removeAngleAxis:p0e}=u4.actions,Vre=u4.reducer,eb={},NR;function Xre(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(eb)),eb}var tb,kR;function Qre(){return kR||(kR=1,tb=Xre().isPlainObject),tb}var Zre=Qre();const Jre=Or(Zre);function CR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(n),!0).forEach(function(r){eie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eie(e,t,n){return(t=tie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tie(e){var t=nie(e,"string");return typeof t=="symbol"?t:t+""}function nie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(null,arguments)}var RR=(e,t,n,r,i)=>{var a=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},rie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iie=e=>{var t=ir(e,rie),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:u}=t,{animationEasing:c,animationDuration:f,animationBegin:d,isUpdateAnimationActive:p}=t,v=j.useRef(),[y,b]=j.useState(-1),x=j.useRef(i),S=j.useRef(a),_=j.useRef(o),E=j.useRef(n),O=j.useRef(r),T=Op(e,"trapezoid-");if(j.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var P=v.current.getTotalLength();P&&b(P)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var N=pt("recharts-trapezoid",u);if(!p)return j.createElement("g",null,j.createElement("path",Ih({},Yt(t,!0),{className:N,d:RR(n,r,i,a,o)})));var k=x.current,M=S.current,D=_.current,R=E.current,C=O.current,L="0px ".concat(y===-1?1:y,"px"),I="".concat(y,"px 0px"),U=S3(["strokeDasharray"],f,c);return j.createElement(Ap,{animationId:T,key:T,canBegin:y>0,duration:f,easing:c,isActive:p,begin:d},P=>{var H=Zt(k,i,P),B=Zt(M,a,P),F=Zt(D,o,P),G=Zt(R,n,P),K=Zt(C,r,P);v.current&&(x.current=H,S.current=B,_.current=F,E.current=G,O.current=K);var $=P>0?{transition:U,strokeDasharray:I}:{strokeDasharray:L};return j.createElement("path",Ih({},Yt(t,!0),{className:N,d:RR(G,K,H,B,F),ref:v,style:MR(MR({},$),t.style)}))})},aie=["option","shapeType","propTransformer","activeClassName","isActive"];function sie(e,t){if(e==null)return{};var n,r,i=oie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){lie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lie(e,t,n){return(t=uie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uie(e){var t=cie(e,"string");return typeof t=="symbol"?t:t+""}function cie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fie(e,t){return Bh(Bh({},t),e)}function die(e,t){return e==="symbols"}function PR(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return j.createElement(A3,n);case"trapezoid":return j.createElement(iie,n);case"sector":return j.createElement(N3,n);case"symbols":if(die(t))return j.createElement(Nj,n);break;default:return null}}function hie(e){return j.isValidElement(e)?e.props:e}function pie(e){var{option:t,shapeType:n,propTransformer:r=fie,activeClassName:i="recharts-active-shape",isActive:a}=e,o=sie(e,aie),u;if(j.isValidElement(t))u=j.cloneElement(t,Bh(Bh({},o),hie(t)));else if(typeof t=="function")u=t(o);else if(Jre(t)&&typeof t!="boolean"){var c=r(t,o);u=j.createElement(PR,{shapeType:n,elementProps:c})}else{var f=o;u=j.createElement(PR,{shapeType:n,elementProps:f})}return a?j.createElement(bi,{className:i},u):u}var c4=(e,t)=>{var n=en();return(r,i)=>a=>{e?.(r,i,a),n(E6({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},f4=e=>{var t=en();return(n,r)=>i=>{e?.(n,r,i),t(ute())}},d4=(e,t)=>{var n=en();return(r,i)=>a=>{e?.(r,i,a),n(cte({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function h4(e){var{fn:t,args:n}=e,r=en(),i=rr();return j.useEffect(()=>{if(!i){var a=t(n);return r(ste(a)),()=>{r(ote(a))}}},[t,n,r,i]),null}var mie=()=>{};function p4(e){var{legendPayload:t}=e,n=en(),r=rr();return j.useEffect(()=>r?mie:(n(LV(t)),()=>{n(qV(t))}),[n,r,t]),null}var nb,gie=()=>{var[e]=j.useState(()=>bc("uid-"));return e},vie=(nb=HG.useId)!==null&&nb!==void 0?nb:gie;function yie(e,t){var n=vie();return t||(e?"".concat(e,"-").concat(n):n)}var bie=j.createContext(void 0),m4=e=>{var{id:t,type:n,children:r}=e,i=yie("recharts-".concat(n),t);return j.createElement(bie.Provider,{value:i},r(i))},xie={cartesianItems:[],polarItems:[]},g4=Tr({name:"graphicalItems",initialState:xie,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=ca(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=ca(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=ca(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:wie,replaceCartesianGraphicalItem:Sie,removeCartesianGraphicalItem:_ie,addPolarGraphicalItem:m0e,removePolarGraphicalItem:g0e}=g4.actions,jie=g4.reducer;function v4(e){var t=en(),n=j.useRef(null);return j.useEffect(()=>{n.current===null?t(wie(e)):n.current!==e&&t(Sie({prev:n.current,next:e})),n.current=e},[t,e]),j.useEffect(()=>()=>{n.current&&(t(_ie(n.current)),n.current=null)},[t]),null}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(r){Eie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eie(e,t,n){return(t=Aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aie(e){var t=Oie(e,"string");return typeof t=="symbol"?t:t+""}function Oie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tie={xAxis:{},yAxis:{},zAxis:{}},y4=Tr({name:"cartesianAxis",initialState:Tie,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=qR(qR({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Nie,removeXAxis:kie,addYAxis:Cie,removeYAxis:Mie,addZAxis:v0e,removeZAxis:y0e,updateYAxisWidth:Rie}=y4.actions,Die=y4.reducer,Pie=pe([bn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Lie=pe([Pie,ba,xa],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),UE=()=>Le(Lie),qie=()=>Le(Xte);function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(r){Iie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iie(e,t,n){return(t=Bie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bie(e){var t=$ie(e,"string");return typeof t=="symbol"?t:t+""}function $ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zie=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=BR(BR({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Yt(i,!1)),jj(i)),u;return j.isValidElement(i)?u=j.cloneElement(i,o):typeof i=="function"?u=i(o):u=j.createElement(l4,o),j.createElement(bi,{className:"recharts-active-dot"},u)};function Uie(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=Le(fo),o=qie();if(t==null||o==null)return null;var u=t.find(c=>o.includes(c.payload));return kt(u)?null:zie({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Hie="Invariant failed";function Fie(e,t){throw new Error(Hie)}var Gie=["x","y"];function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F_.apply(null,arguments)}function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(r){Kie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kie(e,t,n){return(t=Wie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wie(e){var t=Yie(e,"string");return typeof t=="symbol"?t:t+""}function Yie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vie(e,t){if(e==null)return{};var n,r,i=Xie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qie(e,t){var{x:n,y:r}=e,i=Vie(e,Gie),a="".concat(n),o=parseInt(a,10),u="".concat(r),c=parseInt(u,10),f="".concat(t.height||i.height),d=parseInt(f,10),p="".concat(t.width||i.width),v=parseInt(p,10);return Vu(Vu(Vu(Vu(Vu({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:v,name:t.name,radius:t.radius})}function HE(e){return j.createElement(pie,F_({shapeType:"rectangle",propTransformer:Qie,activeClassName:"recharts-active-bar"},e))}var Zie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Be(t))return t;var a=Be(r)||kt(r);return a?t(r,i):(a||Fie(),n)}},Jie={},b4=Tr({name:"errorBars",initialState:Jie,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:b0e,replaceErrorBar:x0e,removeErrorBar:w0e}=b4.actions,eae=b4.reducer,tae=["children"];function nae(e,t){if(e==null)return{};var n,r,i=rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},aae=j.createContext(iae);function x4(e){var{children:t}=e,n=nae(e,tae);return j.createElement(aae.Provider,{value:n},t)}function FE(e,t){var n,r,i=Le(f=>Sa(f,e)),a=Le(f=>_a(f,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:vr.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:yr.allowDataOverflow,c=o||u;return{needClip:c,needClipX:o,needClipY:u}}function w4(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=UE(),{needClipX:a,needClipY:o,needClip:u}=FE(t,n);if(!u)return null;var{x:c,y:f,width:d,height:p}=i;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:a?c:c-d/2,y:o?f:f-p/2,width:a?d:d*2,height:o?p:p*2}))}var sae=["onMouseEnter","onMouseLeave","onClick"],oae=["value","background","tooltipPosition"],lae=["id"],uae=["onMouseEnter","onClick","onMouseLeave"];function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fs.apply(null,arguments)}function zR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(n),!0).forEach(function(r){cae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cae(e,t,n){return(t=fae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fae(e){var t=dae(e,"string");return typeof t=="symbol"?t:t+""}function dae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(e,t){if(e==null)return{};var n,r,i=hae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pae=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:bp(n,t),payload:e}]};function mae(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:bp(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:u}}}function gae(e){var t=Le(fo),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:u,onClick:c}=a,f=$h(a,sae),d=c4(o,r),p=f4(u),v=d4(c,r);if(!i||n==null)return null;var y=Yt(i,!1);return j.createElement(j.Fragment,null,n.map((b,x)=>{var{value:S,background:_,tooltipPosition:E}=b,O=$h(b,oae);if(!_)return null;var T=d(b,x),N=p(b,x),k=v(b,x),M=zn(zn(zn(zn(zn({option:i,isActive:String(x)===t},O),{},{fill:"#eee"},_),y),up(f,b,x)),{},{onMouseEnter:T,onMouseLeave:N,onClick:k,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return j.createElement(HE,fs({key:"background-bar-".concat(M.index)},M))}))}function vae(e){var{showLabels:t,children:n,rects:r}=e,i=r?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return zn(zn({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return j.createElement(a4,{value:t?i:void 0},n)}function yae(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=e,u=Le(fo),c=Le(I6),f=n&&String(a)===u&&(c==null||o===c),d=f?n:t;return j.createElement(HE,fs({},r,i,{isActive:f,option:d,index:a,dataKey:o}))}function bae(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return j.createElement(HE,fs({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function xae(e){var{data:t,props:n}=e,r=hs(n),{id:i}=r,a=$h(r,lae),{shape:o,dataKey:u,activeBar:c}=n,{onMouseEnter:f,onClick:d,onMouseLeave:p}=n,v=$h(n,uae),y=c4(f,u),b=f4(p),x=d4(d,u);return t?j.createElement(j.Fragment,null,t.map((S,_)=>j.createElement(bi,fs({className:"recharts-bar-rectangle"},up(v,S,_),{onMouseEnter:y(S,_),onMouseLeave:b(S,_),onClick:x(S,_),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(_)}),c?j.createElement(yae,{shape:o,activeBar:c,baseProps:a,entry:S,index:_,dataKey:u}):j.createElement(bae,{shape:o,baseProps:a,entry:S,index:_,dataKey:u})))):null}function wae(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:c,onAnimationEnd:f,onAnimationStart:d}=t,p=n.current,v=Op(t,"recharts-bar-"),[y,b]=j.useState(!1),x=!y,S=j.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),_=j.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return j.createElement(vae,{showLabels:x,rects:r},j.createElement(Ap,{animationId:v,begin:o,duration:u,isActive:a,easing:c,onAnimationEnd:S,onAnimationStart:_,key:v},E=>{var O=E===1?r:r?.map((T,N)=>{var k=p&&p[N];if(k)return zn(zn({},T),{},{x:Zt(k.x,T.x,E),y:Zt(k.y,T.y,E),width:Zt(k.width,T.width,E),height:Zt(k.height,T.height,E)});if(i==="horizontal"){var M=Zt(0,T.height,E);return zn(zn({},T),{},{y:T.y+T.height-M,height:M})}var D=Zt(0,T.width,E);return zn(zn({},T),{},{width:D})});return E>0&&(n.current=O??null),O==null?null:j.createElement(bi,null,j.createElement(xae,{props:t,data:O}))}),j.createElement(o4,{label:t.label}),t.children)}function Sae(e){var t=j.useRef(null);return j.createElement(wae,{previousRectanglesRef:t,props:e})}var S4=0,_ae=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:yn(e,t)}};class jae extends j.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:u,background:c,id:f}=this.props;if(t||n==null)return null;var d=pt("recharts-bar",i),p=f;return j.createElement(bi,{className:d,id:f},u&&j.createElement("defs",null,j.createElement(w4,{clipPathId:p,xAxisId:a,yAxisId:o})),j.createElement(bi,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},j.createElement(gae,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),j.createElement(Sae,this.props)))}}var Eae={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!yo.isSsr,legendType:"rect",minPointSize:S4,xAxisId:0,yAxisId:0};function Aae(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:d}=e,{needClip:p}=FE(t,n),v=jp(),y=rr(),b=ZK(e.children,V6),x=Le(E=>ese(E,t,n,y,e.id,b));if(v!=="vertical"&&v!=="horizontal")return null;var S,_=x?.[0];return _==null||_.height==null||_.width==null?S=0:S=v==="vertical"?_.height/2:_.width/2,j.createElement(x4,{xAxisId:t,yAxisId:n,data:x,dataPointFormatter:_ae,errorBarOffset:S},j.createElement(jae,fs({},e,{layout:v,needClip:p,data:x,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:d})))}function Oae(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:u,xAxisTicks:c,yAxisTicks:f,stackedData:d,displayedData:p,offset:v,cells:y,parentViewBox:b}=e,x=t==="horizontal"?u:o,S=d?x.scale.domain():null,_=dV({numericAxis:x});return p.map((E,O)=>{var T,N,k,M,D,R;d?T=sV(d[O],S):(T=yn(E,n),Array.isArray(T)||(T=[_,T]));var C=Zie(r,S4)(T[1],O);if(t==="horizontal"){var L,[I,U]=[u.scale(T[0]),u.scale(T[1])];N=NM({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:E,index:O}),k=(L=U??I)!==null&&L!==void 0?L:void 0,M=i.size;var P=I-U;if(D=_r(P)?0:P,R={x:N,y:v.top,width:M,height:v.height},Math.abs(C)>0&&Math.abs(D)<Math.abs(C)){var H=er(D||C)*(Math.abs(C)-Math.abs(D));k-=H,D+=H}}else{var[B,F]=[o.scale(T[0]),o.scale(T[1])];if(N=B,k=NM({axis:u,ticks:f,bandSize:a,offset:i.offset,entry:E,index:O}),M=F-B,D=i.size,R={x:v.left,y:k,width:v.width,height:D},Math.abs(C)>0&&Math.abs(M)<Math.abs(C)){var G=er(M||C)*(Math.abs(C)-Math.abs(M));M+=G}}if(N==null||k==null||M==null||D==null)return null;var K=zn(zn({},E),{},{x:N,y:k,width:M,height:D,value:d?T:T[1],payload:E,background:R,tooltipPosition:{x:N+M/2,y:k+D/2},parentViewBox:b},y&&y[O]&&y[O].props);return K}).filter(Boolean)}function Tae(e){var t=ir(e,Eae),n=rr();return j.createElement(m4,{id:t.id,type:"bar"},r=>j.createElement(j.Fragment,null,j.createElement(p4,{legendPayload:pae(t)}),j.createElement(h4,{fn:mae,args:t}),j.createElement(v4,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:fV(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(Aae,fs({},t,{id:r}))))}var GE=j.memo(Tae);GE.displayName="Bar";function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(r){Nae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nae(e,t,n){return(t=kae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kae(e){var t=Cae(e,"string");return typeof t=="symbol"?t:t+""}function Cae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mae=(e,t)=>t,Rae=(e,t,n)=>n,Dae=(e,t,n,r)=>r,Pae=(e,t,n,r,i)=>i,Qc=pe([zp,Pae],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Lae=pe([Qc],e=>e?.maxBarSize),qae=(e,t,n,r,i,a)=>a,HR=(e,t,n)=>{var r=n??e;if(!kt(r))return yi(r,t,0)},Iae=pe([ut,zp,Mae,Rae,Dae],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Bae=(e,t,n,r)=>{var i=ut(e);return i==="horizontal"?P_(e,"yAxis",n,r):P_(e,"xAxis",t,r)},$ae=(e,t,n)=>{var r=ut(e);return r==="horizontal"?W2(e,"xAxis",t):W2(e,"yAxis",n)},zae=(e,t,n)=>{var r={},i=e.filter($p),a=e.filter(f=>f.stackId==null),o=i.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),r),u=Object.entries(o).map(f=>{var[d,p]=f,v=p.map(b=>b.dataKey),y=HR(t,n,p[0].barSize);return{stackId:d,dataKeys:v,barSize:y}}),c=a.map(f=>{var d=[f.dataKey].filter(v=>v!=null),p=HR(t,n,f.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...u,...c]},Uae=pe([Iae,iee,$ae],zae),Hae=(e,t,n,r,i)=>{var a,o,u=Qc(e,t,n,r,i);if(u!=null){var c=ut(e),f=TU(e),{maxBarSize:d}=u,p=kt(d)?f:d,v,y;return c==="horizontal"?(v=cs(e,"xAxis",t,r),y=us(e,"xAxis",t,r)):(v=cs(e,"yAxis",n,r),y=us(e,"yAxis",n,r)),(a=(o=Sc(v,y,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},_4=(e,t,n,r)=>{var i=ut(e),a,o;return i==="horizontal"?(a=cs(e,"xAxis",t,r),o=us(e,"xAxis",t,r)):(a=cs(e,"yAxis",n,r),o=us(e,"yAxis",n,r)),Sc(a,o)};function Fae(e,t,n,r,i){var a=r.length;if(!(a<1)){var o=yi(e,n,0,!0),u,c=[];if(Er(r[0].barSize)){var f=!1,d=n/a,p=r.reduce((_,E)=>_+(E.barSize||0),0);p+=(a-1)*o,p>=n&&(p-=(a-1)*o,o=0),p>=n&&d>0&&(f=!0,d*=.9,p=a*d);var v=(n-p)/2>>0,y={offset:v-o,size:0};u=r.reduce((_,E)=>{var O,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:y.offset+y.size+o,size:f?d:(O=E.barSize)!==null&&O!==void 0?O:0}},N=[..._,T];return y=N[N.length-1].position,N},c)}else{var b=yi(t,n,0,!0);n-2*b-(a-1)*o<=0&&(o=0);var x=(n-2*b-(a-1)*o)/a;x>1&&(x>>=0);var S=Er(i)?Math.min(x,i):x;u=r.reduce((_,E,O)=>[..._,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(x+o)*O+(x-S)/2,size:S}}],c)}return u}}var Gae=(e,t,n,r,i,a,o)=>{var u=kt(o)?t:o,c=Fae(n,r,i!==a?i:a,e,u);return i!==a&&c!=null&&(c=c.map(f=>Ld(Ld({},f),{},{position:Ld(Ld({},f.position),{},{offset:f.position.offset-i/2})}))),c},Kae=pe([Uae,TU,ree,NU,Hae,_4,Lae],Gae),Wae=(e,t,n,r)=>cs(e,"xAxis",t,r),Yae=(e,t,n,r)=>cs(e,"yAxis",n,r),Vae=(e,t,n,r)=>us(e,"xAxis",t,r),Xae=(e,t,n,r)=>us(e,"yAxis",n,r),Qae=pe([Kae,Qc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Zae=(e,t)=>{var n=SE(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},Jae=pe([Bae,Qc],Zae),ese=pe([bn,$j,Wae,Yae,Vae,Xae,Qae,ut,Dp,_4,Jae,Qc,qae],(e,t,n,r,i,a,o,u,c,f,d,p,v)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:x}=c;if(!(p==null||o==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:S}=p,_;if(S!=null&&S.length>0?_=S:_=y?.slice(b,x+1),_!=null)return Oae({layout:u,barSettings:p,pos:o,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:_,offset:e,cells:v})}}),tse=e=>{var{chartData:t}=e,n=en(),r=rr();return j.useEffect(()=>r?()=>{}:(n(rR(t)),()=>{n(rR(void 0))}),[t,n,r]),null},FR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},j4=Tr({name:"brush",initialState:FR,reducers:{setBrushSettings(e,t){return t.payload==null?FR:t.payload}}}),{setBrushSettings:S0e}=j4.actions,nse=j4.reducer;function rse(e,t,n){return(t=ise(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ise(e){var t=ase(e,"string");return typeof t=="symbol"?t:t+""}function ase(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class KE{static create(t){return new KE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}rse(KE,"EPS",1e-4);function sse(e){return(e%180+180)%180}var ose=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=sse(i),o=a*Math.PI/180,u=Math.atan(r/n),c=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},lse={dots:[],areas:[],lines:[]},E4=Tr({name:"referenceElements",initialState:lse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ca(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ca(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ca(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:_0e,removeDot:j0e,addArea:E0e,removeArea:A0e,addLine:O0e,removeLine:T0e}=E4.actions,use=E4.reducer,cse=j.createContext(void 0),fse=e=>{var{children:t}=e,[n]=j.useState("".concat(bc("recharts"),"-clip")),r=UE();if(r==null)return null;var{x:i,y:a,width:o,height:u}=r;return j.createElement(cse.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:i,y:a,height:u,width:o}))),t)};function Nl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function A4(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function dse(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ose(r,n)}function hse(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:u}=e;return t===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function zh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function pse(e,t){return A4(e,t+1)}function mse(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:u}=t,c=0,f=1,d=o,p=function(){var b=r?.[c];if(b===void 0)return{v:A4(r,f)};var x=c,S,_=()=>(S===void 0&&(S=n(b,x)),S),E=b.coordinate,O=c===0||zh(e,E,_,d,u);O||(c=0,d=o,f+=1),O&&(d=E+e*(_()/2+i),c+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){gse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gse(e,t,n){return(t=vse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vse(e){var t=yse(e,"string");return typeof t=="symbol"?t:t+""}function yse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bse(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:u}=t,{end:c}=t,f=function(v){var y=a[v],b,x=()=>(b===void 0&&(b=n(y,v)),b);if(v===o-1){var S=e*(y.coordinate+e*x()/2-c);a[v]=y=Dn(Dn({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else a[v]=y=Dn(Dn({},y),{},{tickCoord:y.coordinate});var _=zh(e,y.tickCoord,x,u,c);_&&(c=y.tickCoord-e*(x()/2+i),a[v]=Dn(Dn({},y),{},{isShow:!0}))},d=o-1;d>=0;d--)f(d);return a}function xse(e,t,n,r,i,a){var o=(r||[]).slice(),u=o.length,{start:c,end:f}=t;if(a){var d=r[u-1],p=n(d,u-1),v=e*(d.coordinate+e*p/2-f);o[u-1]=d=Dn(Dn({},d),{},{tickCoord:v>0?d.coordinate-v*e:d.coordinate});var y=zh(e,d.tickCoord,()=>p,c,f);y&&(f=d.tickCoord-e*(p/2+i),o[u-1]=Dn(Dn({},d),{},{isShow:!0}))}for(var b=a?u-1:u,x=function(E){var O=o[E],T,N=()=>(T===void 0&&(T=n(O,E)),T);if(E===0){var k=e*(O.coordinate-e*N()/2-c);o[E]=O=Dn(Dn({},O),{},{tickCoord:k<0?O.coordinate-k*e:O.coordinate})}else o[E]=O=Dn(Dn({},O),{},{tickCoord:O.coordinate});var M=zh(e,O.tickCoord,N,c,f);M&&(c=O.tickCoord+e*(N()/2+i),o[E]=Dn(Dn({},O),{},{isShow:!0}))},S=0;S<b;S++)x(S);return o}function WE(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:u,interval:c,tickFormatter:f,unit:d,angle:p}=e;if(!i||!i.length||!r)return[];if(Be(c)||yo.isSsr){var v;return(v=pse(i,Be(c)?c:0))!==null&&v!==void 0?v:[]}var y=[],b=u==="top"||u==="bottom"?"width":"height",x=d&&b==="width"?gc(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(O,T)=>{var N=typeof f=="function"?f(O.value,T):O.value;return b==="width"?dse(gc(N,{fontSize:t,letterSpacing:n}),x,p):gc(N,{fontSize:t,letterSpacing:n})[b]},_=i.length>=2?er(i[1].coordinate-i[0].coordinate):1,E=hse(a,_,b);return c==="equidistantPreserveStart"?mse(_,E,S,i,o):(c==="preserveStart"||c==="preserveStartEnd"?y=xse(_,E,S,i,o,c==="preserveStartEnd"):y=bse(_,E,S,i,o),y.filter(O=>O.isShow))}var wse=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,f=o+c+u+(n?r:0);return Math.round(f)}return 0},Sse=["axisLine","width","height","className","hide","ticks"],_se=["viewBox"],jse=["viewBox"];function G_(e,t){if(e==null)return{};var n,r,i=Ese(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ese(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(null,arguments)}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){Ase(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ase(e,t,n){return(t=Ose(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ose(e){var t=Tse(e,"string");return typeof t=="symbol"?t:t+""}function Tse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YE={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Nse(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:u,otherSvgProps:c}=e;if(!u)return null;var f=ln(ln(ln({},c),Yt(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);f=ln(ln({},f),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=ln(ln({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return j.createElement("line",ho({},f,{className:pt("recharts-cartesian-axis-line",wl(u,"className"))}))}function kse(e,t,n,r,i,a,o,u,c){var f,d,p,v,y,b,x=u?-1:1,S=e.tickSize||o,_=Be(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=d=e.coordinate,v=n+ +!u*i,p=v-x*S,b=p-x*c,y=_;break;case"left":p=v=e.coordinate,d=t+ +!u*r,f=d-x*S,y=f-x*c,b=_;break;case"right":p=v=e.coordinate,d=t+ +u*r,f=d+x*S,y=f+x*c,b=_;break;default:f=d=e.coordinate,v=n+ +u*i,p=v+x*S,b=p+x*c,y=_;break}return{line:{x1:f,y1:p,x2:d,y2:v},tick:{x:y,y:b}}}function Cse(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Mse(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Rse(e){var{option:t,tickProps:n,value:r}=e,i,a=pt(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))i=j.cloneElement(t,ln(ln({},n),{},{className:a}));else if(typeof t=="function")i=t(ln(ln({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=pt(o,t?.className)),i=j.createElement($E,ho({},n,{className:o}),r)}return i}function Dse(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:u,tickTextProps:c,orientation:f,mirror:d,x:p,y:v,width:y,height:b,tickSize:x,tickMargin:S,fontSize:_,letterSpacing:E,getTicksConfig:O,events:T}=e,N=WE(ln(ln({},O),{},{ticks:t}),_,E),k=Cse(f,d),M=Mse(f,d),D=hs(O),R=Yt(n,!1),C=ln(ln({},D),{},{fill:"none"},Yt(r,!1)),L=N.map((I,U)=>{var{line:P,tick:H}=kse(I,p,v,y,b,f,x,d,S),B=ln(ln(ln(ln({textAnchor:k,verticalAnchor:M},D),{},{stroke:"none",fill:i},R),H),{},{index:U,payload:I,visibleTicksCount:N.length,tickFormatter:a,padding:u},c);return j.createElement(bi,ho({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},up(T,I,U)),r&&j.createElement("line",ho({},C,P,{className:pt("recharts-cartesian-axis-tick-line",wl(r,"className"))})),n&&j.createElement(Rse,{option:n,tickProps:B,value:"".concat(typeof a=="function"?a(I.value,U):I.value).concat(o||"")}))});return L.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},L):null}var Pse=j.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:u}=e,c=G_(e,Sse),[f,d]=j.useState(""),[p,v]=j.useState(""),y=j.useRef([]);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return wse({ticks:y.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=j.useCallback(x=>{if(x){var S=x.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=Array.from(S);var _=S[0];if(_){var E=window.getComputedStyle(_),O=E.fontSize,T=E.letterSpacing;(O!==f||T!==p)&&(d(O),v(T))}}},[f,p]);return o||r!=null&&r<=0||i!=null&&i<=0?null:j.createElement(bi,{className:pt("recharts-cartesian-axis",a),ref:b},j.createElement(Nse,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:hs(e)}),j.createElement(Dse,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:e,events:c}),j.createElement(Ere,{x:e.x,y:e.y,width:e.width,height:e.height},j.createElement(Pre,{label:e.label}),e.children))}),Lse=j.memo(Pse,(e,t)=>{var{viewBox:n}=e,r=G_(e,_se),{viewBox:i}=t,a=G_(t,jse);return Nl(n,i)&&Nl(r,a)}),VE=j.forwardRef((e,t)=>{var n=ir(e,YE);return j.createElement(Lse,ho({},n,{ref:t}))});VE.displayName="CartesianAxis";var qse=["x1","y1","x2","y2","key"],Ise=["offset"],Bse=["xAxisId","yAxisId"],$se=["xAxisId","yAxisId"];function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){zse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zse(e,t,n){return(t=Use(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Use(e){var t=Hse(e,"string");return typeof t=="symbol"?t:t+""}function Hse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(null,arguments)}function Uh(e,t){if(e==null)return{};var n,r,i=Fse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:u}=e;return j.createElement("rect",{x:r,y:i,ry:u,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function O4(e,t){var n;if(j.isValidElement(e))n=j.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:o,key:u}=t,c=Uh(t,qse),f=hs(c),{offset:d}=f,p=Uh(f,Ise);n=j.createElement("line",Js({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:u}))}return n}function Kse(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,u=Uh(e,Bse),c=i.map((f,d)=>{var p=Pn(Pn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(d),index:d});return O4(r,p)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Wse(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,u=Uh(e,$se),c=i.map((f,d)=>{var p=Pn(Pn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(d),index:d});return O4(r,p)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Yse(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:u,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var y=!f[v+1],b=y?i+o-p:f[v+1]-p;if(b<=0)return null;var x=v%t.length;return j.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:b,width:a,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Vse(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:u,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var y=!f[v+1],b=y?i+o-p:f[v+1]-p;if(b<=0)return null;var x=v%n.length;return j.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:b,height:u,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Xse=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return m3(WE(Pn(Pn(Pn({},YE),n),{},{ticks:g3(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Qse=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return m3(WE(Pn(Pn(Pn({},YE),n),{},{ticks:g3(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Zse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Hh(e){var t=Uj(),n=Hj(),r=y3(),i=Pn(Pn({},ir(e,Zse)),{},{x:Be(e.x)?e.x:r.left,y:Be(e.y)?e.y:r.top,width:Be(e.width)?e.width:r.width,height:Be(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:u,y:c,width:f,height:d,syncWithTicks:p,horizontalValues:v,verticalValues:y}=i,b=rr(),x=Le(R=>Y2(R,"xAxis",a,b)),S=Le(R=>Y2(R,"yAxis",o,b));if(!Be(f)||f<=0||!Be(d)||d<=0||!Be(u)||u!==+u||!Be(c)||c!==+c)return null;var _=i.verticalCoordinatesGenerator||Xse,E=i.horizontalCoordinatesGenerator||Qse,{horizontalPoints:O,verticalPoints:T}=i;if((!O||!O.length)&&typeof E=="function"){var N=v&&v.length,k=E({yAxis:S?Pn(Pn({},S),{},{ticks:N?v:S.ticks}):void 0,width:t,height:n,offset:r},N?!0:p);mc(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(O=k)}if((!T||!T.length)&&typeof _=="function"){var M=y&&y.length,D=_({xAxis:x?Pn(Pn({},x),{},{ticks:M?y:x.ticks}):void 0,width:t,height:n,offset:r},M?!0:p);mc(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(T=D)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Gse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(Yse,Js({},i,{horizontalPoints:O})),j.createElement(Vse,Js({},i,{verticalPoints:T})),j.createElement(Kse,Js({},i,{offset:r,horizontalPoints:O,xAxis:x,yAxis:S})),j.createElement(Wse,Js({},i,{offset:r,verticalPoints:T,xAxis:x,yAxis:S})))}Hh.displayName="CartesianGrid";var T4=(e,t,n,r)=>cs(e,"xAxis",t,r),N4=(e,t,n,r)=>us(e,"xAxis",t,r),k4=(e,t,n,r)=>cs(e,"yAxis",n,r),C4=(e,t,n,r)=>us(e,"yAxis",n,r),Jse=pe([ut,T4,k4,N4,C4],(e,t,n,r,i)=>ps(e,"xAxis")?Sc(t,r,!1):Sc(n,i,!1)),eoe=(e,t,n,r,i)=>i;function toe(e){return e.type==="line"}var noe=pe([zp,eoe],(e,t)=>e.filter(toe).find(n=>n.id===t)),roe=pe([ut,T4,k4,N4,C4,noe,Jse,Dp],(e,t,n,r,i,a,o,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:d}=u;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,y;if(v!=null&&v.length>0?y=v:y=c?.slice(f,d+1),y!=null)return Eoe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:y})}}),ioe=["id"],aoe=["type","layout","connectNulls","needClip"],soe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(n),!0).forEach(function(r){ooe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ooe(e,t,n){return(t=loe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function loe(e){var t=uoe(e,"string");return typeof t=="symbol"?t:t+""}function uoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XE(e,t){if(e==null)return{};var n,r,i=coe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function coe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po.apply(null,arguments)}var foe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:bp(n,t),payload:e}]};function doe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:u,unit:c}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:bp(o,t),hide:u,type:e.tooltipType,color:e.stroke,unit:c}}}var M4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function hoe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var poe=(e,t,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return M4(t,e);for(var i=Math.floor(e/r),a=e%r,o=t-e,u=[],c=0,f=0;c<n.length;f+=n[c],++c)if(f+n[c]>a){u=[...n.slice(0,c),a-f];break}var d=u.length%2===0?[0,o]:[o];return[...hoe(n,i),...u,...d].map(p=>"".concat(p,"px")).join(", ")};function moe(e,t){var n;if(j.isValidElement(e))n=j.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=pt("recharts-line-dot",typeof e!="boolean"?e.className:"");n=j.createElement(l4,po({},t,{className:r}))}return n}function goe(e,t){return e==null?!1:t?!0:e.length===1}function voe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:o}=r;if(!goe(n,i))return null;var{id:u}=r,c=XE(r,ioe),f=cz(i),d=hs(c),p=Yt(i,!0),v=n.map((b,x)=>{var S=xr(xr(xr({key:"dot-".concat(x),r:3},d),p),{},{index:x,cx:b.x,cy:b.y,dataKey:a,value:b.value,payload:b.payload,points:n});return moe(i,S)}),y={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return j.createElement(bi,po({className:"recharts-line-dots",key:"dots"},y),v)}function yoe(e){var{showLabels:t,children:n,points:r}=e,i=j.useMemo(()=>r?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return xr(xr({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return j.createElement(a4,{value:t?i:null},n)}function VR(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:o,layout:u,connectNulls:c,needClip:f}=a,d=XE(a,aoe),p=xr(xr({},Yt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:u,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return j.createElement(j.Fragment,null,r?.length>1&&j.createElement(w3,po({},p,{pathRef:n})),j.createElement(voe,{points:r,clipPathId:t,props:a}))}function boe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function xoe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:u,isAnimationActive:c,animationBegin:f,animationDuration:d,animationEasing:p,animateNewValues:v,width:y,height:b,onAnimationEnd:x,onAnimationStart:S}=n,_=i.current,E=Op(n,"recharts-line-"),[O,T]=j.useState(!1),N=!O,k=j.useCallback(()=>{typeof x=="function"&&x(),T(!1)},[x]),M=j.useCallback(()=>{typeof S=="function"&&S(),T(!0)},[S]),D=boe(r.current),R=a.current;return j.createElement(yoe,{points:o,showLabels:N},n.children,j.createElement(Ap,{animationId:E,begin:f,duration:d,isActive:c,easing:p,onAnimationEnd:k,onAnimationStart:M,key:E},C=>{var L=Zt(R,D+R,C),I=Math.min(L,D),U;if(c)if(u){var P="".concat(u).split(/[,\s]+/gim).map(F=>parseFloat(F));U=poe(I,D,P)}else U=M4(D,I);else U=u==null?void 0:String(u);if(_){var H=_.length/o.length,B=C===1?o:o.map((F,G)=>{var K=Math.floor(G*H);if(_[K]){var $=_[K];return xr(xr({},F),{},{x:Zt($.x,F.x,C),y:Zt($.y,F.y,C)})}return v?xr(xr({},F),{},{x:Zt(y*2,F.x,C),y:Zt(b/2,F.y,C)}):xr(xr({},F),{},{x:F.x,y:F.y})});return i.current=B,j.createElement(VR,{props:n,points:B,clipPathId:t,pathRef:r,strokeDasharray:U})}return C>0&&D>0&&(i.current=o,a.current=I),j.createElement(VR,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:U})}),j.createElement(o4,{label:n.label}))}function woe(e){var{clipPathId:t,props:n}=e,r=j.useRef(null),i=j.useRef(0),a=j.useRef(null);return j.createElement(xoe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Soe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:yn(e.payload,t)});class _oe extends j.Component{render(){var t,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:u,top:c,left:f,width:d,height:p,id:v,needClip:y}=this.props;if(n)return null;var b=pt("recharts-line",a),x=v,{r:S=3,strokeWidth:_=2}=(t=Yt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=cz(r),O=S*2+_;return j.createElement(j.Fragment,null,j.createElement(bi,{className:b},y&&j.createElement("defs",null,j.createElement(w4,{clipPathId:x,xAxisId:o,yAxisId:u}),!E&&j.createElement("clipPath",{id:"clipPath-dots-".concat(x)},j.createElement("rect",{x:f-O/2,y:c-O/2,width:d+O,height:p+O}))),j.createElement(x4,{xAxisId:o,yAxisId:u,data:i,dataPointFormatter:Soe,errorBarOffset:0},j.createElement(woe,{props:this.props,clipPathId:x}))),j.createElement(Uie,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var R4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!yo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function joe(e){var t=ir(e,R4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:u,dot:c,hide:f,isAnimationActive:d,label:p,legendType:v,xAxisId:y,yAxisId:b,id:x}=t,S=XE(t,soe),{needClip:_}=FE(y,b),E=UE(),O=jp(),T=rr(),N=Le(C=>roe(C,y,b,T,x));if(O!=="horizontal"&&O!=="vertical"||N==null||E==null)return null;var{height:k,width:M,x:D,y:R}=E;return j.createElement(_oe,po({},S,{id:x,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:f,label:p,legendType:v,xAxisId:y,yAxisId:b,points:N,layout:O,height:k,width:M,left:D,top:R,needClip:_}))}function Eoe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:u,displayedData:c}=e;return c.map((f,d)=>{var p=yn(f,o);if(t==="horizontal"){var v=TM({axis:n,ticks:i,bandSize:u,entry:f,index:d}),y=kt(p)?null:r.scale(p);return{x:v,y,value:p,payload:f}}var b=kt(p)?null:n.scale(p),x=TM({axis:r,ticks:a,bandSize:u,entry:f,index:d});return b==null||x==null?null:{x:b,y:x,value:p,payload:f}}).filter(Boolean)}function Aoe(e){var t=ir(e,R4),n=rr();return j.createElement(m4,{id:t.id,type:"line"},r=>j.createElement(j.Fragment,null,j.createElement(p4,{legendPayload:foe(t)}),j.createElement(h4,{fn:doe,args:t}),j.createElement(v4,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),j.createElement(joe,po({},t,{id:r}))))}var K_=j.memo(Aoe);K_.displayName="Line";var Ooe=["dangerouslySetInnerHTML","ticks"],Toe=["id"],Noe=["domain"],koe=["domain"];function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W_.apply(null,arguments)}function Fh(e,t){if(e==null)return{};var n,r,i=Coe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Coe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Moe(e){var t=en();return j.useEffect(()=>(t(Nie(e)),()=>{t(kie(e))}),[e,t]),null}var Roe=e=>{var{xAxisId:t,className:n}=e,r=Le($j),i=rr(),a="xAxis",o=Le(S=>Bl(S,a,t,i)),u=Le(S=>b6(S,a,t,i)),c=Le(S=>m6(S,t)),f=Le(S=>Xee(S,t)),d=Le(S=>IU(S,t));if(c==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,y=Fh(e,Ooe),{id:b}=d,x=Fh(d,Toe);return j.createElement(VE,W_({},y,x,{scale:o,x:f.x,y:f.y,width:c.width,height:c.height,className:pt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},Doe={allowDataOverflow:vr.allowDataOverflow,allowDecimals:vr.allowDecimals,allowDuplicatedCategory:vr.allowDuplicatedCategory,height:vr.height,hide:!1,mirror:vr.mirror,orientation:vr.orientation,padding:vr.padding,reversed:vr.reversed,scale:vr.scale,tickCount:vr.tickCount,type:vr.type,xAxisId:0},Poe=e=>{var t,n,r,i,a,o=ir(e,Doe);return j.createElement(j.Fragment,null,j.createElement(Moe,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),j.createElement(Roe,o))},Loe=(e,t)=>{var{domain:n}=e,r=Fh(e,Noe),{domain:i}=t,a=Fh(t,koe);return Nl(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Nl({domain:n},{domain:i}):!1},Gh=j.memo(Poe,Loe);Gh.displayName="XAxis";var qoe=["dangerouslySetInnerHTML","ticks"],Ioe=["id"],Boe=["domain"],$oe=["domain"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y_.apply(null,arguments)}function Kh(e,t){if(e==null)return{};var n,r,i=zoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Uoe(e){var t=en();return j.useEffect(()=>(t(Cie(e)),()=>{t(Mie(e))}),[e,t]),null}var Hoe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=j.useRef(null),o=j.useRef(null),u=Le($j),c=rr(),f=en(),d="yAxis",p=Le(N=>Bl(N,d,t,c)),v=Le(N=>g6(N,t)),y=Le(N=>Zee(N,t)),b=Le(N=>b6(N,d,t,c)),x=Le(N=>BU(N,t));if(j.useLayoutEffect(()=>{if(!(r!=="auto"||!v||zE(i)||j.isValidElement(i)||x==null)){var N=a.current;if(N){var k=N.getCalculatedWidth();Math.round(v.width)!==Math.round(k)&&f(Rie({id:t,width:k}))}}},[b,v,f,i,t,r,x]),v==null||y==null||x==null)return null;var{dangerouslySetInnerHTML:S,ticks:_}=e,E=Kh(e,qoe),{id:O}=x,T=Kh(x,Ioe);return j.createElement(VE,Y_({},E,T,{ref:a,labelRef:o,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:pt("recharts-".concat(d," ").concat(d),n),viewBox:u,ticks:b}))},Foe={allowDataOverflow:yr.allowDataOverflow,allowDecimals:yr.allowDecimals,allowDuplicatedCategory:yr.allowDuplicatedCategory,hide:!1,mirror:yr.mirror,orientation:yr.orientation,padding:yr.padding,reversed:yr.reversed,scale:yr.scale,tickCount:yr.tickCount,type:yr.type,width:yr.width,yAxisId:0},Goe=e=>{var t,n,r,i,a,o=ir(e,Foe);return j.createElement(j.Fragment,null,j.createElement(Uoe,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),j.createElement(Hoe,o))},Koe=(e,t)=>{var{domain:n}=e,r=Kh(e,Boe),{domain:i}=t,a=Kh(t,$oe);return Nl(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Nl({domain:n},{domain:i}):!1},Wh=j.memo(Goe,Koe);Wh.displayName="YAxis";var rb={exports:{}},ib={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR;function Woe(){if(XR)return ib;XR=1;var e=Rl();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,u=e.useDebugValue;return ib.useSyncExternalStoreWithSelector=function(c,f,d,p,v){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=o(function(){function S(N){if(!_){if(_=!0,E=N,N=p(N),v!==void 0&&b.hasValue){var k=b.value;if(v(k,N))return O=k}return O=N}if(k=O,n(E,N))return k;var M=p(N);return v!==void 0&&v(k,M)?(E=N,k):(E=N,O=M)}var _=!1,E,O,T=d===void 0?null:d;return[function(){return S(f())},T===null?void 0:function(){return S(T())}]},[f,d,p,v]);var x=r(c,y[0],y[1]);return a(function(){b.hasValue=!0,b.value=x},[x]),u(x),x},ib}var QR;function Yoe(){return QR||(QR=1,rb.exports=Woe()),rb.exports}Yoe();function Voe(e){e()}function Xoe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Voe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var ZR={notify(){},get:()=>[]};function Qoe(e,t){let n,r=ZR,i=0,a=!1;function o(x){d();const S=r.subscribe(x);let _=!1;return()=>{_||(_=!0,S(),p())}}function u(){r.notify()}function c(){b.onStateChange&&b.onStateChange()}function f(){return a}function d(){i++,n||(n=e.subscribe(c),r=Xoe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=ZR)}function v(){a||(a=!0,d())}function y(){a&&(a=!1,p())}const b={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return b}var Zoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Joe=Zoe(),ele=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tle=ele(),nle=()=>Joe||tle?j.useLayoutEffect:j.useEffect,rle=nle(),ile=Symbol.for("react-redux-context"),ale=typeof globalThis<"u"?globalThis:{};function sle(){if(!j.createContext)return{};const e=ale[ile]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var ole=sle();function lle(e){const{children:t,context:n,serverState:r,store:i}=e,a=j.useMemo(()=>{const c=Qoe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=j.useMemo(()=>i.getState(),[i]);rle(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const u=n||ole;return j.createElement(u.Provider,{value:a},t)}var ule=lle,cle=(e,t)=>t,QE=pe([cle,ut,PU,cn,D6,ja,rne,bn],lne),ZE=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},D4=Vr("mouseClick"),P4=Bc();P4.startListening({actionCreator:D4,effect:(e,t)=>{var n=e.payload,r=QE(t.getState(),ZE(n));r?.activeIndex!=null&&t.dispatch(fte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var V_=Vr("mouseMove"),L4=Bc();L4.startListening({actionCreator:V_,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=CE(r,r.tooltip.settings.shared),a=QE(r,ZE(n));i==="axis"&&(a?.activeIndex!=null?t.dispatch(O6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(A6()))}});var JR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},q4=Tr({name:"rootProps",initialState:JR,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:JR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),fle=q4.reducer,{updateOptions:dle}=q4.actions,I4=Tr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:N0e}=I4.actions,hle=I4.reducer,B4=Vr("keyDown"),$4=Vr("focus"),JE=Bc();JE.startListening({actionCreator:B4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(ME(i,zl(n))),u=ja(n);if(a==="Enter"){var c=Lh(n,"axis","hover",String(i.index));t.dispatch(q_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=nte(n),d=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*d;if(!(u==null||v>=u.length||v<0)){var y=Lh(n,"axis","hover",String(v));t.dispatch(q_({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});JE.startListening({actionCreator:$4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Lh(n,"axis","hover",String(a));t.dispatch(q_({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Hr=Vr("externalEvent"),z4=Bc();z4.startListening({actionCreator:Hr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:Wte(n),activeDataKey:I6(n),activeIndex:fo(n),activeLabel:q6(n),activeTooltipIndex:fo(n),isTooltipActive:Yte(n)};e.payload.handler(r,e.payload.reactEvent)}}});var ple=pe([$l],e=>e.tooltipItemPayloads),mle=pe([ple,Vc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),U4=Vr("touchMove"),H4=Bc();H4.startListening({actionCreator:U4,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=CE(r,r.tooltip.settings.shared);if(i==="axis"){var a=QE(r,ZE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(O6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0],c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(xV),d=(o=c.getAttribute(wV))!==null&&o!==void 0?o:void 0,p=mle(t.getState(),f,d);t.dispatch(E6({activeDataKey:d,activeIndex:f,activeCoordinate:p}))}}});var gle=Gz({brush:nse,cartesianAxis:Die,chartData:jne,errorBars:eae,graphicalItems:jie,layout:HY,legend:IV,options:bne,polarAxis:Vre,polarOptions:hle,referenceElements:use,rootProps:fle,tooltip:dte}),vle=function(t){return pY({reducer:gle,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([P4.middleware,L4.middleware,JE.middleware,z4.middleware,H4.middleware]),devTools:yo.devToolsEnabled})};function yle(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=rr(),a=j.useRef(null);if(i)return n;a.current==null&&(a.current=vle(t));var o=Dj;return j.createElement(ule,{context:o,store:a.current},n)}function ble(e){var{layout:t,width:n,height:r,margin:i}=e,a=en(),o=rr();return j.useEffect(()=>{o||(a($Y(t)),a(zY({width:n,height:r})),a(BY(i)))},[a,o,t,n,r,i]),null}function xle(e){var t=en();return j.useEffect(()=>{t(dle(e))},[t,e]),null}var wle=["children"];function Sle(e,t){if(e==null)return{};var n,r,i=_le(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _le(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh.apply(null,arguments)}var jle={width:"100%",height:"100%"},Ele=j.forwardRef((e,t)=>{var n=Uj(),r=Hj(),i=x3();if(!xh(n)||!xh(r))return null;var{children:a,otherAttributes:o,title:u,desc:c}=e,f,d;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,j.createElement(Ej,Yh({},o,{title:u,desc:c,role:d,tabIndex:f,width:n,height:r,style:jle,ref:t}),a)}),Ale=e=>{var{children:t}=e,n=Le(_p);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return j.createElement(Ej,{width:r,height:i,x:o,y:a},t)},eD=j.forwardRef((e,t)=>{var{children:n}=e,r=Sle(e,wle),i=rr();return i?j.createElement(Ale,null,n):j.createElement(Ele,Yh({ref:t},r),n)});function Ole(){var e=en(),[t,n]=j.useState(null),r=Le(bV);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Er(a)&&a!==r&&e(UY(a))}},[t,e,r]),n}function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(r){Nle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nle(e,t,n){return(t=kle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kle(e){var t=Cle(e,"string");return typeof t=="symbol"?t:t+""}function Cle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mle=j.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:d,onMouseMove:p,onMouseUp:v,onTouchEnd:y,onTouchMove:b,onTouchStart:x,style:S,width:_}=e,E=en(),[O,T]=j.useState(null),[N,k]=j.useState(null);Rne();var M=Ole(),D=j.useCallback(X=>{M(X),typeof t=="function"&&t(X),T(X),k(X)},[M,t,T,k]),R=j.useCallback(X=>{E(D4(X)),E(Hr({handler:a,reactEvent:X}))},[E,a]),C=j.useCallback(X=>{E(V_(X)),E(Hr({handler:f,reactEvent:X}))},[E,f]),L=j.useCallback(X=>{E(A6()),E(Hr({handler:d,reactEvent:X}))},[E,d]),I=j.useCallback(X=>{E(V_(X)),E(Hr({handler:p,reactEvent:X}))},[E,p]),U=j.useCallback(()=>{E($4())},[E]),P=j.useCallback(X=>{E(B4(X.key))},[E]),H=j.useCallback(X=>{E(Hr({handler:o,reactEvent:X}))},[E,o]),B=j.useCallback(X=>{E(Hr({handler:u,reactEvent:X}))},[E,u]),F=j.useCallback(X=>{E(Hr({handler:c,reactEvent:X}))},[E,c]),G=j.useCallback(X=>{E(Hr({handler:v,reactEvent:X}))},[E,v]),K=j.useCallback(X=>{E(Hr({handler:x,reactEvent:X}))},[E,x]),$=j.useCallback(X=>{E(U4(X)),E(Hr({handler:b,reactEvent:X}))},[E,b]),W=j.useCallback(X=>{E(Hr({handler:y,reactEvent:X}))},[E,y]);return j.createElement(F6.Provider,{value:O},j.createElement(fz.Provider,{value:N},j.createElement("div",{className:pt("recharts-wrapper",r),style:Tle({position:"relative",cursor:"default",width:_,height:i},S),onClick:R,onContextMenu:H,onDoubleClick:B,onFocus:U,onKeyDown:P,onMouseDown:F,onMouseEnter:C,onMouseLeave:L,onMouseMove:I,onMouseUp:G,onTouchEnd:W,onTouchMove:$,onTouchStart:K,ref:D},n)))}),Rle=["children","className","width","height","style","compact","title","desc"];function Dle(e,t){if(e==null)return{};var n,r,i=Ple(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ple(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lle=j.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:o,compact:u,title:c,desc:f}=e,d=Dle(e,Rle),p=hs(d);return u?j.createElement(eD,{otherAttributes:p,title:c,desc:f},n):j.createElement(Mle,{className:r,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(eD,{otherAttributes:p,title:c,desc:f,ref:t},j.createElement(fse,null,n)))}),qle=["width","height"];function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X_.apply(null,arguments)}function Ile(e,t){if(e==null)return{};var n,r,i=Ble(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ble(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $le={top:5,right:5,bottom:5,left:5},zle={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$le,reverseStackOrder:!1,syncMethod:"index"},F4=j.forwardRef(function(t,n){var r,i=ir(t.categoricalChartProps,zle),{width:a,height:o}=i,u=Ile(i,qle);if(!xh(a)||!xh(o))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:v}=t,y={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(yle,{preloadedState:{options:y},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:c},j.createElement(tse,{chartData:v.data}),j.createElement(ble,{width:a,height:o,layout:i.layout,margin:i.margin}),j.createElement(xle,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),j.createElement(Lle,X_({},u,{width:a,height:o,ref:n})))}),Ule=["axis"],Hle=j.forwardRef((e,t)=>j.createElement(F4,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ule,tooltipPayloadSearcher:G6,categoricalChartProps:e,ref:t})),Fle=["axis","item"],G4=j.forwardRef((e,t)=>j.createElement(F4,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fle,tooltipPayloadSearcher:G6,categoricalChartProps:e,ref:t}));function Gle(e,t,n){const r=Object.entries(e||{});return r.length===0?[]:r.map(([i,a])=>{const o=Number(a||0);if(o<=0)return null;const u=t?.[i]||{},c=Number(u.unitSpace??0),f=c*o,d=n>0?f/n*100:0,p=Number.isFinite(d)?Math.max(0,d):0;return{id:i,name:u.name||i,emoji:u.emoji||"",amount:o,unit:u.unit||"",unitSpace:c,usedSpace:f,pct:p,pctClamped:Math.min(100,p)}}).filter(Boolean).sort((i,a)=>a.usedSpace-i.usedSpace)}const Kle={background:"rgba(15, 23, 42, 0.92)",color:"#e2e8f0",borderRadius:6,padding:"8px 10px",boxShadow:"0 8px 20px rgba(2, 6, 23, 0.55)",border:"1px solid rgba(148,163,184,0.2)"};function Wle({active:e,payload:t}){if(!e||!t||t.length===0)return null;const n=t[0]?.payload;return n?m.jsxs("div",{style:Kle,children:[m.jsxs("div",{style:{fontWeight:700,marginBottom:4},children:[n.emoji?`${n.emoji} `:"",n.name]}),m.jsxs("div",{style:{fontSize:12,display:"grid",gap:2},children:[m.jsxs("span",{children:["Kapacitet: ",je(n.usedSpace)," (",n.pct.toFixed(1),"%)"]}),m.jsxs("span",{children:["Mngde: ",je(n.amount),n.unit?` ${n.unit}`:""]}),m.jsxs("span",{children:["Fylder pr. enhed: ",je(n.unitSpace)]})]})]}):null}function Vh({open:e,onClose:t,title:n,items:r,resDefs:i,totalCapacity:a=0}){const o=j.useMemo(()=>Gle(r,i,a),[r,i,a]),u=j.useMemo(()=>o.reduce((d,p)=>d+p.usedSpace,0),[o]),c=a>0?u/a*100:0,f=Math.max(0,a-u);return m.jsx(X$,{open:e,onClose:t,title:n,size:"large",children:o.length===0?m.jsx("div",{style:{padding:"12px 4px",color:"#94a3b8"},children:"Ingen ressourcer i lageret lige nu."}):m.jsxs("div",{style:{display:"grid",gap:16},children:[m.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16,fontSize:13,color:"#cbd5f5"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{opacity:.7},children:"Total kapacitet"}),m.jsx("div",{style:{fontWeight:700},children:je(a)})]}),m.jsxs("div",{children:[m.jsx("div",{style:{opacity:.7},children:"Brugte pladser"}),m.jsxs("div",{style:{fontWeight:700},children:[je(u)," (",c.toFixed(1),"%)"]})]}),m.jsxs("div",{children:[m.jsx("div",{style:{opacity:.7},children:"Ledig plads"}),m.jsx("div",{style:{fontWeight:700},children:je(f)})]})]}),m.jsx("div",{style:{width:"100%",height:420},children:m.jsx(z_,{width:"100%",height:"100%",children:m.jsxs(G4,{data:o,layout:"vertical",margin:{top:10,right:24,bottom:10,left:0},children:[m.jsx(Hh,{strokeDasharray:"3 3"}),m.jsx(Gh,{type:"number",domain:[0,100],tickFormatter:d=>`${d}%`,stroke:"#94a3b8",style:{fontSize:12}}),m.jsx(Wh,{type:"category",dataKey:"name",width:180,tickFormatter:(d,p)=>{const v=o[p]?.emoji||"";return`${v?`${v} `:""}${d}`},stroke:"#94a3b8",style:{fontSize:12}}),m.jsx($_,{content:m.jsx(Wle,{}),cursor:{fill:"rgba(148,163,184,0.08)"}}),m.jsx(GE,{dataKey:"pctClamped",fill:"#38bdf8",radius:[0,6,6,0]})]})})})]})})}function Yle(){const{data:e}=Ie(),t=zt();if(!e)return m.jsx("aside",{id:"sidebar"});const{defs:n,state:r}=e,i=Number(r?.cap?.solid?.total??0),a=Number(r?.cap?.liquid?.total??0),o=Number(r?.cap?.solid?.used??0),u=Number(r?.cap?.liquid?.used??0),[c,f]=j.useState(null),d=y=>f(y),p=()=>f(null),v={background:"none",border:"none",padding:0,color:"inherit",font:"inherit",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:6};return m.jsxs("aside",{id:"sidebar",children:[m.jsxs("section",{className:"panel section res-panel",children:[m.jsxs("div",{className:"section-head",children:["Stats ",m.jsx("span",{style:{fontSize:8,opacity:.7},children:"(klik p bar for at lse hover - klik uden for hover for at deaktivere):"})]}),m.jsx("div",{className:"section-body",children:m.jsx($K,{})})]}),m.jsxs("section",{className:"panel section res-panel",children:[m.jsxs("div",{className:"section-head",children:[m.jsxs("button",{type:"button",onClick:()=>d("liquid"),style:v,"aria-haspopup":"dialog",children:[m.jsx("span",{role:"img","aria-hidden":!0,children:""}),m.jsx("span",{children:t("ui.liquid.h1")})]}),m.jsxs("span",{style:{marginLeft:"auto",fontWeight:600},children:[je(u),"/",je(a)]})]}),m.jsx("div",{className:"section-body",children:m.jsx(sh,{items:r.inv?.liquid,defs:n.res,format:"simple",columns:2})})]}),m.jsxs("section",{className:"panel section res-panel",children:[m.jsxs("div",{className:"section-head",children:[m.jsxs("button",{type:"button",onClick:()=>d("solid"),style:v,"aria-haspopup":"dialog",children:[m.jsx("span",{role:"img","aria-hidden":!0,children:""}),m.jsx("span",{children:t("ui.solid.h1")})]}),m.jsxs("span",{style:{marginLeft:"auto",fontWeight:600},children:[je(o),"/",je(i)]})]}),m.jsx("div",{className:"section-body",children:m.jsx(sh,{items:r.inv?.solid,defs:n.res,format:"simple",columns:2})})]}),m.jsxs("section",{className:"panel section res-panel",children:[m.jsx("div",{className:"section-head",children:" Dyr"}),m.jsx("div",{className:"section-body",children:m.jsx(nz,{format:"simple"})})]}),m.jsxs("section",{className:"panel section res-panel",children:[m.jsx("div",{className:"section-head",children:" Log"}),m.jsx("div",{className:"section-body",children:m.jsx(PK,{})})]}),m.jsx(Vh,{open:c==="liquid",onClose:p,title:`${t("ui.liquid.h1")}  fordeling`,items:r.inv?.liquid,resDefs:n.res||{},totalCapacity:Number(r?.cap?.liquid?.total??0)}),m.jsx(Vh,{open:c==="solid",onClose:p,title:`${t("ui.solid.h1")}  fordeling`,items:r.inv?.solid,resDefs:n.res||{},totalCapacity:Number(r?.cap?.solid?.total??0)})]})}function Vle({activePage:e}){const t=[{page:"dashboard",title:"Dashboard",icon:""},{page:"buildings",title:"Buildings",icon:""},{page:"research",title:"Research",icon:""},{page:"unit",title:"Units",icon:""},{page:"resources",title:"Resources",icon:""},{page:"production",title:"Productions",icon:""},{page:"flowchart",title:"Flowchart",icon:""},{page:"userpage",title:"User",icon:""},{page:"citizens",title:"Befolkning",icon:""},{page:"management",title:"Camp management",icon:""}];return m.jsx("nav",{className:"quickbar",children:t.map(n=>m.jsxs("a",{href:`#/${n.page}`,"data-page":n.page,title:n.title,className:e===n.page?"active":"",children:[n.icon,m.jsx("span",{children:n.title})]},n.page))})}function qd(e){if(!e)return 0;const t=String(e).match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2}):(\d{2})$/);if(!t)return 0;const[n,r,i,a,o,u,c]=t.map(Number);return Date.UTC(r,i-1,a,o,u,c)}function Xle(){const{data:e}=Ie()||{},t=e?.state?.jobs?.running;return j.useEffect(()=>{try{const i=localStorage.getItem("ActiveBuilds_v1");if(i){const a=JSON.parse(i);a&&typeof a=="object"&&(window.ActiveBuilds=a)}else window.ActiveBuilds=window.ActiveBuilds||{}}catch{window.ActiveBuilds=window.ActiveBuilds||{}}for(const[i,a]of Object.entries(window.ActiveBuilds||{}))a&&!a.startTs&&a.start_utc&&(a.startTs=qd(a.start_utc)),a&&!a.endTs&&a.end_utc&&(a.endTs=qd(a.end_utc),!a.endTs&&a.startTs&&a.durationS&&(a.endTs=a.startTs+a.durationS*1e3));const n=()=>{try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds||{}))}catch{}},r=setInterval(n,5e3);return window.addEventListener("beforeunload",n),window.addEventListener("storage",i=>{if(i.key==="ActiveBuilds_v1"&&i.newValue)try{window.ActiveBuilds=JSON.parse(i.newValue)||{}}catch{}}),()=>{clearInterval(r),window.removeEventListener("beforeunload",n)}},[]),j.useEffect(()=>{if(!Array.isArray(t))return;window.ActiveBuilds=window.ActiveBuilds||{};const n=window.ActiveBuilds,r={};for(const i of t){if(!i||!i.bld_id)continue;const a=i.start_utc||"",o=qd(a),u=Number(i.duration_s||0);let c=i.end_utc||"",f=qd(c);if(!f&&o&&u>0&&(f=o+u*1e3,!c&&f)){const p=new Date(f).toISOString();c=`${p.slice(0,10)} ${p.slice(11,19)}`}r[i.bld_id]={...n[i.bld_id]||{},jobId:i.id,start_utc:a,end_utc:c,durationS:u,startTs:o||void 0,endTs:f||void 0}}window.ActiveBuilds=r;try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds))}catch{}},[t]),null}function nD(e){if(!e)return 0;const t=String(e).match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2}):(\d{2})$/);if(!t)return 0;const[n,r,i,a,o,u,c]=t.map(Number);return Date.UTC(r,i-1,a,o,u,c)}function Qle(){const{refreshData:e,applyResourceDeltaMap:t}=Ie()||{},n=j.useRef(null);return j.useEffect(()=>{function r(){window.ActiveBuilds=window.ActiveBuilds||{};try{const o=localStorage.getItem("ActiveBuilds_v1");o&&!Object.keys(window.ActiveBuilds).length&&(window.ActiveBuilds=JSON.parse(o)||{})}catch{}}r();async function i(o,u){const c=Date.now();if(!(!u||(!u.startTs&&u.start_utc&&(u.startTs=nD(u.start_utc)),!u.endTs&&u.end_utc&&(u.endTs=nD(u.end_utc)),!u.endTs)||c-u.endTs<2e3)&&!u._completing&&!(u.nextCheckTs&&c<u.nextCheckTs)){u._completing=!0;try{const d=await fetch("/world-spil/backend/api/actions/build_complete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:u.jobId})});if(d.ok){const p=await d.json();if(p.ok){delete window.ActiveBuilds[o];try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds))}catch{}p.delta&&p.delta.resources&&t&&t(p.delta.resources),e&&e()}else u._completing=!1,u.nextCheckTs=c+1500}else u._completing=!1,u.nextCheckTs=c+1500}catch{u._completing=!1,u.nextCheckTs=Date.now()+3e3}}}function a(){try{r();for(const[o,u]of Object.entries(window.ActiveBuilds||{}))i(o,u);try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds))}catch{}}catch{}}return n.current=setInterval(a,1e3),()=>{n.current&&clearInterval(n.current)}},[t,e]),null}function Zle({activeIntervalMs:e=5e3,idleIntervalMs:t=3e4}){const{refreshData:n}=Ie()||{},r=j.useRef(null);function i(){try{return!!(window.ActiveBuilds&&Object.keys(window.ActiveBuilds).length>0)}catch{return!1}}function a(u){r.current&&clearTimeout(r.current),r.current=setTimeout(o,Math.max(500,Number(u)||0))}async function o(){if(document.visibilityState!=="visible"){a(5e3);return}try{n&&await n()}finally{const u=i()?Math.max(2e3,e):Math.max(1e4,t);a(u)}}return j.useEffect(()=>{a(0);const u=()=>{if(document.visibilityState==="visible"){n&&n();const c=i()?Math.max(2e3,e):Math.max(1e4,t);a(c)}};return window.addEventListener("focus",u),document.addEventListener("visibilitychange",u),()=>{r.current&&clearTimeout(r.current),window.removeEventListener("focus",u),document.removeEventListener("visibilitychange",u)}},[n,e,t]),null}function Jle(e){return String(e).startsWith("rsd.")?"research":String(e).startsWith("add.")?"addon":String(e).startsWith("rcp.")?"recipe":"building"}function eue({jobId:e,job:t}){const{data:n,refreshData:r,applyLockedCostsDelta:i}=Ie(),a=e.split(".")[0],o=e.replace(new RegExp(`^${a}\\.`),""),u=n?.defs?.[a]?.[o];if(!u)return null;const c=a==="rsd"?"#/research":`#/building/${Jn(e)?.family}.l1`,f=async d=>{d.preventDefault();let p=!1;try{if(window.BuildJobs?.cancel)await window.BuildJobs.cancel(e);else{const v=Jle(e),y=t?.jobId||window.ActiveBuilds?.[e]?.jobId||0;if(!y)p=!0;else{const b=await fetch("/world-spil/backend/api/actions/build_cancel.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,job_id:y,scope:v})}),x=await b.text();let S=null;if(x)try{S=JSON.parse(x)}catch{}const _=b.ok&&S?.ok!==!1,E=S?.message||`HTTP ${b.status}`;if(_)Array.isArray(S?.locked_costs)&&S.locked_costs.length&&i&&i(S.locked_costs,1);else if(/job (not running|not found)/i.test(E))p=!0;else throw new Error(E||"Cancel failed")}}}catch(v){if(!p){console.error("Cancel failed",v);return}}try{window.ActiveBuilds&&(delete window.ActiveBuilds[e],localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds)))}catch{}r&&r()};return m.jsxs("div",{className:"item",children:[m.jsx("div",{className:"icon",children:u.icon||""}),m.jsxs("div",{className:"grow",style:{display:"flex",flexDirection:"column",gap:4},children:[m.jsx("div",{className:"title",children:m.jsx("a",{href:c,className:"link",children:u.name})}),m.jsxs("div",{className:"build-progress","data-pb-for":e,style:{display:"block",width:"100%",marginTop:8},children:[m.jsx("div",{className:"pb-track",style:{position:"relative",height:12,background:"var(--border,#ddd)",borderRadius:6,overflow:"hidden"},children:m.jsx("div",{className:"pb-fill",style:{height:"100%",width:"0%",background:"var(--primary,#4aa)"}})}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,opacity:.8,marginTop:4},children:[m.jsx("span",{id:`time-remaining-${e.replace(/\./g,"-")}`}),m.jsx("span",{className:"pb-label",children:"0%"})]})]})]}),m.jsx("div",{className:"right",children:m.jsx("button",{className:"btn",onClick:f,"data-cancel-build":e,children:"Cancel"})})]})}function Id({type:e,title:t}){const n=window.ActiveBuilds||{},r=Object.entries(n).filter(([i])=>i.startsWith(`${e}.`));return r.length===0?m.jsxs("div",{className:"sub",children:["Ingen aktive ",t.toLowerCase(),"-jobs."]}):r.map(([i,a])=>m.jsx(eue,{jobId:i,job:a},i))}function tue(e,t){const n=[],r=i=>Array.isArray(i)&&i.forEach(a=>n.push(a));for(const i of["bld","add","rsd"]){const a=e?.[i]||{};for(const[o,u]of Object.entries(a))(i==="bld"?t?.bld?.[`bld.${o}`]:i==="add"?t?.add?.[`add.${o}`]:t?.rsd?.[o]||t?.rsd?.[`rsd.${o}`])&&r(u?.buffs)}return n}function nue({resId:e,data:t,defs:n}){const[r,i]=j.useState(!1),a=e.replace(/^res\./,""),o=n.res?.[a];if(!o)return null;const u=o.emoji||o.icon||"";return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"item collapsible-item",onClick:()=>i(!r),children:[m.jsx("div",{className:"icon",children:u}),m.jsx("div",{className:"grow",children:m.jsx("div",{className:"title",children:o.name||a})}),m.jsxs("div",{className:"right",children:[m.jsxs("strong",{children:["+",je(Math.round(t.total))," / time"]}),m.jsx("span",{className:`chevron ${r?"expanded":""}`,children:""})]})]}),r&&m.jsx("div",{className:"collapsible-content expanded",children:t.sources.map((c,f)=>{const d=c.quantity??1,p=c.amount/c.period_s*3600*d;return m.jsxs("div",{className:"yield-source-item",children:[m.jsxs("span",{children:[c.icon," ",c.name," ",d>1?`(x${d})`:""]}),m.jsxs("span",{children:["+",je(p)," / time"]})]},f)})})]})}function K4(){const{data:e}=Ie(),t=j.useMemo(()=>{if(!e)return{};const i={},a=e.defs||{},o=e.state||{},u=tue(a,o),c=(S,_,E)=>{i[S]||(i[S]={total:0,sources:[]}),i[S].total+=_,i[S].sources.push(E)},f=(S,_)=>(S==="bld"?"bld.":S==="add"?"add.":S==="rsd"?"rsd.":"ani.")+_,d=(S,_,E)=>{for(const[O,T]of Object.entries(S||{})){const N=O.replace(new RegExp(`^${E}\\.`),""),k=_[N];if(!k?.yield||!(k.yield_period_s>0))continue;const M=T.quantity||1,D=f(E,N);for(const R of k.yield){const C=Number(R.amount??R.qty??0),L=String(R.id??R.res_id??"");if(!L)continue;const I=C*(3600/k.yield_period_s),U=Z$(I,L.startsWith("res.")?L:`res.${L}`,{appliesToCtx:D,activeBuffs:u}),P=U*(k.yield_period_s/3600);c(L,U*M,{name:k.name,icon:k.emoji||k.icon||"",amount:P,period_s:k.yield_period_s,quantity:M})}}};d(o?.bld,a.bld||{},"bld"),d(o?.add,a.add||{},"add"),d(o?.ani,a.ani||{},"ani");const p=o?.user||{},v=p.currentstage??p.stage??o?.currentstage??o?.stage??1,y=a.stage_bonus_rules?.[v]||{},b={forest:Number(p.mul_forest??p.bonus_forest??0),mining:Number(p.mul_mining??p.bonus_mining??0),field:Number(p.mul_field??p.bonus_field??0),water:Number(p.mul_water??p.bonus_water??0)},x=S=>({forest:"Basebonus (Skov)",mining:"Basebonus (Mine)",field:"Basebonus (Mark)",water:"Basebonus (Vand)"})[S]||"Basebonus";for(const[S,_]of Object.entries(y)){const E=b[S]||0;if(!(E<=0))for(const O of _||[]){const T=String(O),N=E;c(T,N,{name:x(S),icon:"",amount:N,period_s:3600,quantity:1})}}return i},[e]),n=e?.defs||{};return Object.entries(t).sort((i,a)=>i[0].localeCompare(a[0])).map(([i,a])=>m.jsx(nue,{resId:i,data:a,defs:n},i))}function rD(){const e=Date.now();for(const t in window.ActiveBuilds||{}){const n=window.ActiveBuilds[t],r=document.getElementById(`time-remaining-${t.replace(/\./g,"-")}`);r&&(r.textContent=os((n.endTs-e)/1e3));const i=document.querySelector(`.build-progress[data-pb-for="${t}"]`);if(i){const a=i.querySelector(".pb-fill"),o=i.querySelector(".pb-label");if(a&&o){const u=Math.min(100,Math.round(Math.max(0,(e-n.startTs)/(n.endTs-n.startTs))*100));a.style.width=`${u}%`,o.textContent=`${u}%`}}}}function rue(){const{isLoading:e,error:t}=Ie();return j.useEffect(()=>{rD();const n=setInterval(rD,1e3);return()=>clearInterval(n)},[]),e?m.jsx("div",{className:"sub",children:"Indlser dashboard..."}):t?m.jsx("div",{className:"sub",children:"Fejl ved indlsning af data."}):m.jsxs(m.Fragment,{children:[m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:" Aktive Bygge-jobs"}),m.jsx("div",{className:"section-body",children:m.jsx(Id,{type:"bld",title:"Bygge"})})]}),m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:" Aktive Addon-jobs"}),m.jsx("div",{className:"section-body",children:m.jsx(Id,{type:"add",title:"Addon"})})]}),m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:" Igangvrende Forskning"}),m.jsx("div",{className:"section-body",children:m.jsx(Id,{type:"rsd",title:"Forsker"})})]}),m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:" Aktive Opskrifter"}),m.jsx("div",{className:"section-body",children:m.jsx(Id,{type:"rcp",title:"Opskrift"})})]}),m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:" Passiv Produktion"}),m.jsx("div",{className:"section-body",children:m.jsx(K4,{})})]})]})}(function(){if(!window.ActiveBuilds)try{const t=localStorage.getItem("ActiveBuilds_v1");window.ActiveBuilds=t?JSON.parse(t)||{}:{}}catch{window.ActiveBuilds={}}})();window.addEventListener("storage",e=>{if(e.key==="ActiveBuilds_v1"){try{window.ActiveBuilds=e.newValue?JSON.parse(e.newValue)||{}:{}}catch{window.ActiveBuilds={}}W4()}});const Q_=new Set;function iue(e){return Q_.add(e),()=>Q_.delete(e)}function W4(){Q_.forEach(e=>{try{e()}catch{}})}function aue(e){window.ActiveBuilds=e||{};try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds))}catch{}W4()}function hl(e){const n={...window.ActiveBuilds||{}};e(n),aue(n)}function sue(e){const t=()=>!!window.ActiveBuilds?.[e];return j.useSyncExternalStore(iue,t,t)}function Zc({item:e,allOk:t}){const{refreshData:n,applyLockedCostsDelta:r}=Ie()||{};if(!e)return null;const{id:i,isUpgrade:a,isOwned:o,stageLocked:u,def:c}=e,f=(o??e.owned)||!1,d=e.stageReq??c?.stage??c?.stage_required,p=sue(i),[v,y]=j.useState(!1);j.useEffect(()=>{!p&&v&&y(!1)},[p,v]);const b=p||v,x=j.useMemo(()=>String(i).startsWith("rsd.")?"research":String(i).startsWith("add.")?"addon":String(i).startsWith("rcp.")?"recipe":"building",[i]),S=O=>{if(!O)return Date.now();const T=String(O).match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2}):(\d{2})$/);if(!T)return Date.now();const[N,k,M,D,R,C,L]=T.map(Number);return Date.UTC(k,M-1,D,R,C,L)},_=async()=>{try{if(window.BuildJobs?.start){const O=await window.BuildJobs.start(i);if(O&&O.job_id){const T=O;hl(N=>{N[i]={jobId:T.job_id,start_utc:T.start_utc,end_utc:T.end_utc,durationS:T.duration_s,startTs:S(T.start_utc),endTs:S(T.end_utc)}}),Array.isArray(T.locked_costs)&&T.locked_costs.length&&r&&r(T.locked_costs,-1)}else y(!0)}else{const O=await fetch("/world-spil/backend/api/actions/build_start.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,scope:x})});if(!O.ok)throw new Error(`HTTP ${O.status}`);const T=await O.json();if(!T.ok||!T.job_id)throw new Error(T.message||"Start failed");const N=T;hl(k=>{k[i]={jobId:N.job_id,start_utc:N.start_utc,end_utc:N.end_utc,durationS:N.duration_s,startTs:S(N.start_utc),endTs:S(N.end_utc)}}),Array.isArray(N.locked_costs)&&N.locked_costs.length&&r&&r(N.locked_costs,-1)}n&&n()}catch(O){console.error("Start build failed",O)}},E=async()=>{let O=!1;try{if(window.BuildJobs?.cancel)await window.BuildJobs.cancel(i),hl(T=>{delete T[i]});else{const T=window.ActiveBuilds?.[i]?.jobId;if(!T)O=!0;else{const N=await fetch("/world-spil/backend/api/actions/build_cancel.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,job_id:T,scope:x})}),k=await N.text();let M=null;if(k)try{M=JSON.parse(k)}catch{}const D=N.ok&&M?.ok!==!1,R=M?.message||`HTTP ${N.status}`;if(D)Array.isArray(M?.locked_costs)&&M.locked_costs.length&&r&&r(M.locked_costs,1),n&&n();else if(/job (not running|not found)/i.test(R))O=!0;else throw new Error(R||"Cancel failed");hl(C=>{delete C[i]})}}}catch(T){if(!O){console.error("Cancel build failed",T);return}}O&&hl(T=>{delete T[i]}),y(!1),n&&n()};if(b)return m.jsx("button",{className:"btn",onClick:E,"data-cancel-build":i,children:"Cancel"});if(u)return m.jsx("span",{className:"badge stage-locked price-bad",title:d?`Krver Stage ${d}`:void 0,children:"Stage locked"});if(f)return m.jsx("span",{className:"badge owned",children:"Owned"});if(t){const O=a?"Upgrade":"Build";return m.jsx("button",{className:"btn primary",onClick:_,"data-fakebuild-id":i,"data-buildmode":"timer",children:O})}return m.jsx("button",{className:"btn",disabled:!0,children:"Need more"})}function iD(e){if(!e)return 0;if(typeof e=="number")return e;const t=Date.parse(e);return Number.isFinite(t)?t:0}function mo({bldId:e,style:t}){const{refreshData:n,applyResourceDeltaMap:r}=Ie()||{},[i,a]=j.useState(0),[o,u]=j.useState(!1),[c,f]=j.useState("0%"),d=j.useRef(null),[p,v]=j.useState(!1),y=j.useRef(!1),b=j.useRef(0),x=()=>{const S=window.ActiveBuilds?.[e];if(!S)return null;let _=S.startTs??iD(S.start_utc),E=S.endTs??iD(S.end_utc);return(!_||!E)&&S.durationS&&_&&(E=_+S.durationS*1e3),{startTs:_,endTs:E}};return j.useEffect(()=>{async function S(){const _=x();if(!_||!_.startTs||!_.endTs){u(!1),a(0),f("0%");return}const E=Date.now(),O=Math.max(1,_.endTs-_.startTs),T=Math.max(0,Math.min(1,(E-_.startTs)/O));if(u(!0),a(T*100),f(`${Math.round(T*100)}%`),T>=1&&!p){if(E-_.endTs<2e3||y.current||E-b.current<1500)return;y.current=!0,b.current=E;try{const k=window.ActiveBuilds?.[e]?.jobId;if(k){const M=await fetch("/world-spil/backend/api/actions/build_complete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:k})});if(M.ok){const D=await M.json();D.ok?(v(!0),hl(R=>{delete R[e]}),D.delta&&D.delta.resources&&r&&r(D.delta.resources),n&&n()):y.current=!1}else y.current=!1}else y.current=!1}catch{y.current=!1}}}return S(),d.current=setInterval(S,250),()=>{d.current&&clearInterval(d.current)}},[e,p,r,n]),o?m.jsxs("div",{className:"build-progress",style:{minWidth:120,...t},children:[m.jsx("div",{className:"bar-wrap",style:{background:"#eee",borderRadius:6,height:10},children:m.jsx("div",{className:"bar",style:{height:"100%",width:`${i}%`,background:"#2c7be5",borderRadius:6,transition:"width 150ms linear"}})}),m.jsx("div",{className:"label",style:{fontSize:12,marginTop:4,textAlign:"right"},children:c})]}):null}function oue({id:e,needAmount:t}){const{data:n}=Ie();let r=0,i=null;if(e.startsWith("ani.")){const u=e.replace(/^ani\./,"");i=n.defs.ani?.[u]??{emoji:"",name:u},r=n.state.ani?.[e]?.quantity??0}else{const u=e.replace(/^res\./,"");i=n.defs.res?.[u]??{emoji:"",name:u},r=n.state.inv?.solid?.[u]??n.state.inv?.liquid?.[u]??0}const o=r>=t?"price-ok":"price-bad";return e.startsWith("ani.")?m.jsxs("span",{className:o,title:`${i.name}: ${je(r)} / ${je(t)}`,children:[je(r)," / ",je(t)," ",i.emoji||""]}):m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:o,children:[i.emoji," ",je(r)]}),m.jsxs("span",{className:"sub",children:["/ ",je(t)]})]})}function lue({cost:e,transform:t}){const n=Object.values(Yr(e)),r=t?n.map(i=>{const a=i.id.startsWith("res.")||i.id.startsWith("ani.")?i.id:i.id in(window?.data?.defs?.res||{})?`res.${i.id}`:i.id,o=t(a,i.amount);return{...i,id:a,amount:o}}):n;return r.length===0?null:r.map((i,a)=>m.jsxs(he.Fragment,{children:[a>0&&"  ",m.jsx(oue,{id:i.id,needAmount:i.amount})]},`${i.id}-${a}`))}function Z_(e,t,{appliesToCtx:n,activeBuffs:r}){const i=Array.isArray(n)?n:[n];let a=0,o=0,u=1;for(const c of r||[]){if(c.kind!=="res"||!(c.mode==="cost"||c.mode==="both")||!(c.scope==="all"||c.scope===t||c.scope==="solid"&&t.startsWith("res.")||c.scope==="liquid"&&t.startsWith("res.")))continue;const d=c.applies_to==="all",p=Array.isArray(c.applies_to)&&i.some(v=>c.applies_to.includes(v));!d&&!p||(c.op==="adds"?a+=c.amount:c.op==="subt"?o+=c.amount:c.op==="mult"&&(u*=1-c.amount/100))}return u=Math.max(0,u),Math.max(0,(e+a-o)*u)}function Y4(e,t,{appliesToCtx:n,activeBuffs:r}){const i=Array.isArray(n)?n:[n];let a=1;for(const o of r||[]){if(o.kind!=="speed"||!(o.actions==="all"||Array.isArray(o.actions)&&o.actions.includes(t)))continue;const c=o.applies_to==="all",f=Array.isArray(o.applies_to)&&i.some(d=>o.applies_to.includes(d));!c&&!f||o.op==="mult"&&(a*=1-o.amount/100)}return a=Math.max(.2,a),Math.max(0,e*a)}function Nc({cost:e,ctx:t="all"}){const{data:n}=Ie(),r=he.useMemo(()=>{const a=[],o=u=>Array.isArray(u)&&u.forEach(c=>a.push(c));for(const u of["bld","add","rsd"]){const c=n?.defs?.[u]||{};Object.values(c).forEach(f=>o(f.buffs))}return a},[n?.defs]),i=he.useCallback((a,o)=>{const u=a.startsWith("res.")?a:a in(n?.defs?.res||{})?`res.${a}`:a;return u.startsWith("res.")?Z_(o,u,{appliesToCtx:t,activeBuffs:r}):o},[t,r,n?.defs?.res]);return m.jsx(lue,{cost:e,transform:i})}function uue({reqId:e}){const{data:t}=Ie(),n=t?.state,r=t?.defs;let i=!1,a=e,o="#",u=e;if(e.startsWith("rsd.")){const c=e.slice(4);a=r?.rsd?.[c]?.name||c,i=da(e,n),o=`#/research?focus=${encodeURIComponent(e)}`,u=i?`Fuldfrt: ${a}`:`Krver: ${a}`}else if(e.startsWith("bld.")){const c=Jn(e);c&&(a=`${r?.bld?.[`${c.family}.l${c.level}`]?.name||c.family} L${c.level}`,i=(mi("bld",n)[c.series]||0)>=c.level,o="#/buildings",u=i?`Ejet: ${a}`:`Krver: ${a}`)}else if(e.startsWith("add.")){const c=e.match(/^add\.(.+)\.l(\d+)$/);if(c){const[f,d]=[c[1],+c[2]];a=`${r?.add?.[e.replace(/^add\./,"")]?.name||f} L${d}`,i=(mi("add",n)[`add.${f}`]||0)>=d,o="#/building",u=i?`Ejet: ${a}`:`Krver: ${a}`}}return m.jsx("a",{className:i?"price-ok":"price-bad",href:o,title:u,children:a})}function eA({req:e}){const t=String(e||"").split(/[,;]/).map(n=>n.trim()).filter(Boolean);return t.length===0?null:m.jsx(m.Fragment,{children:t.map((n,r)=>m.jsxs(he.Fragment,{children:[r>0&&"  ",m.jsx(uue,{reqId:n})]},`${n}-${r}`))})}function kc({icon:e,value:t,isOk:n=!0,title:r=""}){return!t&&t!==0?null:m.jsxs("span",{className:n?"price-ok":"price-bad",title:r,children:[e," ",t]})}function tA({price:e,reqString:t,duration:n,durationBase:r,durationText:i,footprint:a,footprintOk:o}){const u=[],c=zt();if(e&&Object.keys(e).length&&u.push(m.jsx(Nc,{cost:e},"price")),t&&u.push(m.jsx(eA,{req:t},"req")),typeof a=="number"&&a!==0){const p=a>0,v=p?a:Math.abs(a),y=`${p?"+":""}${v} BP`;u.push(m.jsx(kc,{icon:c("ui.emoji.footprint.h1"),label:"",value:y,isOk:p||o},"footprint"))}const f=i||(n!=null?os(n):null);if(f){const v=n!=null&&r!=null&&Math.round(n)!==Math.round(r)?`Normal: ${os(r??0)}`:void 0;u.push(m.jsx("span",{title:v,children:m.jsx(kc,{icon:c("ui.emoji.time.h1"),label:"",value:f,isOk:!0})},"time"))}if(!u.length)return m.jsx("div",{className:"sub",style:{marginTop:4},children:"-"});const d=u.flatMap((p,v)=>v===0?[p]:[m.jsx("span",{children:"|"},`sep-${v}`),p]);return m.jsx("div",{className:"sub",style:{marginTop:4,display:"flex",flexWrap:"wrap",alignItems:"center",gap:"8px"},children:d})}function cue(e){return String(e?.id||"").startsWith("rsd.")?"produce":e?.isUpgrade||(e?.ownedMax??0)>0?"upgrade":"build"}function nA(e){const t=[],n=r=>Array.isArray(r)&&r.forEach(i=>t.push(i));for(const r of["bld","add","rsd"]){const i=e?.[r]||{};Object.values(i).forEach(a=>n(a?.buffs))}return t}function Xh(e={}){const t={};for(const n of Object.keys(e||{})){const r=n.match(/^(\w+)\.(.+)\.l(\d+)$/);if(!r)continue;const[,i,a,o]=r,u=`${i}.${a}`;t[u]=Math.max(t[u]||0,Number(o))}return t}function Wp(e){const t={},n=e?.rsd||{};for(const i of Object.keys(n)){const a=i.match(/^rsd\.(.+)\.l(\d+)$/);if(!a)continue;const[,o,u]=a,c=`rsd.${o}`;t[c]=Math.max(t[c]||0,Number(u))}const r=e?.research?.completed;if(r){const i=r instanceof Set?Array.from(r):Object.keys(r);for(const a of i){const o=String(a).match(/^rsd\.(.+)\.l(\d+)$/);if(!o)continue;const[,u,c]=o,f=`rsd.${u}`;t[f]=Math.max(t[f]||0,Number(c))}}return t}function fue(e){if(!e)return{array:[],text:""};if(Array.isArray(e)){const n=e.map(r=>String(r)).filter(Boolean);return{array:n,text:n.join(", ")}}const t=String(e).split(/[,;]/).map(n=>n.trim()).filter(Boolean);return{array:t,text:t.join(", ")}}function Yp(e,t,n={}){if(!e)return{normalizedPrice:{},priceOk:!1,reqIds:[],reqString:"",footprintCost:0,footprintBonus:0,footprintDelta:0,footprintOk:!0,allOk:!1,duration:{base_s:0,final_s:0,action:"build"}};const r=Yr(e.price||{});let i=!0;for(const N of Object.values(r)){let k=0;if(N.id.startsWith("ani."))k=t.ani?.[N.id]?.quantity??0;else{const M=N.id.replace(/^res\./,"");k=t.inv?.solid?.[M]??t.inv?.liquid?.[M]??0}if(k<N.amount){i=!1;break}}const{array:a,text:o}=fue(e.req),u=n.ownedBuildings||Xh(t.bld),c=n.ownedAddons||Xh(t.add),f=n.ownedResearch||Wp(t),d=n.hasResearch||(N=>{const k=String(N),M=k.match(/^rsd\.(.+)\.l(\d+)$/);if(M){const[,R,C]=M,L=`rsd.${R}`;if((f[L]||0)>=Number(C))return!0}else{const R=`rsd.${k.replace(/^rsd\./,"")}`;if((f[R]||0)>0)return!0}const D=k.replace(/^rsd\./,"");return!!(t?.research?.[D]||t?.rsd?.[D]||t?.rsd?.[k])});let p=!0;for(const N of a){let k=!1;if(N.startsWith("bld.")){const M=Jn(N);M&&(k=(u[M.series]||0)>=M.level)}else if(N.startsWith("add.")){const M=N.match(/^add\.(.+)\.l(\d+)$/);M&&(k=(c[`add.${M[1]}`]||0)>=Number(M[2]))}else N.startsWith("rsd.")&&(k=d(N));if(!k){p=!1;break}}const v=Number(e.footprintDelta??0),y=v<0?Math.abs(v):0,b=v>0?v:0;let x=!0;if(y>0){const N=t.cap?.footprint||{total:0,used:0};x=(N.total||0)-Math.abs(N.used||0)>=y}const S=i&&p&&x,_=Number(e.duration_s??0),E=cue(e),O=n.activeBuffs||[],T=_>0?Y4(_,E,{appliesToCtx:e.id,activeBuffs:O}):0;return{normalizedPrice:r,reqIds:a,reqString:o,footprintCost:y,footprintBonus:b,footprintDelta:v,footprintOk:x,allOk:S,duration:{base_s:_,final_s:T,action:E}}}function due(e,t){if(!e)return null;if(e.startsWith("res.")){const n=e.replace(/^res\./,""),r=t?.res?.[n];return r?{iconUrl:r.iconUrl||null,emoji:r.emoji||null,name:r.name||n}:null}if(e.startsWith("ani.")){const n=e.replace(/^ani\./,""),r=t?.ani?.[n];return r?{iconUrl:r.iconUrl||null,emoji:r.emoji||null,name:r.name||n}:null}return null}function aD(e,t,n="-"){const r=Yr(e);return Object.keys(r).length?Object.values(r).map(i=>{const a=Number(i.amount||0),o=n==="+"?"+":"-",u=due(i.id,t);return{id:i.id,amount:a,prefix:o,icon:u}}):[]}function V4({entry:e,state:t,baseOwned:n,requirementCaches:r}){const{def:i,fullId:a,stageReq:o,stageOk:u,ownedLevel:c,displayLevel:f}=e,d=zt(),{data:p}=Ie(),v=p?.i18n?.current??{},y=Yp({id:a,price:i.cost||{},req:i.require||i.req||"",duration_s:Number(i.duration_s??0)},t,r),b={id:a,price:i.cost||{},req:i.require||i.req||"",duration_s:Number(i.duration_s??0),isUpgrade:f>1,isOwned:c>=f,owned:c>=f,stageLocked:!u,stageReq:o,def:i},x=y.duration?.final_s??null,S=y.duration?.base_s??null,E=x!=null&&S!=null&&Math.round(x)!==Math.round(S)?null:i.time_str||i.duration_text||null,O=m.jsx(so,{def:i,translations:v}),T=m.jsxs("div",{className:"item","data-research-row":a,children:[m.jsx("div",{className:"icon",children:d("ui.emoji.research.h1")}),m.jsxs("div",{className:"grow",children:[m.jsxs("div",{className:"title",children:[i.name||a,!u&&m.jsx("span",{className:"badge stage-locked price-bad",title:`${d("ui.text.demandingstage.h1")} ${o}`,style:{marginLeft:8},children:d("ui.text.stagelocked.h1")})]}),i.desc?m.jsxs("div",{className:"sub",children:[d("ui.emoji.recipe.h1")," ",i.desc]}):null,m.jsx(tA,{price:i.cost||{},reqString:y.reqString,duration:x,durationBase:S,durationText:E,footprint:0,footprintOk:!0})]}),m.jsx("div",{className:"right",children:y.allOk&&u?m.jsxs(m.Fragment,{children:[m.jsx(Zc,{item:b,allOk:!0}),m.jsx(mo,{bldId:a})]}):m.jsx("button",{className:"btn",disabled:!0,title:y.reqString||d("ui.btn.needmore.h1"),children:d("ui.btn.needmore.h1")})})]});return m.jsx(ls,{content:O,style:{display:"block",width:"100%"},children:T})}function ab(e){const t=Number(e);return Number.isFinite(t)?t:0}function X4(e){const t=/^(.+)\.l(\d+)$/.exec(e);return t?{base:t[1],lvl:Number(t[2])}:{base:e,lvl:1}}function sD(e){return X4(e).base}function hue(){const e=zt(),{data:t}=Ie();if(!t)return m.jsx("div",{children:e?.("ui.loading")??"Indlser..."});const r=(t.defs||{}).rsd||{},i=t.state||{},a=Number(i.user?.currentstage||0),o=j.useMemo(()=>{const C={};for(const[L,I]of Object.entries(r)){const U=I.family||"misc",P=String(U).split(",").map(G=>G.trim()).filter(Boolean);P.length===0&&P.push("misc");const H=L,B=L.startsWith("rsd.")?L:`rsd.${L}`,F={id:H,fullId:B,def:I,displayLevel:X4(B).lvl,stageReq:ab(I.stage)};for(const G of P)C[G]||(C[G]=[]),C[G].push(F)}for(const L of Object.keys(C))C[L].sort((I,U)=>(I.displayLevel||0)-(U.displayLevel||0)||I.fullId.localeCompare(U.fullId));return C},[r]),u=Object.keys(o).sort(),c="all",f=[c,...u],[d,p]=j.useState(f[0]),v=j.useMemo(()=>Wp(i),[i]),y=C=>Number(v[C]||0),[b,x]=j.useState(()=>{const C=localStorage.getItem("research.showOwned");return C===null?!0:C==="1"});j.useEffect(()=>{localStorage.setItem("research.showOwned",b?"1":"0")},[b]);function S(C,L){const I=C===c?Object.values(o).flat():o[C]||[];if(!I.length)return[];const U=new Map;for(const F of I){const G=sD(F.fullId)||F.fullId,K=Number(F.displayLevel||0);U.has(G)||U.set(G,new Map),U.get(G).set(K,F)}const P=[];for(const[F,G]of U.entries()){const K=Array.from(G.keys()).sort((Y,J)=>Y-J);if(!K.length)continue;const $=y(F),W=K[K.length-1]||0;let X=$>0?$:K.includes(1)?1:K[0];K.includes(X)||(X=K[K.length-1]);const ne=G.get(X);if(!ne)continue;const V=ab(ne.def?.stage),Q={...ne,seriesBase:F,ownedLevel:$,baseOwned:$,isOwned:$>0&&X<=$,isMaxOwned:$>0&&$>=W,role:"current",stageReq:V,stageOk:a>=V};if(($>0||a>=V)&&P.push(Q),$<W){const Y=K.find(J=>J>X)||null;if(Y){const J=G.get(Y),ae=ab(J.def?.stage);P.push({...J,seriesBase:F,ownedLevel:$,baseOwned:$,isOwned:!1,isMaxOwned:!1,role:"next",stageReq:ae,stageOk:a>=ae})}}}const B=(typeof L=="boolean"?L:b)?P:P.filter(F=>!(F.role==="current"&&(F.ownedLevel||0)>0));return B.sort((F,G)=>{const K=(F.def?.name||F.seriesBase||F.fullId).toString(),$=(G.def?.name||G.seriesBase||G.fullId).toString();return K===$?F.role!==G.role?F.role==="current"?-1:1:(F.displayLevel||0)-(G.displayLevel||0):K.localeCompare($)}),B}const _=j.useMemo(()=>S(d,b),[o,i?.research,a,d,b]),E=j.useMemo(()=>{const C={},L=[c,...Object.keys(o).sort()];for(const I of L){const U=S(I,!0).length,P=S(I,!1).length;C[I]={visibleWith:U,visibleWithout:P}}return C},[o,i?.research,a]),O=j.useRef(null),T=j.useRef(""),N=j.useRef(!1);function k(){const C=window.location.hash||"",L=C.indexOf("?");if(L!==-1)try{return new URLSearchParams(C.slice(L+1)).get("focus")||""}catch{}try{return new URLSearchParams(window.location.search||"").get("focus")||""}catch{return""}}function M(C){if(!C)return null;const L=document.getElementById(C)||document.getElementById(C.replace(/\./g,"__"));if(L)return L;try{const I=`[data-fullid="${CSS&&CSS.escape?CSS.escape(C):C}"]`,U=document.querySelector(I);if(U)return U}catch{}try{const I=`[id="${CSS&&CSS.escape?CSS.escape(C):C}"]`,U=document.querySelector(I);if(U)return U}catch{}return null}function D(C){if(!C)return!1;try{C.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}catch{C.scrollIntoView()}C.classList.add("focus-highlight");const L=()=>{C.classList.remove("focus-highlight"),C.removeEventListener("animationend",L)};return C.addEventListener("animationend",L,{once:!0}),!0}function R(C){if(!C||N.current)return!1;const L=M(C);return L?(requestAnimationFrame(()=>{D(L)&&(N.current=!0,O.current=null)}),!0):!1}return j.useEffect(()=>{function C(){const L=k();if(L){L!==T.current&&(T.current=L,N.current=!1,O.current=L,setTimeout(()=>R(L),150),setTimeout(()=>R(L),500));for(const I of Object.keys(o))if((o[I]||[]).some(P=>P.fullId===L||P.id===L)){p(I);break}}}return C(),window.addEventListener("hashchange",C),()=>window.removeEventListener("hashchange",C)},[o]),j.useEffect(()=>{const C=O.current;if(!C||N.current)return;const L=()=>R(C);requestAnimationFrame(L);const I=setTimeout(L,120),U=setTimeout(L,500);return()=>{clearTimeout(I),clearTimeout(U)}},[d,o]),m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:"Research"}),m.jsxs("div",{className:"section-body",children:[m.jsxs("div",{className:"tabs-bar",role:"tablist",style:{display:"flex",gap:8,marginBottom:12},children:[[c,...u].map(C=>m.jsxs("button",{role:"button","aria-selected":C===d,onClick:()=>p(C),className:`tab ${d===e?"active":""}`,children:[C===c?"Alle":C,m.jsxs("span",{style:{opacity:.7,marginLeft:6},children:[E[C]?.visibleWithout??0,"/",E[C]?.visibleWith??0]})]},C)),m.jsx("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:8},children:m.jsx("button",{className:"btn","aria-pressed":b,title:b?"Skjul allerede researchede":"Vis allerede researchede",onClick:()=>x(C=>!C),children:b?"Skjul ejede":"Vis ejede"})})]}),m.jsx("div",{className:"tab-content",children:!_||_.length===0?m.jsx("div",{className:"sub",children:"Ingen research i denne kategori."}):_.map(C=>{const L=sD(C.fullId),I=y(L);return m.jsx("div",{"data-fullid":C.fullId,style:{marginBottom:8},children:m.jsx(V4,{entry:C,state:i,baseOwned:I,requirementCaches:{}})},C.fullId)})})]})]})}function Q4({tabs:e=[],value:t,defaultValue:n,onChange:r,persistKey:i,showActions:a=!1,onSave:o,onRevert:u,dirty:c=!1,onBeforeChange:f}){const[d,p]=j.useState(n??(e[0]&&e[0].key)??null),v=t!==void 0?t:d;j.useEffect(()=>{if(i)try{const b=localStorage.getItem(i);b&&t===void 0&&p(b)}catch{}},[i]),j.useEffect(()=>{if(i&&v)try{localStorage.setItem(i,String(v))}catch{}},[i,v]);const y=async b=>{if(b!==v){if(typeof f=="function")try{if(!await f(v,b))return}catch{return}t===void 0&&p(b),r?.(b)}};return m.jsxs("div",{className:"tabs",style:{marginLeft:"auto",display:"flex",gap:8,alignItems:"center"},children:[e.map(b=>{const x=v===b.key;return m.jsxs("button",{type:"button",className:`tab ${x?"active":""}`,onClick:()=>y(b.key),title:b.label,"aria-current":x?"page":void 0,children:[b.emoji?m.jsx("span",{"aria-hidden":!0,style:{marginRight:6},children:b.emoji}):null,b.label,c&&x?m.jsx("span",{style:{marginLeft:8,width:8,height:8,borderRadius:999,background:"#f59e0b",display:"inline-block"}}):null]},b.key)}),a?m.jsxs("div",{style:{marginLeft:12,display:"flex",gap:8},children:[m.jsx("button",{type:"button",className:"tab",onClick:()=>u?.(),title:"Fortryd ikke-gemte ndringer",children:"Fortryd"}),m.jsx("button",{type:"button",className:"tab",onClick:()=>o?.(),title:"Gem ndringer",style:{fontWeight:700},disabled:!c,children:c?"Gem (ndringer)":"Gem"})]}):null]})}const rA="market:refresh";function Qh(){try{window.dispatchEvent(new CustomEvent(rA))}catch{}}function Z4(e){try{window.addEventListener(rA,e)}catch{}}function J4(e){try{window.removeEventListener(rA,e)}catch{}}function pue(){const{data:e,isLoading:t,error:n,refetch:r}=Ie(),[,i]=j.useState(0);if(j.useEffect(()=>{const _=async()=>{try{if(document.visibilityState!=="visible")return;typeof r=="function"?await r():i(T=>T+1)}catch{}},E=()=>_(),O=()=>{document.visibilityState==="visible"&&_()};return window.addEventListener("focus",E),document.addEventListener("visibilitychange",O),Z4(_),()=>{window.removeEventListener("focus",E),document.removeEventListener("visibilitychange",O),J4(_)}},[r]),t)return m.jsx("div",{className:"sub",children:"Indlser beholdning..."});if(n)return m.jsx("div",{className:"sub",children:"Fejl: Kunne ikke hente data."});const{defs:a,state:o}=e,{cap:u={},inv:c={}}=o,f=u.liquid||u.storageLiquidCap||{},d=u.solid||u.storageSolidCap||{},p=u.animal_cap||{},[v,y]=j.useState(null),b=_=>y(_),x=()=>y(null),S={background:"none",border:"none",padding:0,color:"inherit",font:"inherit",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:6};return m.jsxs(m.Fragment,{children:[m.jsxs("section",{className:"panel section res-panel",children:[m.jsxs("div",{className:"section-head",children:[m.jsxs("button",{type:"button",onClick:()=>b("liquid"),style:S,"aria-haspopup":"dialog",children:[m.jsx("span",{role:"img","aria-hidden":!0,children:""}),m.jsx("span",{children:"Flydende ressourcer"})]}),m.jsx("span",{style:{marginLeft:"auto",fontWeight:600},children:m.jsx(gi,{content:m.jsx(pc,{title:"Flydende kapacitet",metric:"storageLiquidCap",capObj:f}),children:m.jsxs("span",{children:[je(f.used||0)," / ",je(f.total||0)]})})})]}),m.jsx("div",{className:"section-body",children:m.jsx(sh,{items:c?.liquid,defs:a.res})})]}),m.jsxs("section",{className:"panel section res-panel",children:[m.jsxs("div",{className:"section-head",children:[m.jsxs("button",{type:"button",onClick:()=>b("solid"),style:S,"aria-haspopup":"dialog",children:[m.jsx("span",{role:"img","aria-hidden":!0,children:""}),m.jsx("span",{children:"Faste ressourcer"})]}),m.jsx("span",{style:{marginLeft:"auto",fontWeight:600},children:m.jsx(gi,{content:m.jsx(pc,{title:"Faste kapacitet",metric:"storageSolidCap",capObj:d}),children:m.jsxs("span",{children:[je(d.used||0)," / ",je(d.total||0)]})})})]}),m.jsx("div",{className:"section-body",children:m.jsx(sh,{items:c?.solid,defs:a.res})})]}),m.jsxs("section",{className:"panel section res-panel",children:[m.jsxs("div",{className:"section-head",children:[m.jsx("span",{children:" Dyr"}),m.jsx("span",{style:{marginLeft:"auto",fontWeight:600},children:m.jsx(gi,{content:m.jsx(pc,{title:"Staldplads",metric:"animal_cap",capObj:p}),children:m.jsxs("span",{children:[je(p.used||0)," / ",je(p.total||0)]})})})]}),m.jsx("div",{className:"section-body",children:m.jsx(nz,{format:"detailed"})})]}),m.jsx(Vh,{open:v==="liquid",onClose:x,title:"Flydende ressourcer  fordeling",items:c?.liquid,resDefs:a.res||{},totalCapacity:Number(f.total||0)}),m.jsx(Vh,{open:v==="solid",onClose:x,title:"Faste ressourcer  fordeling",items:c?.solid,resDefs:a.res||{},totalCapacity:Number(d.total||0)})]})}function mue({isOpen:e,offer:t,buyerMoney:n=0,maxCapacityAmount:r=1/0,onCancel:i,onBuy:a}){const[o,u]=j.useState(0);j.useEffect(()=>{u(t?Math.min(1,t.amount||0):0)},[t]);const c=y=>y?String(y).replace(/[_-]+/g," ").replace(/\b\w/g,b=>b.toUpperCase()):"",f=t?.res_name||t?.resName||t?.name||c(t?.res_id||t?.resId||""),d=t?.res_emoji||t?.resEmoji||t?.emoji||"",p=j.useMemo(()=>t?Math.min(Number(t.amount||0),Number(r||1/0)):0,[t,r]),v=j.useMemo(()=>Math.round((o||0)*Number(t?.price||0)),[o,t]);return!e||!t?null:m.jsx("div",{style:{position:"fixed",inset:0,zIndex:2e4,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(2,6,23,0.6)",padding:20,backdropFilter:"blur(2px)"},onMouseDown:y=>{y.target===y.currentTarget&&i&&i()},children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":"Kb tilbud",style:{width:"min(720px, 96%)",maxWidth:560,borderRadius:12,padding:18,background:"var(--panel-bg, #071128)",color:"var(--text, #e6eef8)",boxShadow:"0 12px 40px rgba(2,6,23,0.7)"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[m.jsx("div",{style:{fontWeight:700},children:"Kb tilbud"}),m.jsx("button",{className:"icon-btn",onClick:i,"aria-label":"Luk",children:""})]}),m.jsxs("div",{style:{display:"grid",gap:12},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[m.jsx("div",{style:{fontSize:28,lineHeight:1},children:d}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:14,color:"#cbd5e1"},children:"Ressource"}),m.jsx("div",{style:{fontSize:16,color:"#fff",fontWeight:700},children:f})]})]}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[m.jsx("label",{style:{minWidth:80},children:"Tilgngeligt"}),m.jsx("div",{children:t.amount})]}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[m.jsx("label",{style:{minWidth:80},children:"Antal"}),m.jsx("input",{type:"number",min:1,max:p,value:o,onChange:y=>{const b=Math.max(1,Math.min(p,Number(y.target.value||0)));u(Number.isFinite(b)?b:1)},style:{flex:"0 0 120px",padding:"6px 8px",borderRadius:6}}),m.jsxs("span",{style:{color:"#6b7280"},children:["(max ",p,")"]})]}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[m.jsx("label",{style:{minWidth:80},children:"Stk pris"}),m.jsxs("div",{children:[t.price," Kr"]})]}),m.jsxs("div",{children:["Samlet pris: ",m.jsx("b",{children:v})," Kr"]}),m.jsxs("div",{style:{color:v>n?"#fca5a5":"#94a3b8"},children:["Dit belb: ",m.jsx("b",{style:{color:"#fff"},children:n})," Kr"]}),m.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[m.jsx("button",{className:"tab",onClick:i,children:"Fortryd"}),m.jsx("button",{className:"tab",disabled:o<=0||v>n,onClick:()=>a&&a({qty:o}),children:"Kb"})]})]})]})})}function gue(){const e=`
    .market-table { width:100%; table-layout: fixed; border-collapse: collapse; }
    .market-table thead th, .market-table tbody td { padding: 10px 12px; vertical-align: middle; }
    .market-table thead th { font-weight: 700; color: var(--text-muted, #94a3b8); font-size: 13px; text-align:left; }
    .market-table tbody tr { transition: background .12s ease, transform .08s ease; }
    .market-table tbody tr:hover { background: rgba(255,255,255,0.03); transform: translateY(-1px); }
    .market-table td.actions { text-align: right; white-space: nowrap; }
    .market-table col.resource { width:36%; }
    .market-table col.amount { width:8%; }
    .market-table col.price  { width:10%; }
    .market-table col.total  { width:12%; }
    .market-table col.seller { width:16%; }
    .market-table col.date   { width:10%; }
    .market-table col.actions{ width:8%; }
    .market-table .res-name { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

    .segmented { display:inline-flex; gap:6px; background:transparent; border-radius:10px; }
    .segmented button { padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text); cursor:pointer; }
    .segmented button.active { background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); border-color: rgba(255,255,255,0.08); }

    .market-toolbar { display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin:10px 0 18px 0; }
    .market-toolbar .search { flex:1 1 320px; display:flex; align-items:center; gap:8px; background:var(--panel-bg); border:1px solid rgba(255,255,255,0.04); padding:6px 10px; border-radius:10px; }
    .market-toolbar .search input { flex:1; background:transparent; border:0; color:var(--text); outline:none; font-size:14px; min-width:0; }
    .market-toolbar select, .market-toolbar input[type="text"] { background:var(--panel-bg); border:1px solid rgba(255,255,255,0.04); color:var(--text); padding:6px 8px; border-radius:8px; font-size:14px; }
    .market-toolbar .actions { margin-left:auto; display:flex; gap:8px; }
    .market-toolbar .tab.update { background: linear-gradient(90deg,#0ea5a0,#06b6d4); color:#021025; border:0; padding:8px 12px; border-radius:8px; }
  `,{data:t,refetch:n}=Ie(),r=t?.state?.user?.userId??t?.state?.user?.user_id??0,i=Number(t?.state?.inv?.solid?.money??t?.state?.inv?.liquid?.money??0),[a,o]=j.useState([]),[u,c]=j.useState([]),[f,d]=j.useState(!1),[p,v]=j.useState(!1),[y,b]=j.useState("local"),[x,S]=j.useState(""),[_,E]=j.useState("exclude"),[O,T]=j.useState("price_asc"),[N,k]=j.useState(null),[M,D]=j.useState(!1),[R,C]=j.useState(null),[L,I]=j.useState(!1),[U,P]=j.useState({id:null,title:"",message:"",onConfirm:null}),[H,B]=j.useState(!1),[F,G]=j.useState(""),[K,$]=j.useState(!1),[W,X]=j.useState(null),ne=fe=>{fe||(fe={message:"Ukendt fejl"}),X(fe),$(!0)},V=fe=>{const Ee=Number(fe);return Number.isFinite(Ee)?Math.abs(Ee-Math.round(Ee))<1e-9?String(Math.round(Ee)):Ee.toFixed(2):String(fe)},Q=fe=>{if(typeof fe=="string")return fe;if(!fe||typeof fe!="object")return String(fe);if(fe.need_space!==void 0&&fe.free_space!==void 0){const Ee=fe.unit_space!==void 0?Number(fe.unit_space):null,Ae=Number(fe.need_space||0),De=Number(fe.free_space||0),Ge=fe.used_space!==void 0?Number(fe.used_space):null,Ne=Ge!==null?De+Ge:null,Ke=N&&N.res_name||fe.res_name||fe.resource||fe.res_id||"",ot=R&&R.details&&R.details.amount||fe.amount||"";let Mt="";return Ke&&(Mt+=`Forsgte at kbe ${Ke}${ot?` (${ot})`:""}.
`),Ee!==null&&(Mt+=`Plads pr. enhed: ${V(Ee)}. `),Mt+=`Krver i alt: ${V(Ae)} plads. `,Mt+=`Ledig plads: ${V(De)}.`,Ge!==null&&Ne!==null&&(Mt+=` (Brugt: ${V(Ge)} / Kapacitet: ${V(Ne)})`),Mt}if(fe.need!==void 0&&fe.have!==void 0)return`Du mangler penge: Har ${V(fe.have)}, krver ${V(fe.need)}.`;if(fe.available!==void 0)return`Tilgngelig mngde er kun ${V(fe.available)}.`;try{return JSON.stringify(fe,null,2)}catch{return String(fe)}};function Y({isOpen:fe,payload:Ee,onClose:Ae}){if(!fe)return null;const De=Ee?.message||"Ukendt fejl",Ge=Ee?.details??Ee?.debug??Ee?.error??null;return m.jsx("div",{style:{position:"fixed",inset:0,zIndex:31e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(2,6,23,0.6)",padding:12,backdropFilter:"blur(2px)"},onMouseDown:Ne=>{Ne.target===Ne.currentTarget&&Ae&&Ae()},children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":"Fejl",style:{width:"min(760px, 94%)",maxWidth:760,borderRadius:10,padding:16,background:"var(--panel-bg, #071128)",color:"var(--text, #e6eef8)",boxShadow:"0 12px 40px rgba(2,6,23,0.7)"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[m.jsx("div",{style:{fontWeight:700},children:"Fejl"}),m.jsx("button",{className:"icon-btn",onClick:Ae,"aria-label":"Luk",children:""})]}),m.jsx("div",{style:{marginBottom:12,color:"var(--price-bad, #ff8080)"},children:De}),Ge&&m.jsxs("div",{style:{marginBottom:10,fontSize:13,color:"#cbd5e1"},children:[m.jsx("div",{style:{marginBottom:6,fontWeight:700},children:"Detaljer"}),m.jsx("pre",{style:{whiteSpace:"pre-wrap",fontSize:12,margin:0,color:"#cbd5e1"},children:Q(Ge)})]}),m.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:m.jsx("button",{className:"tab",onClick:Ae,children:"Luk"})})]})})}function J({isOpen:fe,title:Ee,message:Ae,onCancel:De,onConfirm:Ge}){return fe?m.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e4,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(2,6,23,0.6)",padding:12,backdropFilter:"blur(2px)"},onMouseDown:Ne=>{Ne.target===Ne.currentTarget&&De&&De()},children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":Ee||"Bekrft",style:{width:"min(720px, 92%)",maxWidth:520,borderRadius:10,padding:18,background:"var(--panel-bg, #071128)",color:"var(--text, #e6eef8)",boxShadow:"0 12px 40px rgba(2,6,23,0.7)"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[m.jsx("div",{style:{fontWeight:700},children:Ee||"Bekrft"}),m.jsx("button",{className:"icon-btn",onClick:De,"aria-label":"Luk",children:""})]}),m.jsx("div",{style:{marginBottom:14,color:"#cbd5e1"},children:Ae}),m.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[m.jsx("button",{className:"tab",onClick:De,children:"Fortryd"}),m.jsx("button",{className:"tab",onClick:()=>{Ge&&Ge()},style:{background:"linear-gradient(90deg,#ef4444,#f97316)",color:"#021025"},children:"Bekrft"})]})]})}):null}function ae({isOpen:fe,message:Ee,onClose:Ae}){return fe?m.jsx("div",{style:{position:"fixed",inset:0,zIndex:30500,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto"},children:m.jsxs("div",{style:{background:"linear-gradient(180deg, #062031, #071128)",color:"#e6eef8",padding:14,borderRadius:10,boxShadow:"0 10px 30px rgba(2,6,23,0.6)",minWidth:300},children:[m.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Frdig"}),m.jsx("div",{style:{color:"#cbd5e1",marginBottom:10},children:Ee}),m.jsx("div",{style:{textAlign:"right"},children:m.jsx("button",{className:"tab",onClick:Ae,children:"Ok"})})]})}):null}const re=t?.defs||t?.data?.defs||t?.state?.defs||t?.state?.resourceDefs||{};function de(fe,Ee){if(!fe)return fe;const Ae=fe.res_id||fe.resId||fe.resource||"",De=String(Ae).replace(/^res\./,""),Ne=((He,$e)=>{if(!He||!$e)return null;if(He.res&&He.res[$e])return He.res[$e];if(He[$e])return He[$e];if(He.resources&&He.resources[$e])return He.resources[$e];if(He.byId&&He.byId[$e])return He.byId[$e];if(Array.isArray(He))return He.find(Xe=>Xe&&(Xe.id===$e||Xe.res_id===$e||Xe.key===$e))||null;for(const Xe of Object.values(He))if(!(!Xe||typeof Xe!="object")){if(Xe[$e])return Xe[$e];if(Xe.id===$e||Xe.res_id===$e||Xe.key===$e)return Xe}return null})(Ee,De)||{},Ke=He=>String(He||"").replace(/^(res\.)?/,"").replace(/[_-]+/g," ").replace(/\b\w/g,$e=>$e.toUpperCase()),ot=He=>{if(!He)return He;const $e=String(He).trim(),Xe=$e.match(/^(.+?)\s+\1$/i);return Xe?Xe[1]:$e},Mt=fe.res_name||fe.resName||fe.name||Ne.name||Ne.label||Ne.displayName||Ke(De),jt=ot(Mt),Lt=fe.res_emoji||fe.resEmoji||fe.emoji||Ne.emoji||Ne.icon||Ne.symbol||"";return{...fe,res_id:Ae,res_key:De,res_name:jt,res_emoji:Lt}}const ye=fe=>{const Ee=Number(fe);return Number.isFinite(Ee)?String(Math.round(Ee)):String(fe)},le=fe=>{const Ee=Number(fe);return Number.isFinite(Ee)?Ee.toFixed(2):String(fe)},Oe=async()=>{d(!0);try{const fe=await fetch("/world-spil/backend/api/actions/marketplace_list.php?scope=local",{credentials:"include"}).then(Ee=>Ee.json());o(fe?.ok?fe.data?.rows||[]:[])}catch{o([])}finally{d(!1)}},Se=async()=>{v(!0);try{const fe=new URLSearchParams({scope:"global",own:_,sort:O}),Ee=await fetch("/world-spil/backend/api/actions/marketplace_list.php?"+fe.toString(),{credentials:"include"}).then(Ae=>Ae.json());c(Ee?.ok?Ee.data?.rows||[]:[])}catch{c([])}finally{v(!1)}};j.useEffect(()=>{Oe(),Se()},[]),j.useEffect(()=>{y==="global"&&Se()},[_,O,x,y]),j.useEffect(()=>{const fe=()=>{document.visibilityState==="visible"&&(Oe(),Se())},Ee=()=>fe(),Ae=()=>fe();return window.addEventListener("focus",Ee),document.addEventListener("visibilitychange",Ae),Z4(fe),()=>{window.removeEventListener("focus",Ee),document.removeEventListener("visibilitychange",Ae),J4(fe)}},[]);const be=fe=>{C(null),k(de(fe,re)),D(!0)},Ce=(fe,Ee,Ae)=>{P({id:fe,title:Ee,message:Ae||"Er du sikker p at du vil fortryde dette opslag?",onConfirm:()=>xe(fe)}),I(!0)},xe=async fe=>{I(!1);try{const Ee=new URLSearchParams;Ee.set("id",String(fe));const Ae=await fetch("/world-spil/backend/api/actions/marketplace_cancel.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ee.toString()}),De=await Ae.json().catch(()=>null);if(!Ae.ok||!De?.ok){console.warn("cancelOwn failed",Ae.status,De);const Ne=De?.error||{},Ke=Ne.message||"Kunne ikke fortryde opslaget";ne({message:Ke,details:Ne.details||Ne.debug||De});return}o(Ne=>Ne.filter(Ke=>String(Ke.id)!==String(fe))),c(Ne=>Ne.filter(Ke=>String(Ke.id)!==String(fe)));const Ge=De?.data?.message||De?.message||"Opslaget er annulleret";G(Ge),B(!0),setTimeout(()=>B(!1),2500);try{await n?.()}catch{}await Oe(),await Se();try{Qh()}catch{}}catch(Ee){console.error("cancelOwn error",Ee),ne({message:Ee?.message||"Uventet fejl",details:Ee})}},_e=fe=>{if(!fe&&fe!==0)return"";try{return String(fe).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim()}catch{return String(fe).toLowerCase()}},nt=j.useMemo(()=>{const fe=_e(x);return(u||[]).filter(Ae=>{if(_==="only"&&!(Ae.seller&&(Number(Ae.seller.user_id||Ae.seller.user?.user_id||0)===Number(r)||Number(Ae.user_id||0)===Number(r)))||_==="exclude"&&Ae.seller&&(Number(Ae.seller.user_id||Ae.seller.user?.user_id||0)===Number(r)||Number(Ae.user_id||0)===Number(r)))return!1;if(!fe)return!0;const De=de(Ae,re),Ge=[De.res_name,De.res_id,Ae.seller?.username,Ae.seller?.name,Ae.seller?.user?.username,Ae.seller?.user?.name,Ae.seller?.world_id,Ae.seller?.map_id,String(Ae.id)];for(const Ne of Ge){if(!Ne&&Ne!==0)continue;const Ke=_e(Ne);if(Ke&&Ke.includes(fe))return!0}return!1})},[u,x,re,_,r]),Vt=fe=>{const Ee={price_asc:(Ae,De)=>Number(Ae.price)-Number(De.price),price_desc:(Ae,De)=>Number(De.price)-Number(Ae.price),date_desc:(Ae,De)=>new Date(De.created_at)-new Date(Ae.created_at),date_asc:(Ae,De)=>new Date(Ae.created_at)-new Date(De.created_at)}[O]||(()=>0);return[...fe].sort(Ee)},Ut=j.useMemo(()=>Vt(nt),[nt,O]);return m.jsxs("div",{style:{display:"grid",gap:16},children:[m.jsx("style",{children:e}),m.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[m.jsx("div",{style:{fontWeight:700},children:"Marked"}),m.jsxs("div",{className:"segmented",role:"tablist","aria-label":"Vis",children:[m.jsx("button",{className:y==="local"?"active":"",onClick:()=>b("local"),children:"Lokalt"}),m.jsx("button",{className:y==="global"?"active":"",onClick:()=>b("global"),children:"Globalt"})]}),m.jsx("div",{style:{marginLeft:"auto"},children:y==="local"?m.jsx("button",{className:"tab",onClick:Oe,disabled:f,children:f?"Opdaterer":"Opdater lokal"}):m.jsx("button",{className:"tab update",onClick:Se,disabled:p,children:p?"Opdaterer":"Opdater global"})})]}),y==="global"&&m.jsxs("div",{className:"market-toolbar",children:[m.jsxs("div",{className:"search","aria-hidden":!0,children:[m.jsx("span",{style:{opacity:.8},children:""}),m.jsx("input",{"aria-label":"Sg i globalt marked",placeholder:"Sg (navn, id, slger... )",value:x,onChange:fe=>S(fe.target.value)})]}),m.jsxs("select",{value:O,onChange:fe=>T(fe.target.value),"aria-label":"Sorter",children:[m.jsx("option",{value:"price_asc",children:"Billigste frst"}),m.jsx("option",{value:"price_desc",children:"Dyreste frst"}),m.jsx("option",{value:"date_desc",children:"Nyeste frst"}),m.jsx("option",{value:"date_asc",children:"ldste frst"})]}),m.jsxs("select",{value:_,onChange:fe=>E(fe.target.value),"aria-label":"Vis egne",children:[m.jsx("option",{value:"exclude",children:"Skjul egne"}),m.jsx("option",{value:"include",children:"Vis inkl."}),m.jsx("option",{value:"only",children:"Kun egne"})]}),m.jsx("div",{className:"actions",style:{marginLeft:"auto"},children:m.jsx("button",{className:"tab",onClick:()=>{S(""),E("exclude"),T("price_asc")},children:"Nulstil filtre"})})]}),y==="local"&&m.jsxs("section",{children:[m.jsx("h3",{style:{marginTop:0},children:"Lokal  til salg"}),m.jsx("div",{className:"table-wrap",children:m.jsxs("table",{className:"table market-table",children:[m.jsxs("colgroup",{children:[m.jsx("col",{className:"resource"}),m.jsx("col",{className:"amount"}),m.jsx("col",{className:"price"}),m.jsx("col",{className:"total"}),m.jsx("col",{className:"seller"}),m.jsx("col",{className:"date"}),m.jsx("col",{className:"actions"})]}),m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Ressource"}),m.jsx("th",{children:"Antal"}),m.jsx("th",{children:"Stk pris"}),m.jsx("th",{children:"Total"}),m.jsx("th",{children:"Slger"}),m.jsx("th",{children:"Tilfjet"}),m.jsx("th",{})]})}),m.jsx("tbody",{children:a.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,style:{color:"#6b7280"},children:"Ingen lokale varer"})}):a.map(fe=>{const Ee=de(fe,re);return m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[m.jsx("div",{style:{fontSize:18,flex:"0 0 auto"},children:Ee.res_emoji}),m.jsx("div",{style:{minWidth:0},children:m.jsx("div",{className:"res-name",style:{fontSize:14,color:"#fff",fontWeight:700},children:Ee.res_name})})]})}),m.jsx("td",{children:ye(fe.amount)}),m.jsx("td",{children:le(fe.price)}),m.jsx("td",{children:le(Number(fe.amount)*Number(fe.price))}),m.jsx("td",{title:`${fe.seller?.world_id} / ${fe.seller?.map_id} @ ${fe.seller?.x},${fe.seller?.y}`,children:fe.seller?.username}),m.jsx("td",{children:fe.created_at}),m.jsx("td",{className:"actions",children:m.jsx("button",{className:"tab",onClick:()=>be(fe),children:"Kb"})})]},fe.id)})})]})})]}),y==="global"&&m.jsxs("section",{children:[m.jsx("h3",{style:{marginTop:0},children:"Global  til salg"}),m.jsx("div",{className:"table-wrap",children:m.jsxs("table",{className:"table market-table",children:[m.jsxs("colgroup",{children:[m.jsx("col",{className:"resource"}),m.jsx("col",{className:"amount"}),m.jsx("col",{className:"price"}),m.jsx("col",{className:"total"}),m.jsx("col",{className:"seller"}),m.jsx("col",{className:"date"}),m.jsx("col",{className:"actions"})]}),m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Ressource"}),m.jsx("th",{children:"Antal"}),m.jsx("th",{children:"Stk pris"}),m.jsx("th",{children:"Total"}),m.jsx("th",{children:"Slger"}),m.jsx("th",{children:"Tilfjet"}),m.jsx("th",{})]})}),m.jsx("tbody",{children:Ut.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,style:{color:"#6b7280"},children:"Ingen opslag"})}):Ut.map(fe=>{const Ee=fe.seller?.user_id&&Number(fe.seller.user_id)===Number(r),Ae=de(fe,re);return m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[m.jsx("div",{style:{fontSize:18,flex:"0 0 auto"},children:Ae.res_emoji}),m.jsx("div",{style:{minWidth:0},children:m.jsx("div",{className:"res-name",style:{fontSize:14,color:"#fff",fontWeight:700},children:Ae.res_name})})]})}),m.jsx("td",{children:ye(fe.amount)}),m.jsx("td",{children:le(fe.price)}),m.jsx("td",{children:le(Number(fe.amount)*Number(fe.price))}),m.jsx("td",{title:`${fe.seller?.world_id} / ${fe.seller?.map_id} @ ${fe.seller?.x},${fe.seller?.y}`,children:fe.seller?.username}),m.jsx("td",{children:fe.created_at}),m.jsx("td",{className:"actions",children:Ee?m.jsx("button",{className:"tab",onClick:()=>{const De=de(fe,re);Ce(fe.id,"Fortryd opslag",`Vil du annullere opslaget for ${De.res_name}?`)},children:"Fortryd"}):m.jsx("button",{className:"tab",onClick:()=>be(fe),children:"Kb"})})]},fe.id)})})]})})]}),m.jsx(mue,{isOpen:M,offer:N,buyerMoney:i,maxCapacityAmount:1/0,errorData:R,onClearError:()=>C(null),onCancel:()=>{D(!1),k(null),C(null)},onBuy:async({qty:fe})=>{try{if(!N)return;const Ae=typeof N.id=="string"&&String(N.id).startsWith("local:")?{id:N.id,scope:"local",res_id:N.res_id,price:Number(N.price||0),amount:fe}:{id:N.id,amount:fe},De=await fetch("/world-spil/backend/api/actions/marketplace_buy.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ae)}),Ge=await De.json().catch(()=>null);if(!De.ok||!Ge?.ok){const Ne=Ge?.error||{},Ke=Ne.message==="Not enough storage space for this purchase"?"Der er ikke plads nok i dit lager til dette kb.":Ne.message||"Kbet fejlede.";C({message:Ke,rawMessage:Ne.message,details:Ne.details||Ne.debug||null,httpStatus:De.status}),ne({message:Ke,details:Ne.details||Ne.debug||Ge});return}D(!1),k(null),C(null);try{await n?.()}catch(Ne){console.warn("refetch failed",Ne)}await Oe(),await Se();try{Qh()}catch{}G("Kbet er gennemfrt."),B(!0),setTimeout(()=>B(!1),2200)}catch(Ee){C({message:Ee?.message||"Uventet fejl.",details:null,httpStatus:0}),ne({message:Ee?.message||"Uventet fejl",details:Ee})}}}),m.jsx(J,{isOpen:L,title:U.title,message:U.message,onCancel:()=>I(!1),onConfirm:()=>{U.onConfirm&&U.onConfirm()}}),m.jsx(ae,{isOpen:H,message:F,onClose:()=>B(!1)}),m.jsx(Y,{isOpen:K,payload:W,onClose:()=>{$(!1),X(null)}})]})}function vue({isOpen:e,onClose:t,onPick:n,canGlobal:r,resId:i,resName:a,resEmoji:o,anchorRect:u,click:c}){const f=j.useRef(null),p=a||(b=>b?String(b).replace(/[_-]+/g," ").replace(/\b\w/g,x=>x.toUpperCase()):"")(i),v=typeof o=="string"?o:"";j.useEffect(()=>{if(!e)return;const b=x=>{f.current&&(f.current.contains(x.target)||t?.())};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[e,t]);const y=j.useMemo(()=>{const b={zIndex:9999,minWidth:160,maxWidth:420,boxShadow:"0 8px 30px rgba(2,6,23,0.6)",borderRadius:10,background:"var(--panel-bg,#0f1724)",color:"var(--text,#e6eef8)",padding:10},x=yue({click:c,rect:u});return{...b,position:x.position||"fixed",left:x.left,top:x.top,transform:x.transform||void 0}},[u,c]);return e?m.jsxs("div",{ref:f,style:y,role:"dialog","aria-modal":"true","aria-label":"Vlg handels-type",children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[m.jsx("div",{style:{fontWeight:700},children:"Vlg handels-type"}),m.jsx("button",{className:"icon-btn",onClick:t,"aria-label":"Luk",children:""})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[m.jsxs("div",{style:{fontSize:13,color:"#cbd5e1"},children:["Ressource:"," ",m.jsxs("b",{style:{color:"#fff",display:"inline-flex",alignItems:"center",gap:8},children:[m.jsx("span",{style:{marginRight:8},children:v}),m.jsx("span",{children:p})]})]}),m.jsx("button",{className:"tab",onClick:()=>n("local"),style:{display:"block",width:"100%",textAlign:"center"},children:"Lokal handel"}),r?m.jsx("button",{className:"tab",onClick:()=>n("global"),style:{display:"block",width:"100%",textAlign:"center"},children:"Globalt marked"}):m.jsx("div",{style:{fontSize:12,color:"#6b7280",padding:"6px 8px",borderRadius:6},children:"Globalt marked lst ved nuvrende stage."})]})]}):null}function yue({click:e,rect:t}){const n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;let i=null,a=null;const u=(S=>{if(!S||typeof S.x!="number"||typeof S.y!="number")return null;const _=S.x>n+2,E=S.y>r+2;return{x:_?S.x-window.scrollX:S.x,y:E?S.y-window.scrollY:S.y}})(e);t&&typeof t.left=="number"&&typeof t.bottom=="number"?(a=t.bottom-window.scrollY,u?i=u.x:i=t.left+(t.width||0)/2-window.scrollX):u?(i=u.x,a=u.y):(i=n/2,a=r/2);const c=8,f=8,d=260,p=180;let v=i+c,y=a+f;v+d>n-12&&(v=Math.max(12,n-12-d)),y+p>r-12&&(y=Math.max(12,r-12-p));const b=`${Math.round(v)}px`,x=`${Math.round(y)}px`;return{left:b,top:x,position:"fixed"}}const bue={"res.wood":12,"res.stone":12,"res.iron":150,"res.water":10,"res.food":40,"res.money":10};function e8(e){return bue[e]??1}function xue(e){const t=e8(e);return Math.max(.1,+(t*.85).toFixed(2))}function oD(e){return+(e8(e)*1).toFixed(2)}function wue({isOpen:e,resId:t,resName:n,resEmoji:r,maxAmount:i,onCancel:a,onAccepted:o,unitFromBackend:u,loadingUnit:c}){const[f,d]=j.useState(0),p=j.useMemo(()=>xue(t),[t]),v=Number(u!==null?u:p),y=j.useMemo(()=>v!=null?Number(v).toFixed(2):(Number(p)||0).toFixed(2),[v,p]),b=j.useMemo(()=>f>0?Math.ceil(f*v):0,[f,v]),S=n||(E=>E?String(E).replace(/[_-]+/g," ").replace(/\b\w/g,O=>O.toUpperCase()):"")(t),_=typeof r=="string"&&r?r:"";return e?m.jsx("div",{style:{position:"fixed",inset:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(2,6,23,0.6)",padding:12,backdropFilter:"blur(2px)"},onMouseDown:E=>{E.target===E.currentTarget&&a&&a()},children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":"Lokal handel",style:{width:"min(720px,100%)",maxWidth:480,borderRadius:10,padding:16,background:"var(--panel-bg, #071128)",color:"var(--text, #e6eef8)",boxShadow:"0 12px 40px rgba(2,6,23,0.7)"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[m.jsx("div",{style:{fontWeight:700},children:"Lokal handel"}),m.jsx("button",{className:"icon-btn",onClick:a,"aria-label":"Luk",children:""})]}),m.jsxs("div",{style:{display:"grid",gap:12},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("div",{style:{fontSize:18},children:_}),m.jsxs("div",{style:{fontSize:13,color:"#cbd5e1"},children:["Ressource: ",m.jsx("b",{style:{color:"#fff"},children:S})]})]}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[m.jsx("label",{style:{minWidth:80},children:"Antal"}),m.jsx("input",{type:"number",min:0,max:i,value:f,onChange:E=>d(Math.max(0,Math.min(+E.target.value||0,i))),style:{flex:"0 0 120px",padding:"6px 8px",borderRadius:6}}),m.jsxs("span",{style:{color:"#6b7280"},children:["(max ",i,")"]})]}),m.jsxs("div",{children:["Stk pris: ",m.jsx("b",{children:c?"...":y})," Kr",u===null&&!c&&m.jsx("span",{style:{color:"#9ca3af",marginLeft:8},children:" (est.)"})]}),m.jsxs("div",{children:["Samlet pris (afrundet op): ",m.jsx("b",{children:b})," Kr"]}),m.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[m.jsx("button",{className:"tab",onClick:a,children:"Fortryd"}),m.jsx("button",{className:"tab",disabled:f<=0||c,onClick:()=>o({qty:f}),children:"Accepter"})]})]})]})}):null}function Sue({isOpen:e,resId:t,resName:n,resEmoji:r,maxAmount:i,onCancel:a,onSubmit:o}){const[u,c]=j.useState(0),[f,d]=j.useState(()=>oD(t)||0),v=n||(b=>b?String(b).replace(/[_-]+/g," ").replace(/\b\w/g,x=>x.toUpperCase()):"")(t),y=typeof r=="string"&&r?r:"";return j.useMemo(()=>{d(oD(t)||0)},[t]),e?m.jsx("div",{style:{position:"fixed",inset:0,zIndex:2e4,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(2,6,23,0.6)",padding:20,backdropFilter:"blur(2px)"},onMouseDown:b=>{b.target===b.currentTarget&&a&&a()},children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":"Opret global annonce",style:{width:"min(720px, 96%)",maxWidth:560,borderRadius:12,padding:18,background:"var(--panel-bg, #071128)",color:"var(--text, #e6eef8)",boxShadow:"0 12px 40px rgba(2,6,23,0.7)",display:"block"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[m.jsx("div",{style:{fontWeight:700},children:"Opret global annonce"}),m.jsx("button",{className:"icon-btn",onClick:a,"aria-label":"Luk",children:""})]}),m.jsxs("div",{style:{display:"grid",gap:12},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[m.jsx("div",{style:{fontSize:20},children:y}),m.jsxs("div",{style:{fontSize:13,color:"#cbd5e1"},children:["Ressource: ",m.jsx("b",{style:{color:"#fff"},children:v})]})]}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[m.jsx("label",{style:{minWidth:80},children:"Antal"}),m.jsx("input",{type:"number",min:0,max:i,value:u,onChange:b=>c(Math.max(0,Math.min(+b.target.value||0,i))),style:{flex:"0 0 120px",padding:"6px 8px",borderRadius:6}}),m.jsxs("span",{style:{color:"#6b7280"},children:["(max ",i,")"]})]}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[m.jsx("label",{style:{minWidth:80},children:"Pris"}),m.jsx("input",{type:"number",min:0,value:f,onChange:b=>d(Number(b.target.value||0)),style:{flex:"0 0 120px",padding:"6px 8px",borderRadius:6}}),m.jsx("span",{style:{color:"#6b7280"},children:"Kr / stk (ref)"})]}),m.jsxs("div",{children:["Samlet indtjening: ",m.jsx("b",{children:Math.round(u*f)})," Kr"]}),m.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[m.jsx("button",{className:"tab",onClick:a,children:"Fortryd"}),m.jsx("button",{className:"tab",disabled:u<=0,onClick:()=>o({qty:u,price:f}),children:"Opret annonce"})]})]})]})}):null}const _ue=2;function jue({onChanged:e}){const{data:t,refreshData:n}=Ie(),r=Number(t?.state?.user?.currentstage??0),i=t?.state?.inv||{solid:{},liquid:{}},[a,o]=j.useState(null),[u,c]=j.useState(null),[f,d]=j.useState(null),[p,v]=j.useState(null),[y,b]=j.useState(null),[x,S]=j.useState(null),[_,E]=j.useState(!1);j.useEffect(()=>{const R=C=>{const L=C?.detail?.resId;!L||L.startsWith("ani.")||(o(L),b(C?.detail?.rect||null),c(C?.detail?.resName||null),d(C?.detail?.resEmoji||null),v("pick"))};return window.addEventListener("resources:trade",R),()=>window.removeEventListener("resources:trade",R)},[]);const O=j.useMemo(()=>{if(!a)return 0;const R=a.replace(/^res\./,""),C=Number(i.solid?.[R]??0),L=Number(i.liquid?.[R]??0);return C+L},[i,a]),T=r>=_ue,N=()=>{v(null),o(null),b(null),S(null),E(!1),c(null),d(null)},k=async(R,C)=>{o(R),b(null),v("local"),S(null),E(!0);try{const I=await(await fetch(`/world-spil/backend/api/resource_price.php?res_id=${encodeURIComponent(R)}&context=local`,{credentials:"include"})).json();I&&I.ok&&I.data?.price!==void 0?S(Number(I.data.price)):S(null)}catch{S(null)}finally{E(!1)}},M=async({qty:R})=>{try{const C=await fetch("/world-spil/backend/api/actions/market_local_sell.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({res_id:a,amount:R})}).then(L=>L.json());if(!C?.ok)throw new Error(C?.error?.message||"Fejl");Qh(),await n?.(),e?.(),N()}catch(C){alert(C.message||"Salg fejlede"),N()}},D=async({qty:R,price:C})=>{try{const L=await fetch("/world-spil/backend/api/actions/marketplace_create.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({res_id:a,amount:R,price:C})}).then(I=>I.json());if(!L?.ok)throw new Error(L?.error?.message||"Fejl");Qh(),await n?.(),e?.(),N()}catch(L){alert(L.message||"St til salg fejlede"),N()}};return m.jsxs(m.Fragment,{children:[m.jsx(vue,{isOpen:p==="pick",onClose:N,onPick:R=>{R==="local"?k(a):v(R)},canGlobal:T,resId:a,resName:u,resEmoji:f,anchorRect:y}),m.jsx(wue,{isOpen:p==="local",resId:a,resName:u,resEmoji:f,maxAmount:O,onCancel:N,onAccepted:M,unitFromBackend:x,loadingUnit:_}),m.jsx(Sue,{isOpen:p==="global",resId:a,resName:u,resEmoji:f,maxAmount:O,onCancel:N,onSubmit:D})]})}const Eue=[{key:"inventory",label:"Inventory",emoji:""},{key:"market",label:"Handel",emoji:""}],sb="ws:resources:tab";function Aue(){zt();const e=(()=>{try{const a=(new URLSearchParams(window.location.search).get("tab")||"").toLowerCase();if(["inventory","market"].includes(a))return a}catch{}try{return localStorage.getItem(sb)||"inventory"}catch{return"inventory"}})(),[t,n]=j.useState(e);j.useEffect(()=>{try{localStorage.setItem(sb,t)}catch{}try{const i=new URL(window.location.href),a=i.searchParams;t?a.set("tab",t):a.delete("tab");const o=a.toString()?`?${a.toString()}`:"",u=`${i.pathname}${o}${i.hash||""}`;window.history.replaceState({},"",u)}catch{}},[t]);const r=j.useMemo(()=>t==="inventory"?m.jsx(pue,{}):t==="market"?m.jsx(gue,{}):null,[t]);return m.jsxs("section",{className:"panel section",style:{display:"flex",flexDirection:"column",minHeight:"40vh"},children:[m.jsxs("div",{className:"section-head",style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("div",{style:{fontWeight:700,display:"flex",alignItems:"center",gap:8},children:m.jsx("span",{"aria-hidden":!0,children:" Ressource siden"})}),m.jsx(Q4,{tabs:Eue,value:t,onChange:n,persistKey:sb})]}),m.jsx("div",{className:"section-body",style:{display:"grid",gap:12},children:r}),m.jsx(jue,{onChanged:()=>{}})]})}function iA({src:e,fallback:t,alt:n="",...r}){const{artManifest:i}=Ie(),a=e.split("/art/")[1],o=i.has(a)?e:t;return m.jsx("img",{src:o,alt:n,...r})}function Oue({isOwned:e,isUpgrade:t,ownedMax:n,stageLocked:r=!1,stageReq:i}){let a=" Ikke bygget";return e?a=` Level ${n} (maks)`:t&&(a=` Level ${n}  Level ${n+1}`),!e&&r&&n>0&&(a=`Level ${n} (stage lst${i?`: krver Stage ${i}`:""})`),m.jsx("span",{children:a})}function Tue(e){return String(e?.id||"").startsWith("rsd.")?"produce":e?.isUpgrade||(e?.ownedMax??0)>0?"upgrade":"build"}function Nue(e){const{data:t}=Ie();if(!t||!e)return{allOk:!1,Component:()=>null};const{price:n,req:r,duration_s:i,footprintDelta:a}=e,{state:o}=t,u=zt(),c=he.useMemo(()=>{const C=[],L=I=>Array.isArray(I)&&I.forEach(U=>C.push(U));for(const I of["bld","add","rsd"]){const U=t?.defs?.[I]||{};Object.values(U).forEach(P=>L(P?.buffs))}return C},[t?.defs]),f=Yr(n);let d=!0;for(const C of Object.values(f)){let L=0;if(C.id.startsWith("ani."))L=o.ani?.[C.id]?.quantity??0;else{const I=C.id.replace(/^res\./,"");L=o.inv?.solid?.[I]??o.inv?.liquid?.[I]??0}if(L<C.amount){d=!1;break}}let p=!0;const v=Array.isArray(r)?r:String(r||"").split(/[,;]/).filter(Boolean);for(const C of v){let L=!1;if(C.startsWith("bld.")){const I=Jn(C);I&&(L=(mi("bld",o)[I.series]||0)>=I.level)}else if(C.startsWith("rsd."))L=da(C,o);else if(C.startsWith("add.")){const I=C.match(/^add\.(.+)\.l(\d+)$/);I&&(L=(mi("add",o)[`add.${I[1]}`]||0)>=Number(I[2]))}if(!L){p=!1;break}}const y=Number(a??0),b=y<0?Math.abs(y):0;let x=!0;if(b>0){const C=o.cap?.footprint||{total:0,used:0};x=(C.total||0)-Math.abs(C.used||0)>=b}const S=d&&p&&x,_=Tue(e),E=Number(i),O=Number.isFinite(E)?E:null,T=O!=null?Y4(O,_,{appliesToCtx:e.id||"all",activeBuffs:c}):null,N=T??O,k=T!=null&&O!=null&&Math.round(T)!==Math.round(O),M=N!=null?os(N):null,D=k?`Normal: ${os(O??0)}`:void 0;return{allOk:S,Component:({showLabels:C=!0,inline:L=!0})=>m.jsxs("div",{className:"reqline",children:[Object.keys(f).length>0&&m.jsxs(m.Fragment,{children:[C&&m.jsx("strong",{children:e.isUpgrade||e.ownedMax>0?"Upgrade cost: ":"Build cost: "}),m.jsx(Nc,{cost:n})]}),v.length>0&&(L?m.jsx("span",{className:"sep",children:"|"}):m.jsx("br",{})),v.length>0&&C&&m.jsx("strong",{children:"Demands: "}),v.length>0&&m.jsx(eA,{req:r}),b>0&&(L?m.jsx("span",{className:"sep",children:"|"}):m.jsx("br",{})),b>0&&m.jsx(kc,{icon:u("ui.emoji.footprint.h1"),value:`${b} BP`,isOk:x}),M&&(L?m.jsx("span",{className:"sep",children:"|"}):m.jsx("br",{})),M&&m.jsx(kc,{icon:u("ui.emoji.time.h1"),value:M,title:D})]})}}function kue(e,t="bld"){const n={},r=e?.[t]||{};for(const i of Object.keys(r)){const a=i.match(new RegExp(`^${t}\\.(.+)\\.l(\\d+)$`));if(!a)continue;const o=`${t}.${a[1]}`,u=Number(a[2]);n[o]=Math.max(n[o]||0,u)}return n}function Cue({bld:e,state:t,defs:n}){const r=e?.def||n?.bld&&n.bld[(e.id||"").replace(/^bld\./,"")]||null,{allOk:i,Component:a}=Nue(e),{data:o}=Ie(),u=o?.i18n?.current??{},c=m.jsx(so,{def:r||e,translations:u}),f=m.jsxs("div",{className:"item","data-bld-id":e.id,children:[m.jsx("div",{className:"icon",children:m.jsx(iA,{src:`/assets/art/${e.id}.medium.png`,fallback:"/assets/art/placeholder.medium.png",className:"bld-thumb",width:50,height:50,style:{width:50,height:50,borderRadius:"6px",border:"1px solid var(--border)"}})}),m.jsxs("div",{children:[m.jsx("div",{className:"title",children:m.jsx("a",{href:`#/building/${e.displayLinkId}`,className:"link",children:e.displayName})}),e.displayDesc?m.jsxs("div",{className:"sub",children:[" ",e.displayDesc]}):null,m.jsxs("div",{className:"sub",style:{marginTop:"4px",display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[m.jsx(Oue,{isOwned:e.owned,isUpgrade:e.isUpgrade,ownedMax:e.ownedMax,stageLocked:e.stageLocked,stageReq:e.stageReq}),m.jsx("span",{children:"  "}),m.jsx(a,{showLabels:!0,inline:!0})]})]}),m.jsxs("div",{className:"right",children:[m.jsx(Zc,{item:e,allOk:i}),m.jsx(mo,{bldId:e.id})]})]});return m.jsx(ls,{content:c,style:{display:"block",width:"100%"},children:f})}function Mue(){const{data:e,isLoading:t,error:n}=Ie();if(t)return m.jsx("div",{className:"sub",children:"Indlser..."});if(n)return m.jsx("div",{className:"sub",children:"Fejl."});const{defs:r,state:i}=e,a=Number(i.user?.currentstage||i.user?.stage||0),o=kue(i,"bld"),u=U$(r.bld,a,"bld"),c=[];for(const[f,d]of Object.entries(u)){const p=o[f]||0,v=H$(d,p),y=f.replace(/^bld\./,""),b=p>0?r.bld[`${y}.l${p}`]||d.find(L=>L.level===p)?.def:null,x=r.bld[`${y}.l1`],S=b?.name||x?.name||v?.def?.name||y,_=b?.desc||x?.desc||"",E=p>0?`bld.${y}.l${p}`:`bld.${y}.l1`,O=`${y}.l${(p||0)+1}`,T=r.bld[O],N=Number(T?.stage??T?.stage_required??0);let k="",M=!1;if(p<=0?k="Ikke bygget":T?!N||N<=a?k=`Level ${p}  Level ${p+1}`:(M=!0,k=`Level ${p} (stage lst)`):k=`Level ${p} (maks)`,!v){const L=d[d.length-1];c.push({id:`bld.${L.key}`,name:v?.def?.name||L?.def?.name||y,level:Math.max(p,L.level),owned:!0,isUpgrade:!1,price:{},req:L.def?.require||"",duration_s:Number(L.def?.duration_s??0),displayName:S,displayDesc:_,displayLinkId:E,displayLevelText:k,stageLocked:M,stageReq:N||0,desc:L.def?.desc||"",yield:L.def?.yield||[],durability:L.def?.durability||0,footprintDelta:L.def?.stats?.footprint||0,animalCapDelta:L.def?.stats?.animalCap||0,ownedMax:p,def:L.def||null});continue}const D=`bld.${v.key}`,R=Yr(v.def?.cost||v.def?.price||{}),C=!N||N<=a;c.push({id:D,name:v.def?.name||v.key,level:v.level,owned:!1,isUpgrade:p>0,price:R,req:v.def?.require||v.def?.req||"",duration_s:Number(v.def?.duration_s??10),displayName:S,displayDesc:_,displayLinkId:E,displayLevelText:k,stageLocked:!C&&!!N,stageReq:N||0,desc:v.def?.desc||"",yield:v.def?.yield||[],durability:v.def?.durability||0,footprintDelta:v.def?.stats?.footprint||0,animalCapDelta:v.def?.stats?.animalCap||0,ownedMax:p,def:v.def||null})}return m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:" Buildings"}),m.jsx("div",{className:"section-body",children:c.map(f=>m.jsx(Cue,{bld:f,state:i,defs:r},f.id))})]})}function Rue({heroDef:e,heroId:t,durabilityPct:n,jobActiveId:r,footprintText:i,animalCapText:a,actionTarget:o,requirementState:u}){const c=!!r,f=Number.isFinite(o?.duration)&&Number.isFinite(o?.durationBase)?Math.round(o.duration)!==Math.round(o.durationBase):!1,d=o?.duration!=null?os(o.duration):"-",p=f?`Normal: ${os(o.durationBase??0)}`:void 0,v=zt();return m.jsxs("div",{className:"detail-hero",children:[m.jsx("div",{className:"photo",children:m.jsx(iA,{src:`/assets/art/${t}.big.png`,fallback:"/assets/art/placeholder.big.png",alt:e?.name||t,width:256,height:256})}),m.jsxs("div",{children:[m.jsxs("div",{style:{fontWeight:800,fontSize:18,marginBottom:6},children:[e?.icon||""," ",e?.name||t,e?.lvl?m.jsxs("span",{className:"sub",style:{marginLeft:8},children:["Level ",e.lvl]}):null]}),e?.desc?m.jsx("div",{className:"sub",style:{marginBottom:10},children:e.desc}):null,m.jsxs("div",{className:"statgrid",children:[m.jsxs("div",{className:"statitem",children:[m.jsx("div",{className:"label",children:v("ui.production.h1")}),m.jsx("div",{className:"value",children:"-"})]}),m.jsxs("div",{className:"statitem",children:[m.jsx("div",{className:"label",children:c?"In progress":"Durability"}),m.jsx("div",{className:"value",children:c?m.jsx(mo,{bldId:r,style:{width:"100%"}}):m.jsxs("div",{className:"progress",children:[m.jsx("span",{style:{width:`${n}%`}}),m.jsxs("div",{className:"pct",children:[n,"%"]})]})})]}),m.jsxs("div",{className:"statitem",children:[m.jsx("div",{className:"label",children:v("ui.capacity.h1")}),m.jsxs("div",{className:"value",children:[i,"  ",a]})]}),m.jsxs("div",{className:"statitem",children:[m.jsx("div",{className:"label",children:v("ui.buildcost.h1")}),m.jsx("div",{className:"value",children:o&&Object.keys(o.price||{}).length?m.jsx(Nc,{cost:o.price}):"-"})]}),m.jsxs("div",{className:"statitem",children:[m.jsx("div",{className:"label",children:v("ui.demands.h1")}),m.jsx("div",{className:"value",children:o?.reqString?m.jsx(eA,{req:o.reqString}):"-"})]}),m.jsxs("div",{className:"statitem",children:[m.jsx("div",{className:"label",children:v("ui.time.h1")}),m.jsx("div",{className:"value",title:p,children:d})]}),o?.footprint>0?m.jsxs("div",{className:"statitem",children:[m.jsx("div",{className:"label",children:v("ui.footprint.h1")}),m.jsx("div",{className:"value",children:m.jsx(kc,{icon:v("ui.emoji.footprint.h1"),label:"",value:`${o.footprint} BP`,isOk:u.footprintOk})})]}):null]})]})]})}async function Due(e,t){const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});let r=null;const i=await n.text().catch(()=>null);try{r=i?JSON.parse(i):null}catch{r=i}if(!n.ok){const a=r&&r.message||typeof r=="string"&&r||`HTTP ${n.status}`,o=new Error(a);throw o.status=n.status,o.response=r,o}return r}function Pue(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(2):"0"}function lD(e=[],t=""){if(!Array.isArray(e)||e.length===0)return"-";const n=e.map(r=>{const i=String(r.res_id||"").replace(/^res\./,""),a=Pue(r.amount);return`${i}: ${a}`}).join(", ");return t?`${t} ${n}`:n}function Lue(e=[]){const t={};if(!Array.isArray(e))return t;for(const n of e){const r=String(n.res_id||""),i=Number(n.amount||0);!r||!i||(t[r]=(t[r]??0)-i)}return t}function que(e){if(!e)return[];if(Array.isArray(e))return e.map(t=>({res_id:String(t.res_id||t.id||""),amount:Number(t.amount||t.qty||0)})).filter(t=>t.res_id&&Number.isFinite(t.amount));if(typeof e=="object"){const t=[],n=r=>{for(const[i,a]of Object.entries(r))if(a!=null)if(typeof a=="number"){const o=i.startsWith("res.")?i:`res.${i}`;t.push({res_id:o,amount:a})}else typeof a=="object"&&n(a)};return n(e),t}return[]}function Iue(e,t){const n=Number.isFinite(t)?t:0;return(e||[]).map(r=>({...r,amount:Number(r.amount||0)*n}))}function Bue(e){const{data:t}=Ie()||{};return j.useMemo(()=>!e||!t?.state?.bld?100:Number(t.state.bld[e]?.durability_pct??100),[t,e])}function $ue(e){const{data:t}=Ie()||{};return j.useMemo(()=>t?.repair_preview?.[e]||null,[t,e])}function zue({buildingId:e,jobActiveId:t,repairBasePrice:n}){const r=zt(),{refreshData:i,applyResourceDeltaMap:a}=Ie()||{},[o,u]=j.useState(!1),c=Bue(e),f=$ue(e),d=(()=>{const _=Number(f?.missing_pct);if(Number.isFinite(_))return Math.max(0,Math.min(1,_));const E=Math.max(0,(100-Number(c||0))/100);return Math.min(1,E)})(),p=j.useMemo(()=>que(n),[n]),v=d*.75,y=j.useMemo(()=>Iue(p,v),[p,v]),b=!!e&&!t&&d>0&&!o,x=f?.cost?.length?lD(f.cost):y?.length?lD(y,"Estimeret:"):c<100?"Klik for at reparere":"100%",S=async()=>{if(b){u(!0);try{const _=await Due("/world-spil/backend/api/actions/repair_building.php",{bld_id:e});_?.ok?(Array.isArray(_.spent)&&_.spent.length>0&&a&&a(Lue(_.spent)),i&&i()):alert(_?.message||"Repair failed")}catch(_){alert(_?.message||"Repair request failed")}finally{u(!1)}}};return m.jsx("button",{className:"btn",title:x,onClick:S,disabled:!b,children:r(o?"ui.btn.repair.working":"ui.btn.repair.h1")})}function Uue({actionItem:e,canStart:t,jobActiveId:n,buildingId:r,repairBasePrice:i}){const a=zt(),o=n||e?.id;return m.jsxs("div",{className:"actions-bar",children:[e?m.jsxs(m.Fragment,{children:[m.jsx(Zc,{item:e,allOk:t}),o?m.jsx(mo,{bldId:o}):null]}):m.jsx("span",{className:"badge owned",children:a("ui.btn.owned.h1")}),r?m.jsx(zue,{buildingId:r,jobActiveId:n,repairBasePrice:i}):m.jsx("button",{className:"btn",disabled:!0,children:a("ui.btn.repair.h1")})]})}function Hue({entry:e,state:t,baseOwned:n,requirementCaches:r}){const{def:i,fullId:a,stageReq:o,stageOk:u,ownedLevel:c,displayLevel:f}=e,d=zt(),{data:p}=Ie(),v=p?.i18n?.current??{},y=Yp({id:a,price:i.cost||{},req:i.require||i.req||"",duration_s:Number(i.duration_s??0),footprintDelta:Number(i.stats?.footprint??0)},t,r),b={id:a,price:i.cost||{},req:i.require||i.req||"",duration_s:Number(i.duration_s??0),footprintDelta:Number(i.stats?.footprint??0),isUpgrade:c>0,isOwned:c>=f,owned:c>=f,ownedMax:c,stageLocked:!u,stageReq:o,def:i},x=y.duration?.final_s??null,S=y.duration?.base_s??null,E=x!=null&&S!=null&&Math.round(x)!==Math.round(S)?null:i.time_str||i.duration_text||null,O=m.jsx(so,{def:i,translations:v}),T=m.jsxs("div",{className:"item","data-addon-row":a,children:[m.jsx("div",{className:"icon",children:d("ui.emoji.addon.h1")}),m.jsxs("div",{className:"grow",children:[m.jsxs("div",{className:"title",children:[i.name||a,!u&&m.jsx("span",{className:"badge stage-locked price-bad",title:`${d("ui.text.demandingstage.h1")} ${o}`,style:{marginLeft:8},children:d("ui.text.stagelocked.h1")})]}),i.desc?m.jsxs("div",{className:"sub",children:[d("ui.emoji.desc.h1")," ",i.desc]}):null,m.jsx(tA,{price:i.cost||{},reqString:y.reqString,duration:x,durationBase:S,durationText:E,footprint:Number(i.stats?.footprint??0),footprintOk:y.footprintOk})]}),m.jsx("div",{className:"right",children:n?m.jsxs(m.Fragment,{children:[m.jsx(Zc,{item:b,allOk:y.allOk&&u}),m.jsx(mo,{bldId:a})]}):m.jsx("button",{className:"btn",disabled:!0,children:d("ui.btn.demandbuilding.h1")})})]});return m.jsx(ls,{content:O,style:{display:"block",width:"100%"},children:T})}function Fue({family:e,defs:t,state:n,stage:r,baseOwned:i,requirementCaches:a,filter:o,onFilterChange:u}){const c=t.add||{},f=a.ownedAddons||{},d=zt(),p=j.useMemo(()=>{const x=new Map;for(const[_,E]of Object.entries(c)){const O=String(E?.family||"");if(!O||!O.split(",").map(R=>R.trim()).includes(e))continue;const N=_.match(/^(.+)\.l(\d+)$/);if(!N)continue;const k=N[1],M=Number(N[2]),D=`add.${k}`;x.has(D)||x.set(D,[]),x.get(D).push({key:_,def:E,level:M})}const S=[];for(const[_,E]of x.entries()){E.sort((I,U)=>I.level-U.level);const O=f[_]||0,T=E.find(I=>I.level===O+1)||null;let N=null;if(O<=0?N=E.find(I=>I.level===1)||E[0]:T?N=T:N=E[Math.min(E.length-1,Math.max(0,O-1))]||E[E.length-1],!N)continue;const k=T||N,M=Number(k.def?.stage??k.def?.stage_required??0),D=M<=r;if(!D&&O<=0)continue;const R=_.replace(/^add\./,""),C=String(N.def?.group||"main").trim(),L=C===""?"main":C;S.push({def:N.def,fullId:`add.${N.key}`,displayLevel:N.level,ownedLevel:O,stageReq:M,stageOk:D,base:R,groupName:L})}return S.sort((_,E)=>(_.def.name||"").localeCompare(E.def.name||"")),S},[c,e,f,r]),v=j.useMemo(()=>{const x=[],S=new Set;for(const _ of p){const E=_.groupName;if(E==="main"||S.has(E))continue;const O=f[`add.${E}`]||0;if(!O)continue;const k=(c[`${E}.l${O||1}`]||c[`${E}.l1`])?.name||E;x.push({key:E,label:k}),S.add(E)}return x.sort((_,E)=>_.label.localeCompare(E.label)),x},[p,f,c]);j.useEffect(()=>{o!=="main"&&!v.some(x=>x.key===o)&&u&&u("main")},[o,v,u]);const y=o&&v.some(x=>x.key===o)?o:"main",b=p.filter(x=>y==="main"?x.groupName==="main":x.groupName===y);return m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:[d("ui.emoji.addon.h1")," ",d("ui.headers.addons.h1"),v.length>0?m.jsxs("div",{className:"tabs secondary-tabs",children:[m.jsx("button",{type:"button",className:`tab ${y==="main"?"active":""}`,onClick:()=>u&&u("main"),children:"Main"}),v.map(x=>m.jsx("button",{type:"button",className:`tab ${y===x.key?"active":""}`,onClick:()=>u&&u(x.key),children:x.label},x.key))]}):null]}),m.jsx("div",{className:"section-body",children:b.length?b.map(x=>m.jsx(Hue,{entry:x,state:n,baseOwned:i,requirementCaches:a},x.fullId)):m.jsx("div",{className:"sub",children:"Ingen"})})]})}function Gue({family:e,defs:t,state:n,stage:r,baseOwned:i,requirementCaches:a}){const o=t.rsd||{},u=j.useMemo(()=>Wp(n),[n]),c=zt(),f=j.useMemo(()=>{const d=new Map;for(const[v,y]of Object.entries(o)){const b=String(y?.family||"");if(!b||!b.split(",").map(T=>T.trim()).includes(e))continue;const S=v.match(/^(.+)\.l(\d+)$/);if(!S)continue;const _=S[1],E=Number(S[2]),O=`rsd.${_}`;d.has(O)||d.set(O,[]),d.get(O).push({key:v,def:y,level:E})}const p=[];for(const[v,y]of d.entries()){y.sort((O,T)=>O.level-T.level);const b=u[v]||0,S=(b<=0?y.find(O=>O.level===1):y.find(O=>O.level===b+1))||y[y.length-1];if(!S)continue;const _=Number(S.def?.stage??S.def?.stage_required??0),E=_<=r;!E&&b<=0||p.push({def:S.def,fullId:`rsd.${S.key}`,displayLevel:S.level,ownedLevel:b,stageReq:_,stageOk:E})}return p.sort((v,y)=>(v.def.name||"").localeCompare(y.def.name||"")),p},[e,o,u,r]);return f.length?m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:[c("ui.emoji.research.h1")," ",c("ui.headers.research.h1")]}),m.jsx("div",{className:"section-body",children:f.map(d=>m.jsx(V4,{entry:d,state:n,baseOwned:i,requirementCaches:a},d.fullId))})]}):m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:[c("ui.emoji.research.h1")," ",c("ui.headers.research.h1")]}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Ingen"})})]})}function Kue(e,t){const n=Yr(e?.yield||{});let r=0,i=0;for(const a of Object.values(n)){const o=String(a.id||"");if(!o.startsWith("res."))continue;const u=o.replace(/^res\./,""),c=t.res?.[u];if(!c)continue;const f=Number(c.unitSpace||0);if(f<=0)continue;const d=Number(a.amount||0);if(d<=0)continue;const p=String(c.unit||"").toLowerCase(),v=f*d;p==="l"?i+=v:r+=v}return{solid:r,liquid:i}}function uD(e){return!e||!e.length?null:e.map((t,n)=>m.jsxs("span",{style:{whiteSpace:"nowrap",display:"inline-flex",alignItems:"center",gap:6,marginRight:8},children:[m.jsxs("span",{style:{fontVariantNumeric:"tabular-nums"},children:[t.prefix,t.amount]}),t.icon?.iconUrl?m.jsx(z$,{iconUrl:t.icon.iconUrl,alt:t.icon.name,size:"0.95em"}):t.icon?.emoji?m.jsx("span",{style:{fontSize:"0.95em",lineHeight:1},children:t.icon.emoji}):null,n<e.length-1?m.jsx("span",{style:{marginLeft:6,marginRight:6,opacity:.65},children:""}):null]},`${t.id}-${n}`))}function t8({entry:e,defs:t,state:n,baseOwned:r,requirementCaches:i}){const{def:a,fullId:o,stageReq:u,stageOk:c}=e,f=zt(),d=Yp({id:o,price:a.cost||{},req:a.require||a.req||"",duration_s:Number(a.duration_s??0)},n,i),p={id:o,price:a.cost||{},req:a.require||a.req||"",duration_s:Number(d?.duration?.final_s??Number(a.duration_s??0)),isUpgrade:e.level>1,isOwned:!1,owned:!1,stageLocked:!c,stageReq:u,def:a},v=aD(a.cost||{},t,"-"),y=aD(a.yield||{},t,"+"),b=d.duration?.final_s??null,x=d.duration?.base_s??null,{solid:S,liquid:_}=Kue(a,t),E=n?.cap?.solid||{total:0,used:0},O=n?.cap?.liquid||{total:0,used:0},T=Math.max(0,(E.total||0)-(E.used||0)),N=Math.max(0,(O.total||0)-(O.used||0)),k=S<=T&&_<=N,M=d.allOk&&c&&k,D=k?void 0:`Mangler plads: Solid +${S} (tilgngelig ${T}), Liquid +${_} (tilgngelig ${N})`;return m.jsxs("div",{className:"item","data-recipe-row":o,children:[m.jsx("div",{className:"icon",children:f("ui.emoji.research.h1")}),m.jsxs("div",{className:"grow",children:[m.jsxs("div",{className:"title",children:[a.name||o,!c&&m.jsx("span",{className:"badge stage-locked price-bad",title:`${f("ui.text.demandingstage.h1")} ${u}`,style:{marginLeft:8},children:f("ui.text.stagelocked.h1")})]}),a.desc?m.jsxs("div",{className:"sub",children:[" ",a.desc]}):null,m.jsxs("div",{className:"sub",children:[f("ui.emoji.recipe.h1")," ",f("ui.text.recipe.h1"),":",uD(v)||m.jsx("em",{children:"-"}),"",uD(y)||m.jsx("em",{children:"-"})]}),m.jsx(tA,{price:a.cost||{},reqString:d.reqString,duration:b,durationBase:x,footprint:0,footprintOk:!0})]}),m.jsx("div",{className:"right",children:r?k?m.jsxs(m.Fragment,{children:[m.jsx(Zc,{item:p,allOk:M}),m.jsx(mo,{bldId:o})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn",disabled:!0,title:D,children:"Mangler plads"}),m.jsx(mo,{bldId:o})]}):m.jsx("button",{className:"btn",disabled:!0,children:f("ui.btn.demandbuilding.h1")})})]})}function Wue({family:e,defs:t,state:n,stage:r,baseOwned:i,requirementCaches:a}){const o=t.rcp||{},u=zt(),c=j.useMemo(()=>{const f=[];for(const[d,p]of Object.entries(o)){const v=String(p?.family||"");if(!v||!v.split(",").map(_=>_.trim()).includes(e))continue;const b=Number(p?.stage??p?.stage_required??0);if(b>r)continue;const x=d.match(/^(.+)\.l(\d+)$/),S=x?Number(x[2]):p?.lvl||1;f.push({def:p,level:S,fullId:`rcp.${d}`,stageReq:b,stageOk:!0})}return f.sort((d,p)=>d.stageReq-p.stageReq||d.level-p.level||(d.def.name||"").localeCompare(p.def.name||"")),f},[o,e,r]);return c.length?m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:[u("ui.emoji.research.h1")," ",u("ui.headers.recipe.h1")]}),m.jsx("div",{className:"section-body",children:c.map(f=>m.jsx(t8,{entry:f,defs:t,state:n,baseOwned:i,requirementCaches:a},f.fullId))})]}):m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:[u("ui.emoji.research.h1")," ",u("ui.headers.recipe.h1")]}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Ingen"})})]})}const ob=[{key:"farm",label:"Dyr",emoji:"",family:"farm",perItemStat:"animal_cap",capacityMode:"animalCap",capacityLabel:"Staldplads"},{key:"health",label:"Health",emoji:"",family:"health",perItemStat:"healthUnitUsage",headerCapacityKey:"healthUnitCapacity",headerUsageKey:"healthUnitUsage",buildingCapacityStat:"healthUnitCapacity",capacityLabel:"Health units"},{key:"storage",label:"Storage",emoji:"",family:"storage",perItemStat:"storageUnitsUsage",buildingCapacityStat:"storageUnitsCapacity",capacityLabel:"Storage units",subTypes:[{id:"liquid",label:"Liquid",headerCapacityKey:"storageLiquidCap",headerUsageKey:"storageLiquidUsage"},{id:"solid",label:"Solid",headerCapacityKey:"storageSolidCap",headerUsageKey:"storageSolidUsage"}]},{key:"lake",label:"Lake",emoji:"",family:"lake",perItemStat:"animal_cap",capacityMode:"animalCap",capacityLabel:"Staldplads"},{key:"forest",label:"Forest",emoji:"",family:"forest",perItemStat:"animal_cap",capacityMode:"animalCap",capacityLabel:"Staldplads"},{key:"police",label:"Politi",emoji:"",family:"police",perItemStat:"policeUnitUsage",headerCapacityKey:"policeUnitCapacity",headerUsageKey:"policeUnitUsage",buildingCapacityStat:"policeUnitCapacity",capacityLabel:"Police units"},{key:"fire",label:"Brand",emoji:"",family:"fire",perItemStat:"fireUnitUsage",headerCapacityKey:"fireUnitCapacity",headerUsageKey:"fireUnitUsage",buildingCapacityStat:"fireUnitCapacity",capacityLabel:"Fire units"},{key:"military",label:"Militr",emoji:"",family:"military",perItemStat:"militaryUnitUsage",headerCapacityKey:"militaryUnitCapacity",headerUsageKey:"militaryUnitUsage",buildingCapacityStat:"militaryUnitCapacity",capacityLabel:"Military units"}];function Yue(e,t,n){if(!e||!t)return 0;const r=t.perItemStat,i=Number(e?.stats?.[r]??NaN);return!Number.isFinite(i)||i===0?0:Math.abs(i)}function n8(e,t){if(e.startsWith("res.")){const n=e.replace(/^res\./,"");return t.res?.[n]?.emoji||""}if(e.startsWith("ani.")){const n=e.replace(/^ani\./,"");return t.ani?.[n]?.emoji||""}return""}function cD(e,t){const n=Object.values(Yr(e||{}));return n.length?n.map(r=>`${n8(r.id,t)} ${je(r.amount)}`).join("  "):""}function Vue(e){if(!e)return[];const t=e.yields||e.produces||e.produce||e.output||e.outputs||e.yield;if(t&&typeof t=="object"&&!Array.isArray(t))return Object.entries(t).map(([n,r])=>{const i=String(n).startsWith("res.")?String(n):String(n).replace(/^res\./,"").trim(),a=Number(r||0);return{id:i.startsWith("res.")?i:`res.${i}`,amount:a}}).filter(n=>n.amount>0);if(Array.isArray(t))return t.map(n=>{if(!n)return null;if(typeof n=="string")return{id:n.startsWith("res.")?n:`res.${n.replace(/^res\./,"").trim()}`,amount:1};if(typeof n=="object"){const r=String(n.id||n.resource||n.res||"").trim(),i=r?r.startsWith("res.")?r:`res.${r.replace(/^res\./,"")}`:null,a=Number(n.amount||n.qty||n.count||0);return i?{id:i,amount:a}:null}return null}).filter(Boolean);if(e.stats&&(e.stats.yield||e.stats.yield_res)){const n=Number(e.stats.yield||0),r=e.stats.yield_res||e.stats.yield_resource||e.stats.produces;if(n>0&&r)return[{id:String(r).startsWith("res.")?String(r):`res.${String(r).replace(/^res\./,"")}`,amount:n}]}return[]}function fD({def:e,defs:t,H:n}){const r=Vue(e);if(!r.length)return null;function i(a){if(a=Number(a||0),!a||a<=0)return"";if(a>=3600){const o=Math.floor(a/3600),u=Math.floor(a%3600/60);return u?`${o} h ${u} m`:`${o} h`}if(a>=60){const o=Math.floor(a/60),u=a%60;return u?`${o} m ${u} s`:`${o} m`}return`${a}s`}return m.jsxs("div",{style:{marginBottom:8},children:[m.jsx("div",{className:"sub",children:m.jsx("strong",{children:"Yield / Produktion"})}),m.jsx("div",{style:{fontSize:13,marginBottom:8},children:r.map(a=>{const o=String(a.id).replace(/^res\./,""),u=t?.res?.[o],c=u&&(u.name||u.label||u.title)||o,f=Number(a.amount||0),d=f>0?"+":f<0?"":"",p=f>0?"price-good":f<0?"price-bad":"",v=Number(e?.yield_period_s||0),y=i(v);return m.jsxs("div",{children:[m.jsxs("span",{className:p,style:{fontWeight:700},children:[d,n.fmt(Math.abs(f))]}),m.jsxs("span",{style:{color:"#222",marginLeft:8},children:[n8(a.id,t)," ",c,y?` / ${y}`:""]})]},a.id)})}),m.jsx("div",{style:{borderTop:"1px solid rgba(0,0,0,0.08)",paddingTop:0,display:"grid",gap:4,fontSize:12}})]})}function r8({embedFamily:e=null,embed:t=!1}){const{data:n,isLoading:r,error:i,refreshData:a}=Ie(),{data:o}=Ii(),[u,c]=j.useState(null),[f,d]=j.useState({isOpen:!1,title:"",body:"",onConfirm:null}),[p,v]=j.useState({});if(r)return m.jsx("div",{className:"sub",children:"Indlser..."});if(i||!n)return m.jsx("div",{className:"sub",children:"Fejl."});const{state:y,defs:b}=n,x=j.useMemo(()=>{const G=new Set;return Object.keys(y?.bld||{}).forEach(K=>{const $=Jn(K);$?.family&&G.add($.family)}),G},[y?.bld]),S=j.useMemo(()=>{if(e){const G=ob.find(K=>K.family===e);return G?[G]:[]}return ob.filter(G=>x.has(G.family))},[x,e]),_=j.useMemo(()=>e?S[0]?.key||null:u&&S.some(G=>G.key===u)?u:S[0]?.key||null,[u,S,e]),E=j.useMemo(()=>S.find(G=>G.key===_)||null,[_,S]),O=E?.capacityMode==="animalCap",T=j.useMemo(()=>E?Object.entries(b.ani||{}).filter(([G,K])=>String(K?.family||"").split(",").map(ne=>ne.trim()).filter(Boolean).includes(E.family)?Number(K?.stage||0)<=Number(y?.user?.currentstage||0):!1):[],[b?.ani,y?.user?.currentstage,E]),N=j.useMemo(()=>E?Object.entries(y?.ani||{}).filter(([G,K])=>{if((K?.quantity||0)<=0)return!1;const $=G.replace(/^ani\./,""),W=b.ani?.[$];return W?String(W?.family||"").split(",").map(ne=>ne.trim()).filter(Boolean).includes(E.family):!1}):[],[y?.ani,b?.ani,E]),k=j.useMemo(()=>{if(!E)return{total:0,used:0};if(O){const Q=y?.cap?.animal_cap||{total:0,used:0};return{total:Number(Q.total||0),used:Number(Q.used||0)}}const G=E.headerCapacityKey,K=E.headerUsageKey,$=Number(o?.capacities?.[G]??NaN),W=Number(o?.usages?.[K]?.total??NaN);let X=0;for(const Q of Object.keys(y?.bld||{})){const Y=Jn(Q);if(!Y)continue;const J=b?.bld?.[`${Y.family}.l${Y.level}`]||b?.bld?.[Y.key],ae=Number(J?.stats?.[E.buildingCapacityStat]??0);Number.isFinite(ae)&&(X+=ae)}let ne=0;for(const[Q,Y]of Object.entries(y?.ani||{})){const J=Number(Y?.quantity||0);if(!J)continue;const ae=String(Q).replace(/^ani\./,""),re=b?.ani?.[ae];if(!re||!String(re?.family||"").split(",").map(le=>le.trim()).filter(Boolean).includes(E.family))continue;const ye=Yue(re,E);ye<=0||(ne+=ye*J)}return Number.isFinite($)&&Number.isFinite(W)&&($>0||W>0||$===0&&W===0&&X===0)?{total:$,used:W}:{total:X,used:ne}},[E,O,y,b,o]),M=p[_]||{},D=j.useCallback((G,K)=>{E&&v($=>{const W={...$[_]||{}};return K>0?W[G]=K:delete W[G],{...$,[_]:W}})},[_,E]),R=j.useMemo(()=>nA(b),[b]),C=j.useMemo(()=>{if(!E)return null;const G=Number(k.total||0),K=Number(k.used||0);let $=0;const W={},X={};for(const[ae,re]of Object.entries(M)){if(!re)continue;const de=ae.replace(/^ani\./,""),ye=b.ani?.[de];if(!ye)continue;const le=O?Math.abs(Number(ye?.stats?.[E.perItemStat]??1))||1:Math.abs(Number(ye?.stats?.[E.perItemStat]??0))||0;$+=le*re;const Oe=Yr(ye?.cost||{});Object.values(Oe).forEach(Se=>{const be=Se.id,Ce=(Se.amount||0)*re;W[be]=(W[be]||0)+Ce;const xe=be.startsWith("res.")?be:b?.res?.[be]?`res.${be}`:be,_e=xe.startsWith("res.")?Z_(Ce,xe,{appliesToCtx:"all",activeBuffs:R}):Ce;X[be]=(X[be]||0)+_e})}const ne=Math.max(0,G-K),V=$<=ne,Q=ae=>{const re=String(ae).replace(/^res\./,""),de=Number(y?.inv?.liquid?.[re]||0),ye=Number(y?.inv?.solid?.[re]||0);return de+ye},Y=Object.entries(X).every(([ae,re])=>Q(ae)>=(re||0)),J=Object.values(M).reduce((ae,re)=>ae+(Number(re)||0),0);return{total:G,used:K,availableCap:ne,capToUse:$,totalCostBase:W,totalCostBuffed:X,canAffordBuffed:Y,hasCapacity:V,totalQty:J}},[E,k,M,b,y,O,R]),L=j.useMemo(()=>{if(t||!E||E.capacityMode!=="animalCap")return null;const G=Number(k.total||0),K=Number(k.used||0);let $=0;const W={},X=ob.filter(J=>J.capacityMode==="animalCap");for(const J of X){const ae=p[J.key]||{};for(const[re,de]of Object.entries(ae)){if(!de)continue;const ye=String(re).replace(/^ani\./,""),le=b.ani?.[ye];if(!le)continue;const Oe=Math.abs(Number(le?.stats?.[J.perItemStat]??1))||1;$+=Oe*(Number(de)||0);const Se=Yr(le?.cost||{});Object.values(Se).forEach(be=>{const Ce=be.id,xe=(be.amount||0)*(Number(de)||0),_e=Ce.startsWith("res.")?Ce:b?.res?.[Ce]?`res.${Ce}`:Ce,nt=_e.startsWith("res.")?Z_(xe,_e,{appliesToCtx:"all",activeBuffs:R}):xe;W[Ce]=(W[Ce]||0)+nt})}}const ne=Math.max(0,G-K),V=$<=ne,Q=J=>{const ae=String(J).replace(/^res\./,""),re=Number(y?.inv?.liquid?.[ae]||0),de=Number(y?.inv?.solid?.[ae]||0);return re+de},Y=Object.entries(W).every(([J,ae])=>Q(J)>=(ae||0));return{hasCapacity:V,canAfford:Y}},[t,E,k,p,b,y,R]),I=j.useMemo(()=>!C||C.totalQty===0?!0:!t&&E?.capacityMode==="animalCap"&&L?!(L.canAfford&&L.hasCapacity):!(C.canAffordBuffed&&C.hasCapacity),[C,t,E,L]),U=j.useCallback(async()=>{if(!C)return;const G=Object.fromEntries(Object.entries(M).filter(([,X])=>Number(X)>0));if(!Object.keys(G).length||C.totalQty<=0)throw new Error("No items selected.");if(!C.hasCapacity)throw new Error("Insufficient capacity.");if(!(!t&&E?.capacityMode==="animalCap"&&L?L.canAfford:C.canAffordBuffed))throw new Error("Insufficient resources.");const W=await(await fetch("/world-spil/backend/api/actions/animal.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"buy",animals:G})})).json();if(W&&W.ok===!1)throw new Error(W.message||"Server refused purchase.");return v(X=>({...X,[_]:{}})),await a(),W},[C,M,_,a,t,E,L]),P=()=>{if(!C?.totalQty)return;const G=cD(C.totalCostBuffed,b);d({isOpen:!0,title:`Bekrft kb (${E?.label||"Units"})`,body:`Du kber ${C.totalQty} enhed(er).<br/><div style="margin-top:8px;">Pris: ${G||"(ukendt)"}</div>`,onConfirm:async()=>{try{await U()}catch(K){alert(K.message||"Kb fejlede.")}finally{d(K=>({...K,isOpen:!1}))}}})},H=j.useCallback(async(G,K)=>{if(!G||!K)return;const W=await(await fetch("/world-spil/backend/api/actions/animal.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"sell",animal_id:G,quantity:K})})).json();if(W&&W.ok===!1)throw new Error(W.message||"Server refused sale.");return await a(),W},[a]),B=(G,K)=>{const $=G.replace(/^ani\./,""),W=b.ani?.[$];if(!W)return;const X=Yr(W.cost||{}),ne={};Object.values(X).forEach(Q=>{ne[Q.id]={id:Q.id,amount:(Q.amount||0)*K*.5}});const V=cD(ne,b);d({isOpen:!0,title:K===1?"Slg 1 enhed":`Slg ${K} enheder`,body:`Du fr flgende tilbage:<br/><div style="margin-top: 8px">${V||"(ukendt vrdi)"}</div>`,onConfirm:async()=>{try{await H(G,K)}catch(Q){alert(Q.message||"Salg fejlede.")}finally{d(Q=>({...Q,isOpen:!1}))}}})};if(!E)return m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:"Units"}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Ingen unit-grupper tilgngelige. Byg frst relevante faciliteter."})})]});const F=E.capacityLabel||(O?"Staldplads":"Units");return m.jsxs(m.Fragment,{children:[!t&&m.jsx("section",{className:"panel section",children:m.jsxs("div",{className:"section-head",style:{display:"flex",gap:8,alignItems:"center"},children:[m.jsx("span",{children:"Units"}),m.jsx("div",{className:"tabs",style:{marginLeft:"auto"},children:S.map(G=>m.jsx("button",{type:"button",className:`tab ${G.key===_?"active":""}`,onClick:()=>{c(G.key)},children:G.label},G.key))})]})}),m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:[E.label,"  Dine enheder",m.jsxs("span",{style:{marginLeft:"auto"},children:[m.jsxs("strong",{children:[F,":"]})," ",je(Number(k.used||0)+0)," / ",je(Number(k.total||0))]})]}),m.jsx("div",{className:"section-body",children:N.map(([G,K])=>{const $=G.replace(/^ani\./,""),W=b.ani[$],X=Number(K?.quantity||0),ne=O?Math.abs(Number(W?.stats?.[E.perItemStat]??1))||1:Math.abs(Number(W?.stats?.[E.perItemStat]??0))||0,V=O?`Optager ${ne} staldplads`:`Forbruger ${ne} units`,Q=m.jsxs("div",{style:{minWidth:220},children:[m.jsx(fD,{def:W,defs:b,H:Hk}),m.jsx(so,{def:W,translations:n?.i18n?.current??{}})]});return m.jsx(ls,{content:Q,children:m.jsxs("div",{className:"item",children:[m.jsx("div",{className:"icon",children:W.emoji||(O?"":"")}),m.jsxs("div",{children:[m.jsxs("div",{className:"title",children:[W.name," (x",je(X),")"]}),m.jsx("div",{className:"sub",children:V})]}),m.jsxs("div",{className:"right",children:[m.jsx("button",{className:"btn",onClick:()=>B(G,1),children:"Slg 1"}),m.jsx("button",{className:"btn",onClick:()=>B(G,X),children:"Slg alle"})]})]})},G)})})]}),m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:["Kb ",E.label]}),m.jsxs("div",{className:"section-body",children:[T.map(([G,K])=>{const $=m.jsx(m.Fragment,{children:m.jsxs("div",{style:{minWidth:220},children:[m.jsx(fD,{def:K,defs:b,H:Hk}),m.jsx(so,{def:K,translations:n?.i18n?.current??{}})]})}),W=`ani.${G}`,X=O?Math.abs(Number(K?.stats?.[E.perItemStat]??1))||1:Math.abs(Number(K?.stats?.[E.perItemStat]??0))||0,ne=Math.max(0,Number(k.total||0)-Number(k.used||0)),V=X>0?Math.floor(ne/X):999999,Q=Math.min(Number(M[W]||0),V);return m.jsx(ls,{content:$,children:m.jsxs("div",{className:"item",children:[m.jsx("div",{className:"icon",children:K.emoji||(O?"":"")}),m.jsxs("div",{className:"grow",children:[m.jsx("div",{className:"title",children:K.name}),m.jsx("div",{className:"sub",children:m.jsx(Nc,{cost:K.cost||{}})}),m.jsx("div",{className:"sub",children:O?`Krver ${X} staldplads`:X>0?`Forbruger ${X} units`:"Ingen unit-forbrug"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"8px"},children:[m.jsx("input",{type:"range",className:"slider",min:"0",step:"1",max:V,value:Q,style:{flexGrow:1},onChange:Y=>D(W,parseInt(Y.target.value,10)),disabled:V===0}),m.jsx("span",{style:{fontWeight:"bold",width:"30px",textAlign:"right"},children:Q})]})]})]})},G)}),m.jsxs("div",{className:"actions-bar",style:{marginTop:"16px"},children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Total:"})," ",m.jsx(Nc,{cost:C?.totalCostBase||{}})," ",m.jsxs("strong",{style:{marginLeft:"1em"},children:[F,":"]}),m.jsx("span",{className:C?.hasCapacity?"":"price-bad",children:je((C?.used||0)+(C?.capToUse||0))})," / ",je(C?.total||0)]}),m.jsxs("button",{className:"btn primary",disabled:I,onClick:P,children:["Kb valgte ",E.label.toLowerCase()]})]}),C?.shortfalls&&Object.keys(C.shortfalls).length>0&&m.jsxs("div",{style:{marginTop:8,color:"#f66",fontSize:13},children:[m.jsx("strong",{children:"Manglende ressourcer:"}),m.jsx("div",{children:Object.entries(C.shortfalls).map(([G,K])=>m.jsxs("div",{children:[G.replace(/^res\./,""),": mangler ",je(K.need-K.have)," (",je(K.have)," / ",je(K.need),")"]},G))})]})]})]}),m.jsx(xj,{isOpen:f.isOpen,title:f.title,body:f.body,onConfirm:f.onConfirm,onCancel:()=>d(G=>({...G,isOpen:!1})),confirmText:"OK",cancelText:"Annuller"})]})}function Xue({family:e}){return e?m.jsx(r8,{embedFamily:e,embed:!0}):m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:"Units"}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Ukendt building family."})})]})}function Que({label:e,help:t,children:n}){return m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"220px 1fr",gap:12,alignItems:"center"},children:[m.jsxs("div",{style:{opacity:.9},children:[m.jsx("div",{style:{fontWeight:600},children:e}),t&&m.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:4},children:t})]}),m.jsx("div",{children:n})]})}function Zue({checked:e,onChange:t,label:n}){return m.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8,cursor:"pointer"},children:[m.jsx("input",{type:"checkbox",checked:!!e,onChange:r=>t(r.target.checked)}),m.jsx("span",{children:n})]})}function Jue({value:e,onChange:t,min:n,max:r,step:i=1,suffix:a,placeholder:o,width:u=60}){return m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("input",{type:"number",value:e??"",placeholder:o,min:n,max:r,step:i,onChange:c=>t(c.target.value===""?"":Number(c.target.value)),style:{width:u,padding:"6px 8px"}}),a&&m.jsx("span",{style:{opacity:.7},children:a})]})}function i8({value:e,onChange:t,min:n=0,max:r=100,step:i=1,formatValue:a}){const o=a?a(e):String(e);return m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8,alignItems:"center"},children:[m.jsx("input",{type:"range",value:Number(e??n),min:n,max:r,step:i,onChange:u=>t(Number(u.target.value)),style:{width:"100%"}}),m.jsx("div",{style:{minWidth:70,textAlign:"right"},children:o})]})}function ece({value:e,onChange:t}){return m.jsx(i8,{value:e,onChange:t,min:0,max:100,step:1,formatValue:n=>`${Math.round(n)}%`})}function tce({value:e,onChange:t,options:n,width:r=220}){return m.jsx("select",{value:e,onChange:i=>t(i.target.value),style:{padding:"6px 8px",width:r},children:n.map(i=>m.jsx("option",{value:i.value,children:i.label},i.value))})}function nce({value:e=[],onChange:t,options:n,columns:r=1}){const i=(a,o)=>{const u=new Set(e);o?u.add(a):u.delete(a),t(Array.from(u))};return m.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r}, minmax(0, 1fr))`,gap:8},children:n.map(a=>m.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8,cursor:"pointer"},children:[m.jsx("input",{type:"checkbox",checked:e.includes(a.value),onChange:o=>i(a.value,o.target.checked)}),m.jsx("span",{children:a.label})]},a.value))})}function rce({value:e,onChange:t,options:n,columns:r=1}){return m.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r}, minmax(0, 1fr))`,gap:8},children:n.map(i=>m.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8,cursor:"pointer"},children:[m.jsx("input",{type:"radio",checked:e===i.value,onChange:()=>t(i.value)}),m.jsx("span",{children:i.label})]},i.value))})}function ice(e,t,{choices:n,setChoice:r,locked:i=!1}){const a=t.control||{},o=a.key||e,u=(f,d)=>n?.[f]===void 0?d:n[f],c=f=>d=>r(f,d);switch(a.type){case"toggle":return m.jsx(Zue,{checked:!!u(o,a.default||!1),onChange:c(o),label:u(o,a.default||!1)?a.labelOn||"Aktiv":a.labelOff||"Inaktiv",disabled:i});case"percent":return m.jsx(ece,{value:Number(u(o,a.default??0)),onChange:c(o),disabled:i});case"slider":return m.jsx(i8,{value:Number(u(o,a.default??a.min??0)),onChange:c(o),min:a.min??0,max:a.max??100,step:a.step??1,disabled:i});case"number":return m.jsx(Jue,{value:u(o,a.default??0),onChange:c(o),min:a.min,max:a.max,step:a.step??1,suffix:a.suffix,placeholder:a.placeholder,disabled:i});case"select":return m.jsx(tce,{value:u(o,a.default??a.options?.[0]?.value??""),onChange:c(o),options:a.options||[],width:a.width??220,disabled:i});case"checkboxes":return m.jsx(nce,{value:u(o,a.default??[]),onChange:c(o),options:a.options||[],columns:a.columns??1,disabled:i});case"radio":return m.jsx(rce,{value:u(o,a.default??a.options?.[0]?.value??""),onChange:c(o),options:a.options||[],columns:a.columns??1,disabled:i});default:return null}}function a8({title:e,subtitle:t,stats:n,extras:r,translations:i,headerMode:a="wrapper",filterKeys:o=["item","items","title","name","desc"]}){const u=ace(n,o),c=a==="stats",f=c?{title:e,desc:t,stats:u}:{stats:u};return m.jsxs("div",{style:{minWidth:260,maxWidth:520},children:[!c&&(e||t)?m.jsxs("div",{style:{marginBottom:8},children:[e?m.jsx("div",{style:{fontWeight:700,marginBottom:2},children:e}):null,t?m.jsx("div",{style:{fontSize:12,opacity:.8},children:t}):null]}):null,m.jsx(so,{def:f,translations:i,showHeader:c}),Array.isArray(r)&&r.length>0?m.jsx("div",{style:{marginTop:10,paddingTop:8,borderTop:"1px solid var(--border)"},children:m.jsx("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:r.map((d,p)=>{if(typeof d=="string")return m.jsx("li",{style:{padding:"4px 0"},children:m.jsx("div",{style:{fontSize:13},children:d})},p);const v=String(d?.label??"").trim(),y=oce(d?.value),b=String(d?.desc??"").trim();return m.jsxs("li",{style:{padding:"4px 0"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12},children:[m.jsx("span",{style:{fontWeight:600},children:v}),m.jsx("span",{style:{textAlign:"right"},children:y})]}),b?m.jsx("div",{style:{fontSize:12,opacity:.75,marginTop:2},children:b}):null]},p)})})}):null]})}function ace(e,t){if(!e)return{};if(typeof e=="string")return sce(e,t);if(typeof e!="object")return{};const n={};for(const[r,i]of Object.entries(e)){const a=String(r||"").trim();!a||t.includes(a)||i!=null&&typeof i!="object"&&(n[a]=i)}return n}function sce(e,t){const n=String(e).split(";").map(i=>i.trim()).filter(Boolean),r={};for(const i of n){const[a,o=""]=i.split("=",2).map(c=>c.trim());if(!a||t.includes(a))continue;const u=Number(o);r[a]=!Number.isNaN(u)&&o!==""?u:o}return r}function oce(e){return e==null?"":typeof e=="number"?String(e).replace(".",","):String(e)}const aA={bld:"bld",building:"bld",buildings:"bld",add:"add",addon:"add",addons:"add",rsd:"rsd",research:"rsd",researches:"rsd"};function dD(e){if(typeof e!="string")return null;const t=e.trim().match(/^(?:([a-zA-Z]+)\.)?([A-Za-z0-9_.-]+?)(?:\.l(\d+))?$/);if(!t)return null;const n=t[1]?t[1].toLowerCase():void 0,r=n?aA[n]||n:void 0,i=t[2],a=t[3]?Number(t[3]):void 0;return{domain:r,id:i,minLevel:a}}function s8(e){return e?typeof e=="object"&&(e.bld||e.add||e.rsd)?e:e.state?e.state:e.summary&&e.summary.state?e.summary.state:e.gameData&&e.gameData.state?e.gameData.state:{}:{}}function hD(e,t,n){const r=e?.[t];if(!r||typeof r!="object")return 0;if(Object.prototype.hasOwnProperty.call(r,n)){const a=r[n];return typeof a=="number"?a:a&&typeof a=="object"?typeof a.level=="number"?a.level:typeof a.lv=="number"?a.lv:typeof a.lvl=="number"?a.lvl:1:a?1:0}const i=`${t}.${n}`;if(Object.prototype.hasOwnProperty.call(r,i)){const a=r[i];if(typeof a=="number")return a;if(a&&typeof a=="object"){if(typeof a.level=="number")return a.level;if(typeof a.lv=="number")return a.lv;if(typeof a.lvl=="number")return a.lvl;const o=i.match(/\.l(\d+)$/);return o?Number(o[1]):1}return a?1:0}for(const a of Object.keys(r))if(!(a===n||a===i)){if(a.endsWith(`.${n}`)||a.includes(`.${n}.`)){const o=r[a];if(typeof o=="number")return o;if(o&&typeof o=="object"){if(typeof o.level=="number")return o.level;if(typeof o.lv=="number")return o.lv;if(typeof o.lvl=="number")return o.lvl}const u=a.match(/\.l(\d+)$/);return u?Number(u[1]):o?1:0}if(a.includes(n)){const o=r[a];if(typeof o=="number")return o;if(o&&typeof o=="object"){if(typeof o.level=="number")return o.level;if(typeof o.lv=="number")return o.lv;if(typeof o.lvl=="number")return o.lvl}const u=a.match(/\.l(\d+)$/);return u?Number(u[1]):o?1:0}}return 0}function lce(e,t){const n=s8(e);let r=null;if(typeof t=="string")r=dD(t);else if(t&&typeof t=="object"){if(t.id&&typeof t.id=="string"&&!t.domain)r=dD(t.id),r&&typeof t.minLevel=="number"&&(r.minLevel=t.minLevel);else if(t.domain&&t.id){const a=aA[String(t.domain).toLowerCase()]||null;if(!a)return!1;const o=String(t.id),u=typeof t.minLevel=="number"?t.minLevel:typeof t.level=="number"?t.level:void 0;r={domain:a,id:o,minLevel:u}}}if(!r)return!1;if(r.domain){const a=hD(n,r.domain,r.id);return typeof r.minLevel=="number"?a>=r.minLevel:a>0}const i=["rsd","bld","add","res","building","research"];for(const a of i){const o=hD(n,a,r.id);if(typeof r.minLevel=="number"){if(o>=r.minLevel)return!0}else if(o>0)return!0}return!1}function uce(e,t){if(!t)return!0;const n=s8(e),r={bld:t.buildings??t.bld,add:t.addons??t.add,rsd:t.research??t.rsd};for(const[i,a]of Object.entries(r)){if(!a)continue;const o=Array.isArray(a)?a:[a];for(const u of o)if(!lce(n,u))return!1}return!0}function cce(e){if(!e)return"";const t=[],n=r=>{if(!r)return;const i=Array.isArray(r)?r:[r];for(const a of i){if(typeof a=="string"){t.push(a);continue}if(a&&typeof a=="object"){if(typeof a.id=="string"&&!a.domain){t.push(a.id);continue}const o=a.domain||"",u=a.id||"",c=a.minLevel??a.level,f=aA[String(o).toLowerCase()]||o;t.push(`${f}.${u}${typeof c=="number"?`.l${c}`:""}`)}}};return n(e.buildings??e.bld),n(e.addons??e.add),n(e.research??e.rsd),t.join(", ")}function o8({config:e,choices:t,setChoice:n,currentStage:r,tooltipCtx:i={}}){const a=e?.fields||{},o=e?.sections||[],u=b=>{const x=b?.stageMin,S=b?.stageMax;return!(x!=null&&Number(r)<Number(x)||S!=null&&Number(r)>Number(S))},c=b=>b?.requires?uce(i,b.requires):!0,f=b=>{const x=u(b),S=c(b);return x&&S?typeof b?.visible=="function"?!!b.visible(t):b?.visible!==!1:!!b?.showWhenLocked},d=b=>{if(!b)return null;if(he.isValidElement(b))return b;if(typeof b=="function"){const x=b(t,i);return d(x)}if(typeof b=="object"){const S=(b.type||"stats")==="stats"?"stats":"wrapper",_=b.title||"",E=b.subtitle||"",O=b.extras,T=typeof b.stats=="function"?b.stats(t,i):b.stats;return m.jsx(a8,{headerMode:S,title:_,subtitle:E,stats:T,extras:O,translations:i?.translations})}return typeof b=="string"||typeof b=="number"?String(b):null},p=({id:b})=>{const x=a[b];if(!x)return null;const S=u(x),_=c(x);if(!f(x))return null;const T=ice(b,x,{choices:t,setChoice:n,locked:!(S&&_)}),N=typeof x.help=="function"?x.help(t,i):x.help,k=!_&&x?.requires?cce(x.requires):"",M=!_&&k?N?`${N}
Krver: ${k}`:`Krver: ${k}`:N,D=m.jsx(Que,{label:x.label||b,help:M,children:T}),R=d(x.tooltip);return R?m.jsx(ls,{content:R,children:m.jsx("div",{children:D})}):D},v=({item:b})=>{const x=Math.max(1,Math.min(3,Number(b.span||1)));if(typeof b=="string"||b.id){const S=typeof b=="string"?b:b.id;return m.jsx("div",{className:`mp-item span-${x}`,children:m.jsx(p,{id:S})})}return b.stack?m.jsx("div",{className:`mp-item span-${x}`,children:m.jsx("div",{style:{display:"grid",gap:b.gap??10},children:b.stack.map((S,_)=>m.jsx(p,{id:S},`${S}-${_}`))})}):null},y=({sec:b})=>{if(!u(b)&&!b.showWhenLocked)return null;const S=Math.max(1,Math.min(3,b.cols||1));return m.jsxs("fieldset",{className:"groupbox",children:[m.jsx("legend",{children:b.title}),m.jsx("div",{className:"groupbox__content",children:m.jsx("div",{className:`mp-grid cols-${S}`,children:(b.items||[]).map((_,E)=>m.jsx(v,{item:_},E))})})]})};return m.jsx("div",{style:{display:"grid",gap:12},children:(o||[]).map((b,x)=>m.jsx(y,{sec:b},x))})}async function J_(e){const t=e?`?family=${encodeURIComponent(e)}`:"",r=await(await fetch(`/world-spil/backend/api/management/choices.php${t}`,{credentials:"include"})).json();if(!r.ok)throw new Error(r.error?.message||"Failed to load overrides");return r.overrides||{}}async function l8(e,t,{replaceFamily:n=!0}={}){const i=await(await fetch("/world-spil/backend/api/management/choices.php?debug=1",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({family:e,overrides:t,replaceFamily:n})})).json();if(!i.ok)throw new Error(i.error?.message||"Failed to save overrides");try{lp()}catch(a){console.warn("triggerSummaryRefresh failed",a)}return i}async function u8(e){const t=await fetch(`world-spil/backend/api/management/schema.php?family=${encodeURIComponent(e)}`,{credentials:"include"}),r=(t.headers.get("content-type")||"").includes("application/json");if(!t.ok){const a=r?JSON.stringify(await t.json()):await t.text();throw new Error(`Schema HTTP ${t.status}: ${a.slice(0,300)}`)}if(!r){const a=await t.text();throw new Error(`Schema: Expected JSON, got: ${a.slice(0,300)}`)}const i=await t.json();if(!i.ok)throw new Error(i.error?.message||"Failed to load schema");return i.schema}function fce(e,t){const n=String(t||"").split(".");let r=e;for(const a of n)if(r&&typeof r=="object"&&a in r)r=r[a];else return 0;if(typeof r=="number")return r;if(typeof r=="boolean")return r?1:0;const i=Number(r);return Number.isFinite(i)?i:0}function sA(e,t){if(!e)return 0;let n=String(e);if(n=n.replace(/choice\('([^']+)'\)/g,(i,a)=>{const o=t?.choices?.[a];return typeof o=="number"?String(o):o===!0?"1":"0"}),n=n.replace(/summary\.([A-Za-z0-9_.]+)/g,(i,a)=>String(fce(t?.summary||{},a))),n.replace(/[\d.\+\-\*\/\(\)\s]/g,"")!=="")return 0;try{const a=new Function(`return ( ${n} );`)();return Number.isFinite(a)?a:0}catch{return 0}}function dce(e,t){return typeof e!="string"?e:e.replace(/\$\{([^}]+)\}/g,(n,r)=>String(sA(r,t)))}function hce(e,t,n){const r={choices:t,summary:n},i={},a=Array.isArray(e?.effects)?e.effects:[],o=new Map;for(const u of a){const c=String(u?.stat||"");if(!c)continue;const f=String(u?.op||"add"),d=u?.value&&typeof u.value=="object"&&"expr"in u.value?sA(String(u.value.expr),r):Number(u?.value??0),p=o.get(c)||{add:0,mul:1};f==="add"?p.add+=d:f==="sub"?p.add-=d:f==="mul"?p.mul*=d||1:f==="div"&&(p.mul/=d||1),o.set(c,p)}for(const[u,{add:c,mul:f}]of o.entries())Math.abs(f-1)>1e-12&&Math.abs(c)>1e-12?i[u]=`${c>=0,""}${c.toFixed(2)} & x${f.toFixed(3)}`:Math.abs(f-1)>1e-12?i[u]=`x${f.toFixed(3)}`:Math.abs(c)>1e-12&&(i[u]=`${c>=0,""}${c.toFixed(2)}`);return i}function pce(e){if(e.startsWith("use"))return e;if(e.endsWith("Usage")){const t=e.slice(0,-5);return"use"+t.charAt(0).toUpperCase()+t.slice(1)}return e}function c8(e,t,n){if(!e||!e.fields)return n;const r=JSON.parse(JSON.stringify(n||{}));r.capacities=r.capacities||{},r.usages=r.usages||{};const i={};for(const[f,d]of Object.entries(e.fields)){const p=d?.control?.default??null,v=t?.[f];JSON.stringify(v)!==JSON.stringify(p)&&(i[f]=v)}if(!Object.keys(i).length)return r;const a={},o={},u={},c={summary:r,choices:i};for(const[f,d]of Object.entries(e.fields)){if(!(f in i))continue;const p=Array.isArray(d.effects)?d.effects:[];for(const v of p){const y=String(v?.stat||"");if(!y)continue;const b=String(v?.op||"add").toLowerCase(),x=v?.value&&typeof v.value=="object"&&"expr"in v.value?sA(String(v.value.expr),c):Number(v?.value??0);if(y.endsWith("Usage")||y.startsWith("use")){const _=pce(y);u[_]=u[_]||{add:0,mul:1},b==="add"?u[_].add+=x:b==="sub"?u[_].add-=x:b==="mul"?u[_].mul*=x||1:b==="div"&&(u[_].mul/=x||1)}else b==="mul"||b==="div"?(o[y]=o[y]||1,o[y]=b==="mul"?o[y]*(x||1):o[y]/(x||1)):a[y]=(a[y]??0)+(b==="sub"?-x:x)}}for(const[f,d]of Object.entries(a))r.capacities[f]=Number(r.capacities[f]||0)+Number(d);for(const[f,d]of Object.entries(o))r.capacities[f]=Number(r.capacities[f]||0)*Number(d||1);for(const[f,{add:d,mul:p}]of Object.entries(u)){const v=(Number(r.usages[f]?.total||0)+Number(d||0))*Number(p||1);r.usages[f]={...r.usages[f]||{},total:v}}return r}const lb=[{key:"health",label:"Sundhed",emoji:""},{key:"police",label:"Politi",emoji:""}],Zh={health:[{title:"Ordninger",cols:2,stageMin:1,items:[{stack:["health_free_dentist_kids","health_free_dentist_young","health_free_dentist_adults"],span:1},{id:"health_subsidy_pct",span:1}]},{title:"Ml & strategi",cols:2,stageMin:2,items:[{id:"health_wait_target_days",span:1},{id:"health_mode",span:1},{id:"health_campaign_prevention",span:2}]}],police:[{title:"Politi-indsats",cols:2,stageMin:1,items:[{id:"police_patrol_density",span:1},{id:"police_camera_toggle",span:1}]},{title:"Strategi",cols:2,stageMin:2,items:[{id:"police_strategy",span:2}]}]};function mce(e){const t={},n=e?.fields||{};for(const[r,i]of Object.entries(n)){const a=i.control||{};t[r]=a.default??null}return t}function f8(e,t,n,r){const i=e?.fields||{},a={};for(const[o,u]of Object.entries(i)){const c=u.help;a[o]={label:u.label||o,help:f=>typeof c=="string"?dce(c,{summary:r,choices:f||{}}):c,stageMin:u.stageMin,stageMax:u.stageMax,showWhenLocked:u.showWhenLocked,requires:u.requires||null,control:{...u.control||{},key:o},tooltip:f=>{const d=hce(u,f,r);return!d||Object.keys(d).length===0?null:m.jsx(a8,{headerMode:"stats",title:u.label||o,subtitle:"",stats:d,translations:t?.translations})}}}return{fields:a}}function gce(){const{data:e}=Ie(),{data:t}=Ii();console.debug("ManagementPageDynamic mounted",{activeKey:lb[0]?.key,summaryLoaded:!!t,gameDataLoaded:!!e});const[n,r]=j.useState(lb[0]?.key||"health"),i=Object.keys(Zh||{}).length>0,[a,o]=j.useState(null),[u,c]=j.useState({}),[f,d]=j.useState({}),[p,v]=j.useState({}),y=j.useMemo(()=>JSON.stringify(f)!==JSON.stringify(p),[f,p]),b=j.useMemo(()=>a?c8(a,f,t||{}):t||{},[a,f,t]),x=j.useMemo(()=>t?.state&&typeof t.state=="object"?t.state:e?.state&&typeof e.state=="object"?e.state:{},[t,e]),S=j.useMemo(()=>({summary:b,state:x,gameData:e,translations:e?.i18n?.current??{}}),[b,x,e]),_=(k,M)=>d(D=>({...D,[k]:M}));j.useEffect(()=>{let k=!0;return(async()=>{try{const M=await u8(n);if(!k)return;o(M);const D=mce(M);c(D);const C=(await J_(n))[n]||{},L={...D,...C};d(L),v(L)}catch(M){console.error("Schema/overrides load failed",M),o(null),c({}),d({}),v({})}})(),()=>{k=!1}},[n,i]),j.useEffect(()=>{let k=!0;const M=async()=>{try{const R=await J_(n);if(!k)return;const C=R[n]||{},L={};if(a&&a.fields)for(const[U,P]of Object.entries(a.fields||{})){const H=P?.control||{};"default"in H&&(L[U]=H.default)}const I={...L,...C};c(L),d(I),v(I)}catch(R){k&&console.warn("ManagementPageDynamic: failed to refresh overrides",R)}},D=({family:R}={})=>{R&&R!==n||M()};return K$(D),()=>{k=!1,W$(D)}},[n,a]);const E=async()=>{const k={};for(const[M,D]of Object.entries(f))JSON.stringify(D)!==JSON.stringify(u[M])&&(k[M]=D);await l8(n,k,{replaceFamily:!0}),v(f)},O=()=>d(p),T=j.useMemo(()=>Zh[n]??[],[n]),N=j.useMemo(()=>a?{...f8(a,S,f,b),sections:T}:null,[a,S,f,b,T]);return m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("div",{style:{fontWeight:700},children:"Management"}),m.jsx(Q4,{tabs:lb,value:n,onChange:r,showActions:!0,dirty:y,onSave:E,onRevert:O})]}),m.jsx("div",{className:"section-body",children:N?m.jsx(o8,{config:N,choices:f,setChoice:_,currentStage:Number(t?.stage?.current??e?.state?.user?.currentstage??0),tooltipCtx:S}):m.jsx("div",{className:"sub",children:"Indlser"})})]})}function vce({family:e}){const{data:t,refreshData:n}=Ie(),{data:r}=Ii(),[i,a]=j.useState(!0),[o,u]=j.useState(null),[c,f]=j.useState(!1),[d,p]=j.useState(null),[v,y]=j.useState({}),[b,x]=j.useState({}),[S,_]=j.useState({}),E=j.useMemo(()=>JSON.stringify(b)!==JSON.stringify(S),[b,S]),O=j.useMemo(()=>{const I=Zh?.[e];return Array.isArray(I)&&I.length>0},[e]),T=j.useMemo(()=>o?c8(o,b,r||{}):r||{},[o,b,r]),N=j.useMemo(()=>r?.state&&typeof r.state=="object"?r.state:t?.state&&typeof t.state=="object"?t.state:{},[r,t]),k=j.useMemo(()=>({summary:T,state:N,gameData:t,translations:t?.i18n?.current??{}}),[T,N,t]);j.useEffect(()=>{let I=!0;return a(!0),u(null),f(!1),p(null),y({}),x({}),_({}),O?((async()=>{try{const U=await u8(e);if(!I)return;if(!U||!U.fields||Object.keys(U.fields).length===0){f(!0),u(null),a(!1);return}u(U);const P={};for(const[G,K]of Object.entries(U?.fields||{})){const $=K?.control||{};"default"in $&&(P[G]=$.default)}y(P);const B=(await J_(e))[e]||{},F={...P,...B};x(F),_(F),a(!1)}catch(U){const P=String(U?.message||U||"");if(P.includes("404")||P.includes("E_NOTFOUND")){I&&(f(!0),u(null),a(!1));return}I&&(p(U),a(!1))}})(),()=>{I=!1}):(f(!0),a(!1),()=>{I=!1})},[e,O]);const M=async()=>{const I={};for(const[U,P]of Object.entries(b))JSON.stringify(P)!==JSON.stringify(v[U])&&(I[U]=P);await l8(e,I,{replaceFamily:!0});try{await n?.()}catch(U){console.warn("refreshData failed",U)}await new Promise(U=>setTimeout(U,50));try{lp()}catch(U){console.warn("triggerSummaryRefresh failed",U)}_(b)},D=()=>x(S),R=j.useMemo(()=>Zh[e]??[],[e]),C=j.useMemo(()=>!o||c||!R||R.length===0?null:{...f8(o,k,b,T),sections:R},[o,c,R,k,b,T]),L=Number(r?.stage?.current??t?.state?.user?.currentstage??0);return e?O?i?m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:["Special  ",e]}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Indlser"})})]}):c||!R||R.length===0?m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:["Special  ",e]}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Der findes ingen managementvalg for denne bygning."})})]}):d?m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:["Special  ",e]}),m.jsx("div",{className:"section-body",children:m.jsxs("div",{className:"sub",children:["Kunne ikke indlse data for ",e,"."]})})]}):m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",style:{display:"flex",alignItems:"center",gap:8},children:[m.jsxs("div",{style:{fontWeight:700},children:["Management  ",e]}),m.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[m.jsx("button",{className:"btn",onClick:D,disabled:!E,children:"Fortryd"}),m.jsx("button",{className:"btn primary",onClick:M,disabled:!E,children:"Gem"})]})]}),m.jsx("div",{className:"section-body",children:C?m.jsx(o8,{config:C,choices:b,setChoice:(I,U)=>x(P=>({...P,[I]:U})),currentStage:L,tooltipCtx:k}):m.jsx("div",{className:"sub",children:"Ingen felter at vise."})})]}):m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:["Special  ",e]}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Der findes ingen managementvalg for denne bygning."})})]}):m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:"Special"}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Ukendt building family."})})]})}function yce({family:e}){return e?m.jsx(vce,{family:e}):m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:"Special"}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Ukendt building family."})})]})}const ub=["addons","research","recipes","units","special"];function bce(e){return e?e.startsWith("bld.")?e:`bld.${e}`:null}function xce({buildingId:e}){const{data:t}=Ie(),n=zt(),[r,i]=he.useState(e);if(!t)return m.jsx("div",{className:"panel section",children:m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Loading"})})});const{defs:a,state:o}=t,u=bce(r),c=u?u.replace(/^bld\./,""):null,f=c?a.bld?.[c]:null,d=typeof Jn=="function"?Jn(u||""):(()=>{const _e=String(u||"").match(/^bld\.([^.]+(?:\.[^.]+)*)\.l(\d+)$/);return _e?{family:_e[1],level:Number(_e[2])}:{}})(),p=d?.family??c?.replace(/\.l\d+$/,""),v=Number(d?.level||d?.lvl||d?.level_s||0),y=p?`bld.${p}`:null,b=j.useMemo(()=>Xh(o.bld||{}),[o.bld]),x=j.useMemo(()=>Xh(o.add||{}),[o.add]),S=j.useMemo(()=>Wp(o),[o]),_=j.useMemo(()=>nA(a),[a]),E=j.useMemo(()=>({ownedBuildings:b,ownedAddons:x,ownedResearch:S,activeBuffs:_}),[b,x,S,_]),O=j.useMemo(()=>{const _e=Object.create(null),nt=t?.state?.jobs?.running||[];for(const Vt of nt)_e[Vt.bld_id]=Vt;return _e},[t?.state?.jobs?.running]),T=Number(o.user?.currentstage??o.user?.stage??0),N=y&&b[y]||0,k=N>0,M=p?`${p}.l1`:null,D=p?`${p}.l${N+1}`:null,R=k?D:M,C=R?a.bld?.[R]:null,L=Number(C?.stage??C?.stage_required??0),I=!C||L<=T,U=Yp(C?{id:`bld.${R}`,price:C.cost||C.price||{},req:C.require||C.req||"",duration_s:Number(C.duration_s??C.build_time_s??C.stats?.build_time_s??0),footprintDelta:Number(C.stats?.footprint??0)}:null,o,E),P=C?{id:`bld.${R}`,price:C.cost||C.price||{},req:C.require||C.req||"",duration_s:Number(C.duration_s??C.build_time_s??C.stats?.build_time_s??0),footprintDelta:Number(C.stats?.footprint??0),isUpgrade:k,isOwned:!1,owned:!1,ownedMax:N,stageLocked:!I,stageReq:L,def:C}:k?{id:u,isOwned:!0,owned:!0,def:f}:null,H=Number(C?.stats?.footprint??0),B=u||(p?`bld.${p}.l1`:"unknown"),F=k?`bld.${p}.l${N}`:u||(p?`bld.${p}.l1`:""),G=F?o.bld?.[F]||{}:{},K=Number(f?.durability??0),$=Number.isFinite(G?.durability_pct)?Number(G.durability_pct):null,W=Number(G?.durability??NaN),X=$??(K>0&&Number.isFinite(W)?Math.max(0,Math.min(100,Math.round(W/K*100))):0),ne=`${(f?.stats?.footprint??0)>=0?"+":""}${f?.stats?.footprint??0} Byggepoint`,V=`${(f?.stats?.animalCap??0)>=0?"+":""}${f?.stats?.animalCap??0} Staldplads`,Q=P&&P.id.startsWith("bld.")?P.id:null,Y=F||null,J=Q&&O[Q]?Q:Y&&O[Y]?Y:null,ae=k?`${p}.l${N}`:null,re=ae?a.bld?.[ae]:null,de=re?.cost||re?.price||f?.cost||f?.price||{},[ye,le]=j.useState(ub[0]),[Oe,Se]=j.useState("main");if(j.useEffect(()=>{le(ub[0]),Se("main")},[u]),he.useEffect(()=>{p&&(v>N?N>0?(i(`${p}.l${N}`),setTimeout(()=>{window.location.hash=`#/building/${p}.l${N}`},0)):setTimeout(()=>{window.location.hash="#/buildings"},0):i(e))},[p,v,N,e]),!u||!f||!p)return m.jsx("div",{className:"panel section",children:m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Building not found."})})});const be=C?{price:C.cost||C.price||{},reqString:U.reqString,duration:U.duration?.final_s??Number(C.duration_s??C.build_time_s??C.stats?.build_time_s??0),durationBase:U.duration?.base_s??Number(C.duration_s??C.build_time_s??C.stats?.build_time_s??0),footprint:H}:null,Ce=!!C&&I&&!!U.allOk,xe=(()=>{switch(ye){case"addons":return m.jsx(Fue,{family:p,defs:a,state:o,stage:T,baseOwned:k,requirementCaches:E,filter:Oe,onFilterChange:Se});case"research":return m.jsx(Gue,{family:p,defs:a,state:o,stage:T,baseOwned:k,requirementCaches:E});case"recipes":return m.jsx(Wue,{family:p,defs:a,state:o,stage:T,baseOwned:k,requirementCaches:E});case"units":return m.jsx(Xue,{family:p,defs:a,state:o,stage:T,baseOwned:k,requirementCaches:E});case"special":return m.jsx(yce,{family:p});default:return null}})();return m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:[m.jsx("a",{href:"#/buildings",className:"back",children:""}),n("ui.building.h1")]}),m.jsxs("div",{className:"section-body",children:[m.jsx(Rue,{heroDef:f,heroId:B,durabilityPct:X,jobActiveId:J,footprintText:ne,animalCapText:V,actionTarget:be,requirementState:U}),m.jsx(Uue,{actionItem:P,canStart:Ce,jobActiveId:J,buildingId:u,repairBasePrice:de}),m.jsx("div",{className:"tabs",children:ub.map(_e=>m.jsx("button",{className:`tab ${ye===_e?"active":""}`,onClick:()=>le(_e),type:"button",children:_e.charAt(0).toUpperCase()+_e.slice(1)},_e))}),m.jsx("div",{id:"tabContent",children:xe})]})]})}const wce={basic:"Basal",food:"Mad",tools:"Vrktj",luxury:"Luksus",animal:"Dyr",butchery:"Slagtning",fabrics:"Stof",heat:"Varme",biproduct:"Biprodukt"};function Sce({defs:e,state:t,stage:n,debug:r=!0}){const i=zt(),a=(D,R)=>{const C=i(D);return C===D?R:C},{data:o,isLoading:u,error:c}=Ie(),f=e||o?.defs||{},d=t||o?.state||{},p=typeof n=="number"?n:Number(d?.user?.currentstage??d?.user?.stage??0)||0,v=f?.rcp||{},y=he.useMemo(()=>({activeBuffs:nA(f)||[]}),[f]),[b,x]=j.useState("all"),S=j.useMemo(()=>{const D=new Set;for(const R of Object.keys(d?.bld||{})){const C=typeof Jn=="function"?Jn(R):null;if(C?.family)D.add(String(C.family));else{const L=String(R).match(/^bld\.([^.]+(?:\.[^.]+)*)\.l\d+$/);L&&D.add(L[1])}}return D},[d?.bld]),_=j.useMemo(()=>typeof mi=="function"?mi("bld",d):{},[d]),E=j.useMemo(()=>typeof mi=="function"?mi("add",d):{},[d]),O=D=>{if(typeof da=="function")return da(D,d);const R=String(D),C=R.replace(/^rsd\./,"");return!!(d?.research?.[C]||d?.rsd?.[C]||d?.rsd?.[R])},T=D=>D?Array.isArray(D)?D.map(String).map(R=>R.trim()).filter(Boolean):String(D).split(/[,;]+/).map(R=>R.trim()).filter(Boolean):[],N=D=>{if(!D)return!0;if(D.startsWith("bld.")){const R=typeof Jn=="function"?Jn(D):null;if(R?.series&&Number.isFinite(R.level))return(_[R.series]||0)>=Number(R.level);const C=D.match(/^bld\.([^]+)\.l(\d+)$/);return C?(_[`bld.${C[1]}`]||0)>=Number(C[2]):!1}if(D.startsWith("add.")){const R=D.match(/^add\.([^]+)\.l(\d+)$/);return R?(E[`add.${R[1]}`]||0)>=Number(R[2]):!1}return D.startsWith("rsd.")?!!O(D):!0},k=j.useMemo(()=>{const D=[];for(const[R,C]of Object.entries(v)){const L=String(C?.type||"").toLowerCase(),I=L?L.split(/[,\s]+/).map(W=>W.trim()).filter(Boolean):[];if(b!=="all"&&!I.includes(b)||String(C?.mode||"active").toLowerCase()==="disabled")continue;const P=Number(C?.stage??C?.stage_required??0)||0,H=P<=p;if(!H)continue;const B=String(C?.family||""),F=B?B.split(",").map(W=>W.trim()).filter(Boolean):[],K=T(C.require||C.req||"").every(N),$=Number(R.match(/\.l(\d+)$/)?.[1]||C?.lvl||1);D.push({def:C,fullId:`rcp.${R}`,level:$,stageReq:P,stageOk:H,reqOk:K,families:F})}return D.sort((R,C)=>{const L=String(R.def.family||""),I=String(C.def.family||"");return L!==I?L.localeCompare(I):R.stageReq!==C.stageReq?R.stageReq-C.stageReq:R.level!==C.level?R.level-C.level:String(R.def.name||"").localeCompare(String(C.def.name||""))}),D},[v,S,_,E,p,b]),M=j.useMemo(()=>{const D=new Set;for(const[R,C]of Object.entries(v)){if(String(C?.mode||"active").toLowerCase()==="disabled"||(Number(C?.stage??C?.stage_required??0)||0)>p)continue;const U=String(C?.type||"").toLowerCase();if(!U){D.add("other");continue}U.split(/[,\s]+/).forEach(P=>{P&&P.trim()&&D.add(P.trim())})}return["all",...Array.from(D).sort()]},[v,S,_,E,p]);return he.useEffect(()=>{M.includes(b)||x("all")},[M,b]),u?m.jsx("div",{className:"sub",children:a("ui.text.loading.h1","Indlser...")}):c||!o?m.jsx("div",{className:"sub",children:a("ui.text.error.h1","Fejl.")}):k.length?m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:[a("ui.emoji.recipe.h1","")," ",a("ui.headers.recipe.h1","Jobs / Opskrifter"),"  ",a("ui.text.available.h1","Tilgngelige")]}),m.jsxs("div",{className:"section-body",children:[m.jsx("div",{className:"tabs-bar",role:"tablist",style:{display:"flex",gap:8,marginBottom:12},children:M.map(D=>m.jsx("button",{type:"button",className:`tab ${b===D?"active":""}`,onClick:()=>x(D),children:D==="all"?a("ui.text.all","All"):wce[D]??D.charAt(0).toUpperCase()+D.slice(1)},D))}),k.map(D=>m.jsx(t8,{entry:D,defs:f,state:d,baseOwned:!0,requirementCaches:y},D.fullId))]})]}):m.jsxs("section",{className:"panel section",children:[m.jsxs("div",{className:"section-head",children:[a("ui.emoji.recipe.h1","")," ",a("ui.headers.recipe.h1","Jobs / Opskrifter"),"  ",a("ui.text.available.h1","Tilgngelige")]}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:a("ui.text.none.h1","Ingen")})})]})}function _ce(){return m.jsxs("div",{className:"page",children:[m.jsx(Sce,{}),m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:" Passive Yields"}),m.jsx("div",{className:"section-body",children:m.jsx(K4,{})})]})]})}function d8({tabs:e=[],defaultKey:t=null,className:n="",preserve:r=!1}){const i=j.useMemo(()=>t||e[0]&&e[0].key||null,[t,e]),[a,o]=j.useState(i),u=j.useMemo(()=>e.findIndex(f=>f.key===a),[e,a]),c=j.useCallback(f=>{if(!["ArrowLeft","ArrowRight","Home","End"].includes(f.key)||(f.preventDefault(),e.length===0))return;let d=u;f.key==="ArrowLeft"&&(d=d>0?d-1:e.length-1),f.key==="ArrowRight"&&(d=d<e.length-1?d+1:0),f.key==="Home"&&(d=0),f.key==="End"&&(d=e.length-1);const p=e[d];p&&o(p.key)},[u,e]);return!e||!e.length?m.jsxs("section",{className:`panel section ${n}`,children:[m.jsx("div",{className:"section-head",children:"Tabs"}),m.jsx("div",{className:"section-body",children:m.jsx("div",{className:"sub",children:"Ingen faner konfigureret."})})]}):m.jsxs("section",{className:`panel section ${n}`,children:[m.jsxs("div",{className:"section-head",style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("div",{style:{fontWeight:700},children:"Side med faner"}),m.jsx("div",{className:"tabs",role:"tablist","aria-label":"Side faner",style:{marginLeft:"auto",display:"flex",gap:8},onKeyDown:c,children:e.map(f=>m.jsxs("button",{role:"tab","aria-selected":f.key===a,tabIndex:f.key===a?0:-1,className:`tab ${f.key===a?"active":""}`,onClick:()=>o(f.key),title:f.label,style:{display:"inline-flex",alignItems:"center",gap:8},children:[f.icon?m.jsx("span",{"aria-hidden":!0,style:{marginRight:4},children:f.icon}):null,m.jsx("span",{children:f.label})]},f.key))})]}),m.jsx("div",{className:"section-body",style:{paddingTop:12},children:e.map(f=>{const d=f.key===a;return r?m.jsx("div",{role:"tabpanel","aria-hidden":!d,style:{display:d?"block":"none"},children:f.element?f.element:f.Component?m.jsx(f.Component,{}):null},f.key):d?m.jsx("div",{role:"tabpanel",children:f.element?f.element:f.Component?m.jsx(f.Component,{}):null},f.key):null})})]})}function Gn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Gn(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const jce={},pD=e=>{let t;const n=new Set,r=(d,p)=>{const v=typeof d=="function"?d(t):d;if(!Object.is(v,t)){const y=t;t=p??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(b=>b(t,y))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>f,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(jce?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,i,c);return c},Ece=e=>e?pD(e):pD,{useDebugValue:Ace}=he,{useSyncExternalStoreWithSelector:Oce}=SW,Tce=e=>e;function h8(e,t=Tce,n){const r=Oce(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ace(r),r}const mD=(e,t)=>{const n=Ece(e),r=(i,a=t)=>h8(n,i,a);return Object.assign(r,n),r},Nce=(e,t)=>e?mD(e,t):mD;function Ln(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var kce={value:()=>{}};function Vp(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Jd(n)}function Jd(e){this._=e}function Cce(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Jd.prototype=Vp.prototype={constructor:Jd,on:function(e,t){var n=this._,r=Cce(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=Mce(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=gD(n[i],e.name,t);else if(t==null)for(i in n)n[i]=gD(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Jd(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function Mce(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function gD(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=kce,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ej="http://www.w3.org/1999/xhtml";const vD={svg:"http://www.w3.org/2000/svg",xhtml:ej,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xp(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vD.hasOwnProperty(t)?{space:vD[t],local:e}:e}function Rce(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ej&&t.documentElement.namespaceURI===ej?t.createElement(e):t.createElementNS(n,e)}}function Dce(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function p8(e){var t=Xp(e);return(t.local?Dce:Rce)(t)}function Pce(){}function oA(e){return e==null?Pce:function(){return this.querySelector(e)}}function Lce(e){typeof e!="function"&&(e=oA(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,u=r[i]=new Array(o),c,f,d=0;d<o;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f);return new Ar(r,this._parents)}function qce(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ice(){return[]}function m8(e){return e==null?Ice:function(){return this.querySelectorAll(e)}}function Bce(e){return function(){return qce(e.apply(this,arguments))}}function $ce(e){typeof e=="function"?e=Bce(e):e=m8(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],u=o.length,c,f=0;f<u;++f)(c=o[f])&&(r.push(e.call(c,c.__data__,f,o)),i.push(c));return new Ar(r,i)}function g8(e){return function(){return this.matches(e)}}function v8(e){return function(t){return t.matches(e)}}var zce=Array.prototype.find;function Uce(e){return function(){return zce.call(this.children,e)}}function Hce(){return this.firstElementChild}function Fce(e){return this.select(e==null?Hce:Uce(typeof e=="function"?e:v8(e)))}var Gce=Array.prototype.filter;function Kce(){return Array.from(this.children)}function Wce(e){return function(){return Gce.call(this.children,e)}}function Yce(e){return this.selectAll(e==null?Kce:Wce(typeof e=="function"?e:v8(e)))}function Vce(e){typeof e!="function"&&(e=g8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,u=r[i]=[],c,f=0;f<o;++f)(c=a[f])&&e.call(c,c.__data__,f,a)&&u.push(c);return new Ar(r,this._parents)}function y8(e){return new Array(e.length)}function Xce(){return new Ar(this._enter||this._groups.map(y8),this._parents)}function Jh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Jh.prototype={constructor:Jh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Qce(e){return function(){return e}}function Zce(e,t,n,r,i,a){for(var o=0,u,c=t.length,f=a.length;o<f;++o)(u=t[o])?(u.__data__=a[o],r[o]=u):n[o]=new Jh(e,a[o]);for(;o<c;++o)(u=t[o])&&(i[o]=u)}function Jce(e,t,n,r,i,a,o){var u,c,f=new Map,d=t.length,p=a.length,v=new Array(d),y;for(u=0;u<d;++u)(c=t[u])&&(v[u]=y=o.call(c,c.__data__,u,t)+"",f.has(y)?i[u]=c:f.set(y,c));for(u=0;u<p;++u)y=o.call(e,a[u],u,a)+"",(c=f.get(y))?(r[u]=c,c.__data__=a[u],f.delete(y)):n[u]=new Jh(e,a[u]);for(u=0;u<d;++u)(c=t[u])&&f.get(v[u])===c&&(i[u]=c)}function efe(e){return e.__data__}function tfe(e,t){if(!arguments.length)return Array.from(this,efe);var n=t?Jce:Zce,r=this._parents,i=this._groups;typeof e!="function"&&(e=Qce(e));for(var a=i.length,o=new Array(a),u=new Array(a),c=new Array(a),f=0;f<a;++f){var d=r[f],p=i[f],v=p.length,y=nfe(e.call(d,d&&d.__data__,f,r)),b=y.length,x=u[f]=new Array(b),S=o[f]=new Array(b),_=c[f]=new Array(v);n(d,p,x,S,_,y,t);for(var E=0,O=0,T,N;E<b;++E)if(T=x[E]){for(E>=O&&(O=E+1);!(N=S[O])&&++O<b;);T._next=N||null}}return o=new Ar(o,r),o._enter=u,o._exit=c,o}function nfe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rfe(){return new Ar(this._exit||this._groups.map(y8),this._parents)}function ife(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function afe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),c=0;c<o;++c)for(var f=n[c],d=r[c],p=f.length,v=u[c]=new Array(p),y,b=0;b<p;++b)(y=f[b]||d[b])&&(v[b]=y);for(;c<i;++c)u[c]=n[c];return new Ar(u,this._parents)}function sfe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function ofe(e){e||(e=lfe);function t(p,v){return p&&v?e(p.__data__,v.__data__):!p-!v}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,c=i[a]=new Array(u),f,d=0;d<u;++d)(f=o[d])&&(c[d]=f);c.sort(t)}return new Ar(i,this._parents).order()}function lfe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ufe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cfe(){return Array.from(this)}function ffe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function dfe(){let e=0;for(const t of this)++e;return e}function hfe(){return!this.node()}function pfe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&e.call(u,u.__data__,a,i);return this}function mfe(e){return function(){this.removeAttribute(e)}}function gfe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vfe(e,t){return function(){this.setAttribute(e,t)}}function yfe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function bfe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function xfe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wfe(e,t){var n=Xp(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?gfe:mfe:typeof t=="function"?n.local?xfe:bfe:n.local?yfe:vfe)(n,t))}function b8(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Sfe(e){return function(){this.style.removeProperty(e)}}function _fe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function jfe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Efe(e,t,n){return arguments.length>1?this.each((t==null?Sfe:typeof t=="function"?jfe:_fe)(e,t,n??"")):kl(this.node(),e)}function kl(e,t){return e.style.getPropertyValue(t)||b8(e).getComputedStyle(e,null).getPropertyValue(t)}function Afe(e){return function(){delete this[e]}}function Ofe(e,t){return function(){this[e]=t}}function Tfe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Nfe(e,t){return arguments.length>1?this.each((t==null?Afe:typeof t=="function"?Tfe:Ofe)(e,t)):this.node()[e]}function x8(e){return e.trim().split(/^|\s+/)}function lA(e){return e.classList||new w8(e)}function w8(e){this._node=e,this._names=x8(e.getAttribute("class")||"")}w8.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function S8(e,t){for(var n=lA(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function _8(e,t){for(var n=lA(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function kfe(e){return function(){S8(this,e)}}function Cfe(e){return function(){_8(this,e)}}function Mfe(e,t){return function(){(t.apply(this,arguments)?S8:_8)(this,e)}}function Rfe(e,t){var n=x8(e+"");if(arguments.length<2){for(var r=lA(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Mfe:t?kfe:Cfe)(n,t))}function Dfe(){this.textContent=""}function Pfe(e){return function(){this.textContent=e}}function Lfe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function qfe(e){return arguments.length?this.each(e==null?Dfe:(typeof e=="function"?Lfe:Pfe)(e)):this.node().textContent}function Ife(){this.innerHTML=""}function Bfe(e){return function(){this.innerHTML=e}}function $fe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function zfe(e){return arguments.length?this.each(e==null?Ife:(typeof e=="function"?$fe:Bfe)(e)):this.node().innerHTML}function Ufe(){this.nextSibling&&this.parentNode.appendChild(this)}function Hfe(){return this.each(Ufe)}function Ffe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gfe(){return this.each(Ffe)}function Kfe(e){var t=typeof e=="function"?e:p8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Wfe(){return null}function Yfe(e,t){var n=typeof e=="function"?e:p8(e),r=t==null?Wfe:typeof t=="function"?t:oA(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Vfe(){var e=this.parentNode;e&&e.removeChild(this)}function Xfe(){return this.each(Vfe)}function Qfe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zfe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Jfe(e){return this.select(e?Zfe:Qfe)}function ede(e){return arguments.length?this.property("__data__",e):this.node().__data__}function tde(e){return function(t){e.call(this,t,this.__data__)}}function nde(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function rde(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function ide(e,t,n){return function(){var r=this.__on,i,a=tde(t);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function ade(e,t,n){var r=nde(e+""),i,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,f=u.length,d;c<f;++c)for(i=0,d=u[c];i<a;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(u=t?ide:rde,i=0;i<a;++i)this.each(u(r[i],t,n));return this}function j8(e,t,n){var r=b8(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function sde(e,t){return function(){return j8(this,e,t)}}function ode(e,t){return function(){return j8(this,e,t.apply(this,arguments))}}function lde(e,t){return this.each((typeof t=="function"?ode:sde)(e,t))}function*ude(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var E8=[null];function Ar(e,t){this._groups=e,this._parents=t}function Jc(){return new Ar([[document.documentElement]],E8)}function cde(){return this}Ar.prototype=Jc.prototype={constructor:Ar,select:Lce,selectAll:$ce,selectChild:Fce,selectChildren:Yce,filter:Vce,data:tfe,enter:Xce,exit:rfe,join:ife,merge:afe,selection:cde,order:sfe,sort:ofe,call:ufe,nodes:cfe,node:ffe,size:dfe,empty:hfe,each:pfe,attr:wfe,style:Efe,property:Nfe,classed:Rfe,text:qfe,html:zfe,raise:Hfe,lower:Gfe,append:Kfe,insert:Yfe,remove:Xfe,clone:Jfe,datum:ede,on:ade,dispatch:lde,[Symbol.iterator]:ude};function pi(e){return typeof e=="string"?new Ar([[document.querySelector(e)]],[document.documentElement]):new Ar([[e]],E8)}function fde(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ci(e,t){if(e=fde(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const dde={passive:!1},Cc={capture:!0,passive:!1};function cb(e){e.stopImmediatePropagation()}function yl(e){e.preventDefault(),e.stopImmediatePropagation()}function A8(e){var t=e.document.documentElement,n=pi(e).on("dragstart.drag",yl,Cc);"onselectstart"in t?n.on("selectstart.drag",yl,Cc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function O8(e,t){var n=e.document.documentElement,r=pi(e).on("dragstart.drag",null);t&&(r.on("click.drag",yl,Cc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Bd=e=>()=>e;function tj(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:u,dx:c,dy:f,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:d}})}tj.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function hde(e){return!e.ctrlKey&&!e.button}function pde(){return this.parentNode}function mde(e,t){return t??{x:e.x,y:e.y}}function gde(){return navigator.maxTouchPoints||"ontouchstart"in this}function vde(){var e=hde,t=pde,n=mde,r=gde,i={},a=Vp("start","drag","end"),o=0,u,c,f,d,p=0;function v(T){T.on("mousedown.drag",y).filter(r).on("touchstart.drag",S).on("touchmove.drag",_,dde).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(T,N){if(!(d||!e.call(this,T,N))){var k=O(this,t.call(this,T,N),T,N,"mouse");k&&(pi(T.view).on("mousemove.drag",b,Cc).on("mouseup.drag",x,Cc),A8(T.view),cb(T),f=!1,u=T.clientX,c=T.clientY,k("start",T))}}function b(T){if(yl(T),!f){var N=T.clientX-u,k=T.clientY-c;f=N*N+k*k>p}i.mouse("drag",T)}function x(T){pi(T.view).on("mousemove.drag mouseup.drag",null),O8(T.view,f),yl(T),i.mouse("end",T)}function S(T,N){if(e.call(this,T,N)){var k=T.changedTouches,M=t.call(this,T,N),D=k.length,R,C;for(R=0;R<D;++R)(C=O(this,M,T,N,k[R].identifier,k[R]))&&(cb(T),C("start",T,k[R]))}}function _(T){var N=T.changedTouches,k=N.length,M,D;for(M=0;M<k;++M)(D=i[N[M].identifier])&&(yl(T),D("drag",T,N[M]))}function E(T){var N=T.changedTouches,k=N.length,M,D;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),M=0;M<k;++M)(D=i[N[M].identifier])&&(cb(T),D("end",T,N[M]))}function O(T,N,k,M,D,R){var C=a.copy(),L=Ci(R||k,N),I,U,P;if((P=n.call(T,new tj("beforestart",{sourceEvent:k,target:v,identifier:D,active:o,x:L[0],y:L[1],dx:0,dy:0,dispatch:C}),M))!=null)return I=P.x-L[0]||0,U=P.y-L[1]||0,function H(B,F,G){var K=L,$;switch(B){case"start":i[D]=H,$=o++;break;case"end":delete i[D],--o;case"drag":L=Ci(G||F,N),$=o;break}C.call(B,T,new tj(B,{sourceEvent:F,subject:P,target:v,identifier:D,active:$,x:L[0]+I,y:L[1]+U,dx:L[0]-K[0],dy:L[1]-K[1],dispatch:C}),M)}}return v.filter=function(T){return arguments.length?(e=typeof T=="function"?T:Bd(!!T),v):e},v.container=function(T){return arguments.length?(t=typeof T=="function"?T:Bd(T),v):t},v.subject=function(T){return arguments.length?(n=typeof T=="function"?T:Bd(T),v):n},v.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:Bd(!!T),v):r},v.on=function(){var T=a.on.apply(a,arguments);return T===a?v:T},v.clickDistance=function(T){return arguments.length?(p=(T=+T)*T,v):Math.sqrt(p)},v}var Cl=0,lc=0,Xu=0,T8=1e3,ep,uc,tp=0,go=0,Qp=0,Mc=typeof performance=="object"&&performance.now?performance:Date,N8=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function uA(){return go||(N8(yde),go=Mc.now()+Qp)}function yde(){go=0}function np(){this._call=this._time=this._next=null}np.prototype=k8.prototype={constructor:np,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?uA():+n)+(t==null?0:+t),!this._next&&uc!==this&&(uc?uc._next=this:ep=this,uc=this),this._call=e,this._time=n,nj()},stop:function(){this._call&&(this._call=null,this._time=1/0,nj())}};function k8(e,t,n){var r=new np;return r.restart(e,t,n),r}function bde(){uA(),++Cl;for(var e=ep,t;e;)(t=go-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Cl}function yD(){go=(tp=Mc.now())+Qp,Cl=lc=0;try{bde()}finally{Cl=0,wde(),go=0}}function xde(){var e=Mc.now(),t=e-tp;t>T8&&(Qp-=t,tp=e)}function wde(){for(var e,t=ep,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ep=n);uc=e,nj(r)}function nj(e){if(!Cl){lc&&(lc=clearTimeout(lc));var t=e-go;t>24?(e<1/0&&(lc=setTimeout(yD,e-Mc.now()-Qp)),Xu&&(Xu=clearInterval(Xu))):(Xu||(tp=Mc.now(),Xu=setInterval(xde,T8)),Cl=1,N8(yD))}}function bD(e,t,n){var r=new np;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Sde=Vp("start","end","cancel","interrupt"),_de=[],C8=0,xD=1,rj=2,eh=3,wD=4,ij=5,th=6;function Zp(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;jde(e,n,{name:t,index:r,group:i,on:Sde,tween:_de,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:C8})}function cA(e,t){var n=Si(e,t);if(n.state>C8)throw new Error("too late; already scheduled");return n}function Bi(e,t){var n=Si(e,t);if(n.state>eh)throw new Error("too late; already running");return n}function Si(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function jde(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=k8(a,0,n.time);function a(f){n.state=xD,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var d,p,v,y;if(n.state!==xD)return c();for(d in r)if(y=r[d],y.name===n.name){if(y.state===eh)return bD(o);y.state===wD?(y.state=th,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[d]):+d<t&&(y.state=th,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[d])}if(bD(function(){n.state===eh&&(n.state=wD,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=rj,n.on.call("start",e,e.__data__,n.index,n.group),n.state===rj){for(n.state=eh,i=new Array(v=n.tween.length),d=0,p=-1;d<v;++d)(y=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=y);i.length=p+1}}function u(f){for(var d=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=ij,1),p=-1,v=i.length;++p<v;)i[p].call(e,d);n.state===ij&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=th,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function nh(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>rj&&r.state<ij,r.state=th,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function Ede(e){return this.each(function(){nh(this,e)})}function Ade(e,t){var n,r;return function(){var i=Bi(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,u=r.length;o<u;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ode(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Bi(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:t,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===t){i[c]=u;break}c===f&&i.push(u)}a.tween=i}}function Tde(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Si(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Ade:Ode)(n,e,t))}function fA(e,t,n){var r=e._id;return e.each(function(){var i=Bi(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Si(i,r).value[t]}}function M8(e,t){var n;return(typeof t=="number"?fi:t instanceof uo?Oh:(n=uo(t))?(t=n,Oh):I3)(e,t)}function Nde(e){return function(){this.removeAttribute(e)}}function kde(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cde(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function Mde(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Rde(e,t,n){var r,i,a;return function(){var o,u=n(this),c;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=u+"",o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,u)))}}function Dde(e,t,n){var r,i,a;return function(){var o,u=n(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=u+"",o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,u)))}}function Pde(e,t){var n=Xp(e),r=n==="transform"?YQ:M8;return this.attrTween(e,typeof t=="function"?(n.local?Dde:Rde)(n,r,fA(this,"attr."+e,t)):t==null?(n.local?kde:Nde)(n):(n.local?Mde:Cde)(n,r,t))}function Lde(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function qde(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ide(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&qde(e,a)),n}return i._value=t,i}function Bde(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Lde(e,a)),n}return i._value=t,i}function $de(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Xp(e);return this.tween(n,(r.local?Ide:Bde)(r,t))}function zde(e,t){return function(){cA(this,e).delay=+t.apply(this,arguments)}}function Ude(e,t){return t=+t,function(){cA(this,e).delay=t}}function Hde(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zde:Ude)(t,e)):Si(this.node(),t).delay}function Fde(e,t){return function(){Bi(this,e).duration=+t.apply(this,arguments)}}function Gde(e,t){return t=+t,function(){Bi(this,e).duration=t}}function Kde(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Fde:Gde)(t,e)):Si(this.node(),t).duration}function Wde(e,t){if(typeof t!="function")throw new Error;return function(){Bi(this,e).ease=t}}function Yde(e){var t=this._id;return arguments.length?this.each(Wde(t,e)):Si(this.node(),t).ease}function Vde(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Bi(this,e).ease=n}}function Xde(e){if(typeof e!="function")throw new Error;return this.each(Vde(this._id,e))}function Qde(e){typeof e!="function"&&(e=g8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,u=r[i]=[],c,f=0;f<o;++f)(c=a[f])&&e.call(c,c.__data__,f,a)&&u.push(c);return new va(r,this._parents,this._name,this._id)}function Zde(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var c=t[u],f=n[u],d=c.length,p=o[u]=new Array(d),v,y=0;y<d;++y)(v=c[y]||f[y])&&(p[y]=v);for(;u<r;++u)o[u]=t[u];return new va(o,this._parents,this._name,this._id)}function Jde(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ehe(e,t,n){var r,i,a=Jde(t)?cA:Bi;return function(){var o=a(this,e),u=o.on;u!==r&&(i=(r=u).copy()).on(t,n),o.on=i}}function the(e,t){var n=this._id;return arguments.length<2?Si(this.node(),n).on.on(e):this.each(ehe(n,e,t))}function nhe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function rhe(){return this.on("end.remove",nhe(this._id))}function ihe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=oA(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],c=u.length,f=a[o]=new Array(c),d,p,v=0;v<c;++v)(d=u[v])&&(p=e.call(d,d.__data__,v,u))&&("__data__"in d&&(p.__data__=d.__data__),f[v]=p,Zp(f[v],t,n,v,f,Si(d,n)));return new va(a,this._parents,t,n)}function ahe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=m8(e));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var c=r[u],f=c.length,d,p=0;p<f;++p)if(d=c[p]){for(var v=e.call(d,d.__data__,p,c),y,b=Si(d,n),x=0,S=v.length;x<S;++x)(y=v[x])&&Zp(y,t,n,x,v,b);a.push(v),o.push(d)}return new va(a,o,t,n)}var she=Jc.prototype.constructor;function ohe(){return new she(this._groups,this._parents)}function lhe(e,t){var n,r,i;return function(){var a=kl(this,e),o=(this.style.removeProperty(e),kl(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function R8(e){return function(){this.style.removeProperty(e)}}function uhe(e,t,n){var r,i=n+"",a;return function(){var o=kl(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function che(e,t,n){var r,i,a;return function(){var o=kl(this,e),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),kl(this,e))),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,u))}}function fhe(e,t){var n,r,i,a="style."+t,o="end."+a,u;return function(){var c=Bi(this,e),f=c.on,d=c.value[a]==null?u||(u=R8(t)):void 0;(f!==n||i!==d)&&(r=(n=f).copy()).on(o,i=d),c.on=r}}function dhe(e,t,n){var r=(e+="")=="transform"?WQ:M8;return t==null?this.styleTween(e,lhe(e,r)).on("end.style."+e,R8(e)):typeof t=="function"?this.styleTween(e,che(e,r,fA(this,"style."+e,t))).each(fhe(this._id,e)):this.styleTween(e,uhe(e,r,t),n).on("end.style."+e,null)}function hhe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function phe(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&hhe(e,o,n)),r}return a._value=t,a}function mhe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,phe(e,t,n??""))}function ghe(e){return function(){this.textContent=e}}function vhe(e){return function(){var t=e(this);this.textContent=t??""}}function yhe(e){return this.tween("text",typeof e=="function"?vhe(fA(this,"text",e)):ghe(e==null?"":e+""))}function bhe(e){return function(t){this.textContent=e.call(this,t)}}function xhe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&bhe(i)),t}return r._value=e,r}function whe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,xhe(e))}function She(){for(var e=this._name,t=this._id,n=D8(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,c,f=0;f<u;++f)if(c=o[f]){var d=Si(c,t);Zp(c,e,n,f,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new va(r,this._parents,e,n)}function _he(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var u={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var f=Bi(this,r),d=f.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),f.on=t}),i===0&&a()})}var jhe=0;function va(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function D8(){return++jhe}var ra=Jc.prototype;va.prototype={constructor:va,select:ihe,selectAll:ahe,selectChild:ra.selectChild,selectChildren:ra.selectChildren,filter:Qde,merge:Zde,selection:ohe,transition:She,call:ra.call,nodes:ra.nodes,node:ra.node,size:ra.size,empty:ra.empty,each:ra.each,on:the,attr:Pde,attrTween:$de,style:dhe,styleTween:mhe,text:yhe,textTween:whe,remove:rhe,tween:Tde,delay:Hde,duration:Kde,ease:Yde,easeVarying:Xde,end:_he,[Symbol.iterator]:ra[Symbol.iterator]};function Ehe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ahe={time:null,delay:0,duration:250,ease:Ehe};function Ohe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function The(e){var t,n;e instanceof va?(t=e._id,e=e._name):(t=D8(),(n=Ahe).time=uA(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,c,f=0;f<u;++f)(c=o[f])&&Zp(c,e,t,f,o,n||Ohe(c,t));return new va(r,this._parents,e,t)}Jc.prototype.interrupt=Ede;Jc.prototype.transition=The;const $d=e=>()=>e;function Nhe(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ua(e,t,n){this.k=e,this.x=t,this.y=n}ua.prototype={constructor:ua,scale:function(e){return e===1?this:new ua(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ua(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var as=new ua(1,0,0);ua.prototype;function fb(e){e.stopImmediatePropagation()}function Qu(e){e.preventDefault(),e.stopImmediatePropagation()}function khe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Che(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function SD(){return this.__zoom||as}function Mhe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Rhe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dhe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Phe(){var e=khe,t=Che,n=Dhe,r=Mhe,i=Rhe,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,c=ZQ,f=Vp("start","zoom","end"),d,p,v,y=500,b=150,x=0,S=10;function _(P){P.property("__zoom",SD).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",C).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(P,H,B,F){var G=P.selection?P.selection():P;G.property("__zoom",SD),P!==G?N(P,H,B,F):G.interrupt().each(function(){k(this,arguments).event(F).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},_.scaleBy=function(P,H,B,F){_.scaleTo(P,function(){var G=this.__zoom.k,K=typeof H=="function"?H.apply(this,arguments):H;return G*K},B,F)},_.scaleTo=function(P,H,B,F){_.transform(P,function(){var G=t.apply(this,arguments),K=this.__zoom,$=B==null?T(G):typeof B=="function"?B.apply(this,arguments):B,W=K.invert($),X=typeof H=="function"?H.apply(this,arguments):H;return n(O(E(K,X),$,W),G,o)},B,F)},_.translateBy=function(P,H,B,F){_.transform(P,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof B=="function"?B.apply(this,arguments):B),t.apply(this,arguments),o)},null,F)},_.translateTo=function(P,H,B,F,G){_.transform(P,function(){var K=t.apply(this,arguments),$=this.__zoom,W=F==null?T(K):typeof F=="function"?F.apply(this,arguments):F;return n(as.translate(W[0],W[1]).scale($.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof B=="function"?-B.apply(this,arguments):-B),K,o)},F,G)};function E(P,H){return H=Math.max(a[0],Math.min(a[1],H)),H===P.k?P:new ua(H,P.x,P.y)}function O(P,H,B){var F=H[0]-B[0]*P.k,G=H[1]-B[1]*P.k;return F===P.x&&G===P.y?P:new ua(P.k,F,G)}function T(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function N(P,H,B,F){P.on("start.zoom",function(){k(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(F).end()}).tween("zoom",function(){var G=this,K=arguments,$=k(G,K).event(F),W=t.apply(G,K),X=B==null?T(W):typeof B=="function"?B.apply(G,K):B,ne=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),V=G.__zoom,Q=typeof H=="function"?H.apply(G,K):H,Y=c(V.invert(X).concat(ne/V.k),Q.invert(X).concat(ne/Q.k));return function(J){if(J===1)J=Q;else{var ae=Y(J),re=ne/ae[2];J=new ua(re,X[0]-ae[0]*re,X[1]-ae[1]*re)}$.zoom(null,J)}})}function k(P,H,B){return!B&&P.__zooming||new M(P,H)}function M(P,H){this.that=P,this.args=H,this.active=0,this.sourceEvent=null,this.extent=t.apply(P,H),this.taps=0}M.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,H){return this.mouse&&P!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var H=pi(this.that).datum();f.call(P,this.that,new Nhe(P,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:f}),H)}};function D(P,...H){if(!e.apply(this,arguments))return;var B=k(this,H).event(P),F=this.__zoom,G=Math.max(a[0],Math.min(a[1],F.k*Math.pow(2,r.apply(this,arguments)))),K=Ci(P);if(B.wheel)(B.mouse[0][0]!==K[0]||B.mouse[0][1]!==K[1])&&(B.mouse[1]=F.invert(B.mouse[0]=K)),clearTimeout(B.wheel);else{if(F.k===G)return;B.mouse=[K,F.invert(K)],nh(this),B.start()}Qu(P),B.wheel=setTimeout($,b),B.zoom("mouse",n(O(E(F,G),B.mouse[0],B.mouse[1]),B.extent,o));function $(){B.wheel=null,B.end()}}function R(P,...H){if(v||!e.apply(this,arguments))return;var B=P.currentTarget,F=k(this,H,!0).event(P),G=pi(P.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",ne,!0),K=Ci(P,B),$=P.clientX,W=P.clientY;A8(P.view),fb(P),F.mouse=[K,this.__zoom.invert(K)],nh(this),F.start();function X(V){if(Qu(V),!F.moved){var Q=V.clientX-$,Y=V.clientY-W;F.moved=Q*Q+Y*Y>x}F.event(V).zoom("mouse",n(O(F.that.__zoom,F.mouse[0]=Ci(V,B),F.mouse[1]),F.extent,o))}function ne(V){G.on("mousemove.zoom mouseup.zoom",null),O8(V.view,F.moved),Qu(V),F.event(V).end()}}function C(P,...H){if(e.apply(this,arguments)){var B=this.__zoom,F=Ci(P.changedTouches?P.changedTouches[0]:P,this),G=B.invert(F),K=B.k*(P.shiftKey?.5:2),$=n(O(E(B,K),F,G),t.apply(this,H),o);Qu(P),u>0?pi(this).transition().duration(u).call(N,$,F,P):pi(this).call(_.transform,$,F,P)}}function L(P,...H){if(e.apply(this,arguments)){var B=P.touches,F=B.length,G=k(this,H,P.changedTouches.length===F).event(P),K,$,W,X;for(fb(P),$=0;$<F;++$)W=B[$],X=Ci(W,this),X=[X,this.__zoom.invert(X),W.identifier],G.touch0?!G.touch1&&G.touch0[2]!==X[2]&&(G.touch1=X,G.taps=0):(G.touch0=X,K=!0,G.taps=1+!!d);d&&(d=clearTimeout(d)),K&&(G.taps<2&&(p=X[0],d=setTimeout(function(){d=null},y)),nh(this),G.start())}}function I(P,...H){if(this.__zooming){var B=k(this,H).event(P),F=P.changedTouches,G=F.length,K,$,W,X;for(Qu(P),K=0;K<G;++K)$=F[K],W=Ci($,this),B.touch0&&B.touch0[2]===$.identifier?B.touch0[0]=W:B.touch1&&B.touch1[2]===$.identifier&&(B.touch1[0]=W);if($=B.that.__zoom,B.touch1){var ne=B.touch0[0],V=B.touch0[1],Q=B.touch1[0],Y=B.touch1[1],J=(J=Q[0]-ne[0])*J+(J=Q[1]-ne[1])*J,ae=(ae=Y[0]-V[0])*ae+(ae=Y[1]-V[1])*ae;$=E($,Math.sqrt(J/ae)),W=[(ne[0]+Q[0])/2,(ne[1]+Q[1])/2],X=[(V[0]+Y[0])/2,(V[1]+Y[1])/2]}else if(B.touch0)W=B.touch0[0],X=B.touch0[1];else return;B.zoom("touch",n(O($,W,X),B.extent,o))}}function U(P,...H){if(this.__zooming){var B=k(this,H).event(P),F=P.changedTouches,G=F.length,K,$;for(fb(P),v&&clearTimeout(v),v=setTimeout(function(){v=null},y),K=0;K<G;++K)$=F[K],B.touch0&&B.touch0[2]===$.identifier?delete B.touch0:B.touch1&&B.touch1[2]===$.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&($=Ci($,this),Math.hypot(p[0]-$[0],p[1]-$[1])<S)){var W=pi(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return _.wheelDelta=function(P){return arguments.length?(r=typeof P=="function"?P:$d(+P),_):r},_.filter=function(P){return arguments.length?(e=typeof P=="function"?P:$d(!!P),_):e},_.touchable=function(P){return arguments.length?(i=typeof P=="function"?P:$d(!!P),_):i},_.extent=function(P){return arguments.length?(t=typeof P=="function"?P:$d([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),_):t},_.scaleExtent=function(P){return arguments.length?(a[0]=+P[0],a[1]=+P[1],_):[a[0],a[1]]},_.translateExtent=function(P){return arguments.length?(o[0][0]=+P[0][0],o[1][0]=+P[1][0],o[0][1]=+P[0][1],o[1][1]=+P[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(P){return arguments.length?(n=P,_):n},_.duration=function(P){return arguments.length?(u=+P,_):u},_.interpolate=function(P){return arguments.length?(c=P,_):c},_.on=function(){var P=f.on.apply(f,arguments);return P===f?_:P},_.clickDistance=function(P){return arguments.length?(x=(P=+P)*P,_):Math.sqrt(x)},_.tapDistance=function(P){return arguments.length?(S=+P,_):S},_}const Jp=j.createContext(null),Lhe=Jp.Provider,ya={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},P8=ya.error001();function Pt(e,t){const n=j.useContext(Jp);if(n===null)throw new Error(P8);return h8(n,e,t)}const Sn=()=>{const e=j.useContext(Jp);if(e===null)throw new Error(P8);return j.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},qhe=e=>e.userSelectionActive?"none":"all";function L8({position:e,children:t,className:n,style:r,...i}){const a=Pt(qhe),o=`${e}`.split("-");return he.createElement("div",{className:Gn(["react-flow__panel",n,...o]),style:{...r,pointerEvents:a},...i},t)}function Ihe({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:he.createElement(L8,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},he.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Bhe=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:o=[2,4],labelBgBorderRadius:u=2,children:c,className:f,...d})=>{const p=j.useRef(null),[v,y]=j.useState({x:0,y:0,width:0,height:0}),b=Gn(["react-flow__edge-textwrapper",f]);return j.useEffect(()=>{if(p.current){const x=p.current.getBBox();y({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:he.createElement("g",{transform:`translate(${e-v.width/2} ${t-v.height/2})`,className:b,visibility:v.width?"visible":"hidden",...d},i&&he.createElement("rect",{width:v.width+2*o[0],x:-o[0],y:-o[1],height:v.height+2*o[1],className:"react-flow__edge-textbg",style:a,rx:u,ry:u}),he.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:p,style:r},n),c)};var $he=j.memo(Bhe);const dA=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ml=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),hA=(e={x:0,y:0},t)=>({x:Ml(e.x,t[0][0],t[1][0]),y:Ml(e.y,t[0][1],t[1][1])}),_D=(e,t,n)=>e<t?Ml(Math.abs(e-t),1,50)/50:e>n?-Ml(Math.abs(e-n),1,50)/50:0,q8=(e,t)=>{const n=_D(e.x,35,t.width-35)*20,r=_D(e.y,35,t.height-35)*20;return[n,r]},I8=e=>e.getRootNode?.()||window?.document,zhe=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),pA=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Uhe=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),jD=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),aj=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Hhe=e=>Wr(e.width)&&Wr(e.height)&&Wr(e.x)&&Wr(e.y),Wr=e=>!isNaN(e)&&isFinite(e),$t=Symbol.for("internals"),B8=["Enter"," ","Escape"],Fhe=(e,t)=>{},Ghe=e=>"nativeEvent"in e;function sj(e){const n=(Ghe(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const $8=e=>"clientX"in e,ss=(e,t)=>{const n=$8(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},rp=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,ef=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:v,interactionWidth:y=20})=>he.createElement(he.Fragment,null,he.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:p,markerStart:v}),y&&he.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}),i&&Wr(n)&&Wr(r)?he.createElement($he,{x:n,y:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f}):null);ef.displayName="BaseEdge";function Zu(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(a=>a.id===e);i&&n(r,{...i})}}function z8({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,a=n<e?n+i:n-i,o=Math.abs(r-t)/2,u=r<t?r+o:r-o;return[a,u,i,o]}function U8({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:o,targetControlY:u}){const c=e*.125+i*.375+o*.375+n*.125,f=t*.125+a*.375+u*.375+r*.125,d=Math.abs(c-e),p=Math.abs(f-t);return[c,f,d,p]}var vo;(function(e){e.Strict="strict",e.Loose="loose"})(vo||(vo={}));var eo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(eo||(eo={}));var Rc;(function(e){e.Partial="partial",e.Full="full"})(Rc||(Rc={}));var ns;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ns||(ns={}));var ip;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ip||(ip={}));var Pe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Pe||(Pe={}));function ED({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Pe.Left||e===Pe.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function H8({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:a=Pe.Top}){const[o,u]=ED({pos:n,x1:e,y1:t,x2:r,y2:i}),[c,f]=ED({pos:a,x1:r,y1:i,x2:e,y2:t}),[d,p,v,y]=U8({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:u,targetControlX:c,targetControlY:f});return[`M${e},${t} C${o},${u} ${c},${f} ${r},${i}`,d,p,v,y]}const mA=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Pe.Bottom,targetPosition:a=Pe.Top,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:v,markerEnd:y,markerStart:b,interactionWidth:x})=>{const[S,_,E]=H8({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a});return he.createElement(ef,{path:S,labelX:_,labelY:E,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:v,markerEnd:y,markerStart:b,interactionWidth:x})});mA.displayName="SimpleBezierEdge";const AD={[Pe.Left]:{x:-1,y:0},[Pe.Right]:{x:1,y:0},[Pe.Top]:{x:0,y:-1},[Pe.Bottom]:{x:0,y:1}},Khe=({source:e,sourcePosition:t=Pe.Bottom,target:n})=>t===Pe.Left||t===Pe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},OD=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Whe({source:e,sourcePosition:t=Pe.Bottom,target:n,targetPosition:r=Pe.Top,center:i,offset:a}){const o=AD[t],u=AD[r],c={x:e.x+o.x*a,y:e.y+o.y*a},f={x:n.x+u.x*a,y:n.y+u.y*a},d=Khe({source:c,sourcePosition:t,target:f}),p=d.x!==0?"x":"y",v=d[p];let y=[],b,x;const S={x:0,y:0},_={x:0,y:0},[E,O,T,N]=z8({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[p]*u[p]===-1){b=i.x??E,x=i.y??O;const M=[{x:b,y:c.y},{x:b,y:f.y}],D=[{x:c.x,y:x},{x:f.x,y:x}];o[p]===v?y=p==="x"?M:D:y=p==="x"?D:M}else{const M=[{x:c.x,y:f.y}],D=[{x:f.x,y:c.y}];if(p==="x"?y=o.x===v?D:M:y=o.y===v?M:D,t===r){const U=Math.abs(e[p]-n[p]);if(U<=a){const P=Math.min(a-1,a-U);o[p]===v?S[p]=(c[p]>e[p]?-1:1)*P:_[p]=(f[p]>n[p]?-1:1)*P}}if(t!==r){const U=p==="x"?"y":"x",P=o[p]===u[U],H=c[U]>f[U],B=c[U]<f[U];(o[p]===1&&(!P&&H||P&&B)||o[p]!==1&&(!P&&B||P&&H))&&(y=p==="x"?M:D)}const R={x:c.x+S.x,y:c.y+S.y},C={x:f.x+_.x,y:f.y+_.y},L=Math.max(Math.abs(R.x-y[0].x),Math.abs(C.x-y[0].x)),I=Math.max(Math.abs(R.y-y[0].y),Math.abs(C.y-y[0].y));L>=I?(b=(R.x+C.x)/2,x=y[0].y):(b=y[0].x,x=(R.y+C.y)/2)}return[[e,{x:c.x+S.x,y:c.y+S.y},...y,{x:f.x+_.x,y:f.y+_.y},n],b,x,T,N]}function Yhe(e,t,n,r){const i=Math.min(OD(e,t)/2,OD(t,n)/2,r),{x:a,y:o}=t;if(e.x===a&&a===n.x||e.y===o&&o===n.y)return`L${a} ${o}`;if(e.y===o){const f=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${a+i*f},${o}Q ${a},${o} ${a},${o+i*d}`}const u=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${a},${o+i*c}Q ${a},${o} ${a+i*u},${o}`}function oj({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:a=Pe.Top,borderRadius:o=5,centerX:u,centerY:c,offset:f=20}){const[d,p,v,y,b]=Whe({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:a,center:{x:u,y:c},offset:f});return[d.reduce((S,_,E)=>{let O="";return E>0&&E<d.length-1?O=Yhe(d[E-1],_,d[E+1],o):O=`${E===0?"M":"L"}${_.x} ${_.y}`,S+=O,S},""),p,v,y,b]}const em=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:p=Pe.Bottom,targetPosition:v=Pe.Top,markerEnd:y,markerStart:b,pathOptions:x,interactionWidth:S})=>{const[_,E,O]=oj({sourceX:e,sourceY:t,sourcePosition:p,targetX:n,targetY:r,targetPosition:v,borderRadius:x?.borderRadius,offset:x?.offset});return he.createElement(ef,{path:_,labelX:E,labelY:O,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:y,markerStart:b,interactionWidth:S})});em.displayName="SmoothStepEdge";const gA=j.memo(e=>he.createElement(em,{...e,pathOptions:j.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));gA.displayName="StepEdge";function Vhe({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,a,o,u]=z8({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,a,o,u]}const vA=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:v,interactionWidth:y})=>{const[b,x,S]=Vhe({sourceX:e,sourceY:t,targetX:n,targetY:r});return he.createElement(ef,{path:b,labelX:x,labelY:S,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:v,interactionWidth:y})});vA.displayName="StraightEdge";function zd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function TD({pos:e,x1:t,y1:n,x2:r,y2:i,c:a}){switch(e){case Pe.Left:return[t-zd(t-r,a),n];case Pe.Right:return[t+zd(r-t,a),n];case Pe.Top:return[t,n-zd(n-i,a)];case Pe.Bottom:return[t,n+zd(i-n,a)]}}function F8({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:a=Pe.Top,curvature:o=.25}){const[u,c]=TD({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[f,d]=TD({pos:a,x1:r,y1:i,x2:e,y2:t,c:o}),[p,v,y,b]=U8({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:d});return[`M${e},${t} C${u},${c} ${f},${d} ${r},${i}`,p,v,y,b]}const ap=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Pe.Bottom,targetPosition:a=Pe.Top,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:v,markerEnd:y,markerStart:b,pathOptions:x,interactionWidth:S})=>{const[_,E,O]=F8({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a,curvature:x?.curvature});return he.createElement(ef,{path:_,labelX:E,labelY:O,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:v,markerEnd:y,markerStart:b,interactionWidth:S})});ap.displayName="BezierEdge";const yA=j.createContext(null),Xhe=yA.Provider;yA.Consumer;const Qhe=()=>j.useContext(yA),Zhe=e=>"id"in e&&"source"in e&&"target"in e,Jhe=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,lj=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,epe=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),tpe=(e,t)=>{if(!e.source||!e.target)return t;let n;return Zhe(e)?n={...e}:n={...e,id:Jhe(e)},epe(n,t)?t:t.concat(n)},uj=({x:e,y:t},[n,r,i],a,[o,u])=>{const c={x:(e-n)/i,y:(t-r)/i};return a?{x:o*Math.round(c.x/o),y:u*Math.round(c.y/u)}:c},G8=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),bl=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},bA=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:a,y:o}=bl(i,t).positionAbsolute;return zhe(r,pA({x:a,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Uhe(n)},K8=(e,t,[n,r,i]=[0,0,1],a=!1,o=!1,u=[0,0])=>{const c={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},f=[];return e.forEach(d=>{const{width:p,height:v,selectable:y=!0,hidden:b=!1}=d;if(o&&!y||b)return!1;const{positionAbsolute:x}=bl(d,u),S={x:x.x,y:x.y,width:p||0,height:v||0},_=aj(c,S),E=typeof p>"u"||typeof v>"u"||p===null||v===null,O=a&&_>0,T=(p||0)*(v||0);(E||O||_>=T||d.dragging)&&f.push(d)}),f},W8=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Y8=(e,t,n,r,i,a=.1)=>{const o=t/(e.width*(1+a)),u=n/(e.height*(1+a)),c=Math.min(o,u),f=Ml(c,r,i),d=e.x+e.width/2,p=e.y+e.height/2,v=t/2-d*f,y=n/2-p*f;return{x:v,y,zoom:f}},Ws=(e,t=0)=>e.transition().duration(t);function ND(e,t,n,r){return(t[n]||[]).reduce((i,a)=>(`${e.id}-${a.id}-${n}`!==r&&i.push({id:a.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+a.x+a.width/2,y:(e.positionAbsolute?.y??0)+a.y+a.height/2}),i),[])}function npe(e,t,n,r,i,a){const{x:o,y:u}=ss(e),f=t.elementsFromPoint(o,u).find(b=>b.classList.contains("react-flow__handle"));if(f){const b=f.getAttribute("data-nodeid");if(b){const x=xA(void 0,f),S=f.getAttribute("data-handleid"),_=a({nodeId:b,id:S,type:x});if(_){const E=i.find(O=>O.nodeId===b&&O.type===x&&O.id===S);return{handle:{id:S,type:x,nodeId:b,x:E?.x||n.x,y:E?.y||n.y},validHandleResult:_}}}}let d=[],p=1/0;if(i.forEach(b=>{const x=Math.sqrt((b.x-n.x)**2+(b.y-n.y)**2);if(x<=r){const S=a(b);x<=p&&(x<p?d=[{handle:b,validHandleResult:S}]:x===p&&d.push({handle:b,validHandleResult:S}),p=x)}}),!d.length)return{handle:null,validHandleResult:V8()};if(d.length===1)return d[0];const v=d.some(({validHandleResult:b})=>b.isValid),y=d.some(({handle:b})=>b.type==="target");return d.find(({handle:b,validHandleResult:x})=>y?b.type==="target":v?x.isValid:!0)||d[0]}const rpe={source:null,target:null,sourceHandle:null,targetHandle:null},V8=()=>({handleDomNode:null,isValid:!1,connection:rpe,endHandle:null});function X8(e,t,n,r,i,a,o){const u=i==="target",c=o.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),f={...V8(),handleDomNode:c};if(c){const d=xA(void 0,c),p=c.getAttribute("data-nodeid"),v=c.getAttribute("data-handleid"),y=c.classList.contains("connectable"),b=c.classList.contains("connectableend"),x={source:u?p:n,sourceHandle:u?v:r,target:u?n:p,targetHandle:u?r:v};f.connection=x,y&&b&&(t===vo.Strict?u&&d==="source"||!u&&d==="target":p!==n||v!==r)&&(f.endHandle={nodeId:p,handleId:v,type:d},f.isValid=a(x))}return f}function ipe({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,a)=>{if(a[$t]){const{handleBounds:o}=a[$t];let u=[],c=[];o&&(u=ND(a,o,"source",`${t}-${n}-${r}`),c=ND(a,o,"target",`${t}-${n}-${r}`)),i.push(...u,...c)}return i},[])}function xA(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function db(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function ape(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Q8({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:a,setState:o,isValidConnection:u,edgeUpdaterType:c,onReconnectEnd:f}){const d=I8(e.target),{connectionMode:p,domNode:v,autoPanOnConnect:y,connectionRadius:b,onConnectStart:x,panBy:S,getNodes:_,cancelConnection:E}=a();let O=0,T;const{x:N,y:k}=ss(e),M=d?.elementFromPoint(N,k),D=xA(c,M),R=v?.getBoundingClientRect();if(!R||!D)return;let C,L=ss(e,R),I=!1,U=null,P=!1,H=null;const B=ipe({nodes:_(),nodeId:n,handleId:t,handleType:D}),F=()=>{if(!y)return;const[$,W]=q8(L,R);S({x:$,y:W}),O=requestAnimationFrame(F)};o({connectionPosition:L,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:D,connectionStartHandle:{nodeId:n,handleId:t,type:D},connectionEndHandle:null}),x?.(e,{nodeId:n,handleId:t,handleType:D});function G($){const{transform:W}=a();L=ss($,R);const{handle:X,validHandleResult:ne}=npe($,d,uj(L,W,!1,[1,1]),b,B,V=>X8(V,p,n,t,i?"target":"source",u,d));if(T=X,I||(F(),I=!0),H=ne.handleDomNode,U=ne.connection,P=ne.isValid,o({connectionPosition:T&&P?G8({x:T.x,y:T.y},W):L,connectionStatus:ape(!!T,P),connectionEndHandle:ne.endHandle}),!T&&!P&&!H)return db(C);U.source!==U.target&&H&&(db(C),C=H,H.classList.add("connecting","react-flow__handle-connecting"),H.classList.toggle("valid",P),H.classList.toggle("react-flow__handle-valid",P))}function K($){(T||H)&&U&&P&&r?.(U),a().onConnectEnd?.($),c&&f?.($),db(C),E(),cancelAnimationFrame(O),I=!1,P=!1,U=null,H=null,d.removeEventListener("mousemove",G),d.removeEventListener("mouseup",K),d.removeEventListener("touchmove",G),d.removeEventListener("touchend",K)}d.addEventListener("mousemove",G),d.addEventListener("mouseup",K),d.addEventListener("touchmove",G),d.addEventListener("touchend",K)}const kD=()=>!0,spe=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ope=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:a,connectionClickStartHandle:o}=r;return{connecting:i?.nodeId===e&&i?.handleId===t&&i?.type===n||a?.nodeId===e&&a?.handleId===t&&a?.type===n,clickConnecting:o?.nodeId===e&&o?.handleId===t&&o?.type===n}},Z8=j.forwardRef(({type:e="source",position:t=Pe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:o,onConnect:u,children:c,className:f,onMouseDown:d,onTouchStart:p,...v},y)=>{const b=o||null,x=e==="target",S=Sn(),_=Qhe(),{connectOnClick:E,noPanClassName:O}=Pt(spe,Ln),{connecting:T,clickConnecting:N}=Pt(ope(_,b,e),Ln);_||S.getState().onError?.("010",ya.error010());const k=R=>{const{defaultEdgeOptions:C,onConnect:L,hasDefaultEdges:I}=S.getState(),U={...C,...R};if(I){const{edges:P,setEdges:H}=S.getState();H(tpe(U,P))}L?.(U),u?.(U)},M=R=>{if(!_)return;const C=$8(R);i&&(C&&R.button===0||!C)&&Q8({event:R,handleId:b,nodeId:_,onConnect:k,isTarget:x,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||kD}),C?d?.(R):p?.(R)},D=R=>{const{onClickConnectStart:C,onClickConnectEnd:L,connectionClickStartHandle:I,connectionMode:U,isValidConnection:P}=S.getState();if(!_||!I&&!i)return;if(!I){C?.(R,{nodeId:_,handleId:b,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:_,type:e,handleId:b}});return}const H=I8(R.target),B=n||P||kD,{connection:F,isValid:G}=X8({nodeId:_,id:b,type:e},U,I.nodeId,I.handleId||null,I.type,B,H);G&&k(F),L?.(R),S.setState({connectionClickStartHandle:null})};return he.createElement("div",{"data-handleid":b,"data-nodeid":_,"data-handlepos":t,"data-id":`${_}-${b}-${e}`,className:Gn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",O,f,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:a,connecting:N,connectionindicator:r&&(i&&!T||a&&T)}]),onMouseDown:M,onTouchStart:M,onClick:E?D:void 0,ref:y,...v},c)});Z8.displayName="Handle";var ds=j.memo(Z8);const J8=({data:e,isConnectable:t,targetPosition:n=Pe.Top,sourcePosition:r=Pe.Bottom})=>he.createElement(he.Fragment,null,he.createElement(ds,{type:"target",position:n,isConnectable:t}),e?.label,he.createElement(ds,{type:"source",position:r,isConnectable:t}));J8.displayName="DefaultNode";var cj=j.memo(J8);const eH=({data:e,isConnectable:t,sourcePosition:n=Pe.Bottom})=>he.createElement(he.Fragment,null,e?.label,he.createElement(ds,{type:"source",position:n,isConnectable:t}));eH.displayName="InputNode";var tH=j.memo(eH);const nH=({data:e,isConnectable:t,targetPosition:n=Pe.Top})=>he.createElement(he.Fragment,null,he.createElement(ds,{type:"target",position:n,isConnectable:t}),e?.label);nH.displayName="OutputNode";var rH=j.memo(nH);const wA=()=>null;wA.displayName="GroupNode";const lpe=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ud=e=>e.id;function upe(e,t){return Ln(e.selectedNodes.map(Ud),t.selectedNodes.map(Ud))&&Ln(e.selectedEdges.map(Ud),t.selectedEdges.map(Ud))}const iH=j.memo(({onSelectionChange:e})=>{const t=Sn(),{selectedNodes:n,selectedEdges:r}=Pt(lpe,upe);return j.useEffect(()=>{const i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChange.forEach(a=>a(i))},[n,r,e]),null});iH.displayName="SelectionListener";const cpe=e=>!!e.onSelectionChange;function fpe({onSelectionChange:e}){const t=Pt(cpe);return e||t?he.createElement(iH,{onSelectionChange:e}):null}const dpe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ul(e,t){j.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ze(e,t,n){j.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const hpe=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:a,onConnectEnd:o,onClickConnectStart:u,onClickConnectEnd:c,nodesDraggable:f,nodesConnectable:d,nodesFocusable:p,edgesFocusable:v,edgesUpdatable:y,elevateNodesOnSelect:b,minZoom:x,maxZoom:S,nodeExtent:_,onNodesChange:E,onEdgesChange:O,elementsSelectable:T,connectionMode:N,snapGrid:k,snapToGrid:M,translateExtent:D,connectOnClick:R,defaultEdgeOptions:C,fitView:L,fitViewOptions:I,onNodesDelete:U,onEdgesDelete:P,onNodeDrag:H,onNodeDragStart:B,onNodeDragStop:F,onSelectionDrag:G,onSelectionDragStart:K,onSelectionDragStop:$,noPanClassName:W,nodeOrigin:X,rfId:ne,autoPanOnConnect:V,autoPanOnNodeDrag:Q,onError:Y,connectionRadius:J,isValidConnection:ae,nodeDragThreshold:re})=>{const{setNodes:de,setEdges:ye,setDefaultNodesAndEdges:le,setMinZoom:Oe,setMaxZoom:Se,setTranslateExtent:be,setNodeExtent:Ce,reset:xe}=Pt(dpe,Ln),_e=Sn();return j.useEffect(()=>{const nt=r?.map(Vt=>({...Vt,...C}));return le(n,nt),()=>{xe()}},[]),Ze("defaultEdgeOptions",C,_e.setState),Ze("connectionMode",N,_e.setState),Ze("onConnect",i,_e.setState),Ze("onConnectStart",a,_e.setState),Ze("onConnectEnd",o,_e.setState),Ze("onClickConnectStart",u,_e.setState),Ze("onClickConnectEnd",c,_e.setState),Ze("nodesDraggable",f,_e.setState),Ze("nodesConnectable",d,_e.setState),Ze("nodesFocusable",p,_e.setState),Ze("edgesFocusable",v,_e.setState),Ze("edgesUpdatable",y,_e.setState),Ze("elementsSelectable",T,_e.setState),Ze("elevateNodesOnSelect",b,_e.setState),Ze("snapToGrid",M,_e.setState),Ze("snapGrid",k,_e.setState),Ze("onNodesChange",E,_e.setState),Ze("onEdgesChange",O,_e.setState),Ze("connectOnClick",R,_e.setState),Ze("fitViewOnInit",L,_e.setState),Ze("fitViewOnInitOptions",I,_e.setState),Ze("onNodesDelete",U,_e.setState),Ze("onEdgesDelete",P,_e.setState),Ze("onNodeDrag",H,_e.setState),Ze("onNodeDragStart",B,_e.setState),Ze("onNodeDragStop",F,_e.setState),Ze("onSelectionDrag",G,_e.setState),Ze("onSelectionDragStart",K,_e.setState),Ze("onSelectionDragStop",$,_e.setState),Ze("noPanClassName",W,_e.setState),Ze("nodeOrigin",X,_e.setState),Ze("rfId",ne,_e.setState),Ze("autoPanOnConnect",V,_e.setState),Ze("autoPanOnNodeDrag",Q,_e.setState),Ze("onError",Y,_e.setState),Ze("connectionRadius",J,_e.setState),Ze("isValidConnection",ae,_e.setState),Ze("nodeDragThreshold",re,_e.setState),ul(e,de),ul(t,ye),ul(x,Oe),ul(S,Se),ul(D,be),ul(_,Ce),null},CD={display:"none"},ppe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},aH="react-flow__node-desc",sH="react-flow__edge-desc",mpe="react-flow__aria-live",gpe=e=>e.ariaLiveMessage;function vpe({rfId:e}){const t=Pt(gpe);return he.createElement("div",{id:`${mpe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:ppe},t)}function ype({rfId:e,disableKeyboardA11y:t}){return he.createElement(he.Fragment,null,he.createElement("div",{id:`${aH}-${e}`,style:CD},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),he.createElement("div",{id:`${sH}-${e}`,style:CD},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&he.createElement(vpe,{rfId:e}))}var Dc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=j.useState(!1),i=j.useRef(!1),a=j.useRef(new Set([])),[o,u]=j.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.split("+")),d=f.reduce((p,v)=>p.concat(...v),[]);return[f,d]}return[[],[]]},[e]);return j.useEffect(()=>{const c=typeof document<"u"?document:null,f=t?.target||c;if(e!==null){const d=y=>{if(i.current=y.ctrlKey||y.metaKey||y.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&sj(y))return!1;const x=RD(y.code,u);a.current.add(y[x]),MD(o,a.current,!1)&&(y.preventDefault(),r(!0))},p=y=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&sj(y))return!1;const x=RD(y.code,u);MD(o,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(y[x]),y.key==="Meta"&&a.current.clear(),i.current=!1},v=()=>{a.current.clear(),r(!1)};return f?.addEventListener("keydown",d),f?.addEventListener("keyup",p),window.addEventListener("blur",v),()=>{f?.removeEventListener("keydown",d),f?.removeEventListener("keyup",p),window.removeEventListener("blur",v)}}},[e,r]),n};function MD(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function RD(e,t){return t.includes(e)?"code":"key"}function oH(e,t,n,r){const i=e.parentNode||e.parentId;if(!i)return n;const a=t.get(i),o=bl(a,r);return oH(a,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(a[$t]?.z??0)>(n.z??0)?a[$t]?.z??0:n.z??0},r)}function lH(e,t,n){e.forEach(r=>{const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n?.[r.id]){const{x:a,y:o,z:u}=oH(r,e,{...r.position,z:r[$t]?.z??0},t);r.positionAbsolute={x:a,y:o},r[$t].z=u,n?.[r.id]&&(r[$t].isParent=!0)}})}function hb(e,t,n,r){const i=new Map,a={},o=r?1e3:0;return e.forEach(u=>{const c=(Wr(u.zIndex)?u.zIndex:0)+(u.selected?o:0),f=t.get(u.id),d={...u,positionAbsolute:{x:u.position.x,y:u.position.y}},p=u.parentNode||u.parentId;p&&(a[p]=!0);const v=f?.type&&f?.type!==u.type;Object.defineProperty(d,$t,{enumerable:!1,value:{handleBounds:v?void 0:f?.[$t]?.handleBounds,z:c}}),i.set(u.id,d)}),lH(i,n,a),i}function uH(e,t={}){const{getNodes:n,width:r,height:i,minZoom:a,maxZoom:o,d3Zoom:u,d3Selection:c,fitViewOnInitDone:f,fitViewOnInit:d,nodeOrigin:p}=e(),v=t.initial&&!f&&d;if(u&&c&&(v||!t.initial)){const b=n().filter(S=>{const _=t.includeHiddenNodes?S.width&&S.height:!S.hidden;return t.nodes?.length?_&&t.nodes.some(E=>E.id===S.id):_}),x=b.every(S=>S.width&&S.height);if(b.length>0&&x){const S=bA(b,p),{x:_,y:E,zoom:O}=Y8(S,r,i,t.minZoom??a,t.maxZoom??o,t.padding??.1),T=as.translate(_,E).scale(O);return typeof t.duration=="number"&&t.duration>0?u.transform(Ws(c,t.duration),T):u.transform(c,T),!0}}return!1}function bpe(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[$t]:r[$t],selected:n.selected})}),new Map(t)}function xpe(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Hd({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:a,onNodesChange:o,onEdgesChange:u,hasDefaultNodes:c,hasDefaultEdges:f}=n();e?.length&&(c&&r({nodeInternals:bpe(e,i)}),o?.(e)),t?.length&&(f&&r({edges:xpe(t,a)}),u?.(t))}const cl=()=>{},wpe={zoomIn:cl,zoomOut:cl,zoomTo:cl,getZoom:()=>1,setViewport:cl,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:cl,fitBounds:cl,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Spe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),_pe=()=>{const e=Sn(),{d3Zoom:t,d3Selection:n}=Pt(Spe,Ln);return j.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Ws(n,i?.duration),1.2),zoomOut:i=>t.scaleBy(Ws(n,i?.duration),1/1.2),zoomTo:(i,a)=>t.scaleTo(Ws(n,a?.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,a)=>{const[o,u,c]=e.getState().transform,f=as.translate(i.x??o,i.y??u).scale(i.zoom??c);t.transform(Ws(n,a?.duration),f)},getViewport:()=>{const[i,a,o]=e.getState().transform;return{x:i,y:a,zoom:o}},fitView:i=>uH(e.getState,i),setCenter:(i,a,o)=>{const{width:u,height:c,maxZoom:f}=e.getState(),d=typeof o?.zoom<"u"?o.zoom:f,p=u/2-i*d,v=c/2-a*d,y=as.translate(p,v).scale(d);t.transform(Ws(n,o?.duration),y)},fitBounds:(i,a)=>{const{width:o,height:u,minZoom:c,maxZoom:f}=e.getState(),{x:d,y:p,zoom:v}=Y8(i,o,u,c,f,a?.padding??.1),y=as.translate(d,p).scale(v);t.transform(Ws(n,a?.duration),y)},project:i=>{const{transform:a,snapToGrid:o,snapGrid:u}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),uj(i,a,o,u)},screenToFlowPosition:i=>{const{transform:a,snapToGrid:o,snapGrid:u,domNode:c}=e.getState();if(!c)return i;const{x:f,y:d}=c.getBoundingClientRect(),p={x:i.x-f,y:i.y-d};return uj(p,a,o,u)},flowToScreenPosition:i=>{const{transform:a,domNode:o}=e.getState();if(!o)return i;const{x:u,y:c}=o.getBoundingClientRect(),f=G8(i,a);return{x:f.x+u,y:f.y+c}},viewportInitialized:!0}:wpe,[t,n])};function SA(){const e=_pe(),t=Sn(),n=j.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=j.useCallback(x=>t.getState().nodeInternals.get(x),[]),i=j.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(S=>({...S}))},[]),a=j.useCallback(x=>{const{edges:S=[]}=t.getState();return S.find(_=>_.id===x)},[]),o=j.useCallback(x=>{const{getNodes:S,setNodes:_,hasDefaultNodes:E,onNodesChange:O}=t.getState(),T=S(),N=typeof x=="function"?x(T):x;if(E)_(N);else if(O){const k=N.length===0?T.map(M=>({type:"remove",id:M.id})):N.map(M=>({item:M,type:"reset"}));O(k)}},[]),u=j.useCallback(x=>{const{edges:S=[],setEdges:_,hasDefaultEdges:E,onEdgesChange:O}=t.getState(),T=typeof x=="function"?x(S):x;if(E)_(T);else if(O){const N=T.length===0?S.map(k=>({type:"remove",id:k.id})):T.map(k=>({item:k,type:"reset"}));O(N)}},[]),c=j.useCallback(x=>{const S=Array.isArray(x)?x:[x],{getNodes:_,setNodes:E,hasDefaultNodes:O,onNodesChange:T}=t.getState();if(O){const k=[..._(),...S];E(k)}else if(T){const N=S.map(k=>({item:k,type:"add"}));T(N)}},[]),f=j.useCallback(x=>{const S=Array.isArray(x)?x:[x],{edges:_=[],setEdges:E,hasDefaultEdges:O,onEdgesChange:T}=t.getState();if(O)E([..._,...S]);else if(T){const N=S.map(k=>({item:k,type:"add"}));T(N)}},[]),d=j.useCallback(()=>{const{getNodes:x,edges:S=[],transform:_}=t.getState(),[E,O,T]=_;return{nodes:x().map(N=>({...N})),edges:S.map(N=>({...N})),viewport:{x:E,y:O,zoom:T}}},[]),p=j.useCallback(({nodes:x,edges:S})=>{const{nodeInternals:_,getNodes:E,edges:O,hasDefaultNodes:T,hasDefaultEdges:N,onNodesDelete:k,onEdgesDelete:M,onNodesChange:D,onEdgesChange:R}=t.getState(),C=(x||[]).map(H=>H.id),L=(S||[]).map(H=>H.id),I=E().reduce((H,B)=>{const F=B.parentNode||B.parentId,G=!C.includes(B.id)&&F&&H.find($=>$.id===F);return(typeof B.deletable=="boolean"?B.deletable:!0)&&(C.includes(B.id)||G)&&H.push(B),H},[]),U=O.filter(H=>typeof H.deletable=="boolean"?H.deletable:!0),P=U.filter(H=>L.includes(H.id));if(I||P){const H=W8(I,U),B=[...P,...H],F=B.reduce((G,K)=>(G.includes(K.id)||G.push(K.id),G),[]);if((N||T)&&(N&&t.setState({edges:O.filter(G=>!F.includes(G.id))}),T&&(I.forEach(G=>{_.delete(G.id)}),t.setState({nodeInternals:new Map(_)}))),F.length>0&&(M?.(B),R&&R(F.map(G=>({id:G,type:"remove"})))),I.length>0&&(k?.(I),D)){const G=I.map(K=>({id:K.id,type:"remove"}));D(G)}}},[]),v=j.useCallback(x=>{const S=Hhe(x),_=S?null:t.getState().nodeInternals.get(x.id);return!S&&!_?[null,null,S]:[S?x:jD(_),_,S]},[]),y=j.useCallback((x,S=!0,_)=>{const[E,O,T]=v(x);return E?(_||t.getState().getNodes()).filter(N=>{if(!T&&(N.id===O.id||!N.positionAbsolute))return!1;const k=jD(N),M=aj(k,E);return S&&M>0||M>=E.width*E.height}):[]},[]),b=j.useCallback((x,S,_=!0)=>{const[E]=v(x);if(!E)return!1;const O=aj(E,S);return _&&O>0||O>=E.width*E.height},[]);return j.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:o,setEdges:u,addNodes:c,addEdges:f,toObject:d,deleteElements:p,getIntersectingNodes:y,isNodeIntersecting:b}),[e,n,r,i,a,o,u,c,f,d,p,y,b])}const jpe={actInsideInputWithModifier:!1};var Epe=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Sn(),{deleteElements:r}=SA(),i=Dc(e,jpe),a=Dc(t);j.useEffect(()=>{if(i){const{edges:o,getNodes:u}=n.getState(),c=u().filter(d=>d.selected),f=o.filter(d=>d.selected);r({nodes:c,edges:f}),n.setState({nodesSelectionActive:!1})}},[i]),j.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function Ape(e){const t=Sn();j.useEffect(()=>{let n;const r=()=>{if(!e.current)return;const i=dA(e.current);(i.height===0||i.width===0)&&t.getState().onError?.("004",ya.error004()),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const _A={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ope=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Fd=e=>({x:e.x,y:e.y,zoom:e.k}),fl=(e,t)=>e.target.closest(`.${t}`),DD=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),PD=e=>{const t=e.ctrlKey&&rp()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Tpe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Npe=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:a=!0,panOnScroll:o=!1,panOnScrollSpeed:u=.5,panOnScrollMode:c=eo.Free,zoomOnDoubleClick:f=!0,elementsSelectable:d,panOnDrag:p=!0,defaultViewport:v,translateExtent:y,minZoom:b,maxZoom:x,zoomActivationKeyCode:S,preventScrolling:_=!0,children:E,noWheelClassName:O,noPanClassName:T})=>{const N=j.useRef(),k=Sn(),M=j.useRef(!1),D=j.useRef(!1),R=j.useRef(null),C=j.useRef({x:0,y:0,zoom:0}),{d3Zoom:L,d3Selection:I,d3ZoomHandler:U,userSelectionActive:P}=Pt(Tpe,Ln),H=Dc(S),B=j.useRef(0),F=j.useRef(!1),G=j.useRef();return Ape(R),j.useEffect(()=>{if(R.current){const K=R.current.getBoundingClientRect(),$=Phe().scaleExtent([b,x]).translateExtent(y),W=pi(R.current).call($),X=as.translate(v.x,v.y).scale(Ml(v.zoom,b,x)),ne=[[0,0],[K.width,K.height]],V=$.constrain()(X,ne,y);$.transform(W,V),$.wheelDelta(PD),k.setState({d3Zoom:$,d3Selection:W,d3ZoomHandler:W.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:R.current.closest(".react-flow")})}},[]),j.useEffect(()=>{I&&L&&(o&&!H&&!P?I.on("wheel.zoom",K=>{if(fl(K,O))return!1;K.preventDefault(),K.stopImmediatePropagation();const $=I.property("__zoom").k||1;if(K.ctrlKey&&a){const ae=Ci(K),re=PD(K),de=$*Math.pow(2,re);L.scaleTo(I,de,ae,K);return}const W=K.deltaMode===1?20:1;let X=c===eo.Vertical?0:K.deltaX*W,ne=c===eo.Horizontal?0:K.deltaY*W;!rp()&&K.shiftKey&&c!==eo.Vertical&&(X=K.deltaY*W,ne=0),L.translateBy(I,-(X/$)*u,-(ne/$)*u,{internal:!0});const V=Fd(I.property("__zoom")),{onViewportChangeStart:Q,onViewportChange:Y,onViewportChangeEnd:J}=k.getState();clearTimeout(G.current),F.current||(F.current=!0,t?.(K,V),Q?.(V)),F.current&&(e?.(K,V),Y?.(V),G.current=setTimeout(()=>{n?.(K,V),J?.(V),F.current=!1},150))},{passive:!1}):typeof U<"u"&&I.on("wheel.zoom",function(K,$){if(!_&&K.type==="wheel"&&!K.ctrlKey||fl(K,O))return null;K.preventDefault(),U.call(this,K,$)},{passive:!1}))},[P,o,c,I,L,U,H,a,_,O,t,e,n]),j.useEffect(()=>{L&&L.on("start",K=>{if(!K.sourceEvent||K.sourceEvent.internal)return null;B.current=K.sourceEvent?.button;const{onViewportChangeStart:$}=k.getState(),W=Fd(K.transform);M.current=!0,C.current=W,K.sourceEvent?.type==="mousedown"&&k.setState({paneDragging:!0}),$?.(W),t?.(K.sourceEvent,W)})},[L,t]),j.useEffect(()=>{L&&(P&&!M.current?L.on("zoom",null):P||L.on("zoom",K=>{const{onViewportChange:$}=k.getState();if(k.setState({transform:[K.transform.x,K.transform.y,K.transform.k]}),D.current=!!(r&&DD(p,B.current??0)),(e||$)&&!K.sourceEvent?.internal){const W=Fd(K.transform);$?.(W),e?.(K.sourceEvent,W)}}))},[P,L,e,p,r]),j.useEffect(()=>{L&&L.on("end",K=>{if(!K.sourceEvent||K.sourceEvent.internal)return null;const{onViewportChangeEnd:$}=k.getState();if(M.current=!1,k.setState({paneDragging:!1}),r&&DD(p,B.current??0)&&!D.current&&r(K.sourceEvent),D.current=!1,(n||$)&&Ope(C.current,K.transform)){const W=Fd(K.transform);C.current=W,clearTimeout(N.current),N.current=setTimeout(()=>{$?.(W),n?.(K.sourceEvent,W)},o?150:0)}})},[L,o,p,n,r]),j.useEffect(()=>{L&&L.filter(K=>{const $=H||i,W=a&&K.ctrlKey;if((p===!0||Array.isArray(p)&&p.includes(1))&&K.button===1&&K.type==="mousedown"&&(fl(K,"react-flow__node")||fl(K,"react-flow__edge")))return!0;if(!p&&!$&&!o&&!f&&!a||P||!f&&K.type==="dblclick"||fl(K,O)&&K.type==="wheel"||fl(K,T)&&(K.type!=="wheel"||o&&K.type==="wheel"&&!H)||!a&&K.ctrlKey&&K.type==="wheel"||!$&&!o&&!W&&K.type==="wheel"||!p&&(K.type==="mousedown"||K.type==="touchstart")||Array.isArray(p)&&!p.includes(K.button)&&K.type==="mousedown")return!1;const X=Array.isArray(p)&&p.includes(K.button)||!K.button||K.button<=1;return(!K.ctrlKey||K.type==="wheel")&&X})},[P,L,i,a,o,f,p,d,H]),he.createElement("div",{className:"react-flow__renderer",ref:R,style:_A},E)},kpe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Cpe(){const{userSelectionActive:e,userSelectionRect:t}=Pt(kpe,Ln);return e&&t?he.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function LD(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,a=t.position.y+t.height-r.height;if(i>0||a>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),a>0&&(r.style.height+=a),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Mpe(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const a=e.filter(u=>u.id===i.id);if(a.length===0)return r.push(i),r;const o={...i};for(const u of a)if(u)switch(u.type){case"select":{o.selected=u.selected;break}case"position":{typeof u.position<"u"&&(o.position=u.position),typeof u.positionAbsolute<"u"&&(o.positionAbsolute=u.positionAbsolute),typeof u.dragging<"u"&&(o.dragging=u.dragging),o.expandParent&&LD(r,o);break}case"dimensions":{typeof u.dimensions<"u"&&(o.width=u.dimensions.width,o.height=u.dimensions.height),typeof u.updateStyle<"u"&&(o.style={...o.style||{},...u.dimensions}),typeof u.resizing=="boolean"&&(o.resizing=u.resizing),o.expandParent&&LD(r,o);break}case"remove":return r}return r.push(o),r},n)}function Rpe(e,t){return Mpe(e,t)}const es=(e,t)=>({id:e,type:"select",selected:t});function ml(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(es(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(es(r.id,!1))),n},[])}const pb=(e,t)=>n=>{n.target===t.current&&e?.(n)},Dpe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),cH=j.memo(({isSelecting:e,selectionMode:t=Rc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:o,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:f,onPaneMouseLeave:d,children:p})=>{const v=j.useRef(null),y=Sn(),b=j.useRef(0),x=j.useRef(0),S=j.useRef(),{userSelectionActive:_,elementsSelectable:E,dragging:O}=Pt(Dpe,Ln),T=()=>{y.setState({userSelectionActive:!1,userSelectionRect:null}),b.current=0,x.current=0},N=U=>{a?.(U),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},k=U=>{if(Array.isArray(n)&&n?.includes(2)){U.preventDefault();return}o?.(U)},M=u?U=>u(U):void 0,D=U=>{const{resetSelectedElements:P,domNode:H}=y.getState();if(S.current=H?.getBoundingClientRect(),!E||!e||U.button!==0||U.target!==v.current||!S.current)return;const{x:B,y:F}=ss(U,S.current);P(),y.setState({userSelectionRect:{width:0,height:0,startX:B,startY:F,x:B,y:F}}),r?.(U)},R=U=>{const{userSelectionRect:P,nodeInternals:H,edges:B,transform:F,onNodesChange:G,onEdgesChange:K,nodeOrigin:$,getNodes:W}=y.getState();if(!e||!S.current||!P)return;y.setState({userSelectionActive:!0,nodesSelectionActive:!1});const X=ss(U,S.current),ne=P.startX??0,V=P.startY??0,Q={...P,x:X.x<ne?X.x:ne,y:X.y<V?X.y:V,width:Math.abs(X.x-ne),height:Math.abs(X.y-V)},Y=W(),J=K8(H,Q,F,t===Rc.Partial,!0,$),ae=W8(J,B).map(de=>de.id),re=J.map(de=>de.id);if(b.current!==re.length){b.current=re.length;const de=ml(Y,re);de.length&&G?.(de)}if(x.current!==ae.length){x.current=ae.length;const de=ml(B,ae);de.length&&K?.(de)}y.setState({userSelectionRect:Q})},C=U=>{if(U.button!==0)return;const{userSelectionRect:P}=y.getState();!_&&P&&U.target===v.current&&N?.(U),y.setState({nodesSelectionActive:b.current>0}),T(),i?.(U)},L=U=>{_&&(y.setState({nodesSelectionActive:b.current>0}),i?.(U)),T()},I=E&&(e||_);return he.createElement("div",{className:Gn(["react-flow__pane",{dragging:O,selection:e}]),onClick:I?void 0:pb(N,v),onContextMenu:pb(k,v),onWheel:pb(M,v),onMouseEnter:I?void 0:c,onMouseDown:I?D:void 0,onMouseMove:I?R:f,onMouseUp:I?C:void 0,onMouseLeave:I?L:d,ref:v,style:_A},p,he.createElement(Cpe,null))});cH.displayName="Pane";function fH(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:fH(r,t):!1}function qD(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Ppe(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!fH(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>({id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(i.positionAbsolute?.x??0),y:n.y-(i.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}))}function Lpe(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function dH(e,t,n,r,i=[0,0],a){const o=Lpe(e,e.extent||r);let u=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const p=n.get(c),{x:v,y}=bl(p,i).positionAbsolute;u=p&&Wr(v)&&Wr(y)&&Wr(p.width)&&Wr(p.height)?[[v+e.width*i[0],y+e.height*i[1]],[v+p.width-e.width+e.width*i[0],y+p.height-e.height+e.height*i[1]]]:u}else a?.("005",ya.error005()),u=o;else if(e.extent&&c&&e.extent!=="parent"){const p=n.get(c),{x:v,y}=bl(p,i).positionAbsolute;u=[[e.extent[0][0]+v,e.extent[0][1]+y],[e.extent[1][0]+v,e.extent[1][1]+y]]}let f={x:0,y:0};if(c){const p=n.get(c);f=bl(p,i).positionAbsolute}const d=u&&u!=="parent"?hA(t,u):t;return{position:{x:d.x-f.x,y:d.y-f.y},positionAbsolute:d}}function mb({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const ID=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const a=Array.from(i),o=t.getBoundingClientRect(),u={x:o.width*r[0],y:o.height*r[1]};return a.map(c=>{const f=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(f.left-o.left-u.x)/n,y:(f.top-o.top-u.y)/n,...dA(c)}})};function Ju(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function fj({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:o,nodeInternals:u,onError:c}=t.getState(),f=u.get(e);if(!f){c?.("012",ya.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&o)&&(a({nodes:[f],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([e])}function qpe(){const e=Sn();return j.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:a}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,u=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-r[0])/r[2],y:(u-r[1])/r[2]};return{xSnapped:a?i[0]*Math.round(c.x/i[0]):c.x,ySnapped:a?i[1]*Math.round(c.y/i[1]):c.y,...c}},[])}function gb(e){return(t,n,r)=>e?.(t,r)}function hH({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,selectNodesOnDrag:o}){const u=Sn(),[c,f]=j.useState(!1),d=j.useRef([]),p=j.useRef({x:null,y:null}),v=j.useRef(0),y=j.useRef(null),b=j.useRef({x:0,y:0}),x=j.useRef(null),S=j.useRef(!1),_=j.useRef(!1),E=j.useRef(!1),O=qpe();return j.useEffect(()=>{if(e?.current){const T=pi(e.current),N=({x:D,y:R})=>{const{nodeInternals:C,onNodeDrag:L,onSelectionDrag:I,updateNodePositions:U,nodeExtent:P,snapGrid:H,snapToGrid:B,nodeOrigin:F,onError:G}=u.getState();p.current={x:D,y:R};let K=!1,$={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&P){const X=bA(d.current,F);$=pA(X)}if(d.current=d.current.map(X=>{const ne={x:D-X.distance.x,y:R-X.distance.y};B&&(ne.x=H[0]*Math.round(ne.x/H[0]),ne.y=H[1]*Math.round(ne.y/H[1]));const V=[[P[0][0],P[0][1]],[P[1][0],P[1][1]]];d.current.length>1&&P&&!X.extent&&(V[0][0]=X.positionAbsolute.x-$.x+P[0][0],V[1][0]=X.positionAbsolute.x+(X.width??0)-$.x2+P[1][0],V[0][1]=X.positionAbsolute.y-$.y+P[0][1],V[1][1]=X.positionAbsolute.y+(X.height??0)-$.y2+P[1][1]);const Q=dH(X,ne,C,V,F,G);return K=K||X.position.x!==Q.position.x||X.position.y!==Q.position.y,X.position=Q.position,X.positionAbsolute=Q.positionAbsolute,X}),!K)return;U(d.current,!0,!0),f(!0);const W=i?L:gb(I);if(W&&x.current){const[X,ne]=mb({nodeId:i,dragItems:d.current,nodeInternals:C});W(x.current,X,ne)}},k=()=>{if(!y.current)return;const[D,R]=q8(b.current,y.current);if(D!==0||R!==0){const{transform:C,panBy:L}=u.getState();p.current.x=(p.current.x??0)-D/C[2],p.current.y=(p.current.y??0)-R/C[2],L({x:D,y:R})&&N(p.current)}v.current=requestAnimationFrame(k)},M=D=>{const{nodeInternals:R,multiSelectionActive:C,nodesDraggable:L,unselectNodesAndEdges:I,onNodeDragStart:U,onSelectionDragStart:P}=u.getState();_.current=!0;const H=i?U:gb(P);(!o||!a)&&!C&&i&&(R.get(i)?.selected||I()),i&&a&&o&&fj({id:i,store:u,nodeRef:e});const B=O(D);if(p.current=B,d.current=Ppe(R,L,B,i),H&&d.current){const[F,G]=mb({nodeId:i,dragItems:d.current,nodeInternals:R});H(D.sourceEvent,F,G)}};if(t)T.on(".drag",null);else{const D=vde().on("start",R=>{const{domNode:C,nodeDragThreshold:L}=u.getState();L===0&&M(R),E.current=!1;const I=O(R);p.current=I,y.current=C?.getBoundingClientRect()||null,b.current=ss(R.sourceEvent,y.current)}).on("drag",R=>{const C=O(R),{autoPanOnNodeDrag:L,nodeDragThreshold:I}=u.getState();if(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1&&(E.current=!0),!E.current){if(!S.current&&_.current&&L&&(S.current=!0,k()),!_.current){const U=C.xSnapped-(p?.current?.x??0),P=C.ySnapped-(p?.current?.y??0);Math.sqrt(U*U+P*P)>I&&M(R)}(p.current.x!==C.xSnapped||p.current.y!==C.ySnapped)&&d.current&&_.current&&(x.current=R.sourceEvent,b.current=ss(R.sourceEvent,y.current),N(C))}}).on("end",R=>{if(!(!_.current||E.current)&&(f(!1),S.current=!1,_.current=!1,cancelAnimationFrame(v.current),d.current)){const{updateNodePositions:C,nodeInternals:L,onNodeDragStop:I,onSelectionDragStop:U}=u.getState(),P=i?I:gb(U);if(C(d.current,!1,!1),P){const[H,B]=mb({nodeId:i,dragItems:d.current,nodeInternals:L});P(R.sourceEvent,H,B)}}}).filter(R=>{const C=R.target;return!R.button&&(!n||!qD(C,`.${n}`,e))&&(!r||qD(C,r,e))});return T.call(D),()=>{T.on(".drag",null)}}}},[e,t,n,r,a,u,i,o,O]),c}function pH(){const e=Sn();return j.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:a,getNodes:o,snapToGrid:u,snapGrid:c,onError:f,nodesDraggable:d}=e.getState(),p=o().filter(E=>E.selected&&(E.draggable||d&&typeof E.draggable>"u")),v=u?c[0]:5,y=u?c[1]:5,b=n.isShiftPressed?4:1,x=n.x*v*b,S=n.y*y*b,_=p.map(E=>{if(E.positionAbsolute){const O={x:E.positionAbsolute.x+x,y:E.positionAbsolute.y+S};u&&(O.x=c[0]*Math.round(O.x/c[0]),O.y=c[1]*Math.round(O.y/c[1]));const{positionAbsolute:T,position:N}=dH(E,O,r,i,void 0,f);E.position=N,E.positionAbsolute=T}return E});a(_,!0,!1)},[])}const xl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ec=e=>{const t=({id:n,type:r,data:i,xPos:a,yPos:o,xPosOrigin:u,yPosOrigin:c,selected:f,onClick:d,onMouseEnter:p,onMouseMove:v,onMouseLeave:y,onContextMenu:b,onDoubleClick:x,style:S,className:_,isDraggable:E,isSelectable:O,isConnectable:T,isFocusable:N,selectNodesOnDrag:k,sourcePosition:M,targetPosition:D,hidden:R,resizeObserver:C,dragHandle:L,zIndex:I,isParent:U,noDragClassName:P,noPanClassName:H,initialized:B,disableKeyboardA11y:F,ariaLabel:G,rfId:K,hasHandleBounds:$})=>{const W=Sn(),X=j.useRef(null),ne=j.useRef(null),V=j.useRef(M),Q=j.useRef(D),Y=j.useRef(r),J=O||E||d||p||v||y,ae=pH(),re=Ju(n,W.getState,p),de=Ju(n,W.getState,v),ye=Ju(n,W.getState,y),le=Ju(n,W.getState,b),Oe=Ju(n,W.getState,x),Se=xe=>{const{nodeDragThreshold:_e}=W.getState();if(O&&(!k||!E||_e>0)&&fj({id:n,store:W,nodeRef:X}),d){const nt=W.getState().nodeInternals.get(n);nt&&d(xe,{...nt})}},be=xe=>{if(!sj(xe)&&!F)if(B8.includes(xe.key)&&O){const _e=xe.key==="Escape";fj({id:n,store:W,unselect:_e,nodeRef:X})}else E&&f&&Object.prototype.hasOwnProperty.call(xl,xe.key)&&(W.setState({ariaLiveMessage:`Moved selected node ${xe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~o}`}),ae({x:xl[xe.key].x,y:xl[xe.key].y,isShiftPressed:xe.shiftKey}))};j.useEffect(()=>()=>{ne.current&&(C?.unobserve(ne.current),ne.current=null)},[]),j.useEffect(()=>{if(X.current&&!R){const xe=X.current;(!B||!$||ne.current!==xe)&&(ne.current&&C?.unobserve(ne.current),C?.observe(xe),ne.current=xe)}},[R,B,$]),j.useEffect(()=>{const xe=Y.current!==r,_e=V.current!==M,nt=Q.current!==D;X.current&&(xe||_e||nt)&&(xe&&(Y.current=r),_e&&(V.current=M),nt&&(Q.current=D),W.getState().updateNodeDimensions([{id:n,nodeElement:X.current,forceUpdate:!0}]))},[n,r,M,D]);const Ce=hH({nodeRef:X,disabled:R||!E,noDragClassName:P,handleSelector:L,nodeId:n,isSelectable:O,selectNodesOnDrag:k});return R?null:he.createElement("div",{className:Gn(["react-flow__node",`react-flow__node-${r}`,{[H]:E},_,{selected:f,selectable:O,parent:U,dragging:Ce}]),ref:X,style:{zIndex:I,transform:`translate(${u}px,${c}px)`,pointerEvents:J?"all":"none",visibility:B?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:de,onMouseLeave:ye,onContextMenu:le,onClick:Se,onDoubleClick:Oe,onKeyDown:N?be:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":F?void 0:`${aH}-${K}`,"aria-label":G},he.createElement(Xhe,{value:n},he.createElement(e,{id:n,data:i,type:r,xPos:a,yPos:o,selected:f,isConnectable:T,sourcePosition:M,targetPosition:D,dragging:Ce,dragHandle:L,zIndex:I})))};return t.displayName="NodeWrapper",j.memo(t)};const Ipe=e=>{const t=e.getNodes().filter(n=>n.selected);return{...bA(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Bpe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Sn(),{width:i,height:a,x:o,y:u,transformString:c,userSelectionActive:f}=Pt(Ipe,Ln),d=pH(),p=j.useRef(null);if(j.useEffect(()=>{n||p.current?.focus({preventScroll:!0})},[n]),hH({nodeRef:p}),f||!i||!a)return null;const v=e?b=>{const x=r.getState().getNodes().filter(S=>S.selected);e(b,x)}:void 0,y=b=>{Object.prototype.hasOwnProperty.call(xl,b.key)&&d({x:xl[b.key].x,y:xl[b.key].y,isShiftPressed:b.shiftKey})};return he.createElement("div",{className:Gn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},he.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:n?void 0:-1,onKeyDown:n?void 0:y,style:{width:i,height:a,top:u,left:o}}))}var $pe=j.memo(Bpe);const zpe=e=>e.nodesSelectionActive,mH=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,deleteKeyCode:u,onMove:c,onMoveStart:f,onMoveEnd:d,selectionKeyCode:p,selectionOnDrag:v,selectionMode:y,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:S,panActivationKeyCode:_,zoomActivationKeyCode:E,elementsSelectable:O,zoomOnScroll:T,zoomOnPinch:N,panOnScroll:k,panOnScrollSpeed:M,panOnScrollMode:D,zoomOnDoubleClick:R,panOnDrag:C,defaultViewport:L,translateExtent:I,minZoom:U,maxZoom:P,preventScrolling:H,onSelectionContextMenu:B,noWheelClassName:F,noPanClassName:G,disableKeyboardA11y:K})=>{const $=Pt(zpe),W=Dc(p),X=Dc(_),ne=X||C,V=X||k,Q=W||v&&ne!==!0;return Epe({deleteKeyCode:u,multiSelectionKeyCode:S}),he.createElement(Npe,{onMove:c,onMoveStart:f,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:O,zoomOnScroll:T,zoomOnPinch:N,panOnScroll:V,panOnScrollSpeed:M,panOnScrollMode:D,zoomOnDoubleClick:R,panOnDrag:!W&&ne,defaultViewport:L,translateExtent:I,minZoom:U,maxZoom:P,zoomActivationKeyCode:E,preventScrolling:H,noWheelClassName:F,noPanClassName:G},he.createElement(cH,{onSelectionStart:b,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,panOnDrag:ne,isSelecting:!!Q,selectionMode:y},e,$&&he.createElement($pe,{onSelectionContextMenu:B,noPanClassName:G,disableKeyboardA11y:K})))};mH.displayName="FlowRenderer";var Upe=j.memo(mH);function Hpe(e){return Pt(j.useCallback(n=>e?K8(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function Fpe(e){const t={input:ec(e.input||tH),default:ec(e.default||cj),output:ec(e.output||rH),group:ec(e.group||wA)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,a)=>(i[a]=ec(e[a]||cj),i),n);return{...t,...r}}const Gpe=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},Kpe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),gH=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:a,onError:o}=Pt(Kpe,Ln),u=Hpe(e.onlyRenderVisibleElements),c=j.useRef(),f=j.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(p=>{const v=p.map(y=>({id:y.target.getAttribute("data-id"),nodeElement:y.target,forceUpdate:!0}));a(v)});return c.current=d,d},[]);return j.useEffect(()=>()=>{c?.current?.disconnect()},[]),he.createElement("div",{className:"react-flow__nodes",style:_A},u.map(d=>{let p=d.type||"default";e.nodeTypes[p]||(o?.("003",ya.error003(p)),p="default");const v=e.nodeTypes[p]||e.nodeTypes.default,y=!!(d.draggable||t&&typeof d.draggable>"u"),b=!!(d.selectable||i&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),S=!!(d.focusable||r&&typeof d.focusable>"u"),_=e.nodeExtent?hA(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,E=_?.x??0,O=_?.y??0,T=Gpe({x:E,y:O,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return he.createElement(v,{key:d.id,id:d.id,className:d.className,style:d.style,type:p,data:d.data,sourcePosition:d.sourcePosition||Pe.Bottom,targetPosition:d.targetPosition||Pe.Top,hidden:d.hidden,xPos:E,yPos:O,xPosOrigin:T.x,yPosOrigin:T.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:y,isSelectable:b,isConnectable:x,isFocusable:S,resizeObserver:f,dragHandle:d.dragHandle,zIndex:d[$t]?.z??0,isParent:!!d[$t]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!d[$t]?.handleBounds})}))};gH.displayName="NodeRenderer";var Wpe=j.memo(gH);const Ype=(e,t,n)=>n===Pe.Left?e-t:n===Pe.Right?e+t:e,Vpe=(e,t,n)=>n===Pe.Top?e-t:n===Pe.Bottom?e+t:e,BD="react-flow__edgeupdater",$D=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:o,type:u})=>he.createElement("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:o,className:Gn([BD,`${BD}-${u}`]),cx:Ype(t,r,e),cy:Vpe(n,r,e),r,stroke:"transparent",fill:"transparent"}),Xpe=()=>!0;var dl=e=>{const t=({id:n,className:r,type:i,data:a,onClick:o,onEdgeDoubleClick:u,selected:c,animated:f,label:d,labelStyle:p,labelShowBg:v,labelBgStyle:y,labelBgPadding:b,labelBgBorderRadius:x,style:S,source:_,target:E,sourceX:O,sourceY:T,targetX:N,targetY:k,sourcePosition:M,targetPosition:D,elementsSelectable:R,hidden:C,sourceHandleId:L,targetHandleId:I,onContextMenu:U,onMouseEnter:P,onMouseMove:H,onMouseLeave:B,reconnectRadius:F,onReconnect:G,onReconnectStart:K,onReconnectEnd:$,markerEnd:W,markerStart:X,rfId:ne,ariaLabel:V,isFocusable:Q,isReconnectable:Y,pathOptions:J,interactionWidth:ae,disableKeyboardA11y:re})=>{const de=j.useRef(null),[ye,le]=j.useState(!1),[Oe,Se]=j.useState(!1),be=Sn(),Ce=j.useMemo(()=>`url('#${lj(X,ne)}')`,[X,ne]),xe=j.useMemo(()=>`url('#${lj(W,ne)}')`,[W,ne]);if(C)return null;const _e=jt=>{const{edges:Lt,addSelectedEdges:He,unselectNodesAndEdges:$e,multiSelectionActive:Xe}=be.getState(),rn=Lt.find(_n=>_n.id===n);rn&&(R&&(be.setState({nodesSelectionActive:!1}),rn.selected&&Xe?($e({nodes:[],edges:[rn]}),de.current?.blur()):He([n])),o&&o(jt,rn))},nt=Zu(n,be.getState,u),Vt=Zu(n,be.getState,U),Ut=Zu(n,be.getState,P),fe=Zu(n,be.getState,H),Ee=Zu(n,be.getState,B),Ae=(jt,Lt)=>{if(jt.button!==0)return;const{edges:He,isValidConnection:$e}=be.getState(),Xe=Lt?E:_,rn=(Lt?I:L)||null,_n=Lt?"target":"source",bs=$e||Xpe,ti=Lt,sr=He.find(ni=>ni.id===n);Se(!0),K?.(jt,sr,_n);const zi=ni=>{Se(!1),$?.(ni,sr,_n)};Q8({event:jt,handleId:rn,nodeId:Xe,onConnect:ni=>G?.(sr,ni),isTarget:ti,getState:be.getState,setState:be.setState,isValidConnection:bs,edgeUpdaterType:_n,onReconnectEnd:zi})},De=jt=>Ae(jt,!0),Ge=jt=>Ae(jt,!1),Ne=()=>le(!0),Ke=()=>le(!1),ot=!R&&!o,Mt=jt=>{if(!re&&B8.includes(jt.key)&&R){const{unselectNodesAndEdges:Lt,addSelectedEdges:He,edges:$e}=be.getState();jt.key==="Escape"?(de.current?.blur(),Lt({edges:[$e.find(rn=>rn.id===n)]})):He([n])}};return he.createElement("g",{className:Gn(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:c,animated:f,inactive:ot,updating:ye}]),onClick:_e,onDoubleClick:nt,onContextMenu:Vt,onMouseEnter:Ut,onMouseMove:fe,onMouseLeave:Ee,onKeyDown:Q?Mt:void 0,tabIndex:Q?0:void 0,role:Q?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${_} to ${E}`,"aria-describedby":Q?`${sH}-${ne}`:void 0,ref:de},!Oe&&he.createElement(e,{id:n,source:_,target:E,selected:c,animated:f,label:d,labelStyle:p,labelShowBg:v,labelBgStyle:y,labelBgPadding:b,labelBgBorderRadius:x,data:a,style:S,sourceX:O,sourceY:T,targetX:N,targetY:k,sourcePosition:M,targetPosition:D,sourceHandleId:L,targetHandleId:I,markerStart:Ce,markerEnd:xe,pathOptions:J,interactionWidth:ae}),Y&&he.createElement(he.Fragment,null,(Y==="source"||Y===!0)&&he.createElement($D,{position:M,centerX:O,centerY:T,radius:F,onMouseDown:De,onMouseEnter:Ne,onMouseOut:Ke,type:"source"}),(Y==="target"||Y===!0)&&he.createElement($D,{position:D,centerX:N,centerY:k,radius:F,onMouseDown:Ge,onMouseEnter:Ne,onMouseOut:Ke,type:"target"})))};return t.displayName="EdgeWrapper",j.memo(t)};function Qpe(e){const t={default:dl(e.default||ap),straight:dl(e.bezier||vA),step:dl(e.step||gA),smoothstep:dl(e.step||em),simplebezier:dl(e.simplebezier||mA)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,a)=>(i[a]=dl(e[a]||ap),i),n);return{...t,...r}}function zD(e,t,n=null){const r=(n?.x||0)+t.x,i=(n?.y||0)+t.y,a=n?.width||t.width,o=n?.height||t.height;switch(e){case Pe.Top:return{x:r+a/2,y:i};case Pe.Right:return{x:r+a,y:i+o/2};case Pe.Bottom:return{x:r+a/2,y:i+o};case Pe.Left:return{x:r,y:i+o/2}}}function UD(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const Zpe=(e,t,n,r,i,a)=>{const o=zD(n,e,t),u=zD(a,r,i);return{sourceX:o.x,sourceY:o.y,targetX:u.x,targetY:u.y}};function Jpe({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:a,width:o,height:u,transform:c}){const f={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+a)};f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const d=pA({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:u/c[2]}),p=Math.max(0,Math.min(d.x2,f.x2)-Math.max(d.x,f.x)),v=Math.max(0,Math.min(d.y2,f.y2)-Math.max(d.y,f.y));return Math.ceil(p*v)>0}function HD(e){const t=e?.[$t]?.handleBounds||null,n=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const eme=[{level:0,isMaxLevel:!0,edges:[]}];function tme(e,t,n=!1){let r=-1;const i=e.reduce((o,u)=>{const c=Wr(u.zIndex);let f=c?u.zIndex:0;if(n){const d=t.get(u.target),p=t.get(u.source),v=u.selected||d?.selected||p?.selected,y=Math.max(p?.[$t]?.z||0,d?.[$t]?.z||0,1e3);f=(c?u.zIndex:0)+(v?y:0)}return o[f]?o[f].push(u):o[f]=[u],r=f>r?f:r,o},{}),a=Object.entries(i).map(([o,u])=>{const c=+o;return{edges:u,level:c,isMaxLevel:c===r}});return a.length===0?eme:a}function nme(e,t,n){const r=Pt(j.useCallback(i=>e?i.edges.filter(a=>{const o=t.get(a.source),u=t.get(a.target);return o?.width&&o?.height&&u?.width&&u?.height&&Jpe({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:u.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:u.width,targetHeight:u.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return tme(r,t,n)}const rme=({color:e="none",strokeWidth:t=1})=>he.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ime=({color:e="none",strokeWidth:t=1})=>he.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),FD={[ip.Arrow]:rme,[ip.ArrowClosed]:ime};function ame(e){const t=Sn();return j.useMemo(()=>Object.prototype.hasOwnProperty.call(FD,e)?FD[e]:(t.getState().onError?.("009",ya.error009(e)),null),[e])}const sme=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:o,orient:u="auto-start-reverse"})=>{const c=ame(t);return c?he.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:u,refX:"0",refY:"0"},he.createElement(c,{color:n,strokeWidth:o})):null},ome=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,a)=>([a.markerStart,a.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const u=lj(o,t);r.includes(u)||(i.push({id:u,color:o.color||e,...o}),r.push(u))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))},vH=({defaultColor:e,rfId:t})=>{const n=Pt(j.useCallback(ome({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((a,o)=>a.id!==i[o].id)));return he.createElement("defs",null,n.map(r=>he.createElement(sme,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};vH.displayName="MarkerDefinitions";var lme=j.memo(vH);const ume=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),yH=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:a,onEdgeContextMenu:o,onEdgeMouseEnter:u,onEdgeMouseMove:c,onEdgeMouseLeave:f,onEdgeClick:d,onEdgeDoubleClick:p,onReconnect:v,onReconnectStart:y,onReconnectEnd:b,reconnectRadius:x,children:S,disableKeyboardA11y:_})=>{const{edgesFocusable:E,edgesUpdatable:O,elementsSelectable:T,width:N,height:k,connectionMode:M,nodeInternals:D,onError:R}=Pt(ume,Ln),C=nme(t,D,n);return N?he.createElement(he.Fragment,null,C.map(({level:L,edges:I,isMaxLevel:U})=>he.createElement("svg",{key:L,style:{zIndex:L},width:N,height:k,className:"react-flow__edges react-flow__container"},U&&he.createElement(lme,{defaultColor:e,rfId:r}),he.createElement("g",null,I.map(P=>{const[H,B,F]=HD(D.get(P.source)),[G,K,$]=HD(D.get(P.target));if(!F||!$)return null;let W=P.type||"default";i[W]||(R?.("011",ya.error011(W)),W="default");const X=i[W]||i.default,ne=M===vo.Strict?K.target:(K.target??[]).concat(K.source??[]),V=UD(B.source,P.sourceHandle),Q=UD(ne,P.targetHandle),Y=V?.position||Pe.Bottom,J=Q?.position||Pe.Top,ae=!!(P.focusable||E&&typeof P.focusable>"u"),re=P.reconnectable||P.updatable,de=typeof v<"u"&&(re||O&&typeof re>"u");if(!V||!Q)return R?.("008",ya.error008(V,P)),null;const{sourceX:ye,sourceY:le,targetX:Oe,targetY:Se}=Zpe(H,V,Y,G,Q,J);return he.createElement(X,{key:P.id,id:P.id,className:Gn([P.className,a]),type:W,data:P.data,selected:!!P.selected,animated:!!P.animated,hidden:!!P.hidden,label:P.label,labelStyle:P.labelStyle,labelShowBg:P.labelShowBg,labelBgStyle:P.labelBgStyle,labelBgPadding:P.labelBgPadding,labelBgBorderRadius:P.labelBgBorderRadius,style:P.style,source:P.source,target:P.target,sourceHandleId:P.sourceHandle,targetHandleId:P.targetHandle,markerEnd:P.markerEnd,markerStart:P.markerStart,sourceX:ye,sourceY:le,targetX:Oe,targetY:Se,sourcePosition:Y,targetPosition:J,elementsSelectable:T,onContextMenu:o,onMouseEnter:u,onMouseMove:c,onMouseLeave:f,onClick:d,onEdgeDoubleClick:p,onReconnect:v,onReconnectStart:y,onReconnectEnd:b,reconnectRadius:x,rfId:r,ariaLabel:P.ariaLabel,isFocusable:ae,isReconnectable:de,pathOptions:"pathOptions"in P?P.pathOptions:void 0,interactionWidth:P.interactionWidth,disableKeyboardA11y:_})})))),S):null};yH.displayName="EdgeRenderer";var cme=j.memo(yH);const fme=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function dme({children:e}){const t=Pt(fme);return he.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function hme(e){const t=SA(),n=j.useRef(!1);j.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const pme={[Pe.Left]:Pe.Right,[Pe.Right]:Pe.Left,[Pe.Top]:Pe.Bottom,[Pe.Bottom]:Pe.Top},bH=({nodeId:e,handleType:t,style:n,type:r=ns.Bezier,CustomComponent:i,connectionStatus:a})=>{const{fromNode:o,handleId:u,toX:c,toY:f,connectionMode:d}=Pt(j.useCallback(k=>({fromNode:k.nodeInternals.get(e),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2],connectionMode:k.connectionMode}),[e]),Ln),p=o?.[$t]?.handleBounds;let v=p?.[t];if(d===vo.Loose&&(v=v||p?.[t==="source"?"target":"source"]),!o||!v)return null;const y=u?v.find(k=>k.id===u):v[0],b=y?y.x+y.width/2:(o.width??0)/2,x=y?y.y+y.height/2:o.height??0,S=(o.positionAbsolute?.x??0)+b,_=(o.positionAbsolute?.y??0)+x,E=y?.position,O=E?pme[E]:null;if(!E||!O)return null;if(i)return he.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:y,fromX:S,fromY:_,toX:c,toY:f,fromPosition:E,toPosition:O,connectionStatus:a});let T="";const N={sourceX:S,sourceY:_,sourcePosition:E,targetX:c,targetY:f,targetPosition:O};return r===ns.Bezier?[T]=F8(N):r===ns.Step?[T]=oj({...N,borderRadius:0}):r===ns.SmoothStep?[T]=oj(N):r===ns.SimpleBezier?[T]=H8(N):T=`M${S},${_} ${c},${f}`,he.createElement("path",{d:T,fill:"none",className:"react-flow__connection-path",style:n})};bH.displayName="ConnectionLine";const mme=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function gme({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:a,nodesConnectable:o,width:u,height:c,connectionStatus:f}=Pt(mme,Ln);return!(i&&a&&u&&o)?null:he.createElement("svg",{style:e,width:u,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},he.createElement("g",{className:Gn(["react-flow__connection",f])},he.createElement(bH,{nodeId:i,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:f})))}function GD(e,t){return j.useRef(null),Sn(),j.useMemo(()=>t(e),[e])}const xH=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:a,onNodeClick:o,onEdgeClick:u,onNodeDoubleClick:c,onEdgeDoubleClick:f,onNodeMouseEnter:d,onNodeMouseMove:p,onNodeMouseLeave:v,onNodeContextMenu:y,onSelectionContextMenu:b,onSelectionStart:x,onSelectionEnd:S,connectionLineType:_,connectionLineStyle:E,connectionLineComponent:O,connectionLineContainerStyle:T,selectionKeyCode:N,selectionOnDrag:k,selectionMode:M,multiSelectionKeyCode:D,panActivationKeyCode:R,zoomActivationKeyCode:C,deleteKeyCode:L,onlyRenderVisibleElements:I,elementsSelectable:U,selectNodesOnDrag:P,defaultViewport:H,translateExtent:B,minZoom:F,maxZoom:G,preventScrolling:K,defaultMarkerColor:$,zoomOnScroll:W,zoomOnPinch:X,panOnScroll:ne,panOnScrollSpeed:V,panOnScrollMode:Q,zoomOnDoubleClick:Y,panOnDrag:J,onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:de,onPaneMouseLeave:ye,onPaneScroll:le,onPaneContextMenu:Oe,onEdgeContextMenu:Se,onEdgeMouseEnter:be,onEdgeMouseMove:Ce,onEdgeMouseLeave:xe,onReconnect:_e,onReconnectStart:nt,onReconnectEnd:Vt,reconnectRadius:Ut,noDragClassName:fe,noWheelClassName:Ee,noPanClassName:Ae,elevateEdgesOnSelect:De,disableKeyboardA11y:Ge,nodeOrigin:Ne,nodeExtent:Ke,rfId:ot})=>{const Mt=GD(e,Fpe),jt=GD(t,Qpe);return hme(a),he.createElement(Upe,{onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:de,onPaneMouseLeave:ye,onPaneContextMenu:Oe,onPaneScroll:le,deleteKeyCode:L,selectionKeyCode:N,selectionOnDrag:k,selectionMode:M,onSelectionStart:x,onSelectionEnd:S,multiSelectionKeyCode:D,panActivationKeyCode:R,zoomActivationKeyCode:C,elementsSelectable:U,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:W,zoomOnPinch:X,zoomOnDoubleClick:Y,panOnScroll:ne,panOnScrollSpeed:V,panOnScrollMode:Q,panOnDrag:J,defaultViewport:H,translateExtent:B,minZoom:F,maxZoom:G,onSelectionContextMenu:b,preventScrolling:K,noDragClassName:fe,noWheelClassName:Ee,noPanClassName:Ae,disableKeyboardA11y:Ge},he.createElement(dme,null,he.createElement(cme,{edgeTypes:jt,onEdgeClick:u,onEdgeDoubleClick:f,onlyRenderVisibleElements:I,onEdgeContextMenu:Se,onEdgeMouseEnter:be,onEdgeMouseMove:Ce,onEdgeMouseLeave:xe,onReconnect:_e,onReconnectStart:nt,onReconnectEnd:Vt,reconnectRadius:Ut,defaultMarkerColor:$,noPanClassName:Ae,elevateEdgesOnSelect:!!De,disableKeyboardA11y:Ge,rfId:ot},he.createElement(gme,{style:E,type:_,component:O,containerStyle:T})),he.createElement("div",{className:"react-flow__edgelabel-renderer"}),he.createElement(Wpe,{nodeTypes:Mt,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:p,onNodeMouseLeave:v,onNodeContextMenu:y,selectNodesOnDrag:P,onlyRenderVisibleElements:I,noPanClassName:Ae,noDragClassName:fe,disableKeyboardA11y:Ge,nodeOrigin:Ne,nodeExtent:Ke,rfId:ot})))};xH.displayName="GraphView";var vme=j.memo(xH);const dj=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Qa={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:dj,nodeExtent:dj,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:vo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Fhe,isValidConnection:void 0},yme=()=>Nce((e,t)=>({...Qa,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:a}=t();e({nodeInternals:hb(n,r,i,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",a=typeof r<"u",o=i?hb(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:a?r:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:o,fitViewOnInitOptions:u,domNode:c,nodeOrigin:f}=t(),d=c?.querySelector(".react-flow__viewport");if(!d)return;const p=window.getComputedStyle(d),{m22:v}=new window.DOMMatrixReadOnly(p.transform),y=n.reduce((x,S)=>{const _=i.get(S.id);if(_?.hidden)i.set(_.id,{..._,[$t]:{..._[$t],handleBounds:void 0}});else if(_){const E=dA(S.nodeElement);!!(E.width&&E.height&&(_.width!==E.width||_.height!==E.height||S.forceUpdate))&&(i.set(_.id,{..._,[$t]:{..._[$t],handleBounds:{source:ID(".source",S.nodeElement,v,f),target:ID(".target",S.nodeElement,v,f)}},...E}),x.push({id:_.id,type:"dimensions",dimensions:E}))}return x},[]);lH(i,f);const b=o||a&&!o&&uH(t,{initial:!0,...u});e({nodeInternals:new Map(i),fitViewOnInitDone:b}),y?.length>0&&r?.(y)},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:a}=t(),o=n.map(u=>{const c={id:u.id,type:"position",dragging:i};return r&&(c.positionAbsolute=u.positionAbsolute,c.position=u.position),c});a(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:o,getNodes:u,elevateNodesOnSelect:c}=t();if(n?.length){if(a){const f=Rpe(n,u()),d=hb(f,i,o,c);e({nodeInternals:d})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let o,u=null;r?o=n.map(c=>es(c,!0)):(o=ml(a(),n),u=ml(i,[])),Hd({changedNodes:o,changedEdges:u,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let o,u=null;r?o=n.map(c=>es(c,!0)):(o=ml(i,n),u=ml(a(),[])),Hd({changedNodes:u,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:a}=t(),o=n||a(),u=r||i,c=o.map(d=>(d.selected=!1,es(d.id,!1))),f=u.map(d=>es(d.id,!1));Hd({changedNodes:c,changedEdges:f,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r?.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r?.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(u=>u.selected).map(u=>es(u.id,!1)),o=n.filter(u=>u.selected).map(u=>es(u.id,!1));Hd({changedNodes:a,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=hA(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:a,d3Zoom:o,d3Selection:u,translateExtent:c}=t();if(!o||!u||!n.x&&!n.y)return!1;const f=as.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[i,a]],p=o?.constrain()(f,d,c);return o.transform(u,p),r[0]!==p.x||r[1]!==p.y||r[2]!==p.k},cancelConnection:()=>e({connectionNodeId:Qa.connectionNodeId,connectionHandleId:Qa.connectionHandleId,connectionHandleType:Qa.connectionHandleType,connectionStatus:Qa.connectionStatus,connectionStartHandle:Qa.connectionStartHandle,connectionEndHandle:Qa.connectionEndHandle}),reset:()=>e({...Qa})}),Object.is),jA=({children:e})=>{const t=j.useRef(null);return t.current||(t.current=yme()),he.createElement(Lhe,{value:t.current},e)};jA.displayName="ReactFlowProvider";const wH=({children:e})=>j.useContext(Jp)?he.createElement(he.Fragment,null,e):he.createElement(jA,null,e);wH.displayName="ReactFlowWrapper";const bme={input:tH,default:cj,output:rH,group:wA},xme={default:ap,straight:vA,step:gA,smoothstep:em,simplebezier:mA},wme=[0,0],Sme=[15,15],_me={x:0,y:0,zoom:1},jme={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},EA=j.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:a=bme,edgeTypes:o=xme,onNodeClick:u,onEdgeClick:c,onInit:f,onMove:d,onMoveStart:p,onMoveEnd:v,onConnect:y,onConnectStart:b,onConnectEnd:x,onClickConnectStart:S,onClickConnectEnd:_,onNodeMouseEnter:E,onNodeMouseMove:O,onNodeMouseLeave:T,onNodeContextMenu:N,onNodeDoubleClick:k,onNodeDragStart:M,onNodeDrag:D,onNodeDragStop:R,onNodesDelete:C,onEdgesDelete:L,onSelectionChange:I,onSelectionDragStart:U,onSelectionDrag:P,onSelectionDragStop:H,onSelectionContextMenu:B,onSelectionStart:F,onSelectionEnd:G,connectionMode:K=vo.Strict,connectionLineType:$=ns.Bezier,connectionLineStyle:W,connectionLineComponent:X,connectionLineContainerStyle:ne,deleteKeyCode:V="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:Y=!1,selectionMode:J=Rc.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:re=rp()?"Meta":"Control",zoomActivationKeyCode:de=rp()?"Meta":"Control",snapToGrid:ye=!1,snapGrid:le=Sme,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:Se=!0,nodesDraggable:be,nodesConnectable:Ce,nodesFocusable:xe,nodeOrigin:_e=wme,edgesFocusable:nt,edgesUpdatable:Vt,elementsSelectable:Ut,defaultViewport:fe=_me,minZoom:Ee=.5,maxZoom:Ae=2,translateExtent:De=dj,preventScrolling:Ge=!0,nodeExtent:Ne,defaultMarkerColor:Ke="#b1b1b7",zoomOnScroll:ot=!0,zoomOnPinch:Mt=!0,panOnScroll:jt=!1,panOnScrollSpeed:Lt=.5,panOnScrollMode:He=eo.Free,zoomOnDoubleClick:$e=!0,panOnDrag:Xe=!0,onPaneClick:rn,onPaneMouseEnter:_n,onPaneMouseMove:bs,onPaneMouseLeave:ti,onPaneScroll:sr,onPaneContextMenu:zi,children:Kn,onEdgeContextMenu:ni,onEdgeDoubleClick:Ao,onEdgeMouseEnter:Rt,onEdgeMouseMove:Nr,onEdgeMouseLeave:xs,onEdgeUpdate:ws,onEdgeUpdateStart:Ss,onEdgeUpdateEnd:or,onReconnect:Ht,onReconnectStart:fn,onReconnectEnd:an,reconnectRadius:lr=10,edgeUpdaterRadius:Oo=10,onNodesChange:To,onEdgesChange:Oa,noDragClassName:ji="nodrag",noWheelClassName:qn="nowheel",noPanClassName:kr="nopan",fitView:ri=!1,fitViewOptions:Ei,connectOnClick:ii=!0,attributionPosition:qt,proOptions:Re,defaultEdgeOptions:te,elevateNodesOnSelect:we=!0,elevateEdgesOnSelect:Te=!1,disableKeyboardA11y:ct=!1,autoPanOnConnect:Ft=!0,autoPanOnNodeDrag:Et=!0,connectionRadius:dn=20,isValidConnection:Cn,onError:ur,style:In,id:Ot,nodeDragThreshold:_s,...ai},Wl)=>{const js=Ot||"1";return he.createElement("div",{...ai,style:{...In,...jme},ref:Wl,className:Gn(["react-flow",i]),"data-testid":"rf__wrapper",id:Ot},he.createElement(wH,null,he.createElement(vme,{onInit:f,onMove:d,onMoveStart:p,onMoveEnd:v,onNodeClick:u,onEdgeClick:c,onNodeMouseEnter:E,onNodeMouseMove:O,onNodeMouseLeave:T,onNodeContextMenu:N,onNodeDoubleClick:k,nodeTypes:a,edgeTypes:o,connectionLineType:$,connectionLineStyle:W,connectionLineComponent:X,connectionLineContainerStyle:ne,selectionKeyCode:Q,selectionOnDrag:Y,selectionMode:J,deleteKeyCode:V,multiSelectionKeyCode:re,panActivationKeyCode:ae,zoomActivationKeyCode:de,onlyRenderVisibleElements:Oe,selectNodesOnDrag:Se,defaultViewport:fe,translateExtent:De,minZoom:Ee,maxZoom:Ae,preventScrolling:Ge,zoomOnScroll:ot,zoomOnPinch:Mt,zoomOnDoubleClick:$e,panOnScroll:jt,panOnScrollSpeed:Lt,panOnScrollMode:He,panOnDrag:Xe,onPaneClick:rn,onPaneMouseEnter:_n,onPaneMouseMove:bs,onPaneMouseLeave:ti,onPaneScroll:sr,onPaneContextMenu:zi,onSelectionContextMenu:B,onSelectionStart:F,onSelectionEnd:G,onEdgeContextMenu:ni,onEdgeDoubleClick:Ao,onEdgeMouseEnter:Rt,onEdgeMouseMove:Nr,onEdgeMouseLeave:xs,onReconnect:Ht??ws,onReconnectStart:fn??Ss,onReconnectEnd:an??or,reconnectRadius:lr??Oo,defaultMarkerColor:Ke,noDragClassName:ji,noWheelClassName:qn,noPanClassName:kr,elevateEdgesOnSelect:Te,rfId:js,disableKeyboardA11y:ct,nodeOrigin:_e,nodeExtent:Ne}),he.createElement(hpe,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:b,onConnectEnd:x,onClickConnectStart:S,onClickConnectEnd:_,nodesDraggable:be,nodesConnectable:Ce,nodesFocusable:xe,edgesFocusable:nt,edgesUpdatable:Vt,elementsSelectable:Ut,elevateNodesOnSelect:we,minZoom:Ee,maxZoom:Ae,nodeExtent:Ne,onNodesChange:To,onEdgesChange:Oa,snapToGrid:ye,snapGrid:le,connectionMode:K,translateExtent:De,connectOnClick:ii,defaultEdgeOptions:te,fitView:ri,fitViewOptions:Ei,onNodesDelete:C,onEdgesDelete:L,onNodeDragStart:M,onNodeDrag:D,onNodeDragStop:R,onSelectionDrag:P,onSelectionDragStart:U,onSelectionDragStop:H,noPanClassName:kr,nodeOrigin:_e,rfId:js,autoPanOnConnect:Ft,autoPanOnNodeDrag:Et,onError:ur,connectionRadius:dn,isValidConnection:Cn,nodeDragThreshold:_s}),he.createElement(fpe,{onSelectionChange:I}),Kn,he.createElement(Ihe,{proOptions:Re,position:qt}),he.createElement(ype,{rfId:js,disableKeyboardA11y:ct})))});EA.displayName="ReactFlow";function Eme(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},he.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Ame(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},he.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Ome(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},he.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Tme(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},he.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Nme(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},he.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const cc=({children:e,className:t,...n})=>he.createElement("button",{type:"button",className:Gn(["react-flow__controls-button",t]),...n},e);cc.displayName="ControlButton";const kme=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),SH=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:o,onFitView:u,onInteractiveChange:c,className:f,children:d,position:p="bottom-left"})=>{const v=Sn(),[y,b]=j.useState(!1),{isInteractive:x,minZoomReached:S,maxZoomReached:_}=Pt(kme,Ln),{zoomIn:E,zoomOut:O,fitView:T}=SA();if(j.useEffect(()=>{b(!0)},[]),!y)return null;const N=()=>{E(),a?.()},k=()=>{O(),o?.()},M=()=>{T(i),u?.()},D=()=>{v.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c?.(!x)};return he.createElement(L8,{className:Gn(["react-flow__controls",f]),position:p,style:e,"data-testid":"rf__controls"},t&&he.createElement(he.Fragment,null,he.createElement(cc,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:_},he.createElement(Eme,null)),he.createElement(cc,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},he.createElement(Ame,null))),n&&he.createElement(cc,{className:"react-flow__controls-fitview",onClick:M,title:"fit view","aria-label":"fit view"},he.createElement(Ome,null)),r&&he.createElement(cc,{className:"react-flow__controls-interactive",onClick:D,title:"toggle interactivity","aria-label":"toggle interactivity"},x?he.createElement(Nme,null):he.createElement(Tme,null)),d)};SH.displayName="Controls";var _H=j.memo(SH),vi;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(vi||(vi={}));function Cme({color:e,dimensions:t,lineWidth:n}){return he.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Mme({color:e,radius:t}){return he.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Rme={[vi.Dots]:"#91919a",[vi.Lines]:"#eee",[vi.Cross]:"#e2e2e2"},Dme={[vi.Dots]:1,[vi.Lines]:1,[vi.Cross]:6},Pme=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function jH({id:e,variant:t=vi.Dots,gap:n=20,size:r,lineWidth:i=1,offset:a=2,color:o,style:u,className:c}){const f=j.useRef(null),{transform:d,patternId:p}=Pt(Pme,Ln),v=o||Rme[t],y=r||Dme[t],b=t===vi.Dots,x=t===vi.Cross,S=Array.isArray(n)?n:[n,n],_=[S[0]*d[2]||1,S[1]*d[2]||1],E=y*d[2],O=x?[E,E]:_,T=b?[E/a,E/a]:[O[0]/a,O[1]/a];return he.createElement("svg",{className:Gn(["react-flow__background",c]),style:{...u,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:f,"data-testid":"rf__background"},he.createElement("pattern",{id:p+e,x:d[0]%_[0],y:d[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`},b?he.createElement(Mme,{color:v,radius:E/a}):he.createElement(Cme,{dimensions:O,color:v,lineWidth:i})),he.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${p+e})`}))}jH.displayName="Background";var EH=j.memo(jH);function AA(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vb,KD;function Lme(){if(KD)return vb;KD=1;function e(){this.__data__=[],this.size=0}return vb=e,vb}var yb,WD;function Ul(){if(WD)return yb;WD=1;function e(t,n){return t===n||t!==t&&n!==n}return yb=e,yb}var bb,YD;function tm(){if(YD)return bb;YD=1;var e=Ul();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return bb=t,bb}var xb,VD;function qme(){if(VD)return xb;VD=1;var e=tm(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var u=a.length-1;return o==u?a.pop():n.call(a,o,1),--this.size,!0}return xb=r,xb}var wb,XD;function Ime(){if(XD)return wb;XD=1;var e=tm();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return wb=t,wb}var Sb,QD;function Bme(){if(QD)return Sb;QD=1;var e=tm();function t(n){return e(this.__data__,n)>-1}return Sb=t,Sb}var _b,ZD;function $me(){if(ZD)return _b;ZD=1;var e=tm();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return _b=t,_b}var jb,JD;function nm(){if(JD)return jb;JD=1;var e=Lme(),t=qme(),n=Ime(),r=Bme(),i=$me();function a(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,jb=a,jb}var Eb,eP;function zme(){if(eP)return Eb;eP=1;var e=nm();function t(){this.__data__=new e,this.size=0}return Eb=t,Eb}var Ab,tP;function Ume(){if(tP)return Ab;tP=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Ab=e,Ab}var Ob,nP;function Hme(){if(nP)return Ob;nP=1;function e(t){return this.__data__.get(t)}return Ob=e,Ob}var Tb,rP;function Fme(){if(rP)return Tb;rP=1;function e(t){return this.__data__.has(t)}return Tb=e,Tb}var Nb,iP;function AH(){if(iP)return Nb;iP=1;var e=typeof md=="object"&&md&&md.Object===Object&&md;return Nb=e,Nb}var kb,aP;function _i(){if(aP)return kb;aP=1;var e=AH(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return kb=n,kb}var Cb,sP;function Hl(){if(sP)return Cb;sP=1;var e=_i(),t=e.Symbol;return Cb=t,Cb}var Mb,oP;function Gme(){if(oP)return Mb;oP=1;var e=Hl(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var u=n.call(o,i),c=o[i];try{o[i]=void 0;var f=!0}catch{}var d=r.call(o);return f&&(u?o[i]=c:delete o[i]),d}return Mb=a,Mb}var Rb,lP;function Kme(){if(lP)return Rb;lP=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Rb=n,Rb}var Db,uP;function So(){if(uP)return Db;uP=1;var e=Hl(),t=Gme(),n=Kme(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(u){return u==null?u===void 0?i:r:a&&a in Object(u)?t(u):n(u)}return Db=o,Db}var Pb,cP;function Jr(){if(cP)return Pb;cP=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Pb=e,Pb}var Lb,fP;function tf(){if(fP)return Lb;fP=1;var e=So(),t=Jr(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(u){if(!t(u))return!1;var c=e(u);return c==r||c==i||c==n||c==a}return Lb=o,Lb}var qb,dP;function Wme(){if(dP)return qb;dP=1;var e=_i(),t=e["__core-js_shared__"];return qb=t,qb}var Ib,hP;function Yme(){if(hP)return Ib;hP=1;var e=Wme(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Ib=n,Ib}var Bb,pP;function OH(){if(pP)return Bb;pP=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Bb=n,Bb}var $b,mP;function Vme(){if(mP)return $b;mP=1;var e=tf(),t=Yme(),n=Jr(),r=OH(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,c=o.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!n(v)||t(v))return!1;var y=e(v)?d:a;return y.test(r(v))}return $b=p,$b}var zb,gP;function Xme(){if(gP)return zb;gP=1;function e(t,n){return t?.[n]}return zb=e,zb}var Ub,vP;function _o(){if(vP)return Ub;vP=1;var e=Vme(),t=Xme();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return Ub=n,Ub}var Hb,yP;function OA(){if(yP)return Hb;yP=1;var e=_o(),t=_i(),n=e(t,"Map");return Hb=n,Hb}var Fb,bP;function rm(){if(bP)return Fb;bP=1;var e=_o(),t=e(Object,"create");return Fb=t,Fb}var Gb,xP;function Qme(){if(xP)return Gb;xP=1;var e=rm();function t(){this.__data__=e?e(null):{},this.size=0}return Gb=t,Gb}var Kb,wP;function Zme(){if(wP)return Kb;wP=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Kb=e,Kb}var Wb,SP;function Jme(){if(SP)return Wb;SP=1;var e=rm(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var u=o[a];return u===t?void 0:u}return r.call(o,a)?o[a]:void 0}return Wb=i,Wb}var Yb,_P;function ege(){if(_P)return Yb;_P=1;var e=rm(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return Yb=r,Yb}var Vb,jP;function tge(){if(jP)return Vb;jP=1;var e=rm(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return Vb=n,Vb}var Xb,EP;function nge(){if(EP)return Xb;EP=1;var e=Qme(),t=Zme(),n=Jme(),r=ege(),i=tge();function a(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Xb=a,Xb}var Qb,AP;function rge(){if(AP)return Qb;AP=1;var e=nge(),t=nm(),n=OA();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Qb=r,Qb}var Zb,OP;function ige(){if(OP)return Zb;OP=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Zb=e,Zb}var Jb,TP;function im(){if(TP)return Jb;TP=1;var e=ige();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Jb=t,Jb}var e0,NP;function age(){if(NP)return e0;NP=1;var e=im();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return e0=t,e0}var t0,kP;function sge(){if(kP)return t0;kP=1;var e=im();function t(n){return e(this,n).get(n)}return t0=t,t0}var n0,CP;function oge(){if(CP)return n0;CP=1;var e=im();function t(n){return e(this,n).has(n)}return n0=t,n0}var r0,MP;function lge(){if(MP)return r0;MP=1;var e=im();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return r0=t,r0}var i0,RP;function TA(){if(RP)return i0;RP=1;var e=rge(),t=age(),n=sge(),r=oge(),i=lge();function a(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,i0=a,i0}var a0,DP;function uge(){if(DP)return a0;DP=1;var e=nm(),t=OA(),n=TA(),r=200;function i(a,o){var u=this.__data__;if(u instanceof e){var c=u.__data__;if(!t||c.length<r-1)return c.push([a,o]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(a,o),this.size=u.size,this}return a0=i,a0}var s0,PP;function am(){if(PP)return s0;PP=1;var e=nm(),t=zme(),n=Ume(),r=Hme(),i=Fme(),a=uge();function o(u){var c=this.__data__=new e(u);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,s0=o,s0}var o0,LP;function NA(){if(LP)return o0;LP=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return o0=e,o0}var l0,qP;function TH(){if(qP)return l0;qP=1;var e=_o(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return l0=t,l0}var u0,IP;function sm(){if(IP)return u0;IP=1;var e=TH();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return u0=t,u0}var c0,BP;function om(){if(BP)return c0;BP=1;var e=sm(),t=Ul(),n=Object.prototype,r=n.hasOwnProperty;function i(a,o,u){var c=a[o];(!(r.call(a,o)&&t(c,u))||u===void 0&&!(o in a))&&e(a,o,u)}return c0=i,c0}var f0,$P;function nf(){if($P)return f0;$P=1;var e=om(),t=sm();function n(r,i,a,o){var u=!a;a||(a={});for(var c=-1,f=i.length;++c<f;){var d=i[c],p=o?o(a[d],r[d],d,a,r):void 0;p===void 0&&(p=r[d]),u?t(a,d,p):e(a,d,p)}return a}return f0=n,f0}var d0,zP;function cge(){if(zP)return d0;zP=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return d0=e,d0}var h0,UP;function $i(){if(UP)return h0;UP=1;function e(t){return t!=null&&typeof t=="object"}return h0=e,h0}var p0,HP;function fge(){if(HP)return p0;HP=1;var e=So(),t=$i(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return p0=r,p0}var m0,FP;function rf(){if(FP)return m0;FP=1;var e=fge(),t=$i(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return m0=a,m0}var g0,GP;function nn(){if(GP)return g0;GP=1;var e=Array.isArray;return g0=e,g0}var fc={exports:{}},v0,KP;function dge(){if(KP)return v0;KP=1;function e(){return!1}return v0=e,v0}fc.exports;var WP;function Fl(){return WP||(WP=1,(function(e,t){var n=_i(),r=dge(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,u=o?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;e.exports=f})(fc,fc.exports)),fc.exports}var y0,YP;function lm(){if(YP)return y0;YP=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return y0=n,y0}var b0,VP;function kA(){if(VP)return b0;VP=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return b0=t,b0}var x0,XP;function hge(){if(XP)return x0;XP=1;var e=So(),t=kA(),n=$i(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",x="[object WeakMap]",S="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",O="[object Float64Array]",T="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",M="[object Uint8Array]",D="[object Uint8ClampedArray]",R="[object Uint16Array]",C="[object Uint32Array]",L={};L[E]=L[O]=L[T]=L[N]=L[k]=L[M]=L[D]=L[R]=L[C]=!0,L[r]=L[i]=L[S]=L[a]=L[_]=L[o]=L[u]=L[c]=L[f]=L[d]=L[p]=L[v]=L[y]=L[b]=L[x]=!1;function I(U){return n(U)&&t(U.length)&&!!L[e(U)]}return x0=I,x0}var w0,QP;function um(){if(QP)return w0;QP=1;function e(t){return function(n){return t(n)}}return w0=e,w0}var dc={exports:{}};dc.exports;var ZP;function CA(){return ZP||(ZP=1,(function(e,t){var n=AH(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=u})(dc,dc.exports)),dc.exports}var S0,JP;function af(){if(JP)return S0;JP=1;var e=hge(),t=um(),n=CA(),r=n&&n.isTypedArray,i=r?t(r):e;return S0=i,S0}var _0,eL;function NH(){if(eL)return _0;eL=1;var e=cge(),t=rf(),n=nn(),r=Fl(),i=lm(),a=af(),o=Object.prototype,u=o.hasOwnProperty;function c(f,d){var p=n(f),v=!p&&t(f),y=!p&&!v&&r(f),b=!p&&!v&&!y&&a(f),x=p||v||y||b,S=x?e(f.length,String):[],_=S.length;for(var E in f)(d||u.call(f,E))&&!(x&&(E=="length"||y&&(E=="offset"||E=="parent")||b&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,_)))&&S.push(E);return S}return _0=c,_0}var j0,tL;function cm(){if(tL)return j0;tL=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return j0=t,j0}var E0,nL;function kH(){if(nL)return E0;nL=1;function e(t,n){return function(r){return t(n(r))}}return E0=e,E0}var A0,rL;function pge(){if(rL)return A0;rL=1;var e=kH(),t=e(Object.keys,Object);return A0=t,A0}var O0,iL;function MA(){if(iL)return O0;iL=1;var e=cm(),t=pge(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var u in Object(a))r.call(a,u)&&u!="constructor"&&o.push(u);return o}return O0=i,O0}var T0,aL;function Ea(){if(aL)return T0;aL=1;var e=tf(),t=kA();function n(r){return r!=null&&t(r.length)&&!e(r)}return T0=n,T0}var N0,sL;function ys(){if(sL)return N0;sL=1;var e=NH(),t=MA(),n=Ea();function r(i){return n(i)?e(i):t(i)}return N0=r,N0}var k0,oL;function mge(){if(oL)return k0;oL=1;var e=nf(),t=ys();function n(r,i){return r&&e(i,t(i),r)}return k0=n,k0}var C0,lL;function gge(){if(lL)return C0;lL=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return C0=e,C0}var M0,uL;function vge(){if(uL)return M0;uL=1;var e=Jr(),t=cm(),n=gge(),r=Object.prototype,i=r.hasOwnProperty;function a(o){if(!e(o))return n(o);var u=t(o),c=[];for(var f in o)f=="constructor"&&(u||!i.call(o,f))||c.push(f);return c}return M0=a,M0}var R0,cL;function jo(){if(cL)return R0;cL=1;var e=NH(),t=vge(),n=Ea();function r(i){return n(i)?e(i,!0):t(i)}return R0=r,R0}var D0,fL;function yge(){if(fL)return D0;fL=1;var e=nf(),t=jo();function n(r,i){return r&&e(i,t(i),r)}return D0=n,D0}var hc={exports:{}};hc.exports;var dL;function CH(){return dL||(dL=1,(function(e,t){var n=_i(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,u=o?o.allocUnsafe:void 0;function c(f,d){if(d)return f.slice();var p=f.length,v=u?u(p):new f.constructor(p);return f.copy(v),v}e.exports=c})(hc,hc.exports)),hc.exports}var P0,hL;function MH(){if(hL)return P0;hL=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return P0=e,P0}var L0,pL;function RH(){if(pL)return L0;pL=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var u=t[r];n(u,r,t)&&(o[a++]=u)}return o}return L0=e,L0}var q0,mL;function DH(){if(mL)return q0;mL=1;function e(){return[]}return q0=e,q0}var I0,gL;function RA(){if(gL)return I0;gL=1;var e=RH(),t=DH(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(u){return r.call(o,u)}))}:t;return I0=a,I0}var B0,vL;function bge(){if(vL)return B0;vL=1;var e=nf(),t=RA();function n(r,i){return e(r,t(r),i)}return B0=n,B0}var $0,yL;function DA(){if(yL)return $0;yL=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return $0=e,$0}var z0,bL;function fm(){if(bL)return z0;bL=1;var e=kH(),t=e(Object.getPrototypeOf,Object);return z0=t,z0}var U0,xL;function PH(){if(xL)return U0;xL=1;var e=DA(),t=fm(),n=RA(),r=DH(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var u=[];o;)e(u,n(o)),o=t(o);return u}:r;return U0=a,U0}var H0,wL;function xge(){if(wL)return H0;wL=1;var e=nf(),t=PH();function n(r,i){return e(r,t(r),i)}return H0=n,H0}var F0,SL;function LH(){if(SL)return F0;SL=1;var e=DA(),t=nn();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return F0=n,F0}var G0,_L;function qH(){if(_L)return G0;_L=1;var e=LH(),t=RA(),n=ys();function r(i){return e(i,n,t)}return G0=r,G0}var K0,jL;function wge(){if(jL)return K0;jL=1;var e=LH(),t=PH(),n=jo();function r(i){return e(i,n,t)}return K0=r,K0}var W0,EL;function Sge(){if(EL)return W0;EL=1;var e=_o(),t=_i(),n=e(t,"DataView");return W0=n,W0}var Y0,AL;function _ge(){if(AL)return Y0;AL=1;var e=_o(),t=_i(),n=e(t,"Promise");return Y0=n,Y0}var V0,OL;function IH(){if(OL)return V0;OL=1;var e=_o(),t=_i(),n=e(t,"Set");return V0=n,V0}var X0,TL;function jge(){if(TL)return X0;TL=1;var e=_o(),t=_i(),n=e(t,"WeakMap");return X0=n,X0}var Q0,NL;function Gl(){if(NL)return Q0;NL=1;var e=Sge(),t=OA(),n=_ge(),r=IH(),i=jge(),a=So(),o=OH(),u="[object Map]",c="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",v="[object DataView]",y=o(e),b=o(t),x=o(n),S=o(r),_=o(i),E=a;return(e&&E(new e(new ArrayBuffer(1)))!=v||t&&E(new t)!=u||n&&E(n.resolve())!=f||r&&E(new r)!=d||i&&E(new i)!=p)&&(E=function(O){var T=a(O),N=T==c?O.constructor:void 0,k=N?o(N):"";if(k)switch(k){case y:return v;case b:return u;case x:return f;case S:return d;case _:return p}return T}),Q0=E,Q0}var Z0,kL;function Ege(){if(kL)return Z0;kL=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return Z0=n,Z0}var J0,CL;function BH(){if(CL)return J0;CL=1;var e=_i(),t=e.Uint8Array;return J0=t,J0}var ex,ML;function PA(){if(ML)return ex;ML=1;var e=BH();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return ex=t,ex}var tx,RL;function Age(){if(RL)return tx;RL=1;var e=PA();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return tx=t,tx}var nx,DL;function Oge(){if(DL)return nx;DL=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return nx=t,nx}var rx,PL;function Tge(){if(PL)return rx;PL=1;var e=Hl(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return rx=r,rx}var ix,LL;function $H(){if(LL)return ix;LL=1;var e=PA();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return ix=t,ix}var ax,qL;function Nge(){if(qL)return ax;qL=1;var e=PA(),t=Age(),n=Oge(),r=Tge(),i=$H(),a="[object Boolean]",o="[object Date]",u="[object Map]",c="[object Number]",f="[object RegExp]",d="[object Set]",p="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",S="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",O="[object Int32Array]",T="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",M="[object Uint32Array]";function D(R,C,L){var I=R.constructor;switch(C){case y:return e(R);case a:case o:return new I(+R);case b:return t(R,L);case x:case S:case _:case E:case O:case T:case N:case k:case M:return i(R,L);case u:return new I;case c:case p:return new I(R);case f:return n(R);case d:return new I;case v:return r(R)}}return ax=D,ax}var sx,IL;function zH(){if(IL)return sx;IL=1;var e=Jr(),t=Object.create,n=(function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}})();return sx=n,sx}var ox,BL;function UH(){if(BL)return ox;BL=1;var e=zH(),t=fm(),n=cm();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return ox=r,ox}var lx,$L;function kge(){if($L)return lx;$L=1;var e=Gl(),t=$i(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return lx=r,lx}var ux,zL;function Cge(){if(zL)return ux;zL=1;var e=kge(),t=um(),n=CA(),r=n&&n.isMap,i=r?t(r):e;return ux=i,ux}var cx,UL;function Mge(){if(UL)return cx;UL=1;var e=Gl(),t=$i(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return cx=r,cx}var fx,HL;function Rge(){if(HL)return fx;HL=1;var e=Mge(),t=um(),n=CA(),r=n&&n.isSet,i=r?t(r):e;return fx=i,fx}var dx,FL;function HH(){if(FL)return dx;FL=1;var e=am(),t=NA(),n=om(),r=mge(),i=yge(),a=CH(),o=MH(),u=bge(),c=xge(),f=qH(),d=wge(),p=Gl(),v=Ege(),y=Nge(),b=UH(),x=nn(),S=Fl(),_=Cge(),E=Jr(),O=Rge(),T=ys(),N=jo(),k=1,M=2,D=4,R="[object Arguments]",C="[object Array]",L="[object Boolean]",I="[object Date]",U="[object Error]",P="[object Function]",H="[object GeneratorFunction]",B="[object Map]",F="[object Number]",G="[object Object]",K="[object RegExp]",$="[object Set]",W="[object String]",X="[object Symbol]",ne="[object WeakMap]",V="[object ArrayBuffer]",Q="[object DataView]",Y="[object Float32Array]",J="[object Float64Array]",ae="[object Int8Array]",re="[object Int16Array]",de="[object Int32Array]",ye="[object Uint8Array]",le="[object Uint8ClampedArray]",Oe="[object Uint16Array]",Se="[object Uint32Array]",be={};be[R]=be[C]=be[V]=be[Q]=be[L]=be[I]=be[Y]=be[J]=be[ae]=be[re]=be[de]=be[B]=be[F]=be[G]=be[K]=be[$]=be[W]=be[X]=be[ye]=be[le]=be[Oe]=be[Se]=!0,be[U]=be[P]=be[ne]=!1;function Ce(xe,_e,nt,Vt,Ut,fe){var Ee,Ae=_e&k,De=_e&M,Ge=_e&D;if(nt&&(Ee=Ut?nt(xe,Vt,Ut,fe):nt(xe)),Ee!==void 0)return Ee;if(!E(xe))return xe;var Ne=x(xe);if(Ne){if(Ee=v(xe),!Ae)return o(xe,Ee)}else{var Ke=p(xe),ot=Ke==P||Ke==H;if(S(xe))return a(xe,Ae);if(Ke==G||Ke==R||ot&&!Ut){if(Ee=De||ot?{}:b(xe),!Ae)return De?c(xe,i(Ee,xe)):u(xe,r(Ee,xe))}else{if(!be[Ke])return Ut?xe:{};Ee=y(xe,Ke,Ae)}}fe||(fe=new e);var Mt=fe.get(xe);if(Mt)return Mt;fe.set(xe,Ee),O(xe)?xe.forEach(function(He){Ee.add(Ce(He,_e,nt,He,xe,fe))}):_(xe)&&xe.forEach(function(He,$e){Ee.set($e,Ce(He,_e,nt,$e,xe,fe))});var jt=Ge?De?d:f:De?N:T,Lt=Ne?void 0:jt(xe);return t(Lt||xe,function(He,$e){Lt&&($e=He,He=xe[$e]),n(Ee,$e,Ce(He,_e,nt,$e,xe,fe))}),Ee}return dx=Ce,dx}var hx,GL;function Dge(){if(GL)return hx;GL=1;var e=HH(),t=4;function n(r){return e(r,t)}return hx=n,hx}var px,KL;function LA(){if(KL)return px;KL=1;function e(t){return function(){return t}}return px=e,px}var mx,WL;function Pge(){if(WL)return mx;WL=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),u=i(n),c=u.length;c--;){var f=u[t?c:++a];if(r(o[f],f,o)===!1)break}return n}}return mx=e,mx}var gx,YL;function qA(){if(YL)return gx;YL=1;var e=Pge(),t=e();return gx=t,gx}var vx,VL;function IA(){if(VL)return vx;VL=1;var e=qA(),t=ys();function n(r,i){return r&&e(r,i,t)}return vx=n,vx}var yx,XL;function Lge(){if(XL)return yx;XL=1;var e=Ea();function t(n,r){return function(i,a){if(i==null)return i;if(!e(i))return n(i,a);for(var o=i.length,u=r?o:-1,c=Object(i);(r?u--:++u<o)&&a(c[u],u,c)!==!1;);return i}}return yx=t,yx}var bx,QL;function dm(){if(QL)return bx;QL=1;var e=IA(),t=Lge(),n=t(e);return bx=n,bx}var xx,ZL;function Eo(){if(ZL)return xx;ZL=1;function e(t){return t}return xx=e,xx}var wx,JL;function FH(){if(JL)return wx;JL=1;var e=Eo();function t(n){return typeof n=="function"?n:e}return wx=t,wx}var Sx,eq;function GH(){if(eq)return Sx;eq=1;var e=NA(),t=dm(),n=FH(),r=nn();function i(a,o){var u=r(a)?e:t;return u(a,n(o))}return Sx=i,Sx}var _x,tq;function KH(){return tq||(tq=1,_x=GH()),_x}var jx,nq;function qge(){if(nq)return jx;nq=1;var e=dm();function t(n,r){var i=[];return e(n,function(a,o,u){r(a,o,u)&&i.push(a)}),i}return jx=t,jx}var Ex,rq;function Ige(){if(rq)return Ex;rq=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Ex=t,Ex}var Ax,iq;function Bge(){if(iq)return Ax;iq=1;function e(t){return this.__data__.has(t)}return Ax=e,Ax}var Ox,aq;function WH(){if(aq)return Ox;aq=1;var e=TA(),t=Ige(),n=Bge();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Ox=r,Ox}var Tx,sq;function $ge(){if(sq)return Tx;sq=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Tx=e,Tx}var Nx,oq;function YH(){if(oq)return Nx;oq=1;function e(t,n){return t.has(n)}return Nx=e,Nx}var kx,lq;function VH(){if(lq)return kx;lq=1;var e=WH(),t=$ge(),n=YH(),r=1,i=2;function a(o,u,c,f,d,p){var v=c&r,y=o.length,b=u.length;if(y!=b&&!(v&&b>y))return!1;var x=p.get(o),S=p.get(u);if(x&&S)return x==u&&S==o;var _=-1,E=!0,O=c&i?new e:void 0;for(p.set(o,u),p.set(u,o);++_<y;){var T=o[_],N=u[_];if(f)var k=v?f(N,T,_,u,o,p):f(T,N,_,o,u,p);if(k!==void 0){if(k)continue;E=!1;break}if(O){if(!t(u,function(M,D){if(!n(O,D)&&(T===M||d(T,M,c,f,p)))return O.push(D)})){E=!1;break}}else if(!(T===N||d(T,N,c,f,p))){E=!1;break}}return p.delete(o),p.delete(u),E}return kx=a,kx}var Cx,uq;function zge(){if(uq)return Cx;uq=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return Cx=e,Cx}var Mx,cq;function BA(){if(cq)return Mx;cq=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Mx=e,Mx}var Rx,fq;function Uge(){if(fq)return Rx;fq=1;var e=Hl(),t=BH(),n=Ul(),r=VH(),i=zge(),a=BA(),o=1,u=2,c="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",v="[object Number]",y="[object RegExp]",b="[object Set]",x="[object String]",S="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",O=e?e.prototype:void 0,T=O?O.valueOf:void 0;function N(k,M,D,R,C,L,I){switch(D){case E:if(k.byteLength!=M.byteLength||k.byteOffset!=M.byteOffset)return!1;k=k.buffer,M=M.buffer;case _:return!(k.byteLength!=M.byteLength||!L(new t(k),new t(M)));case c:case f:case v:return n(+k,+M);case d:return k.name==M.name&&k.message==M.message;case y:case x:return k==M+"";case p:var U=i;case b:var P=R&o;if(U||(U=a),k.size!=M.size&&!P)return!1;var H=I.get(k);if(H)return H==M;R|=u,I.set(k,M);var B=r(U(k),U(M),R,C,L,I);return I.delete(k),B;case S:if(T)return T.call(k)==T.call(M)}return!1}return Rx=N,Rx}var Dx,dq;function Hge(){if(dq)return Dx;dq=1;var e=qH(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,u,c,f,d){var p=u&t,v=e(a),y=v.length,b=e(o),x=b.length;if(y!=x&&!p)return!1;for(var S=y;S--;){var _=v[S];if(!(p?_ in o:r.call(o,_)))return!1}var E=d.get(a),O=d.get(o);if(E&&O)return E==o&&O==a;var T=!0;d.set(a,o),d.set(o,a);for(var N=p;++S<y;){_=v[S];var k=a[_],M=o[_];if(c)var D=p?c(M,k,_,o,a,d):c(k,M,_,a,o,d);if(!(D===void 0?k===M||f(k,M,u,c,d):D)){T=!1;break}N||(N=_=="constructor")}if(T&&!N){var R=a.constructor,C=o.constructor;R!=C&&"constructor"in a&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof C=="function"&&C instanceof C)&&(T=!1)}return d.delete(a),d.delete(o),T}return Dx=i,Dx}var Px,hq;function Fge(){if(hq)return Px;hq=1;var e=am(),t=VH(),n=Uge(),r=Hge(),i=Gl(),a=nn(),o=Fl(),u=af(),c=1,f="[object Arguments]",d="[object Array]",p="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function b(x,S,_,E,O,T){var N=a(x),k=a(S),M=N?d:i(x),D=k?d:i(S);M=M==f?p:M,D=D==f?p:D;var R=M==p,C=D==p,L=M==D;if(L&&o(x)){if(!o(S))return!1;N=!0,R=!1}if(L&&!R)return T||(T=new e),N||u(x)?t(x,S,_,E,O,T):n(x,S,M,_,E,O,T);if(!(_&c)){var I=R&&y.call(x,"__wrapped__"),U=C&&y.call(S,"__wrapped__");if(I||U){var P=I?x.value():x,H=U?S.value():S;return T||(T=new e),O(P,H,_,E,T)}}return L?(T||(T=new e),r(x,S,_,E,O,T)):!1}return Px=b,Px}var Lx,pq;function XH(){if(pq)return Lx;pq=1;var e=Fge(),t=$i();function n(r,i,a,o,u){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,u)}return Lx=n,Lx}var qx,mq;function Gge(){if(mq)return qx;mq=1;var e=am(),t=XH(),n=1,r=2;function i(a,o,u,c){var f=u.length,d=f,p=!c;if(a==null)return!d;for(a=Object(a);f--;){var v=u[f];if(p&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<d;){v=u[f];var y=v[0],b=a[y],x=v[1];if(p&&v[2]){if(b===void 0&&!(y in a))return!1}else{var S=new e;if(c)var _=c(b,x,y,a,o,S);if(!(_===void 0?t(x,b,n|r,c,S):_))return!1}}return!0}return qx=i,qx}var Ix,gq;function QH(){if(gq)return Ix;gq=1;var e=Jr();function t(n){return n===n&&!e(n)}return Ix=t,Ix}var Bx,vq;function Kge(){if(vq)return Bx;vq=1;var e=QH(),t=ys();function n(r){for(var i=t(r),a=i.length;a--;){var o=i[a],u=r[o];i[a]=[o,u,e(u)]}return i}return Bx=n,Bx}var $x,yq;function ZH(){if(yq)return $x;yq=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return $x=e,$x}var zx,bq;function Wge(){if(bq)return zx;bq=1;var e=Gge(),t=Kge(),n=ZH();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return zx=r,zx}var Ux,xq;function Kl(){if(xq)return Ux;xq=1;var e=So(),t=$i(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Ux=r,Ux}var Hx,wq;function $A(){if(wq)return Hx;wq=1;var e=nn(),t=Kl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return Hx=i,Hx}var Fx,Sq;function Yge(){if(Sq)return Fx;Sq=1;var e=TA(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,u=i?i.apply(this,o):o[0],c=a.cache;if(c.has(u))return c.get(u);var f=r.apply(this,o);return a.cache=c.set(u,f)||c,f};return a.cache=new(n.Cache||e),a}return n.Cache=e,Fx=n,Fx}var Gx,_q;function Vge(){if(_q)return Gx;_q=1;var e=Yge(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return Gx=n,Gx}var Kx,jq;function Xge(){if(jq)return Kx;jq=1;var e=Vge(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,u,c,f){a.push(c?f.replace(n,"$1"):u||o)}),a});return Kx=r,Kx}var Wx,Eq;function hm(){if(Eq)return Wx;Eq=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return Wx=e,Wx}var Yx,Aq;function Qge(){if(Aq)return Yx;Aq=1;var e=Hl(),t=hm(),n=nn(),r=Kl(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(n(u))return t(u,o)+"";if(r(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return Yx=o,Yx}var Vx,Oq;function JH(){if(Oq)return Vx;Oq=1;var e=Qge();function t(n){return n==null?"":e(n)}return Vx=t,Vx}var Xx,Tq;function pm(){if(Tq)return Xx;Tq=1;var e=nn(),t=$A(),n=Xge(),r=JH();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return Xx=i,Xx}var Qx,Nq;function sf(){if(Nq)return Qx;Nq=1;var e=Kl();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Qx=t,Qx}var Zx,kq;function mm(){if(kq)return Zx;kq=1;var e=pm(),t=sf();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return Zx=n,Zx}var Jx,Cq;function Zge(){if(Cq)return Jx;Cq=1;var e=mm();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return Jx=t,Jx}var e1,Mq;function Jge(){if(Mq)return e1;Mq=1;function e(t,n){return t!=null&&n in Object(t)}return e1=e,e1}var t1,Rq;function e5(){if(Rq)return t1;Rq=1;var e=pm(),t=rf(),n=nn(),r=lm(),i=kA(),a=sf();function o(u,c,f){c=e(c,u);for(var d=-1,p=c.length,v=!1;++d<p;){var y=a(c[d]);if(!(v=u!=null&&f(u,y)))break;u=u[y]}return v||++d!=p?v:(p=u==null?0:u.length,!!p&&i(p)&&r(y,p)&&(n(u)||t(u)))}return t1=o,t1}var n1,Dq;function t5(){if(Dq)return n1;Dq=1;var e=Jge(),t=e5();function n(r,i){return r!=null&&t(r,i,e)}return n1=n,n1}var r1,Pq;function eve(){if(Pq)return r1;Pq=1;var e=XH(),t=Zge(),n=t5(),r=$A(),i=QH(),a=ZH(),o=sf(),u=1,c=2;function f(d,p){return r(d)&&i(p)?a(o(d),p):function(v){var y=t(v,d);return y===void 0&&y===p?n(v,d):e(p,y,u|c)}}return r1=f,r1}var i1,Lq;function n5(){if(Lq)return i1;Lq=1;function e(t){return function(n){return n?.[t]}}return i1=e,i1}var a1,qq;function tve(){if(qq)return a1;qq=1;var e=mm();function t(n){return function(r){return e(r,n)}}return a1=t,a1}var s1,Iq;function nve(){if(Iq)return s1;Iq=1;var e=n5(),t=tve(),n=$A(),r=sf();function i(a){return n(a)?e(r(a)):t(a)}return s1=i,s1}var o1,Bq;function Aa(){if(Bq)return o1;Bq=1;var e=Wge(),t=eve(),n=Eo(),r=nn(),i=nve();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return o1=a,o1}var l1,$q;function r5(){if($q)return l1;$q=1;var e=RH(),t=qge(),n=Aa(),r=nn();function i(a,o){var u=r(a)?e:t;return u(a,n(o,3))}return l1=i,l1}var u1,zq;function rve(){if(zq)return u1;zq=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return u1=n,u1}var c1,Uq;function i5(){if(Uq)return c1;Uq=1;var e=rve(),t=e5();function n(r,i){return r!=null&&t(r,i,e)}return c1=n,c1}var f1,Hq;function ive(){if(Hq)return f1;Hq=1;var e=MA(),t=Gl(),n=rf(),r=nn(),i=Ea(),a=Fl(),o=cm(),u=af(),c="[object Map]",f="[object Set]",d=Object.prototype,p=d.hasOwnProperty;function v(y){if(y==null)return!0;if(i(y)&&(r(y)||typeof y=="string"||typeof y.splice=="function"||a(y)||u(y)||n(y)))return!y.length;var b=t(y);if(b==c||b==f)return!y.size;if(o(y))return!e(y).length;for(var x in y)if(p.call(y,x))return!1;return!0}return f1=v,f1}var d1,Fq;function a5(){if(Fq)return d1;Fq=1;function e(t){return t===void 0}return d1=e,d1}var h1,Gq;function s5(){if(Gq)return h1;Gq=1;var e=dm(),t=Ea();function n(r,i){var a=-1,o=t(r)?Array(r.length):[];return e(r,function(u,c,f){o[++a]=i(u,c,f)}),o}return h1=n,h1}var p1,Kq;function o5(){if(Kq)return p1;Kq=1;var e=hm(),t=Aa(),n=s5(),r=nn();function i(a,o){var u=r(a)?e:n;return u(a,t(o,3))}return p1=i,p1}var m1,Wq;function ave(){if(Wq)return m1;Wq=1;function e(t,n,r,i){var a=-1,o=t==null?0:t.length;for(i&&o&&(r=t[++a]);++a<o;)r=n(r,t[a],a,t);return r}return m1=e,m1}var g1,Yq;function sve(){if(Yq)return g1;Yq=1;function e(t,n,r,i,a){return a(t,function(o,u,c){r=i?(i=!1,o):n(r,o,u,c)}),r}return g1=e,g1}var v1,Vq;function l5(){if(Vq)return v1;Vq=1;var e=ave(),t=dm(),n=Aa(),r=sve(),i=nn();function a(o,u,c){var f=i(o)?e:r,d=arguments.length<3;return f(o,n(u,4),c,d,t)}return v1=a,v1}var y1,Xq;function ove(){if(Xq)return y1;Xq=1;var e=So(),t=nn(),n=$i(),r="[object String]";function i(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return y1=i,y1}var b1,Qq;function lve(){if(Qq)return b1;Qq=1;var e=n5(),t=e("length");return b1=t,b1}var x1,Zq;function uve(){if(Zq)return x1;Zq=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+e+i+a+"]");function c(f){return u.test(f)}return x1=c,x1}var w1,Jq;function cve(){if(Jq)return w1;Jq=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="["+e+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",d="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",b=f+"?",x="["+a+"]?",S="(?:"+y+"(?:"+[d,p,v].join("|")+")"+x+b+")*",_=x+b+S,E="(?:"+[d+u+"?",u,p,v,o].join("|")+")",O=RegExp(c+"(?="+c+")|"+E+_,"g");function T(N){for(var k=O.lastIndex=0;O.test(N);)++k;return k}return w1=T,w1}var S1,eI;function fve(){if(eI)return S1;eI=1;var e=lve(),t=uve(),n=cve();function r(i){return t(i)?n(i):e(i)}return S1=r,S1}var _1,tI;function dve(){if(tI)return _1;tI=1;var e=MA(),t=Gl(),n=Ea(),r=ove(),i=fve(),a="[object Map]",o="[object Set]";function u(c){if(c==null)return 0;if(n(c))return r(c)?i(c):c.length;var f=t(c);return f==a||f==o?c.size:e(c).length}return _1=u,_1}var j1,nI;function hve(){if(nI)return j1;nI=1;var e=NA(),t=zH(),n=IA(),r=Aa(),i=fm(),a=nn(),o=Fl(),u=tf(),c=Jr(),f=af();function d(p,v,y){var b=a(p),x=b||o(p)||f(p);if(v=r(v,4),y==null){var S=p&&p.constructor;x?y=b?new S:[]:c(p)?y=u(S)?t(i(p)):{}:y={}}return(x?e:n)(p,function(_,E,O){return v(y,_,E,O)}),y}return j1=d,j1}var E1,rI;function pve(){if(rI)return E1;rI=1;var e=Hl(),t=rf(),n=nn(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return E1=i,E1}var A1,iI;function zA(){if(iI)return A1;iI=1;var e=DA(),t=pve();function n(r,i,a,o,u){var c=-1,f=r.length;for(a||(a=t),u||(u=[]);++c<f;){var d=r[c];i>0&&a(d)?i>1?n(d,i-1,a,o,u):e(u,d):o||(u[u.length]=d)}return u}return A1=n,A1}var O1,aI;function mve(){if(aI)return O1;aI=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return O1=e,O1}var T1,sI;function u5(){if(sI)return T1;sI=1;var e=mve(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,u=-1,c=t(o.length-i,0),f=Array(c);++u<c;)f[u]=o[i+u];u=-1;for(var d=Array(i+1);++u<i;)d[u]=o[u];return d[i]=a(f),e(r,this,d)}}return T1=n,T1}var N1,oI;function gve(){if(oI)return N1;oI=1;var e=LA(),t=TH(),n=Eo(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return N1=r,N1}var k1,lI;function vve(){if(lI)return k1;lI=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var u=n(),c=t-(u-o);if(o=u,c>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return k1=r,k1}var C1,uI;function c5(){if(uI)return C1;uI=1;var e=gve(),t=vve(),n=t(e);return C1=n,C1}var M1,cI;function gm(){if(cI)return M1;cI=1;var e=Eo(),t=u5(),n=c5();function r(i,a){return n(t(i,a,e),i+"")}return M1=r,M1}var R1,fI;function f5(){if(fI)return R1;fI=1;function e(t,n,r,i){for(var a=t.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(t[o],o,t))return o;return-1}return R1=e,R1}var D1,dI;function yve(){if(dI)return D1;dI=1;function e(t){return t!==t}return D1=e,D1}var P1,hI;function bve(){if(hI)return P1;hI=1;function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return-1}return P1=e,P1}var L1,pI;function xve(){if(pI)return L1;pI=1;var e=f5(),t=yve(),n=bve();function r(i,a,o){return a===a?n(i,a,o):e(i,t,o)}return L1=r,L1}var q1,mI;function wve(){if(mI)return q1;mI=1;var e=xve();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return q1=t,q1}var I1,gI;function Sve(){if(gI)return I1;gI=1;function e(t,n,r){for(var i=-1,a=t==null?0:t.length;++i<a;)if(r(n,t[i]))return!0;return!1}return I1=e,I1}var B1,vI;function _ve(){if(vI)return B1;vI=1;function e(){}return B1=e,B1}var $1,yI;function jve(){if(yI)return $1;yI=1;var e=IH(),t=_ve(),n=BA(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return $1=i,$1}var z1,bI;function Eve(){if(bI)return z1;bI=1;var e=WH(),t=wve(),n=Sve(),r=YH(),i=jve(),a=BA(),o=200;function u(c,f,d){var p=-1,v=t,y=c.length,b=!0,x=[],S=x;if(d)b=!1,v=n;else if(y>=o){var _=f?null:i(c);if(_)return a(_);b=!1,v=r,S=new e}else S=f?[]:x;e:for(;++p<y;){var E=c[p],O=f?f(E):E;if(E=d||E!==0?E:0,b&&O===O){for(var T=S.length;T--;)if(S[T]===O)continue e;f&&S.push(O),x.push(E)}else v(S,O,d)||(S!==x&&S.push(O),x.push(E))}return x}return z1=u,z1}var U1,xI;function d5(){if(xI)return U1;xI=1;var e=Ea(),t=$i();function n(r){return t(r)&&e(r)}return U1=n,U1}var H1,wI;function Ave(){if(wI)return H1;wI=1;var e=zA(),t=gm(),n=Eve(),r=d5(),i=t(function(a){return n(e(a,1,r,!0))});return H1=i,H1}var F1,SI;function Ove(){if(SI)return F1;SI=1;var e=hm();function t(n,r){return e(r,function(i){return n[i]})}return F1=t,F1}var G1,_I;function h5(){if(_I)return G1;_I=1;var e=Ove(),t=ys();function n(r){return r==null?[]:e(r,t(r))}return G1=n,G1}var K1,jI;function ei(){if(jI)return K1;jI=1;var e;if(typeof AA=="function")try{e={clone:Dge(),constant:LA(),each:KH(),filter:r5(),has:i5(),isArray:nn(),isEmpty:ive(),isFunction:tf(),isUndefined:a5(),keys:ys(),map:o5(),reduce:l5(),size:dve(),transform:hve(),union:Ave(),values:h5()}}catch{}return e||(e=window._),K1=e,K1}var W1,EI;function UA(){if(EI)return W1;EI=1;var e=ei();W1=i;var t="\0",n="\0",r="";function i(d){this._isDirected=e.has(d,"directed")?d.directed:!0,this._isMultigraph=e.has(d,"multigraph")?d.multigraph:!1,this._isCompound=e.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(d){return this._label=d,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultNodeLabelFn=d,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var d=this;return e.filter(this.nodes(),function(p){return e.isEmpty(d._in[p])})},i.prototype.sinks=function(){var d=this;return e.filter(this.nodes(),function(p){return e.isEmpty(d._out[p])})},i.prototype.setNodes=function(d,p){var v=arguments,y=this;return e.each(d,function(b){v.length>1?y.setNode(b,p):y.setNode(b)}),this},i.prototype.setNode=function(d,p){return e.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=p),this):(this._nodes[d]=arguments.length>1?p:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},i.prototype.node=function(d){return this._nodes[d]},i.prototype.hasNode=function(d){return e.has(this._nodes,d)},i.prototype.removeNode=function(d){var p=this;if(e.has(this._nodes,d)){var v=function(y){p.removeEdge(p._edgeObjs[y])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],e.each(this.children(d),function(y){p.setParent(y)}),delete this._children[d]),e.each(e.keys(this._in[d]),v),delete this._in[d],delete this._preds[d],e.each(e.keys(this._out[d]),v),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},i.prototype.setParent=function(d,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(p))p=n;else{p+="";for(var v=p;!e.isUndefined(v);v=this.parent(v))if(v===d)throw new Error("Setting "+p+" as parent of "+d+" would create a cycle");this.setNode(p)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=p,this._children[p][d]=!0,this},i.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},i.prototype.parent=function(d){if(this._isCompound){var p=this._parent[d];if(p!==n)return p}},i.prototype.children=function(d){if(e.isUndefined(d)&&(d=n),this._isCompound){var p=this._children[d];if(p)return e.keys(p)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},i.prototype.predecessors=function(d){var p=this._preds[d];if(p)return e.keys(p)},i.prototype.successors=function(d){var p=this._sucs[d];if(p)return e.keys(p)},i.prototype.neighbors=function(d){var p=this.predecessors(d);if(p)return e.union(p,this.successors(d))},i.prototype.isLeaf=function(d){var p;return this.isDirected()?p=this.successors(d):p=this.neighbors(d),p.length===0},i.prototype.filterNodes=function(d){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var v=this;e.each(this._nodes,function(x,S){d(S)&&p.setNode(S,x)}),e.each(this._edgeObjs,function(x){p.hasNode(x.v)&&p.hasNode(x.w)&&p.setEdge(x,v.edge(x))});var y={};function b(x){var S=v.parent(x);return S===void 0||p.hasNode(S)?(y[x]=S,S):S in y?y[S]:b(S)}return this._isCompound&&e.each(p.nodes(),function(x){p.setParent(x,b(x))}),p},i.prototype.setDefaultEdgeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultEdgeLabelFn=d,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(d,p){var v=this,y=arguments;return e.reduce(d,function(b,x){return y.length>1?v.setEdge(b,x,p):v.setEdge(b,x),x}),this},i.prototype.setEdge=function(){var d,p,v,y,b=!1,x=arguments[0];typeof x=="object"&&x!==null&&"v"in x?(d=x.v,p=x.w,v=x.name,arguments.length===2&&(y=arguments[1],b=!0)):(d=x,p=arguments[1],v=arguments[3],arguments.length>2&&(y=arguments[2],b=!0)),d=""+d,p=""+p,e.isUndefined(v)||(v=""+v);var S=u(this._isDirected,d,p,v);if(e.has(this._edgeLabels,S))return b&&(this._edgeLabels[S]=y),this;if(!e.isUndefined(v)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(p),this._edgeLabels[S]=b?y:this._defaultEdgeLabelFn(d,p,v);var _=c(this._isDirected,d,p,v);return d=_.v,p=_.w,Object.freeze(_),this._edgeObjs[S]=_,a(this._preds[p],d),a(this._sucs[d],p),this._in[p][S]=_,this._out[d][S]=_,this._edgeCount++,this},i.prototype.edge=function(d,p,v){var y=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,d,p,v);return this._edgeLabels[y]},i.prototype.hasEdge=function(d,p,v){var y=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,d,p,v);return e.has(this._edgeLabels,y)},i.prototype.removeEdge=function(d,p,v){var y=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,d,p,v),b=this._edgeObjs[y];return b&&(d=b.v,p=b.w,delete this._edgeLabels[y],delete this._edgeObjs[y],o(this._preds[p],d),o(this._sucs[d],p),delete this._in[p][y],delete this._out[d][y],this._edgeCount--),this},i.prototype.inEdges=function(d,p){var v=this._in[d];if(v){var y=e.values(v);return p?e.filter(y,function(b){return b.v===p}):y}},i.prototype.outEdges=function(d,p){var v=this._out[d];if(v){var y=e.values(v);return p?e.filter(y,function(b){return b.w===p}):y}},i.prototype.nodeEdges=function(d,p){var v=this.inEdges(d,p);if(v)return v.concat(this.outEdges(d,p))};function a(d,p){d[p]?d[p]++:d[p]=1}function o(d,p){--d[p]||delete d[p]}function u(d,p,v,y){var b=""+p,x=""+v;if(!d&&b>x){var S=b;b=x,x=S}return b+r+x+r+(e.isUndefined(y)?t:y)}function c(d,p,v,y){var b=""+p,x=""+v;if(!d&&b>x){var S=b;b=x,x=S}var _={v:b,w:x};return y&&(_.name=y),_}function f(d,p){return u(d,p.v,p.w,p.name)}return W1}var Y1,AI;function Tve(){return AI||(AI=1,Y1="2.1.8"),Y1}var V1,OI;function Nve(){return OI||(OI=1,V1={Graph:UA(),version:Tve()}),V1}var X1,TI;function kve(){if(TI)return X1;TI=1;var e=ei(),t=UA();X1={write:n,read:a};function n(o){var u={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:r(o),edges:i(o)};return e.isUndefined(o.graph())||(u.value=e.clone(o.graph())),u}function r(o){return e.map(o.nodes(),function(u){var c=o.node(u),f=o.parent(u),d={v:u};return e.isUndefined(c)||(d.value=c),e.isUndefined(f)||(d.parent=f),d})}function i(o){return e.map(o.edges(),function(u){var c=o.edge(u),f={v:u.v,w:u.w};return e.isUndefined(u.name)||(f.name=u.name),e.isUndefined(c)||(f.value=c),f})}function a(o){var u=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(c){u.setNode(c.v,c.value),c.parent&&u.setParent(c.v,c.parent)}),e.each(o.edges,function(c){u.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),u}return X1}var Q1,NI;function Cve(){if(NI)return Q1;NI=1;var e=ei();Q1=t;function t(n){var r={},i=[],a;function o(u){e.has(r,u)||(r[u]=!0,a.push(u),e.each(n.successors(u),o),e.each(n.predecessors(u),o))}return e.each(n.nodes(),function(u){a=[],o(u),a.length&&i.push(a)}),i}return Q1}var Z1,kI;function p5(){if(kI)return Z1;kI=1;var e=ei();Z1=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var a=this._arr,o=a.length;return i[n]=o,a.push({key:n,priority:r}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,a=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,a<r.length&&(o=r[a].priority<r[o].priority?a:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,a;n!==0&&(a=n>>1,!(r[a].priority<i));)this._swap(n,a),n=a},t.prototype._swap=function(n,r){var i=this._arr,a=this._keyIndices,o=i[n],u=i[r];i[n]=u,i[r]=o,a[u.key]=n,a[o.key]=r},Z1}var J1,CI;function m5(){if(CI)return J1;CI=1;var e=ei(),t=p5();J1=r;var n=e.constant(1);function r(a,o,u,c){return i(a,String(o),u||n,c||function(f){return a.outEdges(f)})}function i(a,o,u,c){var f={},d=new t,p,v,y=function(b){var x=b.v!==p?b.v:b.w,S=f[x],_=u(b),E=v.distance+_;if(_<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+b+" Weight: "+_);E<S.distance&&(S.distance=E,S.predecessor=p,d.decrease(x,E))};for(a.nodes().forEach(function(b){var x=b===o?0:Number.POSITIVE_INFINITY;f[b]={distance:x},d.add(b,x)});d.size()>0&&(p=d.removeMin(),v=f[p],v.distance!==Number.POSITIVE_INFINITY);)c(p).forEach(y);return f}return J1}var ew,MI;function Mve(){if(MI)return ew;MI=1;var e=m5(),t=ei();ew=n;function n(r,i,a){return t.transform(r.nodes(),function(o,u){o[u]=e(r,u,i,a)},{})}return ew}var tw,RI;function g5(){if(RI)return tw;RI=1;var e=ei();tw=t;function t(n){var r=0,i=[],a={},o=[];function u(c){var f=a[c]={onStack:!0,lowlink:r,index:r++};if(i.push(c),n.successors(c).forEach(function(v){e.has(a,v)?a[v].onStack&&(f.lowlink=Math.min(f.lowlink,a[v].index)):(u(v),f.lowlink=Math.min(f.lowlink,a[v].lowlink))}),f.lowlink===f.index){var d=[],p;do p=i.pop(),a[p].onStack=!1,d.push(p);while(c!==p);o.push(d)}}return n.nodes().forEach(function(c){e.has(a,c)||u(c)}),o}return tw}var nw,DI;function Rve(){if(DI)return nw;DI=1;var e=ei(),t=g5();nw=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return nw}var rw,PI;function Dve(){if(PI)return rw;PI=1;var e=ei();rw=n;var t=e.constant(1);function n(i,a,o){return r(i,a||t,o||function(u){return i.outEdges(u)})}function r(i,a,o){var u={},c=i.nodes();return c.forEach(function(f){u[f]={},u[f][f]={distance:0},c.forEach(function(d){f!==d&&(u[f][d]={distance:Number.POSITIVE_INFINITY})}),o(f).forEach(function(d){var p=d.v===f?d.w:d.v,v=a(d);u[f][p]={distance:v,predecessor:f}})}),c.forEach(function(f){var d=u[f];c.forEach(function(p){var v=u[p];c.forEach(function(y){var b=v[f],x=d[y],S=v[y],_=b.distance+x.distance;_<S.distance&&(S.distance=_,S.predecessor=x.predecessor)})})}),u}return rw}var iw,LI;function v5(){if(LI)return iw;LI=1;var e=ei();iw=t,t.CycleException=n;function t(r){var i={},a={},o=[];function u(c){if(e.has(a,c))throw new n;e.has(i,c)||(a[c]=!0,i[c]=!0,e.each(r.predecessors(c),u),delete a[c],o.push(c))}if(e.each(r.sinks(),u),e.size(i)!==r.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,iw}var aw,qI;function Pve(){if(qI)return aw;qI=1;var e=v5();aw=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return aw}var sw,II;function y5(){if(II)return sw;II=1;var e=ei();sw=t;function t(r,i,a){e.isArray(i)||(i=[i]);var o=(r.isDirected()?r.successors:r.neighbors).bind(r),u=[],c={};return e.each(i,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,a==="post",c,o,u)}),u}function n(r,i,a,o,u,c){e.has(o,i)||(o[i]=!0,a||c.push(i),e.each(u(i),function(f){n(r,f,a,o,u,c)}),a&&c.push(i))}return sw}var ow,BI;function Lve(){if(BI)return ow;BI=1;var e=y5();ow=t;function t(n,r){return e(n,r,"post")}return ow}var lw,$I;function qve(){if($I)return lw;$I=1;var e=y5();lw=t;function t(n,r){return e(n,r,"pre")}return lw}var uw,zI;function Ive(){if(zI)return uw;zI=1;var e=ei(),t=UA(),n=p5();uw=r;function r(i,a){var o=new t,u={},c=new n,f;function d(v){var y=v.v===f?v.w:v.v,b=c.priority(y);if(b!==void 0){var x=a(v);x<b&&(u[y]=f,c.decrease(y,x))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(v){c.add(v,Number.POSITIVE_INFINITY),o.setNode(v)}),c.decrease(i.nodes()[0],0);for(var p=!1;c.size()>0;){if(f=c.removeMin(),e.has(u,f))o.setEdge(f,u[f]);else{if(p)throw new Error("Input graph is not connected: "+i);p=!0}i.nodeEdges(f).forEach(d)}return o}return uw}var cw,UI;function Bve(){return UI||(UI=1,cw={components:Cve(),dijkstra:m5(),dijkstraAll:Mve(),findCycles:Rve(),floydWarshall:Dve(),isAcyclic:Pve(),postorder:Lve(),preorder:qve(),prim:Ive(),tarjan:g5(),topsort:v5()}),cw}var fw,HI;function $ve(){if(HI)return fw;HI=1;var e=Nve();return fw={Graph:e.Graph,json:kve(),alg:Bve(),version:e.version},fw}var dw,FI;function xi(){if(FI)return dw;FI=1;var e;if(typeof AA=="function")try{e=$ve()}catch{}return e||(e=window.graphlib),dw=e,dw}var hw,GI;function zve(){if(GI)return hw;GI=1;var e=HH(),t=1,n=4;function r(i){return e(i,t|n)}return hw=r,hw}var pw,KI;function vm(){if(KI)return pw;KI=1;var e=Ul(),t=Ea(),n=lm(),r=Jr();function i(a,o,u){if(!r(u))return!1;var c=typeof o;return(c=="number"?t(u)&&n(o,u.length):c=="string"&&o in u)?e(u[o],a):!1}return pw=i,pw}var mw,WI;function Uve(){if(WI)return mw;WI=1;var e=gm(),t=Ul(),n=vm(),r=jo(),i=Object.prototype,a=i.hasOwnProperty,o=e(function(u,c){u=Object(u);var f=-1,d=c.length,p=d>2?c[2]:void 0;for(p&&n(c[0],c[1],p)&&(d=1);++f<d;)for(var v=c[f],y=r(v),b=-1,x=y.length;++b<x;){var S=y[b],_=u[S];(_===void 0||t(_,i[S])&&!a.call(u,S))&&(u[S]=v[S])}return u});return mw=o,mw}var gw,YI;function Hve(){if(YI)return gw;YI=1;var e=Aa(),t=Ea(),n=ys();function r(i){return function(a,o,u){var c=Object(a);if(!t(a)){var f=e(o,3);a=n(a),o=function(p){return f(c[p],p,c)}}var d=i(a,o,u);return d>-1?c[f?a[d]:d]:void 0}}return gw=r,gw}var vw,VI;function Fve(){if(VI)return vw;VI=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return vw=t,vw}var yw,XI;function Gve(){if(XI)return yw;XI=1;var e=Fve(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return yw=n,yw}var bw,QI;function Kve(){if(QI)return bw;QI=1;var e=Gve(),t=Jr(),n=Kl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=t(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=e(f);var p=a.test(f);return p||o.test(f)?u(f.slice(2),p?2:8):i.test(f)?r:+f}return bw=c,bw}var xw,ZI;function b5(){if(ZI)return xw;ZI=1;var e=Kve(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*n}return i===i?i:0}return xw=r,xw}var ww,JI;function Wve(){if(JI)return ww;JI=1;var e=b5();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return ww=t,ww}var Sw,eB;function Yve(){if(eB)return Sw;eB=1;var e=f5(),t=Aa(),n=Wve(),r=Math.max;function i(a,o,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),e(a,t(o,3),f)}return Sw=i,Sw}var _w,tB;function Vve(){if(tB)return _w;tB=1;var e=Hve(),t=Yve(),n=e(t);return _w=n,_w}var jw,nB;function x5(){if(nB)return jw;nB=1;var e=zA();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return jw=t,jw}var Ew,rB;function Xve(){if(rB)return Ew;rB=1;var e=qA(),t=FH(),n=jo();function r(i,a){return i==null?i:e(i,t(a),n)}return Ew=r,Ew}var Aw,iB;function Qve(){if(iB)return Aw;iB=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Aw=e,Aw}var Ow,aB;function Zve(){if(aB)return Ow;aB=1;var e=sm(),t=IA(),n=Aa();function r(i,a){var o={};return a=n(a,3),t(i,function(u,c,f){e(o,c,a(u,c,f))}),o}return Ow=r,Ow}var Tw,sB;function HA(){if(sB)return Tw;sB=1;var e=Kl();function t(n,r,i){for(var a=-1,o=n.length;++a<o;){var u=n[a],c=r(u);if(c!=null&&(f===void 0?c===c&&!e(c):i(c,f)))var f=c,d=u}return d}return Tw=t,Tw}var Nw,oB;function Jve(){if(oB)return Nw;oB=1;function e(t,n){return t>n}return Nw=e,Nw}var kw,lB;function eye(){if(lB)return kw;lB=1;var e=HA(),t=Jve(),n=Eo();function r(i){return i&&i.length?e(i,n,t):void 0}return kw=r,kw}var Cw,uB;function w5(){if(uB)return Cw;uB=1;var e=sm(),t=Ul();function n(r,i,a){(a!==void 0&&!t(r[i],a)||a===void 0&&!(i in r))&&e(r,i,a)}return Cw=n,Cw}var Mw,cB;function tye(){if(cB)return Mw;cB=1;var e=So(),t=fm(),n=$i(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,u=a.hasOwnProperty,c=o.call(Object);function f(d){if(!n(d)||e(d)!=r)return!1;var p=t(d);if(p===null)return!0;var v=u.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==c}return Mw=f,Mw}var Rw,fB;function S5(){if(fB)return Rw;fB=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Rw=e,Rw}var Dw,dB;function nye(){if(dB)return Dw;dB=1;var e=nf(),t=jo();function n(r){return e(r,t(r))}return Dw=n,Dw}var Pw,hB;function rye(){if(hB)return Pw;hB=1;var e=w5(),t=CH(),n=$H(),r=MH(),i=UH(),a=rf(),o=nn(),u=d5(),c=Fl(),f=tf(),d=Jr(),p=tye(),v=af(),y=S5(),b=nye();function x(S,_,E,O,T,N,k){var M=y(S,E),D=y(_,E),R=k.get(D);if(R){e(S,E,R);return}var C=N?N(M,D,E+"",S,_,k):void 0,L=C===void 0;if(L){var I=o(D),U=!I&&c(D),P=!I&&!U&&v(D);C=D,I||U||P?o(M)?C=M:u(M)?C=r(M):U?(L=!1,C=t(D,!0)):P?(L=!1,C=n(D,!0)):C=[]:p(D)||a(D)?(C=M,a(M)?C=b(M):(!d(M)||f(M))&&(C=i(D))):L=!1}L&&(k.set(D,C),T(C,D,O,N,k),k.delete(D)),e(S,E,C)}return Pw=x,Pw}var Lw,pB;function iye(){if(pB)return Lw;pB=1;var e=am(),t=w5(),n=qA(),r=rye(),i=Jr(),a=jo(),o=S5();function u(c,f,d,p,v){c!==f&&n(f,function(y,b){if(v||(v=new e),i(y))r(c,f,b,d,u,p,v);else{var x=p?p(o(c,b),y,b+"",c,f,v):void 0;x===void 0&&(x=y),t(c,b,x)}},a)}return Lw=u,Lw}var qw,mB;function aye(){if(mB)return qw;mB=1;var e=gm(),t=vm();function n(r){return e(function(i,a){var o=-1,u=a.length,c=u>1?a[u-1]:void 0,f=u>2?a[2]:void 0;for(c=r.length>3&&typeof c=="function"?(u--,c):void 0,f&&t(a[0],a[1],f)&&(c=u<3?void 0:c,u=1),i=Object(i);++o<u;){var d=a[o];d&&r(i,d,o,c)}return i})}return qw=n,qw}var Iw,gB;function sye(){if(gB)return Iw;gB=1;var e=iye(),t=aye(),n=t(function(r,i,a){e(r,i,a)});return Iw=n,Iw}var Bw,vB;function _5(){if(vB)return Bw;vB=1;function e(t,n){return t<n}return Bw=e,Bw}var $w,yB;function oye(){if(yB)return $w;yB=1;var e=HA(),t=_5(),n=Eo();function r(i){return i&&i.length?e(i,n,t):void 0}return $w=r,$w}var zw,bB;function lye(){if(bB)return zw;bB=1;var e=HA(),t=Aa(),n=_5();function r(i,a){return i&&i.length?e(i,t(a,2),n):void 0}return zw=r,zw}var Uw,xB;function uye(){if(xB)return Uw;xB=1;var e=_i(),t=function(){return e.Date.now()};return Uw=t,Uw}var Hw,wB;function cye(){if(wB)return Hw;wB=1;var e=om(),t=pm(),n=lm(),r=Jr(),i=sf();function a(o,u,c,f){if(!r(o))return o;u=t(u,o);for(var d=-1,p=u.length,v=p-1,y=o;y!=null&&++d<p;){var b=i(u[d]),x=c;if(b==="__proto__"||b==="constructor"||b==="prototype")return o;if(d!=v){var S=y[b];x=f?f(S,b,y):void 0,x===void 0&&(x=r(S)?S:n(u[d+1])?[]:{})}e(y,b,x),y=y[b]}return o}return Hw=a,Hw}var Fw,SB;function fye(){if(SB)return Fw;SB=1;var e=mm(),t=cye(),n=pm();function r(i,a,o){for(var u=-1,c=a.length,f={};++u<c;){var d=a[u],p=e(i,d);o(p,d)&&t(f,n(d,i),p)}return f}return Fw=r,Fw}var Gw,_B;function dye(){if(_B)return Gw;_B=1;var e=fye(),t=t5();function n(r,i){return e(r,i,function(a,o){return t(r,o)})}return Gw=n,Gw}var Kw,jB;function hye(){if(jB)return Kw;jB=1;var e=x5(),t=u5(),n=c5();function r(i){return n(t(i,void 0,e),i+"")}return Kw=r,Kw}var Ww,EB;function pye(){if(EB)return Ww;EB=1;var e=dye(),t=hye(),n=t(function(r,i){return r==null?{}:e(r,i)});return Ww=n,Ww}var Yw,AB;function mye(){if(AB)return Yw;AB=1;var e=Math.ceil,t=Math.max;function n(r,i,a,o){for(var u=-1,c=t(e((i-r)/(a||1)),0),f=Array(c);c--;)f[o?c:++u]=r,r+=a;return f}return Yw=n,Yw}var Vw,OB;function gye(){if(OB)return Vw;OB=1;var e=mye(),t=vm(),n=b5();function r(i){return function(a,o,u){return u&&typeof u!="number"&&t(a,o,u)&&(o=u=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),u=u===void 0?a<o?1:-1:n(u),e(a,o,u,i)}}return Vw=r,Vw}var Xw,TB;function vye(){if(TB)return Xw;TB=1;var e=gye(),t=e();return Xw=t,Xw}var Qw,NB;function yye(){if(NB)return Qw;NB=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Qw=e,Qw}var Zw,kB;function bye(){if(kB)return Zw;kB=1;var e=Kl();function t(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,u=e(n),c=r!==void 0,f=r===null,d=r===r,p=e(r);if(!f&&!p&&!u&&n>r||u&&c&&d&&!f&&!p||a&&c&&d||!i&&d||!o)return 1;if(!a&&!u&&!p&&n<r||p&&i&&o&&!a&&!u||f&&i&&o||!c&&o||!d)return-1}return 0}return Zw=t,Zw}var Jw,CB;function xye(){if(CB)return Jw;CB=1;var e=bye();function t(n,r,i){for(var a=-1,o=n.criteria,u=r.criteria,c=o.length,f=i.length;++a<c;){var d=e(o[a],u[a]);if(d){if(a>=f)return d;var p=i[a];return d*(p=="desc"?-1:1)}}return n.index-r.index}return Jw=t,Jw}var eS,MB;function wye(){if(MB)return eS;MB=1;var e=hm(),t=mm(),n=Aa(),r=s5(),i=yye(),a=um(),o=xye(),u=Eo(),c=nn();function f(d,p,v){p.length?p=e(p,function(x){return c(x)?function(S){return t(S,x.length===1?x[0]:x)}:x}):p=[u];var y=-1;p=e(p,a(n));var b=r(d,function(x,S,_){var E=e(p,function(O){return O(x)});return{criteria:E,index:++y,value:x}});return i(b,function(x,S){return o(x,S,v)})}return eS=f,eS}var tS,RB;function Sye(){if(RB)return tS;RB=1;var e=zA(),t=wye(),n=gm(),r=vm(),i=n(function(a,o){if(a==null)return[];var u=o.length;return u>1&&r(a,o[0],o[1])?o=[]:u>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return tS=i,tS}var nS,DB;function _ye(){if(DB)return nS;DB=1;var e=JH(),t=0;function n(r){var i=++t;return e(r)+i}return nS=n,nS}var rS,PB;function jye(){if(PB)return rS;PB=1;function e(t,n,r){for(var i=-1,a=t.length,o=n.length,u={};++i<a;){var c=i<o?n[i]:void 0;r(u,t[i],c)}return u}return rS=e,rS}var iS,LB;function Eye(){if(LB)return iS;LB=1;var e=om(),t=jye();function n(r,i){return t(r||[],i||[],e)}return iS=n,iS}var aS,qB;function Ct(){if(qB)return aS;qB=1;var e;if(typeof AA=="function")try{e={cloneDeep:zve(),constant:LA(),defaults:Uve(),each:KH(),filter:r5(),find:Vve(),flatten:x5(),forEach:GH(),forIn:Xve(),has:i5(),isUndefined:a5(),last:Qve(),map:o5(),mapValues:Zve(),max:eye(),merge:sye(),min:oye(),minBy:lye(),now:uye(),pick:pye(),range:vye(),reduce:l5(),sortBy:Sye(),uniqueId:_ye(),values:h5(),zipObject:Eye()}}catch{}return e||(e=window._),aS=e,aS}var sS,IB;function Aye(){if(IB)return sS;IB=1,sS=e;function e(){var r={};r._next=r._prev=r,this._sentinel=r}e.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return t(i),i},e.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&t(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},e.prototype.toString=function(){for(var r=[],i=this._sentinel,a=i._prev;a!==i;)r.push(JSON.stringify(a,n)),a=a._prev;return"["+r.join(", ")+"]"};function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return sS}var oS,BB;function Oye(){if(BB)return oS;BB=1;var e=Ct(),t=xi().Graph,n=Aye();oS=i;var r=e.constant(1);function i(f,d){if(f.nodeCount()<=1)return[];var p=u(f,d||r),v=a(p.graph,p.buckets,p.zeroIdx);return e.flatten(e.map(v,function(y){return f.outEdges(y.v,y.w)}),!0)}function a(f,d,p){for(var v=[],y=d[d.length-1],b=d[0],x;f.nodeCount();){for(;x=b.dequeue();)o(f,d,p,x);for(;x=y.dequeue();)o(f,d,p,x);if(f.nodeCount()){for(var S=d.length-2;S>0;--S)if(x=d[S].dequeue(),x){v=v.concat(o(f,d,p,x,!0));break}}}return v}function o(f,d,p,v,y){var b=y?[]:void 0;return e.forEach(f.inEdges(v.v),function(x){var S=f.edge(x),_=f.node(x.v);y&&b.push({v:x.v,w:x.w}),_.out-=S,c(d,p,_)}),e.forEach(f.outEdges(v.v),function(x){var S=f.edge(x),_=x.w,E=f.node(_);E.in-=S,c(d,p,E)}),f.removeNode(v.v),b}function u(f,d){var p=new t,v=0,y=0;e.forEach(f.nodes(),function(S){p.setNode(S,{v:S,in:0,out:0})}),e.forEach(f.edges(),function(S){var _=p.edge(S.v,S.w)||0,E=d(S),O=_+E;p.setEdge(S.v,S.w,O),y=Math.max(y,p.node(S.v).out+=E),v=Math.max(v,p.node(S.w).in+=E)});var b=e.range(y+v+3).map(function(){return new n}),x=v+1;return e.forEach(p.nodes(),function(S){c(b,x,p.node(S))}),{graph:p,buckets:b,zeroIdx:x}}function c(f,d,p){p.out?p.in?f[p.out-p.in+d].enqueue(p):f[f.length-1].enqueue(p):f[0].enqueue(p)}return oS}var lS,$B;function Tye(){if($B)return lS;$B=1;var e=Ct(),t=Oye();lS={run:n,undo:i};function n(a){var o=a.graph().acyclicer==="greedy"?t(a,u(a)):r(a);e.forEach(o,function(c){var f=a.edge(c);a.removeEdge(c),f.forwardName=c.name,f.reversed=!0,a.setEdge(c.w,c.v,f,e.uniqueId("rev"))});function u(c){return function(f){return c.edge(f).weight}}}function r(a){var o=[],u={},c={};function f(d){e.has(c,d)||(c[d]=!0,u[d]=!0,e.forEach(a.outEdges(d),function(p){e.has(u,p.w)?o.push(p):f(p.w)}),delete u[d])}return e.forEach(a.nodes(),f),o}function i(a){e.forEach(a.edges(),function(o){var u=a.edge(o);if(u.reversed){a.removeEdge(o);var c=u.forwardName;delete u.reversed,delete u.forwardName,a.setEdge(o.w,o.v,u,c)}})}return lS}var uS,zB;function nr(){if(zB)return uS;zB=1;var e=Ct(),t=xi().Graph;uS={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:a,predecessorWeights:o,intersectRect:u,buildLayerMatrix:c,normalizeRanks:f,removeEmptyRanks:d,addBorderNode:p,maxRank:v,partition:y,time:b,notime:x};function n(S,_,E,O){var T;do T=e.uniqueId(O);while(S.hasNode(T));return E.dummy=_,S.setNode(T,E),T}function r(S){var _=new t().setGraph(S.graph());return e.forEach(S.nodes(),function(E){_.setNode(E,S.node(E))}),e.forEach(S.edges(),function(E){var O=_.edge(E.v,E.w)||{weight:0,minlen:1},T=S.edge(E);_.setEdge(E.v,E.w,{weight:O.weight+T.weight,minlen:Math.max(O.minlen,T.minlen)})}),_}function i(S){var _=new t({multigraph:S.isMultigraph()}).setGraph(S.graph());return e.forEach(S.nodes(),function(E){S.children(E).length||_.setNode(E,S.node(E))}),e.forEach(S.edges(),function(E){_.setEdge(E,S.edge(E))}),_}function a(S){var _=e.map(S.nodes(),function(E){var O={};return e.forEach(S.outEdges(E),function(T){O[T.w]=(O[T.w]||0)+S.edge(T).weight}),O});return e.zipObject(S.nodes(),_)}function o(S){var _=e.map(S.nodes(),function(E){var O={};return e.forEach(S.inEdges(E),function(T){O[T.v]=(O[T.v]||0)+S.edge(T).weight}),O});return e.zipObject(S.nodes(),_)}function u(S,_){var E=S.x,O=S.y,T=_.x-E,N=_.y-O,k=S.width/2,M=S.height/2;if(!T&&!N)throw new Error("Not possible to find intersection inside of the rectangle");var D,R;return Math.abs(N)*k>Math.abs(T)*M?(N<0&&(M=-M),D=M*T/N,R=M):(T<0&&(k=-k),D=k,R=k*N/T),{x:E+D,y:O+R}}function c(S){var _=e.map(e.range(v(S)+1),function(){return[]});return e.forEach(S.nodes(),function(E){var O=S.node(E),T=O.rank;e.isUndefined(T)||(_[T][O.order]=E)}),_}function f(S){var _=e.min(e.map(S.nodes(),function(E){return S.node(E).rank}));e.forEach(S.nodes(),function(E){var O=S.node(E);e.has(O,"rank")&&(O.rank-=_)})}function d(S){var _=e.min(e.map(S.nodes(),function(N){return S.node(N).rank})),E=[];e.forEach(S.nodes(),function(N){var k=S.node(N).rank-_;E[k]||(E[k]=[]),E[k].push(N)});var O=0,T=S.graph().nodeRankFactor;e.forEach(E,function(N,k){e.isUndefined(N)&&k%T!==0?--O:O&&e.forEach(N,function(M){S.node(M).rank+=O})})}function p(S,_,E,O){var T={width:0,height:0};return arguments.length>=4&&(T.rank=E,T.order=O),n(S,"border",T,_)}function v(S){return e.max(e.map(S.nodes(),function(_){var E=S.node(_).rank;if(!e.isUndefined(E))return E}))}function y(S,_){var E={lhs:[],rhs:[]};return e.forEach(S,function(O){_(O)?E.lhs.push(O):E.rhs.push(O)}),E}function b(S,_){var E=e.now();try{return _()}finally{console.log(S+" time: "+(e.now()-E)+"ms")}}function x(S,_){return _()}return uS}var cS,UB;function Nye(){if(UB)return cS;UB=1;var e=Ct(),t=nr();cS={run:n,undo:i};function n(a){a.graph().dummyChains=[],e.forEach(a.edges(),function(o){r(a,o)})}function r(a,o){var u=o.v,c=a.node(u).rank,f=o.w,d=a.node(f).rank,p=o.name,v=a.edge(o),y=v.labelRank;if(d!==c+1){a.removeEdge(o);var b,x,S;for(S=0,++c;c<d;++S,++c)v.points=[],x={width:0,height:0,edgeLabel:v,edgeObj:o,rank:c},b=t.addDummyNode(a,"edge",x,"_d"),c===y&&(x.width=v.width,x.height=v.height,x.dummy="edge-label",x.labelpos=v.labelpos),a.setEdge(u,b,{weight:v.weight},p),S===0&&a.graph().dummyChains.push(b),u=b;a.setEdge(u,f,{weight:v.weight},p)}}function i(a){e.forEach(a.graph().dummyChains,function(o){var u=a.node(o),c=u.edgeLabel,f;for(a.setEdge(u.edgeObj,c);u.dummy;)f=a.successors(o)[0],a.removeNode(o),c.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(c.x=u.x,c.y=u.y,c.width=u.width,c.height=u.height),o=f,u=a.node(o)})}return cS}var fS,HB;function sp(){if(HB)return fS;HB=1;var e=Ct();fS={longestPath:t,slack:n};function t(r){var i={};function a(o){var u=r.node(o);if(e.has(i,o))return u.rank;i[o]=!0;var c=e.min(e.map(r.outEdges(o),function(f){return a(f.w)-r.edge(f).minlen}));return(c===Number.POSITIVE_INFINITY||c===void 0||c===null)&&(c=0),u.rank=c}e.forEach(r.sources(),a)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return fS}var dS,FB;function j5(){if(FB)return dS;FB=1;var e=Ct(),t=xi().Graph,n=sp().slack;dS=r;function r(u){var c=new t({directed:!1}),f=u.nodes()[0],d=u.nodeCount();c.setNode(f,{});for(var p,v;i(c,u)<d;)p=a(c,u),v=c.hasNode(p.v)?n(u,p):-n(u,p),o(c,u,v);return c}function i(u,c){function f(d){e.forEach(c.nodeEdges(d),function(p){var v=p.v,y=d===v?p.w:v;!u.hasNode(y)&&!n(c,p)&&(u.setNode(y,{}),u.setEdge(d,y,{}),f(y))})}return e.forEach(u.nodes(),f),u.nodeCount()}function a(u,c){return e.minBy(c.edges(),function(f){if(u.hasNode(f.v)!==u.hasNode(f.w))return n(c,f)})}function o(u,c,f){e.forEach(u.nodes(),function(d){c.node(d).rank+=f})}return dS}var hS,GB;function kye(){if(GB)return hS;GB=1;var e=Ct(),t=j5(),n=sp().slack,r=sp().longestPath,i=xi().alg.preorder,a=xi().alg.postorder,o=nr().simplify;hS=u,u.initLowLimValues=p,u.initCutValues=c,u.calcCutValue=d,u.leaveEdge=y,u.enterEdge=b,u.exchangeEdges=x;function u(O){O=o(O),r(O);var T=t(O);p(T),c(T,O);for(var N,k;N=y(T);)k=b(T,O,N),x(T,O,N,k)}function c(O,T){var N=a(O,O.nodes());N=N.slice(0,N.length-1),e.forEach(N,function(k){f(O,T,k)})}function f(O,T,N){var k=O.node(N),M=k.parent;O.edge(N,M).cutvalue=d(O,T,N)}function d(O,T,N){var k=O.node(N),M=k.parent,D=!0,R=T.edge(N,M),C=0;return R||(D=!1,R=T.edge(M,N)),C=R.weight,e.forEach(T.nodeEdges(N),function(L){var I=L.v===N,U=I?L.w:L.v;if(U!==M){var P=I===D,H=T.edge(L).weight;if(C+=P?H:-H,_(O,N,U)){var B=O.edge(N,U).cutvalue;C+=P?-B:B}}}),C}function p(O,T){arguments.length<2&&(T=O.nodes()[0]),v(O,{},1,T)}function v(O,T,N,k,M){var D=N,R=O.node(k);return T[k]=!0,e.forEach(O.neighbors(k),function(C){e.has(T,C)||(N=v(O,T,N,C,k))}),R.low=D,R.lim=N++,M?R.parent=M:delete R.parent,N}function y(O){return e.find(O.edges(),function(T){return O.edge(T).cutvalue<0})}function b(O,T,N){var k=N.v,M=N.w;T.hasEdge(k,M)||(k=N.w,M=N.v);var D=O.node(k),R=O.node(M),C=D,L=!1;D.lim>R.lim&&(C=R,L=!0);var I=e.filter(T.edges(),function(U){return L===E(O,O.node(U.v),C)&&L!==E(O,O.node(U.w),C)});return e.minBy(I,function(U){return n(T,U)})}function x(O,T,N,k){var M=N.v,D=N.w;O.removeEdge(M,D),O.setEdge(k.v,k.w,{}),p(O),c(O,T),S(O,T)}function S(O,T){var N=e.find(O.nodes(),function(M){return!T.node(M).parent}),k=i(O,N);k=k.slice(1),e.forEach(k,function(M){var D=O.node(M).parent,R=T.edge(M,D),C=!1;R||(R=T.edge(D,M),C=!0),T.node(M).rank=T.node(D).rank+(C?R.minlen:-R.minlen)})}function _(O,T,N){return O.hasEdge(T,N)}function E(O,T,N){return N.low<=T.lim&&T.lim<=N.lim}return hS}var pS,KB;function Cye(){if(KB)return pS;KB=1;var e=sp(),t=e.longestPath,n=j5(),r=kye();pS=i;function i(c){switch(c.graph().ranker){case"network-simplex":u(c);break;case"tight-tree":o(c);break;case"longest-path":a(c);break;default:u(c)}}var a=t;function o(c){t(c),n(c)}function u(c){r(c)}return pS}var mS,WB;function Mye(){if(WB)return mS;WB=1;var e=Ct();mS=t;function t(i){var a=r(i);e.forEach(i.graph().dummyChains,function(o){for(var u=i.node(o),c=u.edgeObj,f=n(i,a,c.v,c.w),d=f.path,p=f.lca,v=0,y=d[v],b=!0;o!==c.w;){if(u=i.node(o),b){for(;(y=d[v])!==p&&i.node(y).maxRank<u.rank;)v++;y===p&&(b=!1)}if(!b){for(;v<d.length-1&&i.node(y=d[v+1]).minRank<=u.rank;)v++;y=d[v]}i.setParent(o,y),o=i.successors(o)[0]}})}function n(i,a,o,u){var c=[],f=[],d=Math.min(a[o].low,a[u].low),p=Math.max(a[o].lim,a[u].lim),v,y;v=o;do v=i.parent(v),c.push(v);while(v&&(a[v].low>d||p>a[v].lim));for(y=v,v=u;(v=i.parent(v))!==y;)f.push(v);return{path:c.concat(f.reverse()),lca:y}}function r(i){var a={},o=0;function u(c){var f=o;e.forEach(i.children(c),u),a[c]={low:f,lim:o++}}return e.forEach(i.children(),u),a}return mS}var gS,YB;function Rye(){if(YB)return gS;YB=1;var e=Ct(),t=nr();gS={run:n,cleanup:o};function n(u){var c=t.addDummyNode(u,"root",{},"_root"),f=i(u),d=e.max(e.values(f))-1,p=2*d+1;u.graph().nestingRoot=c,e.forEach(u.edges(),function(y){u.edge(y).minlen*=p});var v=a(u)+1;e.forEach(u.children(),function(y){r(u,c,p,v,d,f,y)}),u.graph().nodeRankFactor=p}function r(u,c,f,d,p,v,y){var b=u.children(y);if(!b.length){y!==c&&u.setEdge(c,y,{weight:0,minlen:f});return}var x=t.addBorderNode(u,"_bt"),S=t.addBorderNode(u,"_bb"),_=u.node(y);u.setParent(x,y),_.borderTop=x,u.setParent(S,y),_.borderBottom=S,e.forEach(b,function(E){r(u,c,f,d,p,v,E);var O=u.node(E),T=O.borderTop?O.borderTop:E,N=O.borderBottom?O.borderBottom:E,k=O.borderTop?d:2*d,M=T!==N?1:p-v[y]+1;u.setEdge(x,T,{weight:k,minlen:M,nestingEdge:!0}),u.setEdge(N,S,{weight:k,minlen:M,nestingEdge:!0})}),u.parent(y)||u.setEdge(c,x,{weight:0,minlen:p+v[y]})}function i(u){var c={};function f(d,p){var v=u.children(d);v&&v.length&&e.forEach(v,function(y){f(y,p+1)}),c[d]=p}return e.forEach(u.children(),function(d){f(d,1)}),c}function a(u){return e.reduce(u.edges(),function(c,f){return c+u.edge(f).weight},0)}function o(u){var c=u.graph();u.removeNode(c.nestingRoot),delete c.nestingRoot,e.forEach(u.edges(),function(f){var d=u.edge(f);d.nestingEdge&&u.removeEdge(f)})}return gS}var vS,VB;function Dye(){if(VB)return vS;VB=1;var e=Ct(),t=nr();vS=n;function n(i){function a(o){var u=i.children(o),c=i.node(o);if(u.length&&e.forEach(u,a),e.has(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(var f=c.minRank,d=c.maxRank+1;f<d;++f)r(i,"borderLeft","_bl",o,c,f),r(i,"borderRight","_br",o,c,f)}}e.forEach(i.children(),a)}function r(i,a,o,u,c,f){var d={width:0,height:0,rank:f,borderType:a},p=c[a][f-1],v=t.addDummyNode(i,"border",d,o);c[a][f]=v,i.setParent(v,u),p&&i.setEdge(p,v,{weight:1})}return vS}var yS,XB;function Pye(){if(XB)return yS;XB=1;var e=Ct();yS={adjust:t,undo:n};function t(f){var d=f.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&r(f)}function n(f){var d=f.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&a(f),(d==="lr"||d==="rl")&&(u(f),r(f))}function r(f){e.forEach(f.nodes(),function(d){i(f.node(d))}),e.forEach(f.edges(),function(d){i(f.edge(d))})}function i(f){var d=f.width;f.width=f.height,f.height=d}function a(f){e.forEach(f.nodes(),function(d){o(f.node(d))}),e.forEach(f.edges(),function(d){var p=f.edge(d);e.forEach(p.points,o),e.has(p,"y")&&o(p)})}function o(f){f.y=-f.y}function u(f){e.forEach(f.nodes(),function(d){c(f.node(d))}),e.forEach(f.edges(),function(d){var p=f.edge(d);e.forEach(p.points,c),e.has(p,"x")&&c(p)})}function c(f){var d=f.x;f.x=f.y,f.y=d}return yS}var bS,QB;function Lye(){if(QB)return bS;QB=1;var e=Ct();bS=t;function t(n){var r={},i=e.filter(n.nodes(),function(f){return!n.children(f).length}),a=e.max(e.map(i,function(f){return n.node(f).rank})),o=e.map(e.range(a+1),function(){return[]});function u(f){if(!e.has(r,f)){r[f]=!0;var d=n.node(f);o[d.rank].push(f),e.forEach(n.successors(f),u)}}var c=e.sortBy(i,function(f){return n.node(f).rank});return e.forEach(c,u),o}return bS}var xS,ZB;function qye(){if(ZB)return xS;ZB=1;var e=Ct();xS=t;function t(r,i){for(var a=0,o=1;o<i.length;++o)a+=n(r,i[o-1],i[o]);return a}function n(r,i,a){for(var o=e.zipObject(a,e.map(a,function(v,y){return y})),u=e.flatten(e.map(i,function(v){return e.sortBy(e.map(r.outEdges(v),function(y){return{pos:o[y.w],weight:r.edge(y).weight}}),"pos")}),!0),c=1;c<a.length;)c<<=1;var f=2*c-1;c-=1;var d=e.map(new Array(f),function(){return 0}),p=0;return e.forEach(u.forEach(function(v){var y=v.pos+c;d[y]+=v.weight;for(var b=0;y>0;)y%2&&(b+=d[y+1]),y=y-1>>1,d[y]+=v.weight;p+=v.weight*b})),p}return xS}var wS,JB;function Iye(){if(JB)return wS;JB=1;var e=Ct();wS=t;function t(n,r){return e.map(r,function(i){var a=n.inEdges(i);if(a.length){var o=e.reduce(a,function(u,c){var f=n.edge(c),d=n.node(c.v);return{sum:u.sum+f.weight*d.order,weight:u.weight+f.weight}},{sum:0,weight:0});return{v:i,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:i}})}return wS}var SS,e$;function Bye(){if(e$)return SS;e$=1;var e=Ct();SS=t;function t(i,a){var o={};e.forEach(i,function(c,f){var d=o[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:f};e.isUndefined(c.barycenter)||(d.barycenter=c.barycenter,d.weight=c.weight)}),e.forEach(a.edges(),function(c){var f=o[c.v],d=o[c.w];!e.isUndefined(f)&&!e.isUndefined(d)&&(d.indegree++,f.out.push(o[c.w]))});var u=e.filter(o,function(c){return!c.indegree});return n(u)}function n(i){var a=[];function o(f){return function(d){d.merged||(e.isUndefined(d.barycenter)||e.isUndefined(f.barycenter)||d.barycenter>=f.barycenter)&&r(f,d)}}function u(f){return function(d){d.in.push(f),--d.indegree===0&&i.push(d)}}for(;i.length;){var c=i.pop();a.push(c),e.forEach(c.in.reverse(),o(c)),e.forEach(c.out,u(c))}return e.map(e.filter(a,function(f){return!f.merged}),function(f){return e.pick(f,["vs","i","barycenter","weight"])})}function r(i,a){var o=0,u=0;i.weight&&(o+=i.barycenter*i.weight,u+=i.weight),a.weight&&(o+=a.barycenter*a.weight,u+=a.weight),i.vs=a.vs.concat(i.vs),i.barycenter=o/u,i.weight=u,i.i=Math.min(a.i,i.i),a.merged=!0}return SS}var _S,t$;function $ye(){if(t$)return _S;t$=1;var e=Ct(),t=nr();_S=n;function n(a,o){var u=t.partition(a,function(x){return e.has(x,"barycenter")}),c=u.lhs,f=e.sortBy(u.rhs,function(x){return-x.i}),d=[],p=0,v=0,y=0;c.sort(i(!!o)),y=r(d,f,y),e.forEach(c,function(x){y+=x.vs.length,d.push(x.vs),p+=x.barycenter*x.weight,v+=x.weight,y=r(d,f,y)});var b={vs:e.flatten(d,!0)};return v&&(b.barycenter=p/v,b.weight=v),b}function r(a,o,u){for(var c;o.length&&(c=e.last(o)).i<=u;)o.pop(),a.push(c.vs),u++;return u}function i(a){return function(o,u){return o.barycenter<u.barycenter?-1:o.barycenter>u.barycenter?1:a?u.i-o.i:o.i-u.i}}return _S}var jS,n$;function zye(){if(n$)return jS;n$=1;var e=Ct(),t=Iye(),n=Bye(),r=$ye();jS=i;function i(u,c,f,d){var p=u.children(c),v=u.node(c),y=v?v.borderLeft:void 0,b=v?v.borderRight:void 0,x={};y&&(p=e.filter(p,function(N){return N!==y&&N!==b}));var S=t(u,p);e.forEach(S,function(N){if(u.children(N.v).length){var k=i(u,N.v,f,d);x[N.v]=k,e.has(k,"barycenter")&&o(N,k)}});var _=n(S,f);a(_,x);var E=r(_,d);if(y&&(E.vs=e.flatten([y,E.vs,b],!0),u.predecessors(y).length)){var O=u.node(u.predecessors(y)[0]),T=u.node(u.predecessors(b)[0]);e.has(E,"barycenter")||(E.barycenter=0,E.weight=0),E.barycenter=(E.barycenter*E.weight+O.order+T.order)/(E.weight+2),E.weight+=2}return E}function a(u,c){e.forEach(u,function(f){f.vs=e.flatten(f.vs.map(function(d){return c[d]?c[d].vs:d}),!0)})}function o(u,c){e.isUndefined(u.barycenter)?(u.barycenter=c.barycenter,u.weight=c.weight):(u.barycenter=(u.barycenter*u.weight+c.barycenter*c.weight)/(u.weight+c.weight),u.weight+=c.weight)}return jS}var ES,r$;function Uye(){if(r$)return ES;r$=1;var e=Ct(),t=xi().Graph;ES=n;function n(i,a,o){var u=r(i),c=new t({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(f){return i.node(f)});return e.forEach(i.nodes(),function(f){var d=i.node(f),p=i.parent(f);(d.rank===a||d.minRank<=a&&a<=d.maxRank)&&(c.setNode(f),c.setParent(f,p||u),e.forEach(i[o](f),function(v){var y=v.v===f?v.w:v.v,b=c.edge(y,f),x=e.isUndefined(b)?0:b.weight;c.setEdge(y,f,{weight:i.edge(v).weight+x})}),e.has(d,"minRank")&&c.setNode(f,{borderLeft:d.borderLeft[a],borderRight:d.borderRight[a]}))}),c}function r(i){for(var a;i.hasNode(a=e.uniqueId("_root")););return a}return ES}var AS,i$;function Hye(){if(i$)return AS;i$=1;var e=Ct();AS=t;function t(n,r,i){var a={},o;e.forEach(i,function(u){for(var c=n.parent(u),f,d;c;){if(f=n.parent(c),f?(d=a[f],a[f]=c):(d=o,o=c),d&&d!==c){r.setEdge(d,c);return}c=f}})}return AS}var OS,a$;function Fye(){if(a$)return OS;a$=1;var e=Ct(),t=Lye(),n=qye(),r=zye(),i=Uye(),a=Hye(),o=xi().Graph,u=nr();OS=c;function c(v){var y=u.maxRank(v),b=f(v,e.range(1,y+1),"inEdges"),x=f(v,e.range(y-1,-1,-1),"outEdges"),S=t(v);p(v,S);for(var _=Number.POSITIVE_INFINITY,E,O=0,T=0;T<4;++O,++T){d(O%2?b:x,O%4>=2),S=u.buildLayerMatrix(v);var N=n(v,S);N<_&&(T=0,E=e.cloneDeep(S),_=N)}p(v,E)}function f(v,y,b){return e.map(y,function(x){return i(v,x,b)})}function d(v,y){var b=new o;e.forEach(v,function(x){var S=x.graph().root,_=r(x,S,b,y);e.forEach(_.vs,function(E,O){x.node(E).order=O}),a(x,b,_.vs)})}function p(v,y){e.forEach(y,function(b){e.forEach(b,function(x,S){v.node(x).order=S})})}return OS}var TS,s$;function Gye(){if(s$)return TS;s$=1;var e=Ct(),t=xi().Graph,n=nr();TS={positionX:b,findType1Conflicts:r,findType2Conflicts:i,addConflict:o,hasConflict:u,verticalAlignment:c,horizontalCompaction:f,alignCoordinates:v,findSmallestWidthAlignment:p,balance:y};function r(_,E){var O={};function T(N,k){var M=0,D=0,R=N.length,C=e.last(k);return e.forEach(k,function(L,I){var U=a(_,L),P=U?_.node(U).order:R;(U||L===C)&&(e.forEach(k.slice(D,I+1),function(H){e.forEach(_.predecessors(H),function(B){var F=_.node(B),G=F.order;(G<M||P<G)&&!(F.dummy&&_.node(H).dummy)&&o(O,B,H)})}),D=I+1,M=P)}),k}return e.reduce(E,T),O}function i(_,E){var O={};function T(k,M,D,R,C){var L;e.forEach(e.range(M,D),function(I){L=k[I],_.node(L).dummy&&e.forEach(_.predecessors(L),function(U){var P=_.node(U);P.dummy&&(P.order<R||P.order>C)&&o(O,U,L)})})}function N(k,M){var D=-1,R,C=0;return e.forEach(M,function(L,I){if(_.node(L).dummy==="border"){var U=_.predecessors(L);U.length&&(R=_.node(U[0]).order,T(M,C,I,D,R),C=I,D=R)}T(M,C,M.length,R,k.length)}),M}return e.reduce(E,N),O}function a(_,E){if(_.node(E).dummy)return e.find(_.predecessors(E),function(O){return _.node(O).dummy})}function o(_,E,O){if(E>O){var T=E;E=O,O=T}var N=_[E];N||(_[E]=N={}),N[O]=!0}function u(_,E,O){if(E>O){var T=E;E=O,O=T}return e.has(_[E],O)}function c(_,E,O,T){var N={},k={},M={};return e.forEach(E,function(D){e.forEach(D,function(R,C){N[R]=R,k[R]=R,M[R]=C})}),e.forEach(E,function(D){var R=-1;e.forEach(D,function(C){var L=T(C);if(L.length){L=e.sortBy(L,function(B){return M[B]});for(var I=(L.length-1)/2,U=Math.floor(I),P=Math.ceil(I);U<=P;++U){var H=L[U];k[C]===C&&R<M[H]&&!u(O,C,H)&&(k[H]=C,k[C]=N[C]=N[H],R=M[H])}}})}),{root:N,align:k}}function f(_,E,O,T,N){var k={},M=d(_,E,O,N),D=N?"borderLeft":"borderRight";function R(I,U){for(var P=M.nodes(),H=P.pop(),B={};H;)B[H]?I(H):(B[H]=!0,P.push(H),P=P.concat(U(H))),H=P.pop()}function C(I){k[I]=M.inEdges(I).reduce(function(U,P){return Math.max(U,k[P.v]+M.edge(P))},0)}function L(I){var U=M.outEdges(I).reduce(function(H,B){return Math.min(H,k[B.w]-M.edge(B))},Number.POSITIVE_INFINITY),P=_.node(I);U!==Number.POSITIVE_INFINITY&&P.borderType!==D&&(k[I]=Math.max(k[I],U))}return R(C,M.predecessors.bind(M)),R(L,M.successors.bind(M)),e.forEach(T,function(I){k[I]=k[O[I]]}),k}function d(_,E,O,T){var N=new t,k=_.graph(),M=x(k.nodesep,k.edgesep,T);return e.forEach(E,function(D){var R;e.forEach(D,function(C){var L=O[C];if(N.setNode(L),R){var I=O[R],U=N.edge(I,L);N.setEdge(I,L,Math.max(M(_,C,R),U||0))}R=C})}),N}function p(_,E){return e.minBy(e.values(E),function(O){var T=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;return e.forIn(O,function(k,M){var D=S(_,M)/2;T=Math.max(k+D,T),N=Math.min(k-D,N)}),T-N})}function v(_,E){var O=e.values(E),T=e.min(O),N=e.max(O);e.forEach(["u","d"],function(k){e.forEach(["l","r"],function(M){var D=k+M,R=_[D],C;if(R!==E){var L=e.values(R);C=M==="l"?T-e.min(L):N-e.max(L),C&&(_[D]=e.mapValues(R,function(I){return I+C}))}})})}function y(_,E){return e.mapValues(_.ul,function(O,T){if(E)return _[E.toLowerCase()][T];var N=e.sortBy(e.map(_,T));return(N[1]+N[2])/2})}function b(_){var E=n.buildLayerMatrix(_),O=e.merge(r(_,E),i(_,E)),T={},N;e.forEach(["u","d"],function(M){N=M==="u"?E:e.values(E).reverse(),e.forEach(["l","r"],function(D){D==="r"&&(N=e.map(N,function(I){return e.values(I).reverse()}));var R=(M==="u"?_.predecessors:_.successors).bind(_),C=c(_,N,O,R),L=f(_,N,C.root,C.align,D==="r");D==="r"&&(L=e.mapValues(L,function(I){return-I})),T[M+D]=L})});var k=p(_,T);return v(T,k),y(T,_.graph().align)}function x(_,E,O){return function(T,N,k){var M=T.node(N),D=T.node(k),R=0,C;if(R+=M.width/2,e.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":C=-M.width/2;break;case"r":C=M.width/2;break}if(C&&(R+=O?C:-C),C=0,R+=(M.dummy?E:_)/2,R+=(D.dummy?E:_)/2,R+=D.width/2,e.has(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":C=D.width/2;break;case"r":C=-D.width/2;break}return C&&(R+=O?C:-C),C=0,R}}function S(_,E){return _.node(E).width}return TS}var NS,o$;function Kye(){if(o$)return NS;o$=1;var e=Ct(),t=nr(),n=Gye().positionX;NS=r;function r(a){a=t.asNonCompoundGraph(a),i(a),e.forEach(n(a),function(o,u){a.node(u).x=o})}function i(a){var o=t.buildLayerMatrix(a),u=a.graph().ranksep,c=0;e.forEach(o,function(f){var d=e.max(e.map(f,function(p){return a.node(p).height}));e.forEach(f,function(p){a.node(p).y=c+d/2}),c+=d+u})}return NS}var kS,l$;function Wye(){if(l$)return kS;l$=1;var e=Ct(),t=Tye(),n=Nye(),r=Cye(),i=nr().normalizeRanks,a=Mye(),o=nr().removeEmptyRanks,u=Rye(),c=Dye(),f=Pye(),d=Fye(),p=Kye(),v=nr(),y=xi().Graph;kS=b;function b(V,Q){var Y=Q&&Q.debugTiming?v.time:v.notime;Y("layout",function(){var J=Y("  buildLayoutGraph",function(){return R(V)});Y("  runLayout",function(){x(J,Y)}),Y("  updateInputGraph",function(){S(V,J)})})}function x(V,Q){Q("    makeSpaceForEdgeLabels",function(){C(V)}),Q("    removeSelfEdges",function(){K(V)}),Q("    acyclic",function(){t.run(V)}),Q("    nestingGraph.run",function(){u.run(V)}),Q("    rank",function(){r(v.asNonCompoundGraph(V))}),Q("    injectEdgeLabelProxies",function(){L(V)}),Q("    removeEmptyRanks",function(){o(V)}),Q("    nestingGraph.cleanup",function(){u.cleanup(V)}),Q("    normalizeRanks",function(){i(V)}),Q("    assignRankMinMax",function(){I(V)}),Q("    removeEdgeLabelProxies",function(){U(V)}),Q("    normalize.run",function(){n.run(V)}),Q("    parentDummyChains",function(){a(V)}),Q("    addBorderSegments",function(){c(V)}),Q("    order",function(){d(V)}),Q("    insertSelfEdges",function(){$(V)}),Q("    adjustCoordinateSystem",function(){f.adjust(V)}),Q("    position",function(){p(V)}),Q("    positionSelfEdges",function(){W(V)}),Q("    removeBorderNodes",function(){G(V)}),Q("    normalize.undo",function(){n.undo(V)}),Q("    fixupEdgeLabelCoords",function(){B(V)}),Q("    undoCoordinateSystem",function(){f.undo(V)}),Q("    translateGraph",function(){P(V)}),Q("    assignNodeIntersects",function(){H(V)}),Q("    reversePoints",function(){F(V)}),Q("    acyclic.undo",function(){t.undo(V)})}function S(V,Q){e.forEach(V.nodes(),function(Y){var J=V.node(Y),ae=Q.node(Y);J&&(J.x=ae.x,J.y=ae.y,Q.children(Y).length&&(J.width=ae.width,J.height=ae.height))}),e.forEach(V.edges(),function(Y){var J=V.edge(Y),ae=Q.edge(Y);J.points=ae.points,e.has(ae,"x")&&(J.x=ae.x,J.y=ae.y)}),V.graph().width=Q.graph().width,V.graph().height=Q.graph().height}var _=["nodesep","edgesep","ranksep","marginx","marginy"],E={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},O=["acyclicer","ranker","rankdir","align"],T=["width","height"],N={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function R(V){var Q=new y({multigraph:!0,compound:!0}),Y=ne(V.graph());return Q.setGraph(e.merge({},E,X(Y,_),e.pick(Y,O))),e.forEach(V.nodes(),function(J){var ae=ne(V.node(J));Q.setNode(J,e.defaults(X(ae,T),N)),Q.setParent(J,V.parent(J))}),e.forEach(V.edges(),function(J){var ae=ne(V.edge(J));Q.setEdge(J,e.merge({},M,X(ae,k),e.pick(ae,D)))}),Q}function C(V){var Q=V.graph();Q.ranksep/=2,e.forEach(V.edges(),function(Y){var J=V.edge(Y);J.minlen*=2,J.labelpos.toLowerCase()!=="c"&&(Q.rankdir==="TB"||Q.rankdir==="BT"?J.width+=J.labeloffset:J.height+=J.labeloffset)})}function L(V){e.forEach(V.edges(),function(Q){var Y=V.edge(Q);if(Y.width&&Y.height){var J=V.node(Q.v),ae=V.node(Q.w),re={rank:(ae.rank-J.rank)/2+J.rank,e:Q};v.addDummyNode(V,"edge-proxy",re,"_ep")}})}function I(V){var Q=0;e.forEach(V.nodes(),function(Y){var J=V.node(Y);J.borderTop&&(J.minRank=V.node(J.borderTop).rank,J.maxRank=V.node(J.borderBottom).rank,Q=e.max(Q,J.maxRank))}),V.graph().maxRank=Q}function U(V){e.forEach(V.nodes(),function(Q){var Y=V.node(Q);Y.dummy==="edge-proxy"&&(V.edge(Y.e).labelRank=Y.rank,V.removeNode(Q))})}function P(V){var Q=Number.POSITIVE_INFINITY,Y=0,J=Number.POSITIVE_INFINITY,ae=0,re=V.graph(),de=re.marginx||0,ye=re.marginy||0;function le(Oe){var Se=Oe.x,be=Oe.y,Ce=Oe.width,xe=Oe.height;Q=Math.min(Q,Se-Ce/2),Y=Math.max(Y,Se+Ce/2),J=Math.min(J,be-xe/2),ae=Math.max(ae,be+xe/2)}e.forEach(V.nodes(),function(Oe){le(V.node(Oe))}),e.forEach(V.edges(),function(Oe){var Se=V.edge(Oe);e.has(Se,"x")&&le(Se)}),Q-=de,J-=ye,e.forEach(V.nodes(),function(Oe){var Se=V.node(Oe);Se.x-=Q,Se.y-=J}),e.forEach(V.edges(),function(Oe){var Se=V.edge(Oe);e.forEach(Se.points,function(be){be.x-=Q,be.y-=J}),e.has(Se,"x")&&(Se.x-=Q),e.has(Se,"y")&&(Se.y-=J)}),re.width=Y-Q+de,re.height=ae-J+ye}function H(V){e.forEach(V.edges(),function(Q){var Y=V.edge(Q),J=V.node(Q.v),ae=V.node(Q.w),re,de;Y.points?(re=Y.points[0],de=Y.points[Y.points.length-1]):(Y.points=[],re=ae,de=J),Y.points.unshift(v.intersectRect(J,re)),Y.points.push(v.intersectRect(ae,de))})}function B(V){e.forEach(V.edges(),function(Q){var Y=V.edge(Q);if(e.has(Y,"x"))switch((Y.labelpos==="l"||Y.labelpos==="r")&&(Y.width-=Y.labeloffset),Y.labelpos){case"l":Y.x-=Y.width/2+Y.labeloffset;break;case"r":Y.x+=Y.width/2+Y.labeloffset;break}})}function F(V){e.forEach(V.edges(),function(Q){var Y=V.edge(Q);Y.reversed&&Y.points.reverse()})}function G(V){e.forEach(V.nodes(),function(Q){if(V.children(Q).length){var Y=V.node(Q),J=V.node(Y.borderTop),ae=V.node(Y.borderBottom),re=V.node(e.last(Y.borderLeft)),de=V.node(e.last(Y.borderRight));Y.width=Math.abs(de.x-re.x),Y.height=Math.abs(ae.y-J.y),Y.x=re.x+Y.width/2,Y.y=J.y+Y.height/2}}),e.forEach(V.nodes(),function(Q){V.node(Q).dummy==="border"&&V.removeNode(Q)})}function K(V){e.forEach(V.edges(),function(Q){if(Q.v===Q.w){var Y=V.node(Q.v);Y.selfEdges||(Y.selfEdges=[]),Y.selfEdges.push({e:Q,label:V.edge(Q)}),V.removeEdge(Q)}})}function $(V){var Q=v.buildLayerMatrix(V);e.forEach(Q,function(Y){var J=0;e.forEach(Y,function(ae,re){var de=V.node(ae);de.order=re+J,e.forEach(de.selfEdges,function(ye){v.addDummyNode(V,"selfedge",{width:ye.label.width,height:ye.label.height,rank:de.rank,order:re+ ++J,e:ye.e,label:ye.label},"_se")}),delete de.selfEdges})})}function W(V){e.forEach(V.nodes(),function(Q){var Y=V.node(Q);if(Y.dummy==="selfedge"){var J=V.node(Y.e.v),ae=J.x+J.width/2,re=J.y,de=Y.x-ae,ye=J.height/2;V.setEdge(Y.e,Y.label),V.removeNode(Q),Y.label.points=[{x:ae+2*de/3,y:re-ye},{x:ae+5*de/6,y:re-ye},{x:ae+de,y:re},{x:ae+5*de/6,y:re+ye},{x:ae+2*de/3,y:re+ye}],Y.label.x=Y.x,Y.label.y=Y.y}})}function X(V,Q){return e.mapValues(e.pick(V,Q),Number)}function ne(V){var Q={};return e.forEach(V,function(Y,J){Q[J.toLowerCase()]=Y}),Q}return kS}var CS,u$;function Yye(){if(u$)return CS;u$=1;var e=Ct(),t=nr(),n=xi().Graph;CS={debugOrdering:r};function r(i){var a=t.buildLayerMatrix(i),o=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(i.nodes(),function(u){o.setNode(u,{label:u}),o.setParent(u,"layer"+i.node(u).rank)}),e.forEach(i.edges(),function(u){o.setEdge(u.v,u.w,{},u.name)}),e.forEach(a,function(u,c){var f="layer"+c;o.setNode(f,{rank:"same"}),e.reduce(u,function(d,p){return o.setEdge(d,p,{style:"invis"}),p})}),o}return CS}var MS,c$;function Vye(){return c$||(c$=1,MS="0.8.5"),MS}var RS,f$;function Xye(){return f$||(f$=1,RS={graphlib:xi(),layout:Wye(),debug:Yye(),util:{time:nr().time,notime:nr().notime},version:Vye()}),RS}var Qye=Xye();const op=Or(Qye),d$=200,h$=80;function Zye(e){const{data:t}=Ie();return j.useMemo(()=>{if(!t||!t.defs[e])return{nodes:[],edges:[]};const{defs:n,state:r}=t,i=new Map,a=new Set,o=(d,p=null)=>{if(i.has(d))return;const v=p||d.split(".")[0],y=d.replace(new RegExp(`^${v}\\.`),""),b=n[v]?.[y];b&&i.set(d,{id:d,type:"universalNode",data:{id:d,type:v,def:b},position:{x:0,y:0}})};Object.keys(n[e]).forEach(d=>o(`${e}.${d}`));for(const d of i.values()){const p=String(d.data.def.require||"").split(/[,;]/).map(v=>v.trim()).filter(Boolean);for(const v of p)o(v),i.has(v)&&a.add(JSON.stringify({id:`e-${v}-${d.id}`,source:v,target:d.id,type:"smoothstep",markerEnd:{type:"arrowclosed"}}))}const u=new op.graphlib.Graph;u.setDefaultEdgeLabel(()=>({})),u.setGraph({rankdir:"LR",nodesep:25,ranksep:50}),i.forEach(d=>u.setNode(d.id,{width:d$,height:h$}));const c=Array.from(a).map(d=>JSON.parse(d));return c.forEach(d=>u.setEdge(d.source,d.target)),op.layout(u),{nodes:Array.from(i.values()).map(d=>{const p=u.node(d.id);return p&&(d.position={x:p.x-d$/2,y:p.y-h$/2}),d}),edges:c}},[t,e])}function Jye(e,t){return e.startsWith("bld.")?t.bld?.[e]?"owned":"unowned":e.startsWith("rsd.")?da(e,t)?"owned":"unowned":e.startsWith("add.")?t.add?.[e]?"owned":"unowned":"neutral"}function ebe({data:e}){const{state:t}=Ie().data,{id:n,type:r,def:i}=e,o=`universal-node--${Jye(n,t)}`;return m.jsxs("div",{className:`universal-node ${o}`,title:n,children:[m.jsx(ds,{type:"target",position:Pe.Left}),m.jsxs("div",{className:"universal-node__header",children:[m.jsx("div",{className:"icon",children:i.emoji||i.icon||""}),m.jsx("div",{className:"title",children:i.name||n.split(".").pop()})]}),m.jsx("div",{className:"universal-node__type",children:r}),m.jsx(ds,{type:"source",position:Pe.Right})]})}function tbe({type:e}){const t=j.useMemo(()=>({universalNode:ebe}),[]),{nodes:n,edges:r}=Zye(e);return n.length===0?m.jsx("div",{className:"sub",style:{padding:"20px"},children:"Ingen data for denne kategori."}):m.jsx("div",{style:{height:"100%",width:"100%"},children:m.jsxs(EA,{nodes:n,edges:r,nodeTypes:t,fitView:!0,proOptions:{hideAttribution:!0},children:[m.jsx(EH,{}),m.jsx(_H,{})]})})}function nbe(){const[e,t]=j.useState("bld"),n=[{key:"bld",label:"Bygninger"},{key:"add",label:"Addons"},{key:"rsd",label:"Research"},{key:"rcp",label:"Recipes"}];return m.jsxs("section",{className:"",style:{display:"flex",flexDirection:"column",height:"calc(100vh - 50px)"},children:[m.jsxs("div",{className:"section-head",children:[" Teknologitr",m.jsx("div",{className:"tabs",style:{marginLeft:"auto"},children:n.map(r=>m.jsx("button",{className:`tab ${e===r.key?"active":""}`,onClick:()=>t(r.key),children:r.label},r.key))})]}),m.jsx("div",{className:"section-body",style:{flexGrow:1,padding:0},children:m.jsx(tbe,{type:e})})]})}const p$=250,m$=120;function rbe(e,t){if(!e||!e.rsd)return{initialNodes:[],initialEdges:[]};const n=e.rsd,r=new Map,i=[];for(const[u,c]of Object.entries(n)){const f=`rsd.${u}`;r.set(f,{id:f,type:"researchNode",data:{def:c,id:f},position:{x:0,y:0}})}for(const[u,c]of Object.entries(n)){const f=`rsd.${u}`,d=String(c.require||"").split(/[,;]/).map(p=>p.trim()).filter(Boolean);for(const p of d)if(p.startsWith("rsd.")){const v=p;r.has(v)&&i.push({id:`e-${v}-${f}`,source:v,target:f,type:"smoothstep"})}}const a=new op.graphlib.Graph;return a.setDefaultEdgeLabel(()=>({})),a.setGraph({rankdir:"LR"}),r.forEach(u=>a.setNode(u.id,{width:p$,height:m$})),i.forEach(u=>a.setEdge(u.source,u.target)),op.layout(a),{initialNodes:Array.from(r.values()).map(u=>{const c=a.node(u.id);u.position={x:c.x-p$/2,y:c.y-m$/2};const d=i.filter(p=>p.target===u.id).map(p=>p.source).every(p=>da(p,t));return da(u.id,t)?u.data.status="completed":d?u.data.status="available":u.data.status="locked",u}),initialEdges:i}}function ibe(e,t){for(const n of Object.values(Yr(e))){let r=0;if(n.id.startsWith("ani."))r=t.ani?.[n.id]?.quantity??0;else{const i=n.id.replace(/^res\./,"");r=t.inv?.solid?.[i]??t.inv?.liquid?.[i]??0}if(r<n.amount)return{ok:!1}}return{ok:!0}}function abe(e,t){if(e.startsWith("bld.")){const n=Jn(e);return n?(mi("bld",t)[n.series]||0)>=n.level:!1}if(e.startsWith("rsd."))return da(e,t);if(e.startsWith("add.")){const n=e.match(/^add\.(.+)\.l(\d+)$/);return n?(mi("add",t)[`add.${n[1]}`]||0)>=Number(n[2]):!1}return!1}function sbe(e){const{data:t}=Ie();if(!t||!e)return{allOk:!1};const{state:n}=t,{price:r,req:i,footprintDelta:a}=e,o=ibe(r,n).ok;let u=!0;for(const f of String(i||"").split(/[,;]/).filter(Boolean))if(!abe(f,n)){u=!1;break}let c=!0;if((a||0)<0){const f=n.cap?.footprint||{};c=(f.total||0)-Math.abs(f.used||0)>=Math.abs(a)}return{allOk:o&&u&&c}}function obe({data:e}){const{def:t,status:n}=e,{allOk:r}=sbe({price:t.cost,req:t.require,footprintDelta:t.stats?.footprint}),i=`research-node--${n}`;return m.jsxs("div",{className:`research-node ${i}`,children:[m.jsx(ds,{type:"target",position:Pe.Left}),m.jsxs("div",{className:"research-node__header",children:[m.jsx("div",{className:"icon",children:t.icon||""}),m.jsx("div",{className:"title",children:t.name})]}),m.jsx("div",{className:"research-node__body",children:m.jsx("div",{className:"sub",children:t.desc})}),m.jsxs("div",{className:"research-node__footer",children:[n==="available"&&r&&m.jsx("button",{className:"btn primary small",children:"Research"}),n==="available"&&!r&&m.jsx("button",{className:"btn small",disabled:!0,children:"Need more"}),n==="locked"&&m.jsx("span",{className:"badge",children:"Locked"}),n==="completed"&&m.jsx("span",{className:"badge owned",children:" Completed"})]}),m.jsx(ds,{type:"source",position:Pe.Right})]})}function lbe(){const{data:e,isLoading:t,error:n}=Ie(),r=j.useMemo(()=>({researchNode:obe}),[]),{initialNodes:i,initialEdges:a}=j.useMemo(()=>e?rbe(e.defs,e.state):{initialNodes:[],initialEdges:[]},[e]);return t?m.jsx("div",{className:"sub",children:"Bygger forskningstr..."}):n?m.jsx("div",{className:"sub",children:"Fejl."}):m.jsx("div",{style:{height:"calc(100vh - 50px)",width:"100%"},children:m.jsx(jA,{children:m.jsxs(EA,{nodes:i,edges:a,nodeTypes:r,fitView:!0,proOptions:{hideAttribution:!0},children:[m.jsx(EH,{}),m.jsx(_H,{})]})})})}function ube(){const e=[{key:"research",label:"Research",icon:"",Component:lbe},{key:"techtree",label:"TechTree",icon:"",Component:nbe}];return m.jsx(d8,{tabs:e,defaultKey:"research",preserve:!1,className:"my-tabs"})}function cbe({endpoint:e="/world-spil/backend/api/user/profile.php"}){const[t,n]=j.useState(null),[r,i]=j.useState(null),[a,o]=j.useState(!0);return j.useEffect(()=>{let u=!1;async function c(){o(!0),i(null);try{const f=await fetch(e,{credentials:"include"});if(!f.ok)throw new Error(`HTTP ${f.status}`);const d=await f.json();if(!d.ok)throw new Error(d.error?.message||"Ukendt fejl");u||n(d.data)}catch(f){u||i(String(f.message||f))}finally{u||o(!1)}}return c(),()=>{u=!0}},[e]),a?m.jsxs("div",{className:"panel",children:[m.jsx("div",{className:"section-head",children:"Bruger"}),m.jsx("div",{className:"section-body",children:"Indlser"})]}):r?m.jsxs("div",{className:"panel",children:[m.jsx("div",{className:"section-head",children:"Bruger"}),m.jsx("div",{className:"section-body error",children:r})]}):t?m.jsxs("div",{className:"panel",children:[m.jsx("div",{className:"section-head",children:"Bruger"}),m.jsxs("div",{className:"section-body",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Brugernavn:"})," ",t.username]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Email:"})," ",t.email||""]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Rolle:"})," ",t.role||"player"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Oprettet:"})," ",t.created_at||""]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Sidst logget ind:"})," ",t.last_login||""]})]})]}):null}function Ri(e){return e<10?"0"+e:""+e}function fbe(){const e=new Date;return`${e.getUTCFullYear()}-${Ri(e.getUTCMonth()+1)}-${Ri(e.getUTCDate())} ${Ri(e.getUTCHours())}:${Ri(e.getUTCMinutes())}:${Ri(e.getUTCSeconds())}`}function dbe(e){const t=new Date(Date.now()-e*24*3600*1e3);return`${t.getUTCFullYear()}-${Ri(t.getUTCMonth()+1)}-${Ri(t.getUTCDate())} ${Ri(t.getUTCHours())}:${Ri(t.getUTCMinutes())}:${Ri(t.getUTCSeconds())}`}function Gd(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return`${t}t ${n}m`}function DS(e,t){const n=String(t||""),r=n.startsWith("res.")?n.slice(4):n;return e?.res?.[r]?.name||e?.res?.[r]?.display_name||n}function hbe({endpoint:e="/world-spil/backend/api/log/stats.php",defaultDays:t=30}){const{data:n}=Ie(),r=n?.defs||null,[i,a]=j.useState(dbe(t)),[o,u]=j.useState(fbe()),[c,f]=j.useState(null),[d,p]=j.useState(null),[v,y]=j.useState(!1),[b,x]=j.useState(10);async function S(){y(!0),p(null);try{const R=new URL(e,window.location.origin);R.searchParams.set("date_from",i),R.searchParams.set("date_to",o),R.searchParams.set("top_n",String(b));const C=await fetch(R.toString(),{credentials:"include"});if(!C.ok)throw new Error(`HTTP ${C.status}`);const L=await C.json();if(!L.ok)throw new Error(L.error?.message||"Ukendt fejl");f(L)}catch(R){p(String(R.message||R))}finally{y(!1)}}j.useEffect(()=>{S()},[e,i,o,b]);const _=c?.yields?.top||[],E=c?.consumed?.top||[],O=c?.net?.top||[],T=c?.series?.builds_per_day||[],N=c?.series?.yield_per_day||[],k=j.useMemo(()=>_.map(R=>({...R,name:DS(r,R.res_id)})),[_,r]),M=j.useMemo(()=>E.map(R=>({...R,name:DS(r,R.res_id)})),[E,r]),D=j.useMemo(()=>O.map(R=>({...R,name:DS(r,R.res_id)})),[O,r]);return m.jsxs("div",{className:"panel",children:[m.jsx("div",{className:"section-head",children:"Statistik"}),m.jsxs("div",{className:"section-body",children:[m.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"flex-end",marginBottom:12},children:[m.jsxs("div",{children:[m.jsx("label",{children:"Fra (UTC)"}),m.jsx("br",{}),m.jsx("input",{type:"text",value:i,onChange:R=>a(R.target.value),placeholder:"YYYY-MM-DD HH:MM:SS",style:{width:200}})]}),m.jsxs("div",{children:[m.jsx("label",{children:"Til (UTC)"}),m.jsx("br",{}),m.jsx("input",{type:"text",value:o,onChange:R=>u(R.target.value),placeholder:"YYYY-MM-DD HH:MM:SS",style:{width:200}})]}),m.jsxs("div",{children:[m.jsx("label",{children:"Top N"}),m.jsx("br",{}),m.jsx("input",{type:"number",min:1,max:100,value:b,onChange:R=>x(Number(R.target.value||10)),style:{width:80}})]}),m.jsx("button",{onClick:S,disabled:v,children:v?"Opdaterer":"Opdater"})]}),d&&m.jsx("div",{className:"error",style:{marginBottom:12},children:d}),c&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"flex",gap:24,flexWrap:"wrap"},children:[m.jsxs("div",{children:[m.jsx("h4",{children:"Bygninger"}),m.jsxs("div",{children:["Frdige: ",c.totals?.buildings_completed??0]}),m.jsxs("div",{children:["Afbrudt: ",c.totals?.by_scope?.bld?.canceled??0]}),m.jsxs("div",{children:["Tid brugt: ",Gd(c.totals?.time_spent_seconds?.building??0)]})]}),m.jsxs("div",{children:[m.jsx("h4",{children:"Addons"}),m.jsxs("div",{children:["Frdige: ",c.totals?.addons_completed??0]}),m.jsxs("div",{children:["Afbrudt: ",c.totals?.by_scope?.add?.canceled??0]}),m.jsxs("div",{children:["Tid brugt: ",Gd(c.totals?.time_spent_seconds?.addons??0)]})]}),m.jsxs("div",{children:[m.jsx("h4",{children:"Research"}),m.jsxs("div",{children:["Frdige: ",c.totals?.research_completed??0]}),m.jsxs("div",{children:["Afbrudt: ",c.totals?.by_scope?.rsd?.canceled??0]}),m.jsxs("div",{children:["Tid brugt: ",Gd(c.totals?.time_spent_seconds?.research??0)]})]}),m.jsxs("div",{children:[m.jsx("h4",{children:"Samlet"}),m.jsxs("div",{children:["Frdige i alt: ",c.totals?.builds_completed??0]}),m.jsxs("div",{children:["Afbrudt i alt: ",c.totals?.builds_canceled??0]}),m.jsxs("div",{children:["Tid brugt i alt: ",Gd(c.totals?.time_spent_seconds?.total??0)]})]})]}),m.jsx("hr",{}),m.jsx("h4",{children:"Top ressourcer (Yield)"}),m.jsx("ul",{children:k.map(R=>m.jsxs("li",{children:[R.name,"  ",R.amount.toLocaleString()]},R.res_id))}),m.jsx("h4",{children:"Top ressourcer (Forbrug)"}),m.jsx("ul",{children:M.map(R=>m.jsxs("li",{children:[R.name,"  ",R.amount.toLocaleString()]},R.res_id))}),m.jsx("h4",{children:"Top nettogevinst"}),m.jsx("ul",{children:D.map(R=>m.jsxs("li",{children:[R.name,"  ",R.net.toLocaleString()," (Y:",R.yielded.toLocaleString()," | F:",R.consumed.toLocaleString(),")"]},R.res_id))}),m.jsx("hr",{}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(250px,1fr) minmax(250px,1fr)",gap:20},children:[m.jsxs("div",{children:[m.jsx("h4",{children:"Byg-events pr. dag"}),m.jsx(z_,{width:"100%",height:240,children:m.jsxs(Hle,{data:T,children:[m.jsx(Hh,{strokeDasharray:"3 3"}),m.jsx(Gh,{dataKey:"ymd"}),m.jsx(Wh,{allowDecimals:!1}),m.jsx($_,{}),m.jsx(Ep,{}),m.jsx(K_,{type:"monotone",dataKey:"completed",stroke:"#4caf50",name:"Frdige"}),m.jsx(K_,{type:"monotone",dataKey:"canceled",stroke:"#f44336",name:"Afbrudt"})]})})]}),m.jsxs("div",{children:[m.jsx("h4",{children:"Yield pr. dag (sum)"}),m.jsx(z_,{width:"100%",height:240,children:m.jsxs(G4,{data:N,children:[m.jsx(Hh,{strokeDasharray:"3 3"}),m.jsx(Gh,{dataKey:"date"}),m.jsx(Wh,{}),m.jsx($_,{}),m.jsx(GE,{dataKey:"total_yield",fill:"#2196f3",name:"Yield"})]})})]})]})]})]})]})}function pbe(){return m.jsxs("div",{id:"user-page",style:{display:"grid",gridTemplateColumns:"1fr",gap:16},children:[m.jsx(cbe,{}),m.jsx(hbe,{})]})}function PS(e){const t=Number(e);return Number.isFinite(t)?Math.trunc(t):0}function LS(...e){for(const t of e)if(t!=null)return t}function mbe(){const e=Ie()||{},t=e?.data||e?.gameState?.data||null,n=t&&(t.state||t)||{},r=LS(n?.user?.field_id,n?.profile?.field_id,n?.field_id,n?.map?.field_id),i=LS(n?.user?.x_coord,n?.profile?.x_coord,n?.x_coord,n?.map?.x_coord,n?.user?.x,n?.profile?.x,n?.x),a=LS(n?.user?.y_coord,n?.profile?.y_coord,n?.y_coord,n?.map?.y_coord,n?.user?.y,n?.profile?.y,n?.y);return j.useMemo(()=>{let o=PS(r),u=PS(i),c=PS(a);return(!u||!c)&&o>0?(u=(o-1)%50+1,c=Math.floor((o-1)/50)+1):o<=0&&u>0&&c>0&&(o=(c-1)*50+u),{hasClaim:u>0&&c>0||o>0,x:u,y:c,field:o}},[r,i,a])}const Kd=50,g$=50;async function gbe(){const e=["/src/assets/data/world.map001.land001.xml","/backend/data/xml/world.map001.land001.xml"];for(const t of e)try{const n=await fetch(t,{cache:"no-store"});if(!n.ok)continue;const r=n.headers.get("content-type")||"",i=await n.text();if(!(/xml/i.test(r)||i.trim().startsWith("<?xml")||i.includes("<world")))continue;return i}catch{}throw new Error("Kunne ikke hente gyldig XML for kortet.")}function vbe(e){const t=new DOMParser().parseFromString(e,"application/xml");if(t.querySelector("parsererror"))throw new Error("Ugyldigt XML-format i world.map001.land001.xml");const r=t.querySelector("world");if(!r)throw new Error("XML mangler <world>-elementet.");const i=r.getAttribute("id")!=null?Number(r.getAttribute("id")):null,a=Array.from(t.querySelectorAll("tile"));if(a.length===0)throw new Error("XML indeholder ingen <tile>-elementer.");const o=Object.create(null);let u=null,c=null;for(const f of a){const d=Number(f.getAttribute("field")),p=Number(f.getAttribute("x")),v=Number(f.getAttribute("y")),y=f.getAttribute("map"),b=f.getAttribute("land"),x=String(f.getAttribute("mult")||""),S=y!=null?Number(y):null,_=b!=null?Number(b):null;u==null&&S!=null&&(u=S),c==null&&_!=null&&(c=_);const E=Object.create(null);for(const T of x.split(";")){const[N,k]=T.split(":"),M=(N||"").trim();if(!M)continue;const D=Number((k||"").trim());E[M]=isNaN(D)?null:D}const O={forest:E.forest??null,field:E.field??null,mining:E.mining??null,water:E.water??null};o[d]={n:d,x:p,y:v,map:S,land:_,multipliers:O,multRaw:E}}return{worldId:i,mapId:u,landId:c,tilesByIndex:o}}const E5="/world-spil/backend/api";async function ybe(){const e=await fetch(`${E5}/map/occupied.php`,{credentials:"include",cache:"no-store"});let t=null;try{t=await e.json()}catch{}if(!e.ok||t?.ok===!1)throw new Error(t?.error?.message||`HTTP ${e.status}`);return Array.isArray(t?.data?.occupied)?t.data.occupied:[]}async function bbe(e){const t=await fetch(`${E5}/map/choose_tile.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});let n=null;try{n=await t.json()}catch{}if(!t.ok||n?.ok===!1)throw new Error(n?.error?.message||`HTTP ${t.status}`);return n?.data||{}}function xbe(){const{hasClaim:e}=mbe(),{refreshData:t}=Ie()||{},n=j.useRef(null),[r,i]=j.useState({visible:!1,left:0,top:0,tile:null,occupiedBy:null}),[a,o]=j.useState(null),[u,c]=j.useState({open:!1,tile:null,occupiedBy:null}),[f,d]=j.useState(!0),[p,v]=j.useState(""),[y,b]=j.useState({worldId:null,mapId:null,landId:null}),[x,S]=j.useState(()=>Object.create(null)),[_,E]=j.useState(()=>new Set),[O,T]=j.useState(()=>new Map);j.useEffect(()=>{try{localStorage.setItem("ws.map.seen","1")}catch{}},[]),j.useEffect(()=>{e&&typeof window<"u"&&window.location?.hash!=="#/dashboard"&&(window.location.hash="#/dashboard")},[e]);const N=j.useMemo(()=>{const I=[];for(let U=1;U<=g$;U++)for(let P=1;P<=Kd;P++){const H=(U-1)*Kd+P;I.push({n:H,x:P,y:U})}return I},[]);j.useEffect(()=>{let I=!0;return(async()=>{try{d(!0);const U=await gbe();if(!I)return;const P=vbe(U);S(P.tilesByIndex||{}),b({worldId:P.worldId,mapId:P.mapId,landId:P.landId}),v("")}catch(U){v(U?.message||"Fejl ved indlsning af kortdata.")}finally{I&&d(!1)}})(),()=>{I=!1}},[]),j.useEffect(()=>{let I=!0;return(async()=>{try{const U=await ybe();if(!I)return;const P=new Set,H=new Map;for(const B of U){const F=Number(B.field??0)||(Number(B.y)-1)*Kd+Number(B.x);P.add(F),H.set(F,B)}E(P),T(H)}catch(U){console.warn("Kunne ikke hente optagede felter:",U?.message||U)}})(),()=>{I=!1}},[]);const k=I=>{const U=n.current;if(!U)return;const P=U.getBoundingClientRect(),H=I.clientX-P.left+12,B=I.clientY-P.top+12;i(F=>({...F,left:H,top:B}))},M=I=>{const U=x[I]||null,P=O.get(I)||null;i(H=>({...H,visible:!0,tile:U,occupiedBy:P}))},D=()=>i(I=>({...I,visible:!1})),R=I=>{if(_.has(I))return;const U=x[I]||null,P=O.get(I)||null;o(I),c({open:!0,tile:U,occupiedBy:P})};async function C(){try{const I=u.tile;if(!I)return;const U={world_id:y.worldId??1,map_id:y.mapId??1,field:I.n,x:I.x,y:I.y,mul_forest:I.multipliers.forest??null,mul_field:I.multipliers.field??null,mul_mining:I.multipliers.mining??null,mul_water:I.multipliers.water??null};await bbe(U),E(P=>new Set(P).add(I.n)),T(P=>{const H=new Map(P);return H.set(I.n,{...U}),H}),c({open:!1,tile:I,occupiedBy:null}),t&&t()}catch(I){alert(I?.message||"Kunne ikke gemme dit valg.")}}function L(){o(null),c({open:!1,tile:null,occupiedBy:null})}return e?null:m.jsxs("section",{className:"panel section",children:[m.jsx("div",{className:"section-head",children:y.worldId!=null||y.mapId!=null?m.jsxs(m.Fragment,{children:["World: ",y.worldId??"","  Map: ",y.mapId??""]}):"Map"}),m.jsxs("div",{className:"section-body",children:[f&&m.jsx("div",{className:"sub",children:"Indlser kortdata"}),p&&m.jsx("div",{className:"sub",style:{color:"var(--price-bad)"},children:p}),m.jsxs("div",{className:"map-wrapper",ref:n,children:[m.jsx(iA,{src:"/assets/art/world.map001.land001.detail.png",fallback:"/assets/art/placeholder.big.png",alt:"World map",className:"map-image"}),m.jsx("div",{className:"grid-overlay",style:{gridTemplateColumns:`repeat(${Kd}, 1fr)`,gridTemplateRows:`repeat(${g$}, 1fr)`},children:N.map(I=>{const U=I.n,P=a===U,H=_.has(U);return m.jsx("div",{className:`grid-cell${P?" selected":""}${H?" occupied":""}`,onMouseEnter:()=>M(U),onMouseLeave:D,onMouseMove:k,onClick:()=>R(U)},U)})}),r.visible&&r.tile&&m.jsxs("div",{className:"hover-info",style:{left:r.left,top:r.top},children:[m.jsxs("div",{style:{fontWeight:700,marginBottom:4},children:["Felt: ",r.tile.n,", X: ",r.tile.x,", Y: ",r.tile.y]}),m.jsxs("div",{children:["Forest: ",r.tile.multipliers.forest]}),m.jsxs("div",{children:["Field: ",r.tile.multipliers.field]}),m.jsxs("div",{children:["Mining: ",r.tile.multipliers.mining]}),m.jsxs("div",{children:["Water: ",r.tile.multipliers.water]}),_.has(r.tile.n)&&m.jsxs("div",{style:{marginTop:6,color:"#ffb3b3"},children:["Optaget",r.occupiedBy?.username?` af ${r.occupiedBy.username}`:""]})]}),u.open&&u.tile&&m.jsx("div",{className:"modal-backdrop",onClick:L,children:m.jsxs("div",{className:"modal",onClick:I=>I.stopPropagation(),children:[m.jsx("div",{className:"modal-title",children:"Vlg dette felt som base?"}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{style:{marginBottom:8},children:[m.jsx("strong",{children:"Felt:"})," ",u.tile.n,", ",m.jsx("strong",{children:"X:"})," ",u.tile.x,", ",m.jsx("strong",{children:"Y:"})," ",u.tile.y]}),m.jsxs("div",{children:["Forest: ",u.tile.multipliers.forest]}),m.jsxs("div",{children:["Field: ",u.tile.multipliers.field]}),m.jsxs("div",{children:["Mining: ",u.tile.multipliers.mining]}),m.jsxs("div",{children:["Water: ",u.tile.multipliers.water]})]}),m.jsxs("div",{className:"modal-actions",children:[m.jsx("button",{className:"btn",onClick:L,children:"Annuller"}),m.jsx("button",{className:"btn btn-primary",onClick:C,children:"Vlg felt"})]})]})})]})]})]})}const A5="ws:boards:v2",wbe=j.createContext(null);function Sbe(){try{const e=localStorage.getItem(A5);return e?JSON.parse(e):{openMap:{},zOrder:[],layout:{}}}catch{return{openMap:{},zOrder:[],layout:{}}}}function _be(e){try{localStorage.setItem(A5,JSON.stringify(e))}catch{}}function jbe(e,t){switch(t.type){case"OPEN":{const n={...e.openMap,[t.id]:!0},r=e.zOrder.filter(i=>i!==t.id).concat(t.id);return{...e,openMap:n,zOrder:r}}case"CLOSE":{const n={...e.openMap,[t.id]:!1},r=e.zOrder.filter(i=>i!==t.id);return{...e,openMap:n,zOrder:r}}case"TOGGLE":{const n=!!e.openMap[t.id],r={...e.openMap,[t.id]:!n},i=n?e.zOrder.filter(a=>a!==t.id):e.zOrder.filter(a=>a!==t.id).concat(t.id);return{...e,openMap:r,zOrder:i}}case"BRING_TO_FRONT":{const n=e.zOrder.filter(r=>r!==t.id).concat(t.id);return{...e,zOrder:n}}case"SET_LAYOUT":{const n=e.layout[t.id]||{},r={...e.layout,[t.id]:{...n,...t.patch}};return{...e,layout:r}}case"RESET_LAYOUT":{const n={...e.layout};return delete n[t.id],{...e,layout:n}}default:return e}}function Ebe({children:e}){const[t,n]=j.useReducer(jbe,void 0,Sbe);j.useEffect(()=>{_be(t)},[t]);const r=j.useMemo(()=>({isOpen:i=>!!t.openMap[i],open:i=>n({type:"OPEN",id:i}),close:i=>n({type:"CLOSE",id:i}),toggle:i=>n({type:"TOGGLE",id:i}),bringToFront:i=>n({type:"BRING_TO_FRONT",id:i}),topId:t.zOrder[t.zOrder.length-1]||null,zIndexFor:(i,a=1e3)=>{const o=t.zOrder.findIndex(u=>u===i);return o<0?a:a+o},getLayout:i=>t.layout[i]||null,setLayout:(i,a)=>n({type:"SET_LAYOUT",id:i,patch:a}),resetLayout:i=>n({type:"RESET_LAYOUT",id:i})}),[t]);return m.jsx(wbe.Provider,{value:r,children:e})}function Abe(){const{refreshData:e}=Ie()||{},[t,n]=j.useState(!1),[r,i]=j.useState(null),[a,o]=j.useState(null),u=j.useCallback(async()=>{n(!0),o(null);try{const f=await(await fetch("/world-spil/backend/api/actions/reproduction_tick.php",{credentials:"include"})).json();if(f.ok){i(f.data);try{typeof e=="function"&&await Promise.resolve().then(()=>e())}catch(d){console.error("useCitizensReproductionTick: refreshData failed",d)}setTimeout(()=>{try{lp()}catch(d){console.error("useCitizensReproductionTick: triggerSummaryRefresh failed",d)}},0)}else o(f.error?.message||"Ukendt fejl")}catch(c){o(c?.message||String(c))}finally{n(!1)}},[e]);return{loading:t,result:r,error:a,tick:u}}function Wd({title:e,map:t}){const n=Object.entries(t||{}).filter(([,r])=>Number(r)>0);return n.length===0?null:m.jsxs("div",{style:{marginBottom:8},children:[m.jsx("div",{style:{fontWeight:600,marginBottom:4},children:e}),m.jsx("ul",{style:{margin:0,paddingLeft:14},children:n.map(([r,i])=>m.jsxs("li",{children:[r,": ",je(i)]},r))})]})}function Obe({open:e,onClose:t,data:n}){if(!e)return null;const r={births:0,immigration:0,emigration:0,deaths:0},i={births:{},immigration:{},emigration:{},deaths:{},homeless:{toHomeless:0,rehoused:0}};for(const a of n?.byCycle||[]){r.births+=Number(a.births?.total||0),r.immigration+=Number(a.immigration?.total||0),r.emigration+=Number(a.emigration?.total||0),r.deaths+=Number(a.deaths?.total||0);for(const[o,u]of Object.entries(a.births?.byGroup||{}))i.births[o]=(i.births[o]||0)+u;for(const[o,u]of Object.entries(a.immigration?.byGroup||{}))i.immigration[o]=(i.immigration[o]||0)+u;for(const[o,u]of Object.entries(a.emigration?.byGroup||{}))i.emigration[o]=(i.emigration[o]||0)+u;for(const[o,u]of Object.entries(a.deaths?.byGroup||{}))i.deaths[o]=(i.deaths[o]||0)+u;i.homeless.toHomeless+=Number(a.homeless?.toHomeless||0),i.homeless.rehoused+=Number(a.homeless?.rehoused||0)}return m.jsx(xj,{isOpen:e,onCancel:t,onConfirm:t,confirmText:"OK",cancelText:"Luk",title:"Befolkning  sidste krsel",children:m.jsxs("div",{style:{maxHeight:400,overflowY:"auto"},children:[m.jsxs("div",{style:{marginBottom:8},children:[m.jsxs("div",{children:["Cycles: ",je(n?.cycles||0)]}),m.jsxs("div",{children:["Fdsler: ",je(r.births)," | Tilflyttere: ",je(r.immigration)," | Fraflyttere: ",je(r.emigration)," | Ddsfald: ",je(r.deaths)]}),m.jsxs("div",{children:["Hjemlse: +",je(i.homeless.toHomeless)," / Rehoused: ",je(i.homeless.rehoused)]})]}),m.jsx(Wd,{title:"Fdsler (til)",map:i.births}),m.jsx(Wd,{title:"Tilflyttere (til)",map:i.immigration}),m.jsx(Wd,{title:"Fraflyttere (fra)",map:i.emigration}),m.jsx(Wd,{title:"Ddsfald (fra)",map:i.deaths})]})})}function Tbe(){const{data:e,loading:t}=Ie(),{loading:n,result:r,error:i,tick:a}=Abe(),[o,u]=j.useState(!1),c=Number(e?.state?.user?.currentstage??0);return j.useEffect(()=>{!t&&c<2&&(window.location.href="/")},[t,c]),t?m.jsx("div",{className:"panel",children:"Indlser data..."}):c<2?null:m.jsxs("div",{className:"pop-tick-page",style:{maxWidth:680,margin:"0 auto",padding:24},children:[m.jsx("h1",{children:"Befolkningssystem  tick"}),m.jsx("div",{style:{marginBottom:16,fontSize:16},children:"Her kan du kre befolkningsticket manuelt og se detaljer for sidste run. Siden er kun tilgngelig p stage 2+."}),m.jsx("button",{onClick:a,disabled:n,style:{padding:"8px 24px",background:n?"#eee":"#cdf1d8",border:"1px solid #b1e4c1",borderRadius:7,fontWeight:600,cursor:n?"wait":"pointer"},children:n?"Krer tick...":"Kr befolkningstjek"}),i&&m.jsx("div",{style:{color:"red",marginTop:8},children:i}),r&&m.jsxs("div",{className:"pop-tick-result",style:{marginTop:24,padding:20,background:"#1f2937",borderRadius:10},children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Cycles:"})," ",r.cycles]}),m.jsxs("div",{children:["Fdsler: ",m.jsx("b",{children:r?.byCycle?.reduce((f,d)=>f+Number(d.births?.total||0),0)})," | Tilflyttere: ",m.jsx("b",{children:r?.byCycle?.reduce((f,d)=>f+Number(d.immigration?.total||0),0)})," | Fraflyttere: ",m.jsx("b",{children:r?.byCycle?.reduce((f,d)=>f+Number(d.emigration?.total||0),0)})," | Ddsfald: ",m.jsx("b",{children:r?.byCycle?.reduce((f,d)=>f+Number(d.deaths?.total||0),0)})]}),m.jsx("button",{style:{marginTop:8},onClick:()=>u(!0),children:"Vis detaljeret tick-summary"})]}),m.jsx(Obe,{open:o,onClose:()=>u(!1),data:r})]})}const qS=[{key:"adultsPolice",label:"Police"},{key:"adultsFire",label:"Fire"},{key:"adultsHealth",label:"Health"},{key:"adultsSoldier",label:"Soldier"},{key:"adultsGovernment",label:"Government"},{key:"adultsPolitician",label:"Politician"},{key:"adultsWorker",label:"Worker"}],Nbe={adultsPolice:"adultsPoliceCapacity",adultsFire:"adultsFireCapacity",adultsHealth:"adultsHealthCapacity",adultsSoldier:"adultsSoldierCapacity",adultsGovernment:"adultsGovernmentCapacity",adultsPolitician:"adultsPoliticianCapacity",adultsWorker:"adultsWorkerCapacity"};function kbe(){const{refreshData:e}=Ie()||{},[t,n]=j.useState(!0),[r,i]=j.useState(!1),[a,o]=j.useState(""),[u,c]=j.useState(null),[f,d]=j.useState({}),p=zt(),[v,y]=j.useState({show:!1,msg:"",variant:"success"});j.useEffect(()=>{if(!v.show)return;const N=setTimeout(()=>y(k=>({...k,show:!1})),3200);return()=>clearTimeout(N)},[v.show]);const b=async()=>{n(!0),o("");try{const k=await(await fetch("/world-spil/backend/api/actions/citizens_assignments.php",{credentials:"include"})).json();if(!k?.ok)throw new Error(k?.error?.message||"Ukendt fejl");const M=k.data;c(M);const D={};qS.forEach(({key:R})=>{D[R]=Number(M?.citizens?.[R]??0)}),d(D)}catch(N){o(N?.message||String(N))}finally{n(!1)}};j.useEffect(()=>{b()},[]);const x=j.useMemo(()=>{if(!u)return{totalAdults:0,totalNonHomeless:0,sumAssign:0,unemployedWillBe:0};const{citizens:N={}}=u,k=Number(N.adultsUnemployed||0)+Number(N.adultsWorker||0)+Number(N.adultsPolice||0)+Number(N.adultsFire||0)+Number(N.adultsHealth||0)+Number(N.adultsSoldier||0)+Number(N.adultsGovernment||0)+Number(N.adultsPolitician||0)+Number(N.adultsHomeless||0),M=k-Number(N.adultsHomeless||0),D=qS.reduce((C,{key:L})=>C+Number(f[L]||0),0),R=Math.max(0,M-D);return{totalAdults:k,totalNonHomeless:M,sumAssign:D,unemployedWillBe:R}},[u,f]),S=N=>{if(!u)return{cap:0,max:0};const k=Nbe[N],M=k?Number(u?.caps?.[k]??0):0,D=Number(u?.citizens?.[N]??0);if(N==="adultsPolitician"){const C=Number(u?.limits?.politicianMax??0),L=Math.max(M,D,C);return{cap:L,max:L}}const R=Math.max(M,D);return{cap:R,max:R}},_=(N,k)=>{const M=Math.max(0,Math.floor(Number(k)||0));d(D=>({...D,[N]:M}))},E=async()=>{if(u){i(!0),o("");try{const M=await(await fetch("/world-spil/backend/api/actions/citizens_assignments.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignments:f})})).json();if(!M?.ok)throw new Error(M?.error?.message||"Ukendt fejl");await(typeof e=="function"?e():Promise.resolve()),lp(),await b(),y({show:!0,msg:"Gemte tildeling",variant:"success"})}catch(N){o(N?.message||String(N)),y({show:!0,msg:"Fejl ved gem",variant:"error"})}finally{i(!1)}}};if(t)return m.jsx("div",{className:"panel",style:{maxWidth:760,margin:"0 auto"},children:"Indlser..."});if(a)return m.jsxs("div",{className:"panel",style:{maxWidth:760,margin:"0 auto",color:"red"},children:["Fejl: ",a]});if(!u)return null;const O=Number(u?.limits?.politicianMax||0),T=Number(f.adultsPolitician||0);return m.jsxs("div",{className:"",style:{margin:"0 auto"},children:[m.jsx("div",{className:"section-head",children:"Borgere  Tildeling (Adults)"}),m.jsxs("div",{className:"section-body",children:[m.jsxs("div",{style:{margin:"10px 0",padding:10,background:"#1f2937",borderRadius:8,textAlign:"center"},children:[m.jsxs("span",{title:p("ui.citizens.baby.h1"),"aria-label":p("ui.emoji.baby.h1"),children:[p("ui.emoji.baby.h1")," ",u?.citizens?.baby," | "]}),m.jsxs("span",{title:p("ui.citizens.kids_street.h1"),"aria-label":p("ui.emoji.kids_street.h1"),children:[p("ui.emoji.kids_street.h1")," ",u?.citizens?.kidsStreet," | "]}),m.jsxs("span",{title:p("ui.citizens.kids_student.h1"),"aria-label":p("ui.emoji.kids_student.h1"),children:[p("ui.emoji.kids_student.h1")," ",u?.citizens?.kidsStudent," | "]}),m.jsxs("span",{title:p("ui.citizens.young_worker.h1"),"aria-label":p("ui.emoji.young_worker.h1"),children:[p("ui.emoji.young_worker.h1")," ",u?.citizens?.youngWorker," | "]}),m.jsxs("span",{title:p("ui.citizens.young_student.h1"),"aria-label":p("ui.emoji.young_student.h1"),children:[p("ui.emoji.young_student.h1")," ",u?.citizens?.youngStudent," | "]}),m.jsxs("span",{title:p("ui.citizens.adults_police.h1"),"aria-label":p("ui.emoji.adults_police.h1"),children:[p("ui.emoji.adults_police.h1")," ",u?.citizens?.adultsPolice," | "]}),m.jsxs("span",{title:p("ui.citizens.adults_fire.h1"),"aria-label":p("ui.emoji.adults_fire.h1"),children:[p("ui.emoji.adults_fire.h1")," ",u?.citizens?.adultsFire," | "]}),m.jsxs("span",{title:p("ui.citizens.adults_health.h1"),"aria-label":p("ui.emoji.adults_health.h1"),children:[p("ui.emoji.adults_health.h1")," ",u?.citizens?.adultsHealth," | "]}),m.jsxs("span",{title:p("ui.citizens.adults_soldier.h1"),"aria-label":p("ui.emoji.adults_soldier.h1"),children:[p("ui.emoji.adults_soldier.h1")," ",u?.citizens?.adultsSoldier," | "]}),m.jsxs("span",{title:p("ui.citizens.adults_government.h1"),"aria-label":p("ui.emoji.adults_government.h1"),children:[p("ui.emoji.adults_government.h1")," ",u?.citizens?.adultsGovernment," | "]}),m.jsxs("span",{title:p("ui.citizens.adults_politician.h1"),"aria-label":p("ui.emoji.adults_politician.h1"),children:[p("ui.emoji.adults_politician.h1")," ",u?.citizens?.adultsPolitician," | "]}),m.jsxs("span",{title:p("ui.citizens.adults_worker.h1"),"aria-label":p("ui.emoji.adults_worker.h1"),children:[p("ui.emoji.adults_worker.h1")," ",u?.citizens?.adultsWorker," | "]}),m.jsxs("span",{title:p("ui.citizens.old.h1"),"aria-label":p("ui.emoji.old.h1"),children:[p("ui.emoji.old.h1")," ",u?.citizens?.old," | "]})]}),m.jsxs("div",{style:{marginBottom:12,fontSize:14},children:["- adultsHomeless styres automatisk og kan ikke tildeles.",m.jsx("br",{}),"- adultsUnemployed sttes automatisk som rest, nr du gemmer.",m.jsx("br",{}),"- Politician har ratio-grnse pr. pbegyndt X borgere.",m.jsx("br",{}),"- Pt har du  ",m.jsx("b",{children:x.totalAdults})," voksne borgere i alt, hvoraf  ",m.jsx("b",{children:u?.citizens?.adultsHomeless||0})," er hjemlse."]}),m.jsxs("div",{style:{margin:"10px 0",padding:10,background:"#1f2937",borderRadius:8},children:[m.jsxs("div",{children:["Ikke-hjemlse voksne (til rdighed): ",m.jsx("b",{children:x.totalNonHomeless})]}),m.jsxs("div",{children:["Sum af dine valg: ",m.jsx("b",{children:x.sumAssign})," ",x.sumAssign>x.totalNonHomeless?m.jsx("span",{style:{color:"red"},children:"(for hjt)"}):null]}),m.jsxs("div",{children:["Unemployed (bliver): ",m.jsx("b",{children:x.unemployedWillBe})]})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:14},children:qS.map(({key:N,label:k})=>{const{cap:M}=S(N),D=Number(f[N]||0),R=D>M,C=N==="adultsPolitician"&&O>0?m.jsxs("span",{style:{marginLeft:8,fontSize:12,color:T>O?"red":"#666"},children:["Max tilladt: ",O]}):null;return m.jsxs("div",{children:[m.jsxs("label",{style:{display:"block",fontWeight:600,marginBottom:4},children:[k,": ",D," ",m.jsxs("span",{style:{color:R?"red":"#666"},children:["(cap: ",M,")"]})," ",C]}),m.jsx("input",{type:"range",min:0,max:M,value:D,onChange:L=>_(N,L.target.value),style:{width:"100%"}})]},N)})}),m.jsxs("div",{style:{marginTop:16,display:"flex",gap:12},children:[m.jsx("button",{onClick:E,disabled:r,style:{padding:"8px 16px"},children:r?"Gemmer...":"Gem tildeling"}),m.jsx("button",{onClick:b,disabled:r,style:{padding:"8px 16px"},children:"Genindls"})]}),m.jsx("div",{style:{marginTop:20,fontSize:13,color:"#666"},children:"Bemrk: Serveren dobbelttjekker caps og totaler og kan nedskalere dine valg samt stte et skjult antal crime pr. rolle."})]}),v.show&&m.jsxs("div",{role:"status","aria-live":"polite",style:{position:"fixed",right:20,bottom:20,zIndex:9999,minWidth:260,maxWidth:420,background:v.variant==="success"?"linear-gradient(180deg,#0f1724,#07101a)":"linear-gradient(180deg,#3b0b0b,#2a0707)",color:"#fff",padding:"12px 14px",borderRadius:12,boxShadow:"0 8px 30px rgba(2,6,23,0.6)",display:"flex",alignItems:"center",gap:12,transform:v.show?"translateY(0)":"translateY(8px)",opacity:v.show?1:0,transition:"transform 260ms cubic-bezier(.2,.9,.2,1), opacity 260ms ease"},children:[m.jsx("div",{style:{fontSize:20},children:v.variant==="success"?"":""}),m.jsxs("div",{style:{flex:1},children:[m.jsx("div",{style:{fontWeight:700,marginBottom:4},children:v.msg}),m.jsx("div",{style:{fontSize:12,opacity:.85},children:"Dine ndringer er gemt p serveren."})]}),m.jsx("button",{onClick:()=>y(N=>({...N,show:!1})),"aria-label":"Luk",style:{background:"transparent",border:"none",color:"#cbd5e1",cursor:"pointer",fontSize:16,padding:6},children:""})]})]})}function Cbe(){const{data:e}=Ie(),t=Number(e?.state?.user?.currentstage??0),n=[{key:"assignments",label:"Borger tildeling",icon:"",Component:kbe,minStage:2},{key:"reppopulation",label:"Borger status",icon:"",Component:Tbe,minStage:2}],r=n.filter(a=>t>=(a.minStage||0)),i=r[0]?.key||n[0].key;return m.jsx(d8,{tabs:r,defaultKey:i,preserve:!1,className:"my-tabs"})}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:O5,setPrototypeOf:v$,isFrozen:Mbe,getPrototypeOf:Rbe,getOwnPropertyDescriptor:Dbe}=Object;let{freeze:Hn,seal:Qr,create:T5}=Object,{apply:hj,construct:pj}=typeof Reflect<"u"&&Reflect;Hn||(Hn=function(t){return t});Qr||(Qr=function(t){return t});hj||(hj=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return t.apply(n,i)});pj||(pj=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const Yd=Fn(Array.prototype.forEach),Pbe=Fn(Array.prototype.lastIndexOf),y$=Fn(Array.prototype.pop),tc=Fn(Array.prototype.push),Lbe=Fn(Array.prototype.splice),rh=Fn(String.prototype.toLowerCase),IS=Fn(String.prototype.toString),BS=Fn(String.prototype.match),nc=Fn(String.prototype.replace),qbe=Fn(String.prototype.indexOf),Ibe=Fn(String.prototype.trim),ci=Fn(Object.prototype.hasOwnProperty),$n=Fn(RegExp.prototype.test),rc=Bbe(TypeError);function Fn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return hj(e,t,r)}}function Bbe(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pj(e,n)}}function tt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rh;v$&&v$(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const a=n(i);a!==i&&(Mbe(t)||(t[r]=a),i=a)}e[i]=!0}return e}function $be(e){for(let t=0;t<e.length;t++)ci(e,t)||(e[t]=null);return e}function ia(e){const t=T5(null);for(const[n,r]of O5(e))ci(e,n)&&(Array.isArray(r)?t[n]=$be(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=ia(r):t[n]=r);return t}function ic(e,t){for(;e!==null;){const r=Dbe(e,t);if(r){if(r.get)return Fn(r.get);if(typeof r.value=="function")return Fn(r.value)}e=Rbe(e)}function n(){return null}return n}const b$=Hn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$S=Hn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zS=Hn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zbe=Hn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),US=Hn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ube=Hn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),x$=Hn(["#text"]),w$=Hn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),HS=Hn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),S$=Hn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Vd=Hn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Hbe=Qr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Fbe=Qr(/<%[\w\W]*|[\w\W]*%>/gm),Gbe=Qr(/\$\{[\w\W]*/gm),Kbe=Qr(/^data-[\-\w.\u00B7-\uFFFF]+$/),Wbe=Qr(/^aria-[\-\w]+$/),N5=Qr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ybe=Qr(/^(?:\w+script|data):/i),Vbe=Qr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),k5=Qr(/^html$/i),Xbe=Qr(/^[a-z][.\w]*(-[.\w]+)+$/i);var _$=Object.freeze({__proto__:null,ARIA_ATTR:Wbe,ATTR_WHITESPACE:Vbe,CUSTOM_ELEMENT:Xbe,DATA_ATTR:Kbe,DOCTYPE_NAME:k5,ERB_EXPR:Fbe,IS_ALLOWED_URI:N5,IS_SCRIPT_OR_DATA:Ybe,MUSTACHE_EXPR:Hbe,TMPLIT_EXPR:Gbe});const ac={element:1,text:3,progressingInstruction:7,comment:8,document:9},Qbe=function(){return typeof window>"u"?null:window},Zbe=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},j$=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function C5(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qbe();const t=Re=>C5(Re);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==ac.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:u,Element:c,NodeFilter:f,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:v,trustedTypes:y}=e,b=c.prototype,x=ic(b,"cloneNode"),S=ic(b,"remove"),_=ic(b,"nextSibling"),E=ic(b,"childNodes"),O=ic(b,"parentNode");if(typeof o=="function"){const Re=n.createElement("template");Re.content&&Re.content.ownerDocument&&(n=Re.content.ownerDocument)}let T,N="";const{implementation:k,createNodeIterator:M,createDocumentFragment:D,getElementsByTagName:R}=n,{importNode:C}=r;let L=j$();t.isSupported=typeof O5=="function"&&typeof O=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:U,TMPLIT_EXPR:P,DATA_ATTR:H,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:K}=_$;let{IS_ALLOWED_URI:$}=_$,W=null;const X=tt({},[...b$,...$S,...zS,...US,...x$]);let ne=null;const V=tt({},[...w$,...HS,...S$,...Vd]);let Q=Object.seal(T5(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y=null,J=null,ae=!0,re=!0,de=!1,ye=!0,le=!1,Oe=!0,Se=!1,be=!1,Ce=!1,xe=!1,_e=!1,nt=!1,Vt=!0,Ut=!1;const fe="user-content-";let Ee=!0,Ae=!1,De={},Ge=null;const Ne=tt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ke=null;const ot=tt({},["audio","video","img","source","image","track"]);let Mt=null;const jt=tt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Lt="http://www.w3.org/1998/Math/MathML",He="http://www.w3.org/2000/svg",$e="http://www.w3.org/1999/xhtml";let Xe=$e,rn=!1,_n=null;const bs=tt({},[Lt,He,$e],IS);let ti=tt({},["mi","mo","mn","ms","mtext"]),sr=tt({},["annotation-xml"]);const zi=tt({},["title","style","font","a","script"]);let Kn=null;const ni=["application/xhtml+xml","text/html"],Ao="text/html";let Rt=null,Nr=null;const xs=n.createElement("form"),ws=function(te){return te instanceof RegExp||te instanceof Function},Ss=function(){let te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Nr&&Nr===te)){if((!te||typeof te!="object")&&(te={}),te=ia(te),Kn=ni.indexOf(te.PARSER_MEDIA_TYPE)===-1?Ao:te.PARSER_MEDIA_TYPE,Rt=Kn==="application/xhtml+xml"?IS:rh,W=ci(te,"ALLOWED_TAGS")?tt({},te.ALLOWED_TAGS,Rt):X,ne=ci(te,"ALLOWED_ATTR")?tt({},te.ALLOWED_ATTR,Rt):V,_n=ci(te,"ALLOWED_NAMESPACES")?tt({},te.ALLOWED_NAMESPACES,IS):bs,Mt=ci(te,"ADD_URI_SAFE_ATTR")?tt(ia(jt),te.ADD_URI_SAFE_ATTR,Rt):jt,Ke=ci(te,"ADD_DATA_URI_TAGS")?tt(ia(ot),te.ADD_DATA_URI_TAGS,Rt):ot,Ge=ci(te,"FORBID_CONTENTS")?tt({},te.FORBID_CONTENTS,Rt):Ne,Y=ci(te,"FORBID_TAGS")?tt({},te.FORBID_TAGS,Rt):ia({}),J=ci(te,"FORBID_ATTR")?tt({},te.FORBID_ATTR,Rt):ia({}),De=ci(te,"USE_PROFILES")?te.USE_PROFILES:!1,ae=te.ALLOW_ARIA_ATTR!==!1,re=te.ALLOW_DATA_ATTR!==!1,de=te.ALLOW_UNKNOWN_PROTOCOLS||!1,ye=te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,le=te.SAFE_FOR_TEMPLATES||!1,Oe=te.SAFE_FOR_XML!==!1,Se=te.WHOLE_DOCUMENT||!1,xe=te.RETURN_DOM||!1,_e=te.RETURN_DOM_FRAGMENT||!1,nt=te.RETURN_TRUSTED_TYPE||!1,Ce=te.FORCE_BODY||!1,Vt=te.SANITIZE_DOM!==!1,Ut=te.SANITIZE_NAMED_PROPS||!1,Ee=te.KEEP_CONTENT!==!1,Ae=te.IN_PLACE||!1,$=te.ALLOWED_URI_REGEXP||N5,Xe=te.NAMESPACE||$e,ti=te.MATHML_TEXT_INTEGRATION_POINTS||ti,sr=te.HTML_INTEGRATION_POINTS||sr,Q=te.CUSTOM_ELEMENT_HANDLING||{},te.CUSTOM_ELEMENT_HANDLING&&ws(te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),te.CUSTOM_ELEMENT_HANDLING&&ws(te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),te.CUSTOM_ELEMENT_HANDLING&&typeof te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),le&&(re=!1),_e&&(xe=!0),De&&(W=tt({},x$),ne=[],De.html===!0&&(tt(W,b$),tt(ne,w$)),De.svg===!0&&(tt(W,$S),tt(ne,HS),tt(ne,Vd)),De.svgFilters===!0&&(tt(W,zS),tt(ne,HS),tt(ne,Vd)),De.mathMl===!0&&(tt(W,US),tt(ne,S$),tt(ne,Vd))),te.ADD_TAGS&&(W===X&&(W=ia(W)),tt(W,te.ADD_TAGS,Rt)),te.ADD_ATTR&&(ne===V&&(ne=ia(ne)),tt(ne,te.ADD_ATTR,Rt)),te.ADD_URI_SAFE_ATTR&&tt(Mt,te.ADD_URI_SAFE_ATTR,Rt),te.FORBID_CONTENTS&&(Ge===Ne&&(Ge=ia(Ge)),tt(Ge,te.FORBID_CONTENTS,Rt)),Ee&&(W["#text"]=!0),Se&&tt(W,["html","head","body"]),W.table&&(tt(W,["tbody"]),delete Y.tbody),te.TRUSTED_TYPES_POLICY){if(typeof te.TRUSTED_TYPES_POLICY.createHTML!="function")throw rc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw rc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=te.TRUSTED_TYPES_POLICY,N=T.createHTML("")}else T===void 0&&(T=Zbe(y,i)),T!==null&&typeof N=="string"&&(N=T.createHTML(""));Hn&&Hn(te),Nr=te}},or=tt({},[...$S,...zS,...zbe]),Ht=tt({},[...US,...Ube]),fn=function(te){let we=O(te);(!we||!we.tagName)&&(we={namespaceURI:Xe,tagName:"template"});const Te=rh(te.tagName),ct=rh(we.tagName);return _n[te.namespaceURI]?te.namespaceURI===He?we.namespaceURI===$e?Te==="svg":we.namespaceURI===Lt?Te==="svg"&&(ct==="annotation-xml"||ti[ct]):!!or[Te]:te.namespaceURI===Lt?we.namespaceURI===$e?Te==="math":we.namespaceURI===He?Te==="math"&&sr[ct]:!!Ht[Te]:te.namespaceURI===$e?we.namespaceURI===He&&!sr[ct]||we.namespaceURI===Lt&&!ti[ct]?!1:!Ht[Te]&&(zi[Te]||!or[Te]):!!(Kn==="application/xhtml+xml"&&_n[te.namespaceURI]):!1},an=function(te){tc(t.removed,{element:te});try{O(te).removeChild(te)}catch{S(te)}},lr=function(te,we){try{tc(t.removed,{attribute:we.getAttributeNode(te),from:we})}catch{tc(t.removed,{attribute:null,from:we})}if(we.removeAttribute(te),te==="is")if(xe||_e)try{an(we)}catch{}else try{we.setAttribute(te,"")}catch{}},Oo=function(te){let we=null,Te=null;if(Ce)te="<remove></remove>"+te;else{const Et=BS(te,/^[\r\n\t ]+/);Te=Et&&Et[0]}Kn==="application/xhtml+xml"&&Xe===$e&&(te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+te+"</body></html>");const ct=T?T.createHTML(te):te;if(Xe===$e)try{we=new v().parseFromString(ct,Kn)}catch{}if(!we||!we.documentElement){we=k.createDocument(Xe,"template",null);try{we.documentElement.innerHTML=rn?N:ct}catch{}}const Ft=we.body||we.documentElement;return te&&Te&&Ft.insertBefore(n.createTextNode(Te),Ft.childNodes[0]||null),Xe===$e?R.call(we,Se?"html":"body")[0]:Se?we.documentElement:Ft},To=function(te){return M.call(te.ownerDocument||te,te,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},Oa=function(te){return te instanceof p&&(typeof te.nodeName!="string"||typeof te.textContent!="string"||typeof te.removeChild!="function"||!(te.attributes instanceof d)||typeof te.removeAttribute!="function"||typeof te.setAttribute!="function"||typeof te.namespaceURI!="string"||typeof te.insertBefore!="function"||typeof te.hasChildNodes!="function")},ji=function(te){return typeof u=="function"&&te instanceof u};function qn(Re,te,we){Yd(Re,Te=>{Te.call(t,te,we,Nr)})}const kr=function(te){let we=null;if(qn(L.beforeSanitizeElements,te,null),Oa(te))return an(te),!0;const Te=Rt(te.nodeName);if(qn(L.uponSanitizeElement,te,{tagName:Te,allowedTags:W}),Oe&&te.hasChildNodes()&&!ji(te.firstElementChild)&&$n(/<[/\w!]/g,te.innerHTML)&&$n(/<[/\w!]/g,te.textContent)||te.nodeType===ac.progressingInstruction||Oe&&te.nodeType===ac.comment&&$n(/<[/\w]/g,te.data))return an(te),!0;if(!W[Te]||Y[Te]){if(!Y[Te]&&Ei(Te)&&(Q.tagNameCheck instanceof RegExp&&$n(Q.tagNameCheck,Te)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(Te)))return!1;if(Ee&&!Ge[Te]){const ct=O(te)||te.parentNode,Ft=E(te)||te.childNodes;if(Ft&&ct){const Et=Ft.length;for(let dn=Et-1;dn>=0;--dn){const Cn=x(Ft[dn],!0);Cn.__removalCount=(te.__removalCount||0)+1,ct.insertBefore(Cn,_(te))}}}return an(te),!0}return te instanceof c&&!fn(te)||(Te==="noscript"||Te==="noembed"||Te==="noframes")&&$n(/<\/no(script|embed|frames)/i,te.innerHTML)?(an(te),!0):(le&&te.nodeType===ac.text&&(we=te.textContent,Yd([I,U,P],ct=>{we=nc(we,ct," ")}),te.textContent!==we&&(tc(t.removed,{element:te.cloneNode()}),te.textContent=we)),qn(L.afterSanitizeElements,te,null),!1)},ri=function(te,we,Te){if(Vt&&(we==="id"||we==="name")&&(Te in n||Te in xs))return!1;if(!(re&&!J[we]&&$n(H,we))){if(!(ae&&$n(B,we))){if(!ne[we]||J[we]){if(!(Ei(te)&&(Q.tagNameCheck instanceof RegExp&&$n(Q.tagNameCheck,te)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(te))&&(Q.attributeNameCheck instanceof RegExp&&$n(Q.attributeNameCheck,we)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(we,te))||we==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&$n(Q.tagNameCheck,Te)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(Te))))return!1}else if(!Mt[we]){if(!$n($,nc(Te,G,""))){if(!((we==="src"||we==="xlink:href"||we==="href")&&te!=="script"&&qbe(Te,"data:")===0&&Ke[te])){if(!(de&&!$n(F,nc(Te,G,"")))){if(Te)return!1}}}}}}return!0},Ei=function(te){return te!=="annotation-xml"&&BS(te,K)},ii=function(te){qn(L.beforeSanitizeAttributes,te,null);const{attributes:we}=te;if(!we||Oa(te))return;const Te={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ne,forceKeepAttr:void 0};let ct=we.length;for(;ct--;){const Ft=we[ct],{name:Et,namespaceURI:dn,value:Cn}=Ft,ur=Rt(Et),In=Cn;let Ot=Et==="value"?In:Ibe(In);if(Te.attrName=ur,Te.attrValue=Ot,Te.keepAttr=!0,Te.forceKeepAttr=void 0,qn(L.uponSanitizeAttribute,te,Te),Ot=Te.attrValue,Ut&&(ur==="id"||ur==="name")&&(lr(Et,te),Ot=fe+Ot),Oe&&$n(/((--!?|])>)|<\/(style|title|textarea)/i,Ot)){lr(Et,te);continue}if(ur==="attributename"&&BS(Ot,"href")){lr(Et,te);continue}if(Te.forceKeepAttr)continue;if(!Te.keepAttr){lr(Et,te);continue}if(!ye&&$n(/\/>/i,Ot)){lr(Et,te);continue}le&&Yd([I,U,P],ai=>{Ot=nc(Ot,ai," ")});const _s=Rt(te.nodeName);if(!ri(_s,ur,Ot)){lr(Et,te);continue}if(T&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!dn)switch(y.getAttributeType(_s,ur)){case"TrustedHTML":{Ot=T.createHTML(Ot);break}case"TrustedScriptURL":{Ot=T.createScriptURL(Ot);break}}if(Ot!==In)try{dn?te.setAttributeNS(dn,Et,Ot):te.setAttribute(Et,Ot),Oa(te)?an(te):y$(t.removed)}catch{lr(Et,te)}}qn(L.afterSanitizeAttributes,te,null)},qt=function Re(te){let we=null;const Te=To(te);for(qn(L.beforeSanitizeShadowDOM,te,null);we=Te.nextNode();)qn(L.uponSanitizeShadowNode,we,null),kr(we),ii(we),we.content instanceof a&&Re(we.content);qn(L.afterSanitizeShadowDOM,te,null)};return t.sanitize=function(Re){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=null,Te=null,ct=null,Ft=null;if(rn=!Re,rn&&(Re="<!-->"),typeof Re!="string"&&!ji(Re))if(typeof Re.toString=="function"){if(Re=Re.toString(),typeof Re!="string")throw rc("dirty is not a string, aborting")}else throw rc("toString is not a function");if(!t.isSupported)return Re;if(be||Ss(te),t.removed=[],typeof Re=="string"&&(Ae=!1),Ae){if(Re.nodeName){const Cn=Rt(Re.nodeName);if(!W[Cn]||Y[Cn])throw rc("root node is forbidden and cannot be sanitized in-place")}}else if(Re instanceof u)we=Oo("<!---->"),Te=we.ownerDocument.importNode(Re,!0),Te.nodeType===ac.element&&Te.nodeName==="BODY"||Te.nodeName==="HTML"?we=Te:we.appendChild(Te);else{if(!xe&&!le&&!Se&&Re.indexOf("<")===-1)return T&&nt?T.createHTML(Re):Re;if(we=Oo(Re),!we)return xe?null:nt?N:""}we&&Ce&&an(we.firstChild);const Et=To(Ae?Re:we);for(;ct=Et.nextNode();)kr(ct),ii(ct),ct.content instanceof a&&qt(ct.content);if(Ae)return Re;if(xe){if(_e)for(Ft=D.call(we.ownerDocument);we.firstChild;)Ft.appendChild(we.firstChild);else Ft=we;return(ne.shadowroot||ne.shadowrootmode)&&(Ft=C.call(r,Ft,!0)),Ft}let dn=Se?we.outerHTML:we.innerHTML;return Se&&W["!doctype"]&&we.ownerDocument&&we.ownerDocument.doctype&&we.ownerDocument.doctype.name&&$n(k5,we.ownerDocument.doctype.name)&&(dn="<!DOCTYPE "+we.ownerDocument.doctype.name+`>
`+dn),le&&Yd([I,U,P],Cn=>{dn=nc(dn,Cn," ")}),T&&nt?T.createHTML(dn):dn},t.setConfig=function(){let Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ss(Re),be=!0},t.clearConfig=function(){Nr=null,be=!1},t.isValidAttribute=function(Re,te,we){Nr||Ss({});const Te=Rt(Re),ct=Rt(te);return ri(Te,ct,we)},t.addHook=function(Re,te){typeof te=="function"&&tc(L[Re],te)},t.removeHook=function(Re,te){if(te!==void 0){const we=Pbe(L[Re],te);return we===-1?void 0:Lbe(L[Re],we,1)[0]}return y$(L[Re])},t.removeHooks=function(Re){L[Re]=[]},t.removeAllHooks=function(){L=j$()},t}var Jbe=C5();const M5="ws.help.read.v1",E$="ws.help.expanded.v1",A$="ws.help.collapse.v1";function e0e(){return window.location.hash||""}function t0e(e){return(e||"").startsWith("#/help")}function O$(){const e=e0e();if(!t0e(e))return"";const t=e.indexOf("?");if(t===-1)return"";try{const r=new URLSearchParams(e.slice(t+1)).get("topic");return r?decodeURIComponent(r):""}catch{return""}}function Xd(e){const t=`#/help?topic=${encodeURIComponent(e)}`;window.location.hash!==t&&(window.location.hash=t)}function n0e(){try{const e=localStorage.getItem(M5);return e?JSON.parse(e):{}}catch{return{}}}function T$(e){try{localStorage.setItem(M5,JSON.stringify(e))}catch{}}function r0e(e){if(!e)return"";const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function i0e(e,t,n=!0){const r=[];function i(o){if(!n)return!0;const u=o.minStage==null||t.stage>=Number(o.minStage),c=o.maxStage==null||t.stage<=Number(o.maxStage),f=typeof o.visible=="function"?!!o.visible(t):!0;return u&&c&&f}function a(o,u=0,c=null){if(!o)return[];const f={...o,depth:u,parentId:c};if(Array.isArray(o.children)&&o.children.length>0){const d=[];for(const p of o.children){const v=a(p,u+1,o.id||o.key||null);v&&v.length&&d.push(...v)}return d.length>0||i(o)?[{...f,isGroup:!0},...d]:[]}return i(o)?[{...f,isGroup:!1}]:[]}for(const o of e||[]){const u=a(o,0,null);u&&u.length&&r.push(...u)}return r}function a0e({isOpen:e,onClose:t,topics:n=[],rememberHash:r=!0,trackRead:i=!0,enableResetButton:a=!0}){const{data:o}=Ie(),u=zt(),c=o?.defs||{},f=o?.state||{},d=Number(f?.user?.currentstage||0),p=j.useMemo(()=>({defs:c,state:f,t:u,stage:d}),[c,f,u,d]),[v,y]=j.useState(()=>{try{return JSON.parse(localStorage.getItem(A$)??"false")}catch{return!1}}),b=j.useCallback(()=>{y(Y=>{const J=!Y;try{localStorage.setItem(A$,JSON.stringify(J))}catch{}return J})},[]),[x,S]=j.useState(()=>{try{const Y=localStorage.getItem(E$)||"{}",J=JSON.parse(Y);return new Set(Object.keys(J).filter(ae=>J[ae]))}catch{return new Set}}),_=j.useCallback(Y=>{S(J=>{const ae=new Set(J);ae.has(Y)?ae.delete(Y):ae.add(Y);try{const re={};ae.forEach(de=>{re[de]=!0}),localStorage.setItem(E$,JSON.stringify(re))}catch{}return ae})},[]),[E,O]=j.useState(()=>n0e()),[T,N]=j.useState(""),[k,M]=j.useState(()=>r?O$():"");j.useEffect(()=>{if(!e||!r)return;const Y=()=>{const J=O$();J&&M(J)};return window.addEventListener("hashchange",Y),Y(),()=>window.removeEventListener("hashchange",Y)},[e,r]),j.useEffect(()=>{if(!e)return;const Y=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=Y}},[e]),j.useEffect(()=>{if(!e)return;const Y=J=>{J.key==="Escape"&&t?.()};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[e,t]);const D=j.useMemo(()=>i0e(n,p,!0),[n,p]),R=j.useMemo(()=>{const Y=new Map;for(const J of D){if(J.isGroup)continue;const ae=J.id||J.key;if(!ae)continue;const re=[];J.title&&re.push(String(J.title));const de=J.tags||J.opts?.tags||[];Array.isArray(de)&&de.length&&re.push(de.join(" "));const ye=J.searchText||J.opts?.searchText||"";typeof ye=="string"&&ye&&re.push(ye),typeof J.html=="string"&&re.push(r0e(J.html)),Y.set(ae,re.join(" ").toLowerCase())}return Y},[D]),[C,L]=j.useState({}),I=j.useMemo(()=>k&&D.find(Y=>!Y.isGroup&&(Y.id||Y.key)===k)||null,[D,k]),U=j.useRef(null),P=j.useCallback(Y=>{U.current&&!U.current.contains(Y.target)&&t?.()},[t]),H=j.useCallback(Y=>{if(Y&&(M(Y),r))try{Xd(Y)}catch{}},[r]),B=j.useRef(null);j.useEffect(()=>{const Y=B.current;if(!Y)return;const J=de=>{const ye=de.target.closest("a");if(!ye||!Y.contains(ye))return;const le=ye.getAttribute("data-topic-link");if(le){de.preventDefault(),H(le);return}const Oe=ye.getAttribute("href")||"";if(Oe.startsWith("#/help")){de.preventDefault();const Se=Oe.indexOf("?");if(Se!==-1){const be=Oe.slice(Se+1),xe=new URLSearchParams(be).get("topic");xe&&H(xe)}}};Y.addEventListener("click",J);const ae=Array.from(Y.querySelectorAll("a")),re=[];return ae.forEach(de=>{de.style.pointerEvents="auto",de.hasAttribute("tabindex")||de.setAttribute("tabindex","0"),de.hasAttribute("role")||de.setAttribute("role","link"),de.style.cursor="pointer";const ye=de.getAttribute("data-topic-link");if(ye){const le=Oe=>{Oe.preventDefault(),H(ye)};de.addEventListener("click",le),re.push({a:de,h:le})}}),()=>{Y.removeEventListener("click",J),re.forEach(({a:de,h:ye})=>de.removeEventListener("click",ye))}},[H,k]),j.useEffect(()=>{if(!e||!I)return;const Y=B.current;if(!Y)return;const ae=requestAnimationFrame(()=>{const de=((Y.querySelector(".help-article")||Y).textContent||"").trim();de&&L(ye=>{const le=I.id||I.key;return!le||ye[le]===de?ye:{...ye,[le]:de}})});return()=>cancelAnimationFrame(ae)},[e,I]);const F=j.useMemo(()=>{const Y=T.trim().toLowerCase();return Y?D.filter(J=>{if(J.isGroup)return!1;const ae=J.id||J.key;if(!ae)return!1;const re=R.get(ae)||"",de=(C[ae]||"").toLowerCase();return re.includes(Y)||de.includes(Y)}):D},[D,T,R,C]);j.useEffect(()=>{if(!e||!I||!i)return;const Y=I.id||I.key;Y&&O(J=>{if(J[Y])return J;const ae={...J,[Y]:Date.now()};return T$(ae),ae})},[e,I,i]);const G=Y=>{const J=Jbe.sanitize(Y||"",{ADD_ATTR:["target","rel","style","data-topic-link"],ADD_TAGS:["iframe"]});return m.jsx("article",{className:"help-article",dangerouslySetInnerHTML:{__html:J}})};function K(Y){if(!Y)return m.jsx("div",{className:"muted",children:"Vlg et emne i venstre side."});if(Y.component&&typeof Y.component=="function"){const J=Y.component;return m.jsx(J,{defs:c,state:f,t:u,stage:d,openTopic:H})}if(typeof Y.render=="function"){const J=Y.render({defs:c,state:f,t:u,stage:d,openTopic:H});return typeof J=="string"?G(J):m.jsx("article",{className:"help-article",children:J})}return typeof Y.html=="string"?G(Y.html):m.jsx("div",{className:"muted",children:"Ingen indhold."})}const $=(Y,J=0)=>(Y||[]).map(ae=>{if(ae.children&&ae.children.length){const le=ae.id||ae.key||ae.title,Oe=x.has(le),Se=D.filter(Ce=>!Ce.isGroup&&Ce.parentId===le);let be=0;for(const Ce of Se){const xe=Ce.id||Ce.key;i&&xe&&!E[xe]&&be++}return m.jsxs("div",{className:"help-topic-group",children:[m.jsxs("div",{className:"help-topic-group-title",style:{paddingLeft:J*12},children:[m.jsx("button",{className:"icon-btn",onClick:()=>_(le),"aria-expanded":Oe,title:Oe?"Skjul":"Vis",type:"button",children:Oe?"":""}),m.jsx("span",{style:{marginLeft:8},children:ae.title}),be>0&&m.jsxs("span",{className:"unread-badge",children:["(! ",be,")"]})]}),Oe&&m.jsx("div",{children:$(ae.children,J+1)})]},le)}const re=ae.id||ae.key,de=re===k,ye=i&&re&&!E[re]?m.jsx("span",{className:"dot-unread",children:""}):null;return m.jsxs("button",{className:`help-topic-item depth-${J} ${de?"active":""}`,onClick:()=>{M(re),r&&Xd(re)},title:ae.title,style:{paddingLeft:12+J*12},children:[ae.title,ye]},re)}),W=(Y,J=0)=>(Y||[]).map(ae=>{if(ae.children&&ae.children.length){const le=ae.id||ae.key||ae.title,Oe=D.filter(be=>!be.isGroup&&be.parentId===le);let Se=0;for(const be of Oe){const Ce=be.id||be.key;i&&Ce&&!E[Ce]&&Se++}return m.jsxs("div",{className:"help-topic-group",children:[m.jsxs("div",{className:"help-topic-group-title",style:{paddingLeft:J*12},children:[m.jsx("span",{style:{marginLeft:8},children:ae.title}),Se>0&&m.jsxs("span",{className:"unread-badge",children:["(! ",Se,")"]})]}),m.jsx("div",{children:W(ae.children,J+1)})]},le)}const re=ae.id||ae.key,de=re===k,ye=i&&re&&!E[re]?m.jsx("span",{className:"dot-unread",children:""}):null;return m.jsxs("button",{className:`help-topic-item depth-${J} ${de?"active":""}`,onClick:()=>{M(re),r&&Xd(re)},title:ae.title,style:{paddingLeft:12+J*12},children:[ae.title,ye]},re)}),X=F.filter(Y=>!Y.isGroup),ne=!!T.trim()||!v;function V(){O({}),T$({})}if(!e)return null;const Q=m.jsx("div",{className:"help-overlay",onMouseDown:P,role:"dialog","aria-modal":"true","aria-label":"Hjlp",children:m.jsxs("div",{className:"help-overlay-panel panel",ref:U,onMouseDown:Y=>Y.stopPropagation(),children:[m.jsxs("div",{className:"help-overlay-head",children:[m.jsx("div",{className:"title",children:"Hjlp"}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[a&&m.jsx("button",{className:"icon-btn",onClick:V,title:"Nulstil ulste",children:""}),m.jsx("button",{className:"icon-btn",onClick:b,"aria-pressed":v,title:v?"Vis grupper (kollaps)":"Vis lang liste",type:"button",children:v?"":""}),m.jsx("button",{className:"icon-btn",onClick:t,"aria-label":"Luk",title:"Luk",children:""})]})]}),m.jsxs("div",{className:"help-overlay-body",children:[m.jsxs("aside",{className:"help-overlay-sidebar",children:[m.jsx("input",{className:"help-overlay-search",type:"search",placeholder:"Sg",value:T,onChange:Y=>N(Y.target.value)}),m.jsxs("div",{className:"help-topic-list",role:"listbox","aria-label":"Emneliste",children:[T.trim().length>0?F.filter(Y=>!Y.isGroup).map(Y=>{const J=Y.id||Y.key,ae=J===k,re=i&&J&&!E[J];return m.jsxs("button",{className:`help-topic-item depth-${Y.depth} ${ae?"active":""}`,onClick:()=>{M(J),r&&Xd(J)},"aria-selected":ae,title:Y.title,children:[Y.title,re&&m.jsx("span",{className:"dot-unread","aria-hidden":!0,children:""})]},J)}):ne?W(n):$(n),T.trim().length>0&&X.length===0&&m.jsx("div",{className:"muted small",style:{padding:"8px 10px"},children:"Ingen match."})]})]}),m.jsx("section",{className:"help-overlay-content",ref:B,children:K(I)})]})]})});return fK.createPortal(Q,document.body)}function ui(e){return{...e}}function Us(e){return{...e||{},children:e.children||[]}}function gn(e,t,n,r={}){const i={id:e,title:t,...r};return typeof n=="string"?i.html=n:typeof n=="function"?i.render=n:i.html=String(n||""),i}const s0e="/assets/pic/help_statsview.png",o0e=[Us({id:"getting-started",title:"Kom godt i gang",children:[gn("intro","Introduktion",`
        <h2>Velkommen</h2>
        <p>Ls ogs om <a data-topic-link="resources">Ressourcer</a> og <a data-topic-link="gameplay">Spilmekanik</a>.</p>
      `,{tags:["velkommen","basics"]}),gn("faq","FAQ",`
        <h2>Ofte stillede sprgsml</h2>
        <ul>
          <li>Hvordan bygger jeg? Se <a data-topic-link="buildings">Bygninger</a></li>
          <li>Hvad er vand? Se <a data-topic-link="res-water">Vand</a></li>
        </ul>
      `,{tags:["faq","basics"]})]}),Us({id:"resources",title:"Ressourcer",children:[ui({id:"resources-overview",title:"Ressourcer Generelt",render:({defs:e,t})=>{e?.res?.water?.emoji||t?.("ui.emoji.water");const n=e?.res||{};return`<h2>Ressourcer</h2>
          <p>Ressourcer bruges i spillet til at kbe bygninger, addons og research med. Derudover bruges de i recipes (produktion), hvor en eller flere ressourcer bliver til en eller flere andre ressourcer (f.eks. 1xtr --> 10 brnde).</p>
          <p>Der findes to hovedtyper af ressourcer: faste (solid) og flydende (liquid). Faste ressourcer er ting som tr, sten, jern og brnde. Flydende ressourcer er ting som <a data-topic-link="res-water">vand</a>, mlk og olie.</p>
          <p>Grundlggende ressourcer er ting som kr (money), <a data-topic-link="res-water">vand</a>, kd, tr, sten, fjer, skind og bearbejdet skind mf. Se de forskellige ressourcer herunder.</p>
          <p>For at f ressourcer skal du bygge bygninger som producerer dem, eller kbe dem via markedet (kommer senere). Ressourcer kan midlertidig give bonus i forskellige <a data-topic-link="stats-overview">stats</a>. F.eks. kan vand man har p lager giver vand i stats vand (den vand ens borgere krver - se borger for mere info). Nr ressourcer bruges og forsvinder fra ens inventory, s forsvinder dens bonus ogs.</p>

            <p>Liste over spillets nuvrende ressourcer:</p>
            <ul>${Object.keys(n).sort().map(a=>{const u=(n[a]||{}).name||a,c=F$(`res.${a}`,e)||"";return`<li>${c?c+" ":""}${u} <small class="muted">(${a})</small></li>`}).join("")}</ul>`},searchText:"ressourcer vand tr sten"}),ui({id:"res-water",title:"Vand (ressource)",component:({defs:e})=>{const t=e?.res?.water?.emoji||"";return m.jsxs("div",{className:"help-article",children:[m.jsxs("h2",{children:["Vand ",t]}),m.jsx("p",{children:"Vand bruges i produktion og forbrug, men vand giver ogs en bonus ind i stats vand (vand som borgerne i ens by krver for at vre glade osv - se borger for yderligere info)."}),m.jsxs("p",{children:["Se ogs ",m.jsx("a",{"data-topic-link":"resources-overview",children:"Ressourcer Generelt"}),"."]})]})},searchText:"ressource vand water forbrug"})]}),Us({id:"stages",title:"Stages",children:[ui({id:"explain-stages",title:"Stages Generelt",render:({defs:e,t})=>`<h2>Stages</h2>
          <p>Stages er forskellige mileple i spillet, og bruges til blandt andet langsomt at introducerer spilleren for nye elementer og funktioner i spillet. Nr man er net langt nok i et stages, finder man en research, der tilbyder at forske i nste stages. Sdan stiger man i stages. <p>Stages ...</p>
          `,searchText:"ressourcer vand tr sten"}),ui({id:"stage-1",title:"Stage 1",component:({defs:e})=>{const t=e?.res?.water?.emoji||"";return m.jsxs("div",{className:"help-article",children:[m.jsxs("h2",{children:["Stage 1 ",t]}),m.jsx("p",{children:"I STAGE 1 er formlet at f en stille introduktion til spillet igennem diverse basale grundlggende systemer, der dkker over ressource kendskab, bygge/opgraderer bygninger og addons, samt at forske og lave ting udfra opskrifter. En del ressourcer fra dette stadie er helt basale ressourcer, som skal benyttes igennem hele spillet."}),m.jsx("p",{children:"En anden faktorer, der stiftes kendskab med er begrebet stats. Stats er ikke ressourcer, men reprsenterer et fast flow eller en fast mngde. Alle stats har en kapacitet og et forbrug. Disse er statiske og ndres (modsat ressourcer) kun via valg, bygning eller andre aktive elementer. Kort sagt kan man sige at ressourcer er valgfrie brugbare, men stats bare er der eller bruges. Begge dele er grundlggende ting i spillet."}),m.jsx("p",{children:"Stats kan pvirke hinanden, og ofte har et valg for at forbedre stats et sted, en konsekvens i stats et andet sted. Stats pvirker ikke ressourcer, men ressourcer kan midlertidig pvirke stats.."}),m.jsx("p",{children:"Ressourcer, der introduceres i Stage 1:"}),m.jsxs("ul",{children:[m.jsxs("li",{children:[m.jsx("strong",{children:"MONEY"}),"  Spillets valuta til bygninger, research og addons."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"WOOD"}),"  Fra skov, bruges til byggeri."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"STONE"}),"  Fra miner, bruges i mange bygninger/addons."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"WATER"}),"  Livsvigtig, bruges i opskrifter og giver stats: water."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"FLINTSTONE"}),"  Bruges til vrktj (ndvendigt for byggeri)."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"ROPE"}),"  Bruges til straw, vrktj og andre basale ting."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"SALT"}),"  Bruges til f.eks. at fremstille LEATHER."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"RAWHIDE"}),"  R skind fra dyr; skal bearbejdes."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"HIDE"}),"  Bearbejdet skind til telte og tj."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"LEATHER"}),"  Bruges til tj og telte."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"WOOL"}),"  Bruges til tj."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"MAIZE"}),"  Bruges til ANIMALFOOD."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"WHEAT"}),"  Bruges til WHEATFLOUR (BREAD, ANIMALFOOD, STRAW)."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"GOATMILK"}),"  Bruges til SOUP."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"COWMILK"}),"  Bruges til SOUP og BREAD."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"RAWMEAT"}),"  Fra dyr; bruges til COOKEDMEAT og SOUP."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"RAWCOMMONFISH"}),"  Fanges i lake; bruges i ANIMALFOOD eller FISHSOUP."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"COOKEDFISH"}),"  Giver provision_cap=2."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"COOKEDMEAT"}),"  Giver provision_cap=1."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"FOOD"}),"  Generisk mad, bruges ogs i byggeprocesser."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"SOUP"}),"  Giver provision_cap=8."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"BONE"}),"  Kan laves til BONEMEAL til ANIMALFOOD."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"BONEMEAL"}),"  Bruges i ANIMALFOOD."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"FERTILIZER"}),"  Produceres af dyr; bruges til marker og pvirker wasteOrganic."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"EGG"}),"  Fra hns; bruges i opskrifter."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"CLOTH"}),"  Pvirker stats som heat."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"ANIMALFOOD"}),"  Bruges til at kbe dyr."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"COAL"}),"  Giver heatFossil=5."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"BASICTOOLS"}),"  Bruges i mere komplicerede bygninger/addons."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"WHEATFLOUR"}),"  Bruges i brd."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"STRAW"}),"  Bruges til dyr."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"BREAD"}),"  Brd (fdevarer)."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"FEATHER"}),"  Bruges til tj."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"FIREWOOD"}),"  Bruges til bl og varme."]})]}),m.jsxs("p",{children:["Se ogs ",m.jsx("a",{"data-topic-link":"resources-overview",children:"Ressourcer Generelt"}),"."]})]})},searchText:"ressource vand water forbrug"})]}),Us({id:"stats",title:"Stats",children:[ui({id:"stats-overview",title:"Stats Generelt",render:({defs:e,t})=>(e?.res?.water?.emoji||t?.("ui.emoji.water"),`<h2>Stats</h2>
          <img src="${s0e}" alt="Stats panel" class="help-image help-right" />
          <p>Stats er en vigtig del af spillet og skaber dynamik og dybde. Stats pvirker hvordan ens borgere trives, og hvordan ens by udvikler sig. Stats kan komme fra bygninger, addons, research, ressourcer, dyr og units.</p>
          <p>Stats er en lang rkke ting, som ens borger krver, skaber eller p anden mde bruger/er afhngige af. I punkterne ude til hjre, kan de lse mere om de specifikke stats.</p>
          <p>Nogle stats er synlige, andre fungerer bagved og skaber dynamikken. De fleste er dog synlige. Et stats kan komme fra bygninger, ressourcer eller andre elementer i spillet, sgar kan de midlertidig komme fra ressourcer, dyr eller unit som man har. Slagter eller slger man et dyr, der giver nogle midlertidig stats, s forsvinder de nr dyret er vk; ligeledes med ressourcer. Bruges en ressource der giver stats, forsvinder bonusen.</p>
          <p>Eksempelvis giver vand () i ens inventory bonus i <a data-topic-link="stats-water">stats vand</a>, som er den mngde vand ens borgere krver for at vre glade osv - se borger for yderligere info.</p>
          <p>De forskellige borger grupper (se borger info) har forskellige krav til forskellgie stats for at vre tilfredse (hvilket blandt andet pvirker happiness og popularity). Ved bygninger, addons og research kan man se hvilke stats de forbruger af eller giver til. Oplysninger kan ses i hover i nederst hjre hjrne, nr man har musen over bygninger, addon eller research. Det samme glder dyr og vrige units. Ressourcer kan man ikke se hvad de giver af bonus, men man kan ofte gtte sig til det (hint: water spiller ind p water stats.</p>
          <p>Stats bestr ofte af hvad borger grupper forbruger pr. den borger, samt hvad man maks har.</p>
          <p>Jo hjere stage, jo flere stats skal man forholde sig til. Eneste stats i stage 1 er dyrplads og byggepoint. Disse forstter med at vre vigtige.</p>
          <p>De forskellige oplste og relevante stats kan se i panelet "Stats" ude til hjre.</p>
          `),searchText:"stats "}),gn("stats-happiness","Happiness",`
          <h2>Happiness</h2>
          <p>Happiness reprsenterer den generelle tilfredshed blandt borgerne. Det pvirkes af mange faktorer, herunder bolig, mad, vand og sundhed.</p>
          <p>For at ge happiness, skal du sikre, at borgerne har adgang til de ressourcer, de har brug for, og at deres behov bliver opfyldt.</p>
          <p>Find kilden ved at se stats i hover p bygninger/addons, eller i stats-panelet.</p>
          <p>Happiness pvirker ogs andre aspekter af spillet, ssom produktivitet og befolkningstilvkst.</p>
          <p>Faktorer der pvirker happiness kan ndre sig igennem spillet.</p>
          <p>Se ogs <a data-topic-link="stats-popularity">Popularity</a> for hvordan borgernes behov pvirker deres popularity.</p>
        `,{minStage:1,tags:["stats","housing","kapacitet"],searchText:"housing plads borgere kapacitet"}),gn("stats-popularity","Popularity",`
          <h2>Popularity</h2>
          <p>Popularity reprsenterer, hvor meget borgerne kan lide deres by og dens faciliteter. Det pvirkes af faktorer som boligkvalitet, tilgngelighed af ressourcer og sociale interaktioner.</p>
          <p>For at ge populariteten, skal du fokusere p at forbedre borgernes livskvalitet og sikre, at deres behov bliver opfyldt.</p>
          <p>Find kilden ved at se stats i hover p bygninger/addons, eller i stats-panelet.</p>
          <p>Happiness pvirker ogs andre aspekter af spillet, ssom produktivitet og befolkningstilvkst.</p>
          <p>Faktorer der pvirker happiness kan ndre sig igennem spillet.</p>
          <p>Se ogs <a data-topic-link="stats-happiness">Happiness</a> for hvordan borgernes behov pvirker deres happiness.</p>
        `,{minStage:1,tags:["stats","housing","kapacitet"],searchText:"housing plads borgere kapacitet"}),ui({id:"stats-water",title:"Vand (stats)",component:({defs:e})=>{const t=e?.res?.water?.emoji||"";return m.jsxs("div",{className:"help-article",children:[m.jsxs("h2",{children:["Vand ",t]}),m.jsx("p",{children:"Stats vand reprsenterer den mngde vand, de forskellige borger forbruger. Hver borger forbruger forskellige mngder vand, og visse ting, ssom addon brnd til en hovedlejr, generer en vis mngde vand. Det er bedst at have lidt mere vand end man forbruger."}),m.jsxs("p",{children:["Se ogs ",m.jsx("a",{"data-topic-link":"resources-overview",children:"Ressourcer -- overblik"}),"."]})]})},searchText:"stats vand water"}),gn("stats-housing","Housing",`
          <h2>Housing</h2>
          <p>Housing er antal pladser til borgere. ges typisk af baser og beboelsesbygninger (telt/lejre mv.).</p>
          <p>Hvis housing er lavere end antallet af borgere, vil nye borgere ikke have plads og kan skabe utilfredshed.</p>
          <p>Find kilden ved at se stats i hover p bygninger/addons, eller i stats-panelet.</p>
        `,{minStage:1,tags:["stats","housing","kapacitet"],searchText:"housing plads borgere kapacitet"}),gn("stats-provision","Provision (mad)",`
          <h2>Provision</h2>
          <p>Provision dkker basismad. Visse ressourcer (fx <b>mad</b>, mlk, g) giver <em>provisionCapacity</em> mens de er p lager.</p>
          <p>Borgerne forbruger provision lbende; srg for at kapacitet/yield overstiger forbrug.</p>
          <p>Relateret: se <a data-topic-link="resources-all">Alle ressourcer</a> for hvilke der bidrager.</p>
        `,{minStage:1,tags:["stats","provision","mad"],searchText:"provision mad food kapacitet forbrug"}),gn("stats-health","Health",`
          <h2>Health</h2>
          <p>Health handler om sundhedskapacitet samt eftersprgsel hos borgerne. Visse bygninger giver <em>healthCapacity</em>, og nogle aktiviteter/forhold kan ge eftersprgslen.</p>
          <p>Hold et passende forhold mellem kapacitet og brug for at undg negative effekter.</p>
        `,{minStage:1,tags:["stats","health","sundhed"],searchText:"health sundhed kapacitet eftersprgsel"}),gn("stats-cloth","Cloth",`
          <h2>Cloth</h2>
          <p>Cloth dkker bekldning/udstyr, som kan pvirke trivsel/komfort. Produceres typisk af tailors (lder/uld m.m.).</p>
          <p>Afhnger af spilstatus kan cloth indg i borgeres behov og/eller buffs.</p>
        `,{minStage:1,tags:["stats","cloth","bekldning"],searchText:"cloth tj lder uld komfort"}),gn("stats-medicine","Medicin",`
          <h2>Medicin</h2>
          <p>Medicin supplerer sundhedsbehov og kan afhjlpe negative effekter. Kan produceres eller anskaffes via spillogik senere (afhnger af progression).</p>
          <p>Hold lager for at kunne dkke spidsbelastninger.</p>
        `,{minStage:1,tags:["stats","medicin","sundhed"],searchText:"medicin health sundhed behov lager"}),gn("stats-heat","Heat (overblik)",`
          <h2>Heat</h2>
          <p>Heat findes i tre typer energikilder: Green (som reprsenterer bredygtige kilder), Nuclear (som reprsenterer kerneenergi) og Fossil (som reprsenterer fossile brndstoffer). Borgerne kan have forskellige max vrdier de tillader, fr den generelle happiness pvirkes.</p>
          <p>Nogle borgere/bygninger krver varme; kilder og caps kan komme fra bygninger/addons og evt. ressourcer.</p>
          
          <h3>Heat  Fossil</h3>
          <p>Fossil varme (kul/olie/gas). Typisk billig at starte med, men kan have negative sideeffekter ssom hj forurening, hvilket en del borger IKKE bryder sig om.</p>
          <h3>Heat  Green</h3>
          <p>Grn varme (fx solopvarmet vand). Bruges til at opfylde varmebehov med grn profil. Grn varme er srlig populr, men kan vre dyrere at implementere. Har frrest bivirkninger.</p>
          <h3>Heat  Nuclear</h3>
          <p>Kernebaseret varme. Normalt hj stabil kapacitet, men kan have srlige krav/omkostninger. Ikke alle borgerne er vilde med kerneenergi, og nogle kan have bekymringer om sikkerhed og affaldshndtering.</p>

        `,{minStage:1,tags:["stats","heat"],searchText:"heat varme grn kerne fossil"}),gn("stats-power","Power (overblik)",`
          <h2>Power</h2>
          <p>Power (energi/strm) findes i tre typer: Green (Grn energi), Nuclear (Kerneenergi) og Fossil (Fossile brndstoffer).</p>
          <p>Bruges af bygninger/produktion; balancr produktion og forbrug.</p>
          <h3>Power  Fossil</h3>
          <p>Fossil strm (kul/olie/gas). Ofte effektiv i starten, men med ulemper.</p>
          <h3>Power  Green</h3>
          <p>Grn strm (fx vind/sol/vand). Giver grn profil  kan variere over tid.</p>
          <h3>Power  Nuclear</h3>
          <p>Kernebaseret strm. Stabil produktion, srlige krav.</p>

        `,{minStage:1,tags:["stats","power"],searchText:"power strm energi grn kerne fossil"}),gn("stats-waste","Waste (overblik)",`
          <h2>Waste</h2>
          <p>Affald hndteres i tre spor i den nuvrende model: <a data-topic-link="stats-waste-organic">Organisk</a>, <a data-topic-link="stats-waste-water">Spildevand</a> og <a data-topic-link="stats-waste-other">Anden</a>.</p>
          <p>Dyr og produktion kan generere affald (fx gdning, spildevand); korrekt hndtering kan afhjlpe negative effekter.</p>
        `,{minStage:1,tags:["stats","waste","affald"],searchText:"waste affald organisk spildevand other"}),gn("stats-waste-organic","Waste  Organisk",`
          <h2>Waste  Organisk</h2>
          <p>Organisk affald (fx gdning/biomasse). Kan genanvendes/nyttiggres i visse kder.</p>
        `,{minStage:1,tags:["stats","waste","organisk"],searchText:"affald organisk gdning biomasse"}),gn("stats-waste-water","Waste  Spildevand",`
          <h2>Waste  Spildevand</h2>
          <p>Spildevand og vandbrent affald. Hndteres via relevante faciliteter for at undg negative effekter.</p>
        `,{minStage:1,tags:["stats","waste","vand"],searchText:"affald spildevand waste water"}),gn("stats-waste-other","Waste  Anden",`
          <h2>Waste  Anden</h2>
          <p>vrigt affald (blandet/fraktioner der ikke er organisk eller spildevand). Krver passende hndtering.</p>
        `,{minStage:1,tags:["stats","waste","other"],searchText:"affald andet plast glas metal other"})]}),Us({id:"gameplay",title:"Spilmekanik",children:[gn("buildings","Bygninger",`
        <h2>Bygninger</h2>
        <p>Bygninger har forskellige levels og krver en opgradering, for at blive hjere level. Se du ikke muligheden er bygningen mske allerede i hjeste level. Du kan ogs risikerer at en bygning (eller addon/research) krver en anden bygning eller research frst. Du kan ogs risikerer at den er "stage-locked" hvilket betyder du skal lse op for nste stage, for at kan opgraderer den bygning yderligere. </p>
        <p>Bygninger kan have forskellige effekter, ssom at producere ressourcer, give stats, give borgere, give plads til dyr eller units, eller noget helt andet. Nogle bygninger har ogs addons, som er udvidelser, og nogle af disse udvidelser kan have yderligere addons. En udvidelse til en udvidelse kaldes ogs en subaddon.</p>
        <p>Bygninger kan ogs have krav, ssom at krve en bestemt mngde af en eller flere ressourcer for at kunne bygges eller opgraderes.</p>
        <p>Bygninger kan have forskellige stats, ssom hvor mange borgere de kan huse, hvor mange dyr de kan have, eller hvor mange units de kan have. Disse stats kan ofte ses i hover i nederst hjre hjrne. Nogle bygninger indeholder ogs research-krav, som kan vre ndvendige for at kunne opgradere bygningen yderligere. Klik p research-krav for at hoppe til research.</p>
        <p>Bygninger skal indimellem repareres, hvilket koster ressourcer. En bygning der er under et vis niveau kan ikke lngere bygge, researche eller producerer.</p>        
      `),ui({id:"population",title:"Befolkning",minStage:2,render:({state:e})=>`<h2>Befolkning (stage ${Number(e?.user?.currentstage||0)})</h2><p>Tildel roller mm.</p>`})]}),Us({id:"units",title:"Enheder",children:[gn("animals","Dyr",`
        <h2>Dyr</h2>
        <p>Dyr genererer nogle forskellige ressourcer pr time, og kan ogs give nogle bonuser i forskellige stats imens man har dem. Dyr bruges ogs i forskellige recipes, for at producerer andre ressourcer. Dyr kan slagtes og giver dermed et engangs udbytte (og evt. stats bonuser forsvinder). Nye dyr kan kbes p unit siden. Dyr kbes for ressourcer.</p>

      `,{minStage:1,tags:["dyr","animal","recipe"],searchText:"dyr slagtes engangs udbytte"}),gn("units_health","Sundheds enheder",`
        <h2>Sundheds enheder</h2>
        <p>Sunheds enheder kan vre alt fra sengeplads til udstyr til ambulancer afhngig af, hvor langt man er net i spillet. Disse units bruges til at forbedre sundheds mssige stats, men nogle units koster ogs i stats. Se i hover hvad der forskellige ting gr. Unit kbes for ressourcer.</p>
      `)]}),Us({id:"list",title:"Lister",children:[ui({id:"buildings-list",title:"Alle bygninger",render:({defs:e})=>{const t=e?.bld||{};return`<h2>Bygninger</h2><p>Her er en liste over alle definerede bygninger:</p><ul>${Object.keys(t).sort().map(r=>`<li>${t[r]?.name||r}</li>`).join("")}</ul>`},searchText:"bygninger liste alle byggesteder"}),ui({id:"researchs-list",title:"Alle research",render:({defs:e})=>{const t=e?.rsd||{};return`<h2>Research</h2><p>Her er en liste over alle definerede research, der pt er mulige:</p><ul>${Object.keys(t).sort().map(r=>`<li>${t[r]?.name||r}</li>`).join("")}</ul>`},searchText:"research liste alle forskning forskningstyper"}),ui({id:"addons-list",title:"Alle addons",render:({defs:e})=>{const t=e?.add||{};return`<h2>Addons</h2><p>Her er en liste over alle definerede addons, der pt er mulige:</p><ul>${Object.keys(t).sort().map(r=>`<li>${t[r]?.name||r}</li>`).join("")}</ul>`},searchText:"addons liste alle udvidelser udvidelsestyper"}),ui({id:"animals-list",title:"Alle dyr",render:({defs:e})=>{const t=e?.ani||{};return`<h2>Dyr</h2><p>Her er en liste over alle definerede dyr, der pt er mulige:</p><ul>${Object.keys(t).sort().map(r=>{const i=t[r]?.name||r;return`<li>${t[r]?.emoji||""||""} ${i}</li>`}).join("")}</ul>`},searchText:"dyr liste alle animals dyretyper"})]})];function l0e(){const{isLoading:e,data:t,error:n}=Ie(),{page:r,param:i}=I7(),[a,o]=j.useState(!1),u=j.useRef("#/map");j.useEffect(()=>{const p=()=>{const v=window.location.hash||"#/map";v.startsWith("#/help")||(u.current=v)};return p(),window.addEventListener("hashchange",p),()=>window.removeEventListener("hashchange",p)},[]),j.useEffect(()=>{if(!t)return;const p=t?.state?.user||{},v=p?.x==null||p?.y==null,y=(()=>{try{return localStorage.getItem("ws.map.seen")==="1"}catch{return!1}})();if(v){r!=="map"&&(window.location.hash="#/map");return}!y&&r!=="map"&&(window.location.hash="#/map")},[t,r]);const c=()=>{switch(r){case"dashboard":return m.jsx(rue,{});case"unit":return m.jsx(r8,{});case"research":return m.jsx(hue,{});case"resources":return m.jsx(Aue,{});case"buildings":return m.jsx(Mue,{});case"building":return m.jsx(xce,{buildingId:i});case"production":return m.jsx(_ce,{});case"flowchart":return m.jsx(ube,{});case"userpage":return m.jsx(pbe,{});case"map":return m.jsx(xbe,{});case"citizens":return m.jsx(Cbe,{});case"management":return m.jsx(gce,{});default:return m.jsxs("h1",{children:["Side ikke fundet: ",r]})}};let f;e?f=m.jsx("div",{className:"sub",children:"Indlser spildata..."}):n||!t?f=m.jsx("div",{className:"sub",children:"Fejl: Kunne ikke hente data. Log ind i topbaren og prv igen."}):f=c();const d=(window.location.hash||"").startsWith("#/help");return m.jsx(Ebe,{children:m.jsxs(m.Fragment,{children:[t&&m.jsxs(m.Fragment,{children:[m.jsx(Xle,{}),m.jsx(Qle,{}),m.jsx(Zle,{intervalMs:5e3})]}),m.jsx(xK,{}),m.jsxs("div",{className:"content",children:[m.jsx("main",{id:"main",children:f}),t&&m.jsx(Yle,{})]}),t&&r!=="map"&&m.jsx(Vle,{activePage:r}),m.jsx(a0e,{isOpen:a||d,onClose:()=>{if(o(!1),d){const p=u.current||"#/map";window.location.hash=p}},topics:o0e})]})})}const u0e=new x7({defaultOptions:{queries:{refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:1,staleTime:0,gcTime:600*1e3}}});XG.createRoot(document.getElementById("root")).render(m.jsx(he.StrictMode,{children:m.jsx(w7,{client:u0e,children:m.jsx(L7,{children:m.jsx(l0e,{})})})}));
