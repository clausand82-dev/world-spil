.react-flow{direction:ltr}.react-flow__container{position:absolute;width:100%;height:100%;top:0;left:0}.react-flow__pane{z-index:1;cursor:-webkit-grab;cursor:grab}.react-flow__pane.selection{cursor:pointer}.react-flow__pane.dragging{cursor:-webkit-grabbing;cursor:grabbing}.react-flow__viewport{transform-origin:0 0;z-index:2;pointer-events:none}.react-flow__renderer{z-index:4}.react-flow__selection{z-index:6}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible{outline:none}.react-flow .react-flow__edges{pointer-events:none;overflow:visible}.react-flow__edge-path,.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1;fill:none}.react-flow__edge{pointer-events:visibleStroke;cursor:pointer}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.animated path.react-flow__edge-interaction{stroke-dasharray:none;-webkit-animation:none;animation:none}.react-flow__edge.inactive{pointer-events:none}.react-flow__edge.selected,.react-flow__edge:focus,.react-flow__edge:focus-visible{outline:none}.react-flow__edge.selected .react-flow__edge-path,.react-flow__edge:focus .react-flow__edge-path,.react-flow__edge:focus-visible .react-flow__edge-path{stroke:#555}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-textbg{fill:#fff}.react-flow__edge .react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connectionline{z-index:1001}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box;cursor:-webkit-grab;cursor:grab}.react-flow__node.dragging{cursor:-webkit-grabbing;cursor:grabbing}.react-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.react-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:-webkit-grab;cursor:grab}.react-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px;width:6px;height:6px;background:#1a192b;border:1px solid white;border-radius:100%}.react-flow__handle.connectionindicator{pointer-events:all;cursor:crosshair}.react-flow__handle-bottom{top:auto;left:50%;bottom:-4px;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{top:50%;left:-4px;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__panel{position:absolute;z-index:5;margin:15px}.react-flow__panel.top{top:0}.react-flow__panel.bottom{bottom:0}.react-flow__panel.left{left:0}.react-flow__panel.right{right:0}.react-flow__panel.center{left:50%;transform:translate(-50%)}.react-flow__attribution{font-size:10px;background:#ffffff80;padding:2px 3px;margin:0}.react-flow__attribution a{text-decoration:none;color:#999}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edgelabel-renderer{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-text{font-size:10px}.react-flow__node.selectable:focus,.react-flow__node.selectable:focus-visible{outline:none}.react-flow__node-default,.react-flow__node-input,.react-flow__node-output,.react-flow__node-group{padding:10px;border-radius:3px;width:150px;font-size:12px;color:#222;text-align:center;border-width:1px;border-style:solid;border-color:#1a192b;background-color:#fff}.react-flow__node-default.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover,.react-flow__node-group.selectable:hover{box-shadow:0 1px 4px 1px #00000014}.react-flow__node-default.selectable.selected,.react-flow__node-default.selectable:focus,.react-flow__node-default.selectable:focus-visible,.react-flow__node-input.selectable.selected,.react-flow__node-input.selectable:focus,.react-flow__node-input.selectable:focus-visible,.react-flow__node-output.selectable.selected,.react-flow__node-output.selectable:focus,.react-flow__node-output.selectable:focus-visible,.react-flow__node-group.selectable.selected,.react-flow__node-group.selectable:focus,.react-flow__node-group.selectable:focus-visible{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background-color:#f0f0f040}.react-flow__nodesselection-rect,.react-flow__selection{background:#0059dc14;border:1px dotted rgba(0,89,220,.8)}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible,.react-flow__selection:focus,.react-flow__selection:focus-visible{outline:none}.react-flow__controls{box-shadow:0 0 2px 1px #00000014}.react-flow__controls-button{border:none;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;display:flex;justify-content:center;align-items:center;width:16px;height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:5px}.react-flow__controls-button:hover{background:#f4f4f4}.react-flow__controls-button svg{width:100%;max-width:12px;max-height:12px}.react-flow__controls-button:disabled{pointer-events:none}.react-flow__controls-button:disabled svg{fill-opacity:.4}.react-flow__minimap{background-color:#fff}.react-flow__minimap svg{display:block}.react-flow__resize-control{position:absolute}.react-flow__resize-control.left,.react-flow__resize-control.right{cursor:ew-resize}.react-flow__resize-control.top,.react-flow__resize-control.bottom{cursor:ns-resize}.react-flow__resize-control.top.left,.react-flow__resize-control.bottom.right{cursor:nwse-resize}.react-flow__resize-control.bottom.left,.react-flow__resize-control.top.right{cursor:nesw-resize}.react-flow__resize-control.handle{width:4px;height:4px;border:1px solid #fff;border-radius:1px;background-color:#3367d9;transform:translate(-50%,-50%)}.react-flow__resize-control.handle.left{left:0;top:50%}.react-flow__resize-control.handle.right{left:100%;top:50%}.react-flow__resize-control.handle.top{left:50%;top:0}.react-flow__resize-control.handle.bottom{left:50%;top:100%}.react-flow__resize-control.handle.top.left,.react-flow__resize-control.handle.bottom.left{left:0}.react-flow__resize-control.handle.top.right,.react-flow__resize-control.handle.bottom.right{left:100%}.react-flow__resize-control.line{border-color:#3367d9;border-width:0;border-style:solid}.react-flow__resize-control.line.left,.react-flow__resize-control.line.right{width:1px;transform:translate(-50%);top:0;height:100%}.react-flow__resize-control.line.left{left:0;border-left-width:1px}.react-flow__resize-control.line.right{left:100%;border-right-width:1px}.react-flow__resize-control.line.top,.react-flow__resize-control.line.bottom{height:1px;transform:translateY(-50%);left:0;width:100%}.react-flow__resize-control.line.top{top:0;border-top-width:1px}.react-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}.map-wrapper{position:relative;width:100%;max-width:1200px;margin:0 auto;-webkit-user-select:none;user-select:none}.map-image{display:block;width:100%;height:auto;position:relative;z-index:1}.grid-overlay{position:absolute;inset:0;display:grid;pointer-events:auto;z-index:2}.grid-cell{position:relative;box-sizing:border-box;outline:1px solid rgba(255,255,255,.08);background:transparent;transition:background-color .12s ease,outline-color .12s ease;cursor:pointer}.grid-cell:hover{background:#ffff0026}.grid-cell.selected{background:#0bf3;outline:2px solid #0bbfff}.grid-cell.occupied{background:#ff00002e;outline-color:#ff000059;cursor:not-allowed}.hover-info{position:absolute;z-index:3;background:#000000c7;color:#fff;padding:6px 8px;border-radius:6px;font-size:12px;line-height:1.2;pointer-events:none;white-space:nowrap;box-shadow:0 4px 10px #0006}.modal-backdrop{position:absolute;inset:0;z-index:4;background:#00000059;display:flex;align-items:center;justify-content:center}.modal{background:var(--panel);color:var(--text);min-width:280px;max-width:420px;border-radius:10px;border:1px solid var(--border);box-shadow:0 10px 30px #00000059;padding:12px 12px 10px}.modal-title{font-weight:700;margin-bottom:8px}.modal-body{font-size:14px;margin-bottom:12px}.modal-actions{display:flex;justify-content:flex-end;gap:8px}.btn-primary{background:var(--btn-primary-bg, #2d7ef7);color:#fff;border:none}.help-overlay{position:fixed;inset:0;background:#0000008c;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:9999;display:grid;place-items:center;padding:2vh 2vw}.help-overlay-panel{width:90vw;height:90vh;max-width:1400px;background:var(--panel);border:1px solid var(--border);border-radius:12px;box-shadow:0 18px 60px #00000073;display:grid;grid-template-rows:50px 1fr;overflow:hidden}.help-overlay-head{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid var(--border)}.help-overlay-body{display:grid;grid-template-columns:280px 1fr;height:100%}.help-overlay-sidebar{border-right:1px solid var(--border);padding:10px;display:flex;flex-direction:column;gap:8px;overflow:auto}.help-overlay-search{width:100%;padding:8px 10px;border-radius:8px;border:1px solid var(--border);background:#0b1220;color:var(--text)}.help-topic-list{display:flex;flex-direction:column;gap:6px}.help-topic-item{text-align:left;background:transparent;color:var(--text);border:1px solid transparent;border-radius:8px;padding:8px 10px;cursor:pointer}.help-topic-item:hover{background:#ffffff0a}.help-topic-item.active{background:#2563eb1f;border-color:#2b4ea4}.help-overlay-content{overflow:auto;padding:14px 16px}.help-article{line-height:1.5}.help-article h1,.help-article h2,.help-article h3{margin:.4em 0 .3em}.help-article p{margin:.5em 0}.help-article img,.help-article video,.help-article iframe{max-width:100%;border-radius:8px}@media (max-width: 900px){.help-overlay{padding:0}.help-overlay-panel{width:100vw;height:100vh;border-radius:0}.help-overlay-body{grid-template-columns:1fr}.help-overlay-sidebar{border-right:none;border-bottom:1px solid var(--border)}}.help-topic-group-title{font-weight:700;opacity:.9;padding:6px;border-left:3px solid var(--border);margin-bottom:4px}.help-article a,.help-overlay-sidebar a,.help-overlay-content a,.help-topic-item a,.help-topic-group-title a{color:#62a0ff;text-decoration:none;transition:color .12s ease}.help-article a:visited,.help-overlay-sidebar a:visited,.help-overlay-content a:visited,.help-topic-item a:visited,.help-topic-group-title a:visited{color:#62a0ff}.help-article a:hover,.help-overlay-sidebar a:hover,.help-overlay-content a:hover,.help-topic-item a:hover,.help-topic-group-title a:hover,.help-article a:focus,.help-overlay-sidebar a:focus{color:#9ec8ff;outline:none;text-decoration:underline;box-shadow:0 0 0 4px #62a0ff14;border-radius:4px}.help-article a[data-topic-link],.help-overlay-sidebar a[data-topic-link]{color:#62a0ff}.help-overlay-content a,.help-article a{pointer-events:auto!important;cursor:pointer!important;color:#62a0ff;text-decoration:none}.help-overlay-content a:focus,.help-article a:focus{outline:none;box-shadow:0 0 0 4px #62a0ff14;border-radius:4px}.help-overlay-sidebar{display:flex;flex-direction:column;width:280px;min-width:220px;overflow:hidden}.help-topic-list{flex:1 1 auto;overflow:auto;padding:6px}.help-topic-list:after{content:"";display:block;height:18px}.help-overlay-panel{width:90vw;height:90vh;max-width:1400px;display:grid;grid-template-rows:50px 1fr;overflow:hidden}.help-overlay-body{display:grid;grid-template-columns:280px 1fr;height:100%;overflow:hidden}.help-overlay-sidebar{border-right:1px solid var(--border);padding:10px;display:flex;flex-direction:column;gap:8px;overflow:hidden;min-width:220px}.help-overlay-search{flex:0 0 auto;margin-bottom:6px}.help-topic-list{flex:1 1 auto;overflow:auto;padding:6px 4px;margin:0;display:block}.help-topic-item,.help-topic-group-title{display:block;width:100%;text-align:left;white-space:normal;box-sizing:border-box}.help-topic-group{margin-top:8px}.help-topic-group-title{font-weight:700;opacity:.95;padding:6px;border-left:3px solid var(--border);margin-bottom:6px;display:flex;align-items:center;gap:8px}.unread-badge{margin-left:8px;font-size:12px;color:#f59e0b}.dot-unread{margin-left:6px;color:#f59e0b;font-weight:900}.help-topic-item.depth-0{padding-left:6px}.help-topic-item.depth-1{padding-left:18px}.help-topic-item.depth-2{padding-left:32px}.help-topic-item.depth-3{padding-left:46px}.help-overlay-content{overflow:auto;padding:14px 16px;height:100%;box-sizing:border-box}.help-article{line-height:1.5;min-width:0;word-wrap:break-word}.help-topic-item button,.help-topic-item a{display:inline-block;width:100%;text-align:left}.help-topic-list,.help-overlay-content{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.06) transparent}.help-topic-list::-webkit-scrollbar,.help-overlay-content::-webkit-scrollbar{width:8px;height:8px}.help-topic-list::-webkit-scrollbar-track,.help-overlay-content::-webkit-scrollbar-track{background:transparent}.help-topic-list::-webkit-scrollbar-thumb,.help-overlay-content::-webkit-scrollbar-thumb{background:transparent;border-radius:8px;transition:background .12s ease}.help-topic-list:hover::-webkit-scrollbar-thumb,.help-overlay-content:hover::-webkit-scrollbar-thumb{background:#ffffff0f}.help-topic-list:hover::-webkit-scrollbar,.help-overlay-content:hover::-webkit-scrollbar{background:transparent}.help-topic-list:hover,.help-overlay-content:hover{scrollbar-color:rgba(255,255,255,.06) transparent}.help-topic-list{display:block;overflow:auto}.help-topic-item,.help-topic-group-title{display:block;width:100%;text-align:left}.help-topic-item:hover{background:#ffffff05}.help-image.help-right{float:right;margin:0 0 8px 12px;max-width:38%;width:auto;height:auto;border:1px solid #666;border-radius:8px}.help-article{overflow:hidden}.help-article p{text-align:justify;text-justify:inter-word;hyphens:auto;-webkit-hyphens:auto;-ms-hyphens:auto;margin-bottom:.9em}.help-article .justify-fix:after{content:"";display:inline-block;width:100%}.help-image.help-right{float:right;margin:0 0 8px 12px;max-width:38%}@media (max-width: 720px){.help-image.help-right{float:none;display:block;margin:10px auto;max-width:100%}}:root{--bg:#f7f8fa;--panel:#ffffff;--text:#0f172a;--muted:#94a3b8;--border:#e2e8f0;--chip:#eef2ff;--chipText:#1e3a8a;--accent:#7dd3fc;--accent-strong:#3b8df6;--ok:#22c55e;--warn:#f59e0b;--bad:#ef4444;--shadow:0 1px 0 rgba(15,23,42,.06), 0 8px 24px rgba(30,41,59,.06)}.dark{--bg:#0b0f17;--panel:#111827;--text:#e5e7eb;--muted:#9ca3af;--border:#1f2937;--chip:#0b1220;--chipText:#93c5fd;--accent:#2563eb;--accent-strong:#3b82f6;--ok:#22c55e;--warn:#f59e0b;--bad:#ef4444;--shadow:0 2px 18px rgba(0,0,0,.45)}*{box-sizing:border-box}html,body{height:100%}body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial,"Apple Color Emoji","Segoe UI Emoji"}a.link:link,a.link:visited{color:var(--accent-strong);text-decoration:none}a.link:hover{text-decoration:underline}.topbar{display:grid;grid-template-columns:1fr auto auto;align-items:center;gap:16px;padding:10px 16px;background:#0a0e14;color:var(--text);border-bottom:1px solid var(--border);box-shadow:var(--shadow);position:sticky;top:0;z-index:10;position:fixed;width:100%}.brand{display:flex;align-items:center;gap:10px;font-weight:800}.brand-emoji{font-size:20px}.brand-name{font-size:14px;letter-spacing:.3px}.header-resources{display:flex;gap:14px;justify-content:center;flex-wrap:wrap}.res-chip{display:flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:var(--chip);color:var(--chipText);border:1px solid var(--border);font-weight:700}.res-chip .max{opacity:.65;font-weight:600}.header-tools{display:flex;align-items:center;gap:12px}.icon-btn{background:transparent;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:6px 8px;cursor:pointer}.icon-btn:hover{border-color:var(--accent-strong)}.player-meta{color:var(--muted);font-size:14px}.auth .btn{padding:4px 8px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text);cursor:pointer}.auth .btn.primary{background:var(--accent);color:#fff;border-color:var(--accent-strong)}.content{display:grid;grid-template-columns:1fr 360px;gap:16px;padding:70px 16px}@media (max-width:1100px){.content{grid-template-columns:1fr}aside{order:-1}}body{padding-bottom:72px}.panel{background:var(--panel);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow)}.section{margin-bottom:16px}.section .section-head{display:flex;align-items:center;gap:10px;padding:12px 14px;border-bottom:1px solid var(--border);font-weight:700}.section-body{padding:10px 12px}.item{display:grid;grid-template-columns:auto 1fr auto;gap:12px;align-items:center;padding:10px 12px;border:1px solid var(--border);border-radius:10px;margin-bottom:10px;background:color-mix(in oklab,var(--panel) 95%,black)}.item:hover{border-color:var(--accent-strong)}.item .icon{font-size:20px}.item .title{font-weight:700;font-size:15px}.item .sub{color:var(--muted);font-size:13px}.item .right{display:flex;align-items:center;gap:8px}.badge{font-size:12px;padding:3px 8px;border-radius:999px;border:1px solid var(--border)}.badge.owned{background:color-mix(in oklab,var(--ok) 18%,transparent);border-color:var(--ok);color:#eaffea}.btn{padding:6px 10px;border-radius:8px;cursor:pointer;border:1px solid var(--border);background:transparent;color:var(--text)}.btn.primary{background:var(--accent);color:#fff;border-color:var(--accent-strong)}.btn:disabled{opacity:.55;cursor:not-allowed}.price-pill{color:var(--muted);font-weight:700}.price-ok{color:var(--ok);font-weight:700}.price-bad{color:var(--bad);font-weight:700}.price-output{color:var(--accent);font-weight:700}.res-panel .row{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-radius:8px}.res-panel .row:hover{background:#ffffff08}.res-panel .left{display:flex;align-items:center;gap:10px}.progress{height:16px;border-radius:999px;background:#0d1421;border:1px solid var(--border);overflow:hidden;width:100%;position:relative}.progress>span{display:block;height:100%;background:var(--accent-strong);width:0%;transition:width .3s}.progress .pct{position:absolute;inset:0;display:grid;place-items:center;font-size:12px;color:#fff;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.4)}.detail-hero{display:grid;grid-template-columns:256px 1fr;gap:16px;align-items:start;padding:14px;border:1px solid var(--border);border-radius:12px}.detail-hero .photo{width:256px;height:256px;min-width:256px;background:#0d1421;border:1px solid var(--border);border-radius:10px;background-position:center;background-size:cover}.statgrid{display:grid;grid-template-columns:1fr 1fr;gap:8px}.statitem .label{color:var(--muted);font-weight:500}.statitem .value{font-weight:700}.actions-bar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:10px 0 6px}.actions-bar .actions-meta{margin-left:auto;color:var(--muted);font-weight:600}.tabs{display:flex;gap:8px;margin:12px 0}.tab{padding:6px 10px;border:1px solid var(--border);border-radius:8px;cursor:pointer;color:#fff;background:#ffffff0f}.tab:hover{background:#ffffff1f}.tab.active{background:#3b82f640;border-color:var(--accent-strong);color:#fff}.modal{position:fixed;inset:0;background:#00000073;display:grid;place-items:center}.modal[hidden]{display:none!important}.modal__content{width:min(560px,90vw);background:var(--panel);color:var(--text);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:14px}.modal__close{float:right;border:none;background:transparent;color:var(--muted);font-size:16px;cursor:pointer}.modal__close:hover{color:var(--text)}.modal__actions{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}.quickbar{position:fixed;left:0;right:0;bottom:0;z-index:20;display:grid;grid-template-columns:repeat(10,1fr);gap:6px;padding:8px 10px;background:var(--panel);border-top:1px solid var(--border);box-shadow:var(--shadow)}.quickbar a{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;padding:6px 4px;text-decoration:none;color:var(--text);border:1px solid transparent;border-radius:8px;font-size:13px}.quickbar a:hover{border-color:var(--accent-strong);background:color-mix(in oklab,var(--accent-strong) 10%,transparent)}.quickbar a.active{border-color:var(--accent-strong);background:color-mix(in oklab,var(--accent-strong) 20%,transparent);font-weight:700}.quickbar a span{opacity:.9}@media (max-width:900px){.quickbar{grid-template-columns:repeat(4,1fr)}.quickbar a span{display:none}}.res-chip{position:relative;cursor:default;display:inline-block}.res-chip:after{content:attr(data-tip);position:absolute;bottom:125%;left:50%;transform:translate(-50%);background:#333;color:#fff;padding:4px 8px;border-radius:6px;white-space:nowrap;font-size:.8em;opacity:0;pointer-events:none;transition:opacity .2s}.res-chip:hover:after{opacity:1}.collapsible-item{cursor:pointer;transition:background-color .2s}.collapsible-item:hover{background-color:#ffffff0d}.collapsible-item .chevron{transition:transform .3s ease}.collapsible-content{max-height:0;overflow:hidden;transition:max-height .3s ease-out;background-color:#0000001a;margin:-10px 0 10px;border-radius:0 0 10px 10px;border:1px solid var(--border);border-top:none}.collapsible-content.expanded{max-height:500px}.collapsible-item{cursor:pointer}.collapsible-item .chevron{transition:transform .2s ease-in-out;display:inline-block}.collapsible-item .chevron.expanded{transform:rotate(90deg)}.collapsible-content{background-color:#00000026;border-top:1px solid var(--border)}.yield-source-item{display:flex;justify-content:space-between;padding:6px 12px;font-size:14px;border-bottom:1px solid var(--border)}.yield-source-item:last-child{border-bottom:none}.research-node{width:250px;height:120px;border:1px solid var(--border);border-radius:8px;background:var(--bg-panel);display:flex;flex-direction:column;padding:10px}.research-node.research-node--completed{border-color:var(--ok);background:#2a3a2a}.research-node.research-node--available{border-color:var(--primary)}.research-node.research-node--locked{opacity:.5}.research-node__header{display:flex;align-items:center;gap:8px;font-weight:700}.research-node__body{flex-grow:1;font-size:13px;opacity:.8;padding-top:5px}.research-node__footer{text-align:right}.btn.small{padding:4px 8px;font-size:12px}.universal-node{width:180px;height:60px;border:1px solid var(--border);border-radius:8px;background:var(--bg-panel);display:flex;flex-direction:column;padding:8px;font-size:14px;transition:all .2s ease-in-out}.universal-node--owned{border-color:var(--ok);background:#2a3a2a}.universal-node--neutral{background:#2a2a3a;border-color:#4a4a6a}.universal-node__header{display:flex;align-items:center;gap:8px;font-weight:700}.universal-node__header .icon{font-size:18px}.universal-node__type{margin-top:auto;font-size:11px;opacity:.6;text-align:right;text-transform:capitalize}.react-flow__edge-path{stroke:#555;stroke-width:2}.react-flow__node-group{border-radius:8px;border:1px dashed var(--border);pointer-events:none}.react-flow__node-group .group-label{position:absolute;top:-25px;left:10px;font-size:16px;font-weight:700;color:var(--text-secondary)}.sidebar-log{font-size:12px;line-height:1.3;color:var(--text, #ddd)}.sidebar-log .sl-header{display:flex;align-items:center;gap:8px;margin-bottom:6px}.sidebar-log .sl-title{font-weight:600;font-size:12px;color:var(--text-secondary, #aaa)}.sidebar-log .sl-header select,.sidebar-log .sl-header button{font-size:12px;padding:2px 6px;background:var(--bg-panel, #1f1f1f);color:var(--text, #ddd);border:1px solid var(--border, #333);border-radius:4px}.sidebar-log .sl-header button{cursor:pointer}.sidebar-log .sl-list{list-style:none;padding:0;margin:0}.sidebar-log .sl-item{margin:0 0 6px}.sidebar-log .sl-time{color:var(--text-muted, #999);margin-right:4px;white-space:nowrap}.sidebar-log .sl-body{color:var(--text, #ddd)}.sidebar-log .sl-yield{color:#48c78e}.sidebar-log .sl-completed{color:#4da3ff}.sidebar-log .sl-canceled{color:#ff6b6b}.sidebar-log .sl-error{color:#ff6b6b;margin-bottom:6px}.sidebar-log .sl-loading{color:var(--text-muted, #999);margin-bottom:6px}.sidebar-log .sl-empty{color:var(--text-muted, #999)}.sidebar-log{max-height:360px;overflow:auto;border-top:1px solid var(--border, #333);border-bottom:1px solid var(--border, #333);padding-top:4px;padding-bottom:4px}.topbar-auth{position:relative;display:flex;align-items:center;gap:8px}.topbar-auth .auth-inline .btn.small{padding:4px 8px;font-size:12px}.topbar-auth .auth-user{color:var(--text, #ddd);margin-right:6px;font-size:13px}.topbar-auth .auth-muted{color:var(--text-muted, #999);font-size:12px}.topbar-auth .auth-pop{position:absolute;top:32px;right:0;width:220px;background:var(--bg-panel, #1f1f1f);border:1px solid var(--border, #333);border-radius:6px;padding:10px;display:grid;gap:8px;z-index:1000;box-shadow:0 4px 12px #00000059}.topbar-auth .auth-title{font-weight:600;color:var(--text, #ddd);font-size:13px}.topbar-auth .auth-input{width:100%;padding:6px 8px;font-size:13px;color:var(--text, #ddd);background:var(--bg, #151515);border:1px solid var(--border, #333);border-radius:4px}.topbar-auth .auth-error{color:#ff6b6b;font-size:12px}.topbar-auth .auth-actions{display:flex;gap:6px;justify-content:flex-end}.focus-highlight{animation:focusPulse var(--focus-duration, 4s) ease forwards}@keyframes focusPulse{0%{box-shadow:0 0 0 6px red}60%{box-shadow:0 0 0 3px #990606}to{box-shadow:0 0 #ffc80000}}.groupbox{border:1px solid var(--border);border-radius:12px;padding:16px;margin-top:22px;position:relative}.groupbox legend{position:absolute;top:-12px;left:16px;padding:0 8px;font-weight:800;font-size:14px;line-height:1.2;color:var(--text);background:var(--panel);border:none;border-radius:6px}.groupbox__content{margin-top:0;display:grid;gap:12px}.mp-grid{display:grid;gap:12px;grid-auto-flow:row dense}.mp-grid.cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.mp-grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.mp-grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}@media (max-width: 980px){.mp-grid.cols-3{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 640px){.mp-grid.cols-2,.mp-grid.cols-3{grid-template-columns:repeat(1,minmax(0,1fr))}}.mp-item,.mp-item.span-1{grid-column:span 1}.mp-item.span-2{grid-column:span 2}.mp-item.span-3{grid-column:span 3}
