function gF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ng={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BN;function yF(){if(BN)return Du;BN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:r,key:o,ref:a!==void 0?a:null,props:s}}return Du.Fragment=t,Du.jsx=n,Du.jsxs=n,Du}var $N;function bF(){return $N||($N=1,ng.exports=yF()),ng.exports}var g=bF(),rg={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN;function xF(){if(zN)return Ie;zN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function w($,V,Z){this.props=$,this.context=V,this.refs=x,this.updater=Z||y}w.prototype.isReactComponent={},w.prototype.setState=function($,V){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,V,"setState")},w.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function S(){}S.prototype=w.prototype;function E($,V,Z){this.props=$,this.context=V,this.refs=x,this.updater=Z||y}var O=E.prototype=new S;O.constructor=E,_(O,w.prototype),O.isPureReactComponent=!0;var A=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function C($,V,Z,ne,K,X){return Z=X.ref,{$$typeof:e,type:$,key:V,ref:Z!==void 0?Z:null,props:X}}function q($,V){return C($.type,V,void 0,void 0,void 0,$.props)}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function M($){var V={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Z){return V[Z]})}var L=/\/+/g;function B($,V){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):V.toString(36)}function z(){}function D($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(z,z):($.status="pending",$.then(function(V){$.status==="pending"&&($.status="fulfilled",$.value=V)},function(V){$.status==="pending"&&($.status="rejected",$.reason=V)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,V,Z,ne,K){var X=typeof $;(X==="undefined"||X==="boolean")&&($=null);var G=!1;if($===null)G=!0;else switch(X){case"bigint":case"string":case"number":G=!0;break;case"object":switch($.$$typeof){case e:case t:G=!0;break;case f:return G=$._init,H(G($._payload),V,Z,ne,K)}}if(G)return K=K($),G=ne===""?"."+B($,0):ne,A(K)?(Z="",G!=null&&(Z=G.replace(L,"$&/")+"/"),H(K,V,Z,"",function(se){return se})):K!=null&&(P(K)&&(K=q(K,Z+(K.key==null||$&&$.key===K.key?"":(""+K.key).replace(L,"$&/")+"/")+G)),V.push(K)),1;G=0;var te=ne===""?".":ne+":";if(A($))for(var oe=0;oe<$.length;oe++)ne=$[oe],X=te+B(ne,oe),G+=H(ne,V,Z,X,K);else if(oe=v($),typeof oe=="function")for($=oe.call($),oe=0;!(ne=$.next()).done;)ne=ne.value,X=te+B(ne,oe++),G+=H(ne,V,Z,X,K);else if(X==="object"){if(typeof $.then=="function")return H(D($),V,Z,ne,K);throw V=String($),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return G}function I($,V,Z){if($==null)return $;var ne=[],K=0;return H($,ne,"","",function(X){return V.call(Z,X,K++)}),ne}function F($){if($._status===-1){var V=$._result;V=V(),V.then(function(Z){($._status===0||$._status===-1)&&($._status=1,$._result=Z)},function(Z){($._status===0||$._status===-1)&&($._status=2,$._result=Z)}),$._status===-1&&($._status=0,$._result=V)}if($._status===1)return $._result.default;throw $._result}var Q=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Y(){}return Ie.Children={map:I,forEach:function($,V,Z){I($,function(){V.apply(this,arguments)},Z)},count:function($){var V=0;return I($,function(){V++}),V},toArray:function($){return I($,function(V){return V})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ie.Component=w,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=E,Ie.StrictMode=r,Ie.Suspense=c,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ie.__COMPILER_RUNTIME={__proto__:null,c:function($){return N.H.useMemoCache($)}},Ie.cache=function($){return function(){return $.apply(null,arguments)}},Ie.cloneElement=function($,V,Z){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ne=_({},$.props),K=$.key,X=void 0;if(V!=null)for(G in V.ref!==void 0&&(X=void 0),V.key!==void 0&&(K=""+V.key),V)!k.call(V,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&V.ref===void 0||(ne[G]=V[G]);var G=arguments.length-2;if(G===1)ne.children=Z;else if(1<G){for(var te=Array(G),oe=0;oe<G;oe++)te[oe]=arguments[oe+2];ne.children=te}return C($.type,K,void 0,void 0,X,ne)},Ie.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},Ie.createElement=function($,V,Z){var ne,K={},X=null;if(V!=null)for(ne in V.key!==void 0&&(X=""+V.key),V)k.call(V,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(K[ne]=V[ne]);var G=arguments.length-2;if(G===1)K.children=Z;else if(1<G){for(var te=Array(G),oe=0;oe<G;oe++)te[oe]=arguments[oe+2];K.children=te}if($&&$.defaultProps)for(ne in G=$.defaultProps,G)K[ne]===void 0&&(K[ne]=G[ne]);return C($,X,void 0,void 0,null,K)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function($){return{$$typeof:u,render:$}},Ie.isValidElement=P,Ie.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:F}},Ie.memo=function($,V){return{$$typeof:d,type:$,compare:V===void 0?null:V}},Ie.startTransition=function($){var V=N.T,Z={};N.T=Z;try{var ne=$(),K=N.S;K!==null&&K(Z,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Y,Q)}catch(X){Q(X)}finally{N.T=V}},Ie.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ie.use=function($){return N.H.use($)},Ie.useActionState=function($,V,Z){return N.H.useActionState($,V,Z)},Ie.useCallback=function($,V){return N.H.useCallback($,V)},Ie.useContext=function($){return N.H.useContext($)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function($,V){return N.H.useDeferredValue($,V)},Ie.useEffect=function($,V,Z){var ne=N.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect($,V)},Ie.useId=function(){return N.H.useId()},Ie.useImperativeHandle=function($,V,Z){return N.H.useImperativeHandle($,V,Z)},Ie.useInsertionEffect=function($,V){return N.H.useInsertionEffect($,V)},Ie.useLayoutEffect=function($,V){return N.H.useLayoutEffect($,V)},Ie.useMemo=function($,V){return N.H.useMemo($,V)},Ie.useOptimistic=function($,V){return N.H.useOptimistic($,V)},Ie.useReducer=function($,V,Z){return N.H.useReducer($,V,Z)},Ie.useRef=function($){return N.H.useRef($)},Ie.useState=function($){return N.H.useState($)},Ie.useSyncExternalStore=function($,V,Z){return N.H.useSyncExternalStore($,V,Z)},Ie.useTransition=function(){return N.H.useTransition()},Ie.version="19.1.1",Ie}var UN;function Ol(){return UN||(UN=1,rg.exports=xF()),rg.exports}var T=Ol();const de=Ar(T),_F=gF({__proto__:null,default:de},[T]);var ag={exports:{}},Pu={},ig={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function wF(){return HN||(HN=1,(function(e){function t(I,F){var Q=I.length;I.push(F);e:for(;0<Q;){var Y=Q-1>>>1,$=I[Y];if(0<a($,F))I[Y]=F,I[Q]=$,Q=Y;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var F=I[0],Q=I.pop();if(Q!==F){I[0]=Q;e:for(var Y=0,$=I.length,V=$>>>1;Y<V;){var Z=2*(Y+1)-1,ne=I[Z],K=Z+1,X=I[K];if(0>a(ne,Q))K<$&&0>a(X,ne)?(I[Y]=X,I[K]=Q,Y=K):(I[Y]=ne,I[Z]=Q,Y=Z);else if(K<$&&0>a(X,Q))I[Y]=X,I[K]=Q,Y=K;else break e}}return F}function a(I,F){var Q=I.sortIndex-F.sortIndex;return Q!==0?Q:I.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var c=[],d=[],f=1,p=null,v=3,y=!1,_=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function A(I){for(var F=n(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=I)r(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(d)}}function N(I){if(x=!1,A(I),!_)if(n(c)!==null)_=!0,k||(k=!0,B());else{var F=n(d);F!==null&&H(N,F.startTime-I)}}var k=!1,C=-1,q=5,P=-1;function M(){return w?!0:!(e.unstable_now()-P<q)}function L(){if(w=!1,k){var I=e.unstable_now();P=I;var F=!0;try{e:{_=!1,x&&(x=!1,E(C),C=-1),y=!0;var Q=v;try{t:{for(A(I),p=n(c);p!==null&&!(p.expirationTime>I&&M());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,v=p.priorityLevel;var $=Y(p.expirationTime<=I);if(I=e.unstable_now(),typeof $=="function"){p.callback=$,A(I),F=!0;break t}p===n(c)&&r(c),A(I)}else r(c);p=n(c)}if(p!==null)F=!0;else{var V=n(d);V!==null&&H(N,V.startTime-I),F=!1}}break e}finally{p=null,v=Q,y=!1}F=void 0}}finally{F?B():k=!1}}}var B;if(typeof O=="function")B=function(){O(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=L,B=function(){D.postMessage(null)}}else B=function(){S(L,0)};function H(I,F){C=S(function(){I(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var Q=v;v=F;try{return I()}finally{v=Q}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Q=v;v=I;try{return F()}finally{v=Q}},e.unstable_scheduleCallback=function(I,F,Q){var Y=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Y+Q:Y):Q=Y,I){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Q+$,I={id:f++,callback:F,priorityLevel:I,startTime:Q,expirationTime:$,sortIndex:-1},Q>Y?(I.sortIndex=Q,t(d,I),n(c)===null&&I===n(d)&&(x?(E(C),C=-1):x=!0,H(N,Q-Y))):(I.sortIndex=$,t(c,I),_||y||(_=!0,k||(k=!0,B()))),I},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(I){var F=v;return function(){var Q=v;v=F;try{return I.apply(this,arguments)}finally{v=Q}}}})(sg)),sg}var FN;function SF(){return FN||(FN=1,ig.exports=wF()),ig.exports}var og={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function jF(){if(GN)return kn;GN=1;var e=Ol();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kn.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(c,d,null,f)},kn.flushSync=function(c){var d=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=d,r.p=f,r.d.f()}},kn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},kn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},kn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=u(f,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):f==="script"&&r.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},kn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},kn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=u(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},kn.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},kn.requestFormReset=function(c){r.d.r(c)},kn.unstable_batchedUpdates=function(c,d){return c(d)},kn.useFormState=function(c,d,f){return o.H.useFormState(c,d,f)},kn.useFormStatus=function(){return o.H.useHostTransitionStatus()},kn.version="19.1.1",kn}var KN;function kB(){if(KN)return og.exports;KN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),og.exports=jF(),og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function EF(){if(YN)return Pu;YN=1;var e=SF(),t=Ol(),n=kB();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var l=i,h=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(h=l.return),i=l.return;while(i)}return l.tag===3?h:null}function o(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(s(i)!==i)throw Error(r(188))}function c(i){var l=i.alternate;if(!l){if(l=s(i),l===null)throw Error(r(188));return l!==i?null:i}for(var h=i,m=l;;){var b=h.return;if(b===null)break;var j=b.alternate;if(j===null){if(m=b.return,m!==null){h=m;continue}break}if(b.child===j.child){for(j=b.child;j;){if(j===h)return u(b),i;if(j===m)return u(b),l;j=j.sibling}throw Error(r(188))}if(h.return!==m.return)h=b,m=j;else{for(var R=!1,U=b.child;U;){if(U===h){R=!0,h=b,m=j;break}if(U===m){R=!0,m=b,h=j;break}U=U.sibling}if(!R){for(U=j.child;U;){if(U===h){R=!0,h=j,m=b;break}if(U===m){R=!0,m=j,h=b;break}U=U.sibling}if(!R)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?i:l}function d(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=d(i),l!==null)return l;i=i.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function D(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case O:return(i.displayName||"Context")+".Provider";case E:return(i._context.displayName||"Context")+".Consumer";case A:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return l=i.displayName||null,l!==null?l:D(i.type)||"Memo";case q:l=i._payload,i=i._init;try{return D(i(l))}catch{}}return null}var H=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},Y=[],$=-1;function V(i){return{current:i}}function Z(i){0>$||(i.current=Y[$],Y[$]=null,$--)}function ne(i,l){$++,Y[$]=i.current,i.current=l}var K=V(null),X=V(null),G=V(null),te=V(null);function oe(i,l){switch(ne(G,l),ne(X,i),ne(K,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?hN(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=hN(l),i=pN(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(K),ne(K,i)}function se(){Z(K),Z(X),Z(G)}function he(i){i.memoizedState!==null&&ne(te,i);var l=K.current,h=pN(l,i.type);l!==h&&(ne(X,i),ne(K,h))}function ye(i){X.current===i&&(Z(K),Z(X)),te.current===i&&(Z(te),Nu._currentValue=Q)}var ce=Object.prototype.hasOwnProperty,Ae=e.unstable_scheduleCallback,we=e.unstable_cancelCallback,be=e.unstable_shouldYield,Pe=e.unstable_requestPaint,xe=e.unstable_now,Se=e.unstable_getCurrentPriorityLevel,at=e.unstable_ImmediatePriority,Dn=e.unstable_UserBlockingPriority,ln=e.unstable_NormalPriority,Jt=e.unstable_LowPriority,it=e.unstable_IdlePriority,kt=e.log,Ft=e.unstable_setDisableYieldValue,Ct=null,ct=null;function yt(i){if(typeof kt=="function"&&Ft(i),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Ct,i)}catch{}}var ht=Math.clz32?Math.clz32:Gt,Fn=Math.log,At=Math.LN2;function Gt(i){return i>>>=0,i===0?32:31-(Fn(i)/At|0)|0}var pt=256,Qe=4194304;function Lt(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function en(i,l,h){var m=i.pendingLanes;if(m===0)return 0;var b=0,j=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var U=m&134217727;return U!==0?(m=U&~j,m!==0?b=Lt(m):(R&=U,R!==0?b=Lt(R):h||(h=U&~i,h!==0&&(b=Lt(h))))):(U=m&~j,U!==0?b=Lt(U):R!==0?b=Lt(R):h||(h=m&~i,h!==0&&(b=Lt(h)))),b===0?0:l!==0&&l!==b&&(l&j)===0&&(j=b&-b,h=l&-l,j>=h||j===32&&(h&4194048)!==0)?l:b}function _n(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function ps(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(){var i=pt;return pt<<=1,(pt&4194048)===0&&(pt=256),i}function ir(){var i=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),i}function La(i){for(var l=[],h=0;31>h;h++)l.push(i);return l}function Gn(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ea(i,l,h,m,b,j){var R=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var U=i.entanglements,W=i.expirationTimes,ie=i.hiddenUpdates;for(h=R&~h;0<h;){var pe=31-ht(h),ve=1<<pe;U[pe]=0,W[pe]=-1;var le=ie[pe];if(le!==null)for(ie[pe]=null,pe=0;pe<le.length;pe++){var ue=le[pe];ue!==null&&(ue.lane&=-536870913)}h&=~ve}m!==0&&yo(i,m,0),j!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=j&~(R&~l))}function yo(i,l,h){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-ht(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|h&4194090}function Ot(i,l){var h=i.entangledLanes|=l;for(i=i.entanglements;h;){var m=31-ht(h),b=1<<m;b&l|i[m]&l&&(i[m]|=l),h&=~b}}function Tr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ms(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vs(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:RN(i.type))}function gs(i,l){var h=F.p;try{return F.p=i,l()}finally{F.p=h}}var sr=Math.random().toString(36).slice(2),qt="__reactFiber$"+sr,un="__reactProps$"+sr,tn="__reactContainer$"+sr,or="__reactEvents$"+sr,bo="__reactListeners$"+sr,xo="__reactHandles$"+sr,ji="__reactResources$"+sr,ba="__reactMarker$"+sr;function Pn(i){delete i[qt],delete i[un],delete i[or],delete i[bo],delete i[xo]}function Nr(i){var l=i[qt];if(l)return l;for(var h=i.parentNode;h;){if(l=h[tn]||h[qt]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(i=yN(i);i!==null;){if(h=i[qt])return h;i=yN(i)}return l}i=h,h=i.parentNode}return null}function ta(i){if(i=i[qt]||i[tn]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function xa(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function na(i){var l=i[ji];return l||(l=i[ji]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Mt(i){i[ba]=!0}var Te=new Set,ee={};function ge(i,l){je(i,l),je(i+"Capture",l)}function je(i,l){for(ee[i]=l,i=0;i<l.length;i++)Te.add(l[i])}var Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),It={},bt={};function cn(i){return ce.call(bt,i)?!0:ce.call(It,i)?!1:Je.test(i)?bt[i]=!0:(It[i]=!0,!1)}function Tn(i,l,h){if(cn(l))if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+h)}}function lr(i,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+h)}}function Ln(i,l,h,m){if(m===null)i.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttributeNS(l,h,""+m)}}var _t,ys;function ra(i){if(_t===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);_t=l&&l[1]||"",ys=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+i+ys}var zl=!1;function bs(i,l){if(!i||zl)return"";zl=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ue){var le=ue}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(ue){le=ue}i.call(ve.prototype)}}else{try{throw Error()}catch(ue){le=ue}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=m.DetermineComponentFrameRoot(),R=j[0],U=j[1];if(R&&U){var W=R.split(`
`),ie=U.split(`
`);for(b=m=0;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;for(;b<ie.length&&!ie[b].includes("DetermineComponentFrameRoot");)b++;if(m===W.length||b===ie.length)for(m=W.length-1,b=ie.length-1;1<=m&&0<=b&&W[m]!==ie[b];)b--;for(;1<=m&&0<=b;m--,b--)if(W[m]!==ie[b]){if(m!==1||b!==1)do if(m--,b--,0>b||W[m]!==ie[b]){var pe=`
`+W[m].replace(" at new "," at ");return i.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",i.displayName)),pe}while(1<=m&&0<=b);break}}}finally{zl=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?ra(h):""}function f8(i){switch(i.tag){case 26:case 27:case 5:return ra(i.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return bs(i.type,!1);case 11:return bs(i.type.render,!1);case 1:return bs(i.type,!0);case 31:return ra("Activity");default:return""}}function oA(i){try{var l="";do l+=f8(i),i=i.return;while(i);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function kr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function lA(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function d8(i){var l=lA(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,j=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(R){m=""+R,j.call(this,R)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Wc(i){i._valueTracker||(i._valueTracker=d8(i))}function uA(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return i&&(m=lA(i)?i.checked?"true":"false":i.value),i=m,i!==h?(l.setValue(i),!0):!1}function Xc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var h8=/[\n"\\]/g;function Cr(i){return i.replace(h8,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Jp(i,l,h,m,b,j,R,U){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),l!=null?R==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+kr(l)):i.value!==""+kr(l)&&(i.value=""+kr(l)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),l!=null?em(i,R,kr(l)):h!=null?em(i,R,kr(h)):m!=null&&i.removeAttribute("value"),b==null&&j!=null&&(i.defaultChecked=!!j),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.name=""+kr(U):i.removeAttribute("name")}function cA(i,l,h,m,b,j,R,U){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.type=j),l!=null||h!=null){if(!(j!=="submit"&&j!=="reset"||l!=null))return;h=h!=null?""+kr(h):"",l=l!=null?""+kr(l):h,U||l===i.value||(i.value=l),i.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=U?i.checked:!!m,i.defaultChecked=!!m,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function em(i,l,h){l==="number"&&Xc(i.ownerDocument)===i||i.defaultValue===""+h||(i.defaultValue=""+h)}function _o(i,l,h,m){if(i=i.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<i.length;h++)b=l.hasOwnProperty("$"+i[h].value),i[h].selected!==b&&(i[h].selected=b),b&&m&&(i[h].defaultSelected=!0)}else{for(h=""+kr(h),l=null,b=0;b<i.length;b++){if(i[b].value===h){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function fA(i,l,h){if(l!=null&&(l=""+kr(l),l!==i.value&&(i.value=l),h==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=h!=null?""+kr(h):""}function dA(i,l,h,m){if(l==null){if(m!=null){if(h!=null)throw Error(r(92));if(H(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),l=h}h=kr(l),i.defaultValue=h,m=i.textContent,m===h&&m!==""&&m!==null&&(i.value=m)}function wo(i,l){if(l){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=l;return}}i.textContent=l}var p8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hA(i,l,h){var m=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,h):typeof h!="number"||h===0||p8.has(l)?l==="float"?i.cssFloat=h:i[l]=(""+h).trim():i[l]=h+"px"}function pA(i,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&h[b]!==m&&hA(i,b,m)}else for(var j in l)l.hasOwnProperty(j)&&hA(i,j,l[j])}function tm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),v8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(i){return v8.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var nm=null;function rm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var So=null,jo=null;function mA(i){var l=ta(i);if(l&&(i=l.stateNode)){var h=i[un]||null;e:switch(i=l.stateNode,l.type){case"input":if(Jp(i,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Cr(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==i&&m.form===i.form){var b=m[un]||null;if(!b)throw Error(r(90));Jp(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<h.length;l++)m=h[l],m.form===i.form&&uA(m)}break e;case"textarea":fA(i,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&_o(i,!!h.multiple,l,!1)}}}var am=!1;function vA(i,l,h){if(am)return i(l,h);am=!0;try{var m=i(l);return m}finally{if(am=!1,(So!==null||jo!==null)&&(qf(),So&&(l=So,i=jo,jo=So=null,mA(l),i)))for(l=0;l<i.length;l++)mA(i[l])}}function Ul(i,l){var h=i.stateNode;if(h===null)return null;var m=h[un]||null;if(m===null)return null;h=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),im=!1;if(qa)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){im=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{im=!1}var Ei=null,sm=null,Qc=null;function gA(){if(Qc)return Qc;var i,l=sm,h=l.length,m,b="value"in Ei?Ei.value:Ei.textContent,j=b.length;for(i=0;i<h&&l[i]===b[i];i++);var R=h-i;for(m=1;m<=R&&l[h-m]===b[j-m];m++);return Qc=b.slice(i,1<m?1-m:void 0)}function Jc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ef(){return!0}function yA(){return!1}function Kn(i){function l(h,m,b,j,R){this._reactName=h,this._targetInst=b,this.type=m,this.nativeEvent=j,this.target=R,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(h=i[U],this[U]=h?h(j):j[U]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ef:yA,this.isPropagationStopped=yA,this}return f(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ef)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ef)},persist:function(){},isPersistent:ef}),l}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tf=Kn(xs),Fl=f({},xs,{view:0,detail:0}),g8=Kn(Fl),om,lm,Gl,nf=f({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gl&&(Gl&&i.type==="mousemove"?(om=i.screenX-Gl.screenX,lm=i.screenY-Gl.screenY):lm=om=0,Gl=i),om)},movementY:function(i){return"movementY"in i?i.movementY:lm}}),bA=Kn(nf),y8=f({},nf,{dataTransfer:0}),b8=Kn(y8),x8=f({},Fl,{relatedTarget:0}),um=Kn(x8),_8=f({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),w8=Kn(_8),S8=f({},xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),j8=Kn(S8),E8=f({},xs,{data:0}),xA=Kn(E8),A8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N8(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=T8[i])?!!l[i]:!1}function cm(){return N8}var k8=f({},Fl,{key:function(i){if(i.key){var l=A8[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Jc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?O8[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(i){return i.type==="keypress"?Jc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),C8=Kn(k8),M8=f({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_A=Kn(M8),R8=f({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),D8=Kn(R8),P8=f({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),L8=Kn(P8),q8=f({},nf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),I8=Kn(q8),B8=f({},xs,{newState:0,oldState:0}),$8=Kn(B8),z8=[9,13,27,32],fm=qa&&"CompositionEvent"in window,Kl=null;qa&&"documentMode"in document&&(Kl=document.documentMode);var U8=qa&&"TextEvent"in window&&!Kl,wA=qa&&(!fm||Kl&&8<Kl&&11>=Kl),SA=" ",jA=!1;function EA(i,l){switch(i){case"keyup":return z8.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AA(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Eo=!1;function H8(i,l){switch(i){case"compositionend":return AA(l);case"keypress":return l.which!==32?null:(jA=!0,SA);case"textInput":return i=l.data,i===SA&&jA?null:i;default:return null}}function F8(i,l){if(Eo)return i==="compositionend"||!fm&&EA(i,l)?(i=gA(),Qc=sm=Ei=null,Eo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return wA&&l.locale!=="ko"?null:l.data;default:return null}}var G8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OA(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!G8[i.type]:l==="textarea"}function TA(i,l,h,m){So?jo?jo.push(m):jo=[m]:So=m,l=Hf(l,"onChange"),0<l.length&&(h=new tf("onChange","change",null,h,m),i.push({event:h,listeners:l}))}var Yl=null,Vl=null;function K8(i){lN(i,0)}function rf(i){var l=xa(i);if(uA(l))return i}function NA(i,l){if(i==="change")return l}var kA=!1;if(qa){var dm;if(qa){var hm="oninput"in document;if(!hm){var CA=document.createElement("div");CA.setAttribute("oninput","return;"),hm=typeof CA.oninput=="function"}dm=hm}else dm=!1;kA=dm&&(!document.documentMode||9<document.documentMode)}function MA(){Yl&&(Yl.detachEvent("onpropertychange",RA),Vl=Yl=null)}function RA(i){if(i.propertyName==="value"&&rf(Vl)){var l=[];TA(l,Vl,i,rm(i)),vA(K8,l)}}function Y8(i,l,h){i==="focusin"?(MA(),Yl=l,Vl=h,Yl.attachEvent("onpropertychange",RA)):i==="focusout"&&MA()}function V8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rf(Vl)}function W8(i,l){if(i==="click")return rf(l)}function X8(i,l){if(i==="input"||i==="change")return rf(l)}function Z8(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var ur=typeof Object.is=="function"?Object.is:Z8;function Wl(i,l){if(ur(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var h=Object.keys(i),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var b=h[m];if(!ce.call(l,b)||!ur(i[b],l[b]))return!1}return!0}function DA(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function PA(i,l){var h=DA(i);i=0;for(var m;h;){if(h.nodeType===3){if(m=i+h.textContent.length,i<=l&&m>=l)return{node:h,offset:l-i};i=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=DA(h)}}function LA(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?LA(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function qA(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Xc(i.document);l instanceof i.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)i=l.contentWindow;else break;l=Xc(i.document)}return l}function pm(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var Q8=qa&&"documentMode"in document&&11>=document.documentMode,Ao=null,mm=null,Xl=null,vm=!1;function IA(i,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;vm||Ao==null||Ao!==Xc(m)||(m=Ao,"selectionStart"in m&&pm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Xl&&Wl(Xl,m)||(Xl=m,m=Hf(mm,"onSelect"),0<m.length&&(l=new tf("onSelect","select",null,l,h),i.push({event:l,listeners:m}),l.target=Ao)))}function _s(i,l){var h={};return h[i.toLowerCase()]=l.toLowerCase(),h["Webkit"+i]="webkit"+l,h["Moz"+i]="moz"+l,h}var Oo={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},gm={},BA={};qa&&(BA=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function ws(i){if(gm[i])return gm[i];if(!Oo[i])return i;var l=Oo[i],h;for(h in l)if(l.hasOwnProperty(h)&&h in BA)return gm[i]=l[h];return i}var $A=ws("animationend"),zA=ws("animationiteration"),UA=ws("animationstart"),J8=ws("transitionrun"),e5=ws("transitionstart"),t5=ws("transitioncancel"),HA=ws("transitionend"),FA=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function aa(i,l){FA.set(i,l),ge(l,[i])}var GA=new WeakMap;function Mr(i,l){if(typeof i=="object"&&i!==null){var h=GA.get(i);return h!==void 0?h:(l={value:i,source:l,stack:oA(l)},GA.set(i,l),l)}return{value:i,source:l,stack:oA(l)}}var Rr=[],To=0,bm=0;function af(){for(var i=To,l=bm=To=0;l<i;){var h=Rr[l];Rr[l++]=null;var m=Rr[l];Rr[l++]=null;var b=Rr[l];Rr[l++]=null;var j=Rr[l];if(Rr[l++]=null,m!==null&&b!==null){var R=m.pending;R===null?b.next=b:(b.next=R.next,R.next=b),m.pending=b}j!==0&&KA(h,b,j)}}function sf(i,l,h,m){Rr[To++]=i,Rr[To++]=l,Rr[To++]=h,Rr[To++]=m,bm|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function xm(i,l,h,m){return sf(i,l,h,m),of(i)}function No(i,l){return sf(i,null,null,l),of(i)}function KA(i,l,h){i.lanes|=h;var m=i.alternate;m!==null&&(m.lanes|=h);for(var b=!1,j=i.return;j!==null;)j.childLanes|=h,m=j.alternate,m!==null&&(m.childLanes|=h),j.tag===22&&(i=j.stateNode,i===null||i._visibility&1||(b=!0)),i=j,j=j.return;return i.tag===3?(j=i.stateNode,b&&l!==null&&(b=31-ht(h),i=j.hiddenUpdates,m=i[b],m===null?i[b]=[l]:m.push(l),l.lane=h|536870912),j):null}function of(i){if(50<_u)throw _u=0,Av=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var ko={};function n5(i,l,h,m){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(i,l,h,m){return new n5(i,l,h,m)}function _m(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ia(i,l){var h=i.alternate;return h===null?(h=cr(i.tag,l,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=l,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&65011712,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,l=i.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function YA(i,l){i.flags&=65011714;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,l=h.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function lf(i,l,h,m,b,j){var R=0;if(m=i,typeof i=="function")_m(i)&&(R=1);else if(typeof i=="string")R=aF(i,h,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=cr(31,h,l,b),i.elementType=P,i.lanes=j,i;case _:return Ss(h.children,b,j,l);case x:R=8,b|=24;break;case w:return i=cr(12,h,l,b|2),i.elementType=w,i.lanes=j,i;case N:return i=cr(13,h,l,b),i.elementType=N,i.lanes=j,i;case k:return i=cr(19,h,l,b),i.elementType=k,i.lanes=j,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:case O:R=10;break e;case E:R=9;break e;case A:R=11;break e;case C:R=14;break e;case q:R=16,m=null;break e}R=29,h=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=cr(R,h,l,b),l.elementType=i,l.type=m,l.lanes=j,l}function Ss(i,l,h,m){return i=cr(7,i,m,l),i.lanes=h,i}function wm(i,l,h){return i=cr(6,i,null,l),i.lanes=h,i}function Sm(i,l,h){return l=cr(4,i.children!==null?i.children:[],i.key,l),l.lanes=h,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Co=[],Mo=0,uf=null,cf=0,Dr=[],Pr=0,js=null,Ba=1,$a="";function Es(i,l){Co[Mo++]=cf,Co[Mo++]=uf,uf=i,cf=l}function VA(i,l,h){Dr[Pr++]=Ba,Dr[Pr++]=$a,Dr[Pr++]=js,js=i;var m=Ba;i=$a;var b=32-ht(m)-1;m&=~(1<<b),h+=1;var j=32-ht(l)+b;if(30<j){var R=b-b%5;j=(m&(1<<R)-1).toString(32),m>>=R,b-=R,Ba=1<<32-ht(l)+b|h<<b|m,$a=j+i}else Ba=1<<j|h<<b|m,$a=i}function jm(i){i.return!==null&&(Es(i,1),VA(i,1,0))}function Em(i){for(;i===uf;)uf=Co[--Mo],Co[Mo]=null,cf=Co[--Mo],Co[Mo]=null;for(;i===js;)js=Dr[--Pr],Dr[Pr]=null,$a=Dr[--Pr],Dr[Pr]=null,Ba=Dr[--Pr],Dr[Pr]=null}var qn=null,Rt=null,Xe=!1,As=null,_a=!1,Am=Error(r(519));function Os(i){var l=Error(r(418,""));throw Jl(Mr(l,i)),Am}function WA(i){var l=i.stateNode,h=i.type,m=i.memoizedProps;switch(l[qt]=i,l[un]=m,h){case"dialog":He("cancel",l),He("close",l);break;case"iframe":case"object":case"embed":He("load",l);break;case"video":case"audio":for(h=0;h<Su.length;h++)He(Su[h],l);break;case"source":He("error",l);break;case"img":case"image":case"link":He("error",l),He("load",l);break;case"details":He("toggle",l);break;case"input":He("invalid",l),cA(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Wc(l);break;case"select":He("invalid",l);break;case"textarea":He("invalid",l),dA(l,m.value,m.defaultValue,m.children),Wc(l)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||m.suppressHydrationWarning===!0||dN(l.textContent,h)?(m.popover!=null&&(He("beforetoggle",l),He("toggle",l)),m.onScroll!=null&&He("scroll",l),m.onScrollEnd!=null&&He("scrollend",l),m.onClick!=null&&(l.onclick=Ff),l=!0):l=!1,l||Os(i)}function XA(i){for(qn=i.return;qn;)switch(qn.tag){case 5:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:qn=qn.return}}function Zl(i){if(i!==qn)return!1;if(!Xe)return XA(i),Xe=!0,!1;var l=i.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=i.type,h=!(h!=="form"&&h!=="button")||Uv(i.type,i.memoizedProps)),h=!h),h&&Rt&&Os(i),XA(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(h=i.data,h==="/$"){if(l===0){Rt=sa(i.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;i=i.nextSibling}Rt=null}}else l===27?(l=Rt,zi(i.type)?(i=Kv,Kv=null,Rt=i):Rt=l):Rt=qn?sa(i.stateNode.nextSibling):null;return!0}function Ql(){Rt=qn=null,Xe=!1}function ZA(){var i=As;return i!==null&&(Wn===null?Wn=i:Wn.push.apply(Wn,i),As=null),i}function Jl(i){As===null?As=[i]:As.push(i)}var Om=V(null),Ts=null,za=null;function Ai(i,l,h){ne(Om,l._currentValue),l._currentValue=h}function Ua(i){i._currentValue=Om.current,Z(Om)}function Tm(i,l,h){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===h)break;i=i.return}}function Nm(i,l,h,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var j=b.dependencies;if(j!==null){var R=b.child;j=j.firstContext;e:for(;j!==null;){var U=j;j=b;for(var W=0;W<l.length;W++)if(U.context===l[W]){j.lanes|=h,U=j.alternate,U!==null&&(U.lanes|=h),Tm(j.return,h,i),m||(R=null);break e}j=U.next}}else if(b.tag===18){if(R=b.return,R===null)throw Error(r(341));R.lanes|=h,j=R.alternate,j!==null&&(j.lanes|=h),Tm(R,h,i),R=null}else R=b.child;if(R!==null)R.return=b;else for(R=b;R!==null;){if(R===i){R=null;break}if(b=R.sibling,b!==null){b.return=R.return,R=b;break}R=R.return}b=R}}function eu(i,l,h,m){i=null;for(var b=l,j=!1;b!==null;){if(!j){if((b.flags&524288)!==0)j=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var R=b.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var U=b.type;ur(b.pendingProps.value,R.value)||(i!==null?i.push(U):i=[U])}}else if(b===te.current){if(R=b.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Nu):i=[Nu])}b=b.return}i!==null&&Nm(l,i,h,m),l.flags|=262144}function ff(i){for(i=i.firstContext;i!==null;){if(!ur(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ns(i){Ts=i,za=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Nn(i){return QA(Ts,i)}function df(i,l){return Ts===null&&Ns(i),QA(i,l)}function QA(i,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},za===null){if(i===null)throw Error(r(308));za=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else za=za.next=l;return h}var r5=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(h,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(h){return h()})}},a5=e.unstable_scheduleCallback,i5=e.unstable_NormalPriority,nn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function km(){return{controller:new r5,data:new Map,refCount:0}}function tu(i){i.refCount--,i.refCount===0&&a5(i5,function(){i.controller.abort()})}var nu=null,Cm=0,Ro=0,Do=null;function s5(i,l){if(nu===null){var h=nu=[];Cm=0,Ro=Rv(),Do={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Cm++,l.then(JA,JA),l}function JA(){if(--Cm===0&&nu!==null){Do!==null&&(Do.status="fulfilled");var i=nu;nu=null,Ro=0,Do=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function o5(i,l){var h=[],m={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<h.length;b++)(0,h[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),m}var eO=I.S;I.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&s5(i,l),eO!==null&&eO(i,l)};var ks=V(null);function Mm(){var i=ks.current;return i!==null?i:mt.pooledCache}function hf(i,l){l===null?ne(ks,ks.current):ne(ks,l.pool)}function tO(){var i=Mm();return i===null?null:{parent:nn._currentValue,pool:i}}var ru=Error(r(460)),nO=Error(r(474)),pf=Error(r(542)),Rm={then:function(){}};function rO(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mf(){}function aO(i,l,h){switch(h=i[h],h===void 0?i.push(l):h!==l&&(l.then(mf,mf),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,sO(i),i;default:if(typeof l.status=="string")l.then(mf,mf);else{if(i=mt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,sO(i),i}throw au=l,ru}}var au=null;function iO(){if(au===null)throw Error(r(459));var i=au;return au=null,i}function sO(i){if(i===ru||i===pf)throw Error(r(483))}var Oi=!1;function Dm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ti(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ni(i,l,h){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(et&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=of(i),KA(i,null,h),l}return sf(i,m,l,h),of(i)}function iu(i,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,h|=m,l.lanes=h,Ot(i,h)}}function Lm(i,l){var h=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var b=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var R={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};j===null?b=j=R:j=j.next=R,h=h.next}while(h!==null);j===null?b=j=l:j=j.next=l}else b=j=l;h={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:j,shared:m.shared,callbacks:m.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=l:i.next=l,h.lastBaseUpdate=l}var qm=!1;function su(){if(qm){var i=Do;if(i!==null)throw i}}function ou(i,l,h,m){qm=!1;var b=i.updateQueue;Oi=!1;var j=b.firstBaseUpdate,R=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var W=U,ie=W.next;W.next=null,R===null?j=ie:R.next=ie,R=W;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,U=pe.lastBaseUpdate,U!==R&&(U===null?pe.firstBaseUpdate=ie:U.next=ie,pe.lastBaseUpdate=W))}if(j!==null){var ve=b.baseState;R=0,pe=ie=W=null,U=j;do{var le=U.lane&-536870913,ue=le!==U.lane;if(ue?(Ge&le)===le:(m&le)===le){le!==0&&le===Ro&&(qm=!0),pe!==null&&(pe=pe.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var qe=i,De=U;le=l;var lt=h;switch(De.tag){case 1:if(qe=De.payload,typeof qe=="function"){ve=qe.call(lt,ve,le);break e}ve=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=De.payload,le=typeof qe=="function"?qe.call(lt,ve,le):qe,le==null)break e;ve=f({},ve,le);break e;case 2:Oi=!0}}le=U.callback,le!==null&&(i.flags|=64,ue&&(i.flags|=8192),ue=b.callbacks,ue===null?b.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},pe===null?(ie=pe=ue,W=ve):pe=pe.next=ue,R|=le;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;ue=U,U=ue.next,ue.next=null,b.lastBaseUpdate=ue,b.shared.pending=null}}while(!0);pe===null&&(W=ve),b.baseState=W,b.firstBaseUpdate=ie,b.lastBaseUpdate=pe,j===null&&(b.shared.lanes=0),qi|=R,i.lanes=R,i.memoizedState=ve}}function oO(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function lO(i,l){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)oO(h[i],l)}var Po=V(null),vf=V(0);function uO(i,l){i=Wa,ne(vf,i),ne(Po,l),Wa=i|l.baseLanes}function Im(){ne(vf,Wa),ne(Po,Po.current)}function Bm(){Wa=vf.current,Z(Po),Z(vf)}var ki=0,Be=null,st=null,Kt=null,gf=!1,Lo=!1,Cs=!1,yf=0,lu=0,qo=null,l5=0;function Bt(){throw Error(r(321))}function $m(i,l){if(l===null)return!1;for(var h=0;h<l.length&&h<i.length;h++)if(!ur(i[h],l[h]))return!1;return!0}function zm(i,l,h,m,b,j){return ki=j,Be=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,I.H=i===null||i.memoizedState===null?KO:YO,Cs=!1,j=h(m,b),Cs=!1,Lo&&(j=fO(l,h,m,b)),cO(i),j}function cO(i){I.H=jf;var l=st!==null&&st.next!==null;if(ki=0,Kt=st=Be=null,gf=!1,lu=0,qo=null,l)throw Error(r(300));i===null||fn||(i=i.dependencies,i!==null&&ff(i)&&(fn=!0))}function fO(i,l,h,m){Be=i;var b=0;do{if(Lo&&(qo=null),lu=0,Lo=!1,25<=b)throw Error(r(301));if(b+=1,Kt=st=null,i.updateQueue!=null){var j=i.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}I.H=m5,j=l(h,m)}while(Lo);return j}function u5(){var i=I.H,l=i.useState()[0];return l=typeof l.then=="function"?uu(l):l,i=i.useState()[0],(st!==null?st.memoizedState:null)!==i&&(Be.flags|=1024),l}function Um(){var i=yf!==0;return yf=0,i}function Hm(i,l,h){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~h}function Fm(i){if(gf){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}gf=!1}ki=0,Kt=st=Be=null,Lo=!1,lu=yf=0,qo=null}function Yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Be.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function Yt(){if(st===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=st.next;var l=Kt===null?Be.memoizedState:Kt.next;if(l!==null)Kt=l,st=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));st=i,i={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Kt===null?Be.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function Gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(i){var l=lu;return lu+=1,qo===null&&(qo=[]),i=aO(qo,i,l),l=Be,(Kt===null?l.memoizedState:Kt.next)===null&&(l=l.alternate,I.H=l===null||l.memoizedState===null?KO:YO),i}function bf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return uu(i);if(i.$$typeof===O)return Nn(i)}throw Error(r(438,String(i)))}function Km(i){var l=null,h=Be.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var m=Be.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Gm(),Be.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(i),m=0;m<i;m++)h[m]=M;return l.index++,h}function Ha(i,l){return typeof l=="function"?l(i):l}function xf(i){var l=Yt();return Ym(l,st,i)}function Ym(i,l,h){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var b=i.baseQueue,j=m.pending;if(j!==null){if(b!==null){var R=b.next;b.next=j.next,j.next=R}l.baseQueue=b=j,m.pending=null}if(j=i.baseState,b===null)i.memoizedState=j;else{l=b.next;var U=R=null,W=null,ie=l,pe=!1;do{var ve=ie.lane&-536870913;if(ve!==ie.lane?(Ge&ve)===ve:(ki&ve)===ve){var le=ie.revertLane;if(le===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ve===Ro&&(pe=!0);else if((ki&le)===le){ie=ie.next,le===Ro&&(pe=!0);continue}else ve={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},W===null?(U=W=ve,R=j):W=W.next=ve,Be.lanes|=le,qi|=le;ve=ie.action,Cs&&h(j,ve),j=ie.hasEagerState?ie.eagerState:h(j,ve)}else le={lane:ve,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},W===null?(U=W=le,R=j):W=W.next=le,Be.lanes|=ve,qi|=ve;ie=ie.next}while(ie!==null&&ie!==l);if(W===null?R=j:W.next=U,!ur(j,i.memoizedState)&&(fn=!0,pe&&(h=Do,h!==null)))throw h;i.memoizedState=j,i.baseState=R,i.baseQueue=W,m.lastRenderedState=j}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Vm(i){var l=Yt(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var m=h.dispatch,b=h.pending,j=l.memoizedState;if(b!==null){h.pending=null;var R=b=b.next;do j=i(j,R.action),R=R.next;while(R!==b);ur(j,l.memoizedState)||(fn=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),h.lastRenderedState=j}return[j,m]}function dO(i,l,h){var m=Be,b=Yt(),j=Xe;if(j){if(h===void 0)throw Error(r(407));h=h()}else h=l();var R=!ur((st||b).memoizedState,h);R&&(b.memoizedState=h,fn=!0),b=b.queue;var U=mO.bind(null,m,b,i);if(cu(2048,8,U,[i]),b.getSnapshot!==l||R||Kt!==null&&Kt.memoizedState.tag&1){if(m.flags|=2048,Io(9,_f(),pO.bind(null,m,b,h,l),null),mt===null)throw Error(r(349));j||(ki&124)!==0||hO(m,l,h)}return h}function hO(i,l,h){i.flags|=16384,i={getSnapshot:l,value:h},l=Be.updateQueue,l===null?(l=Gm(),Be.updateQueue=l,l.stores=[i]):(h=l.stores,h===null?l.stores=[i]:h.push(i))}function pO(i,l,h,m){l.value=h,l.getSnapshot=m,vO(l)&&gO(i)}function mO(i,l,h){return h(function(){vO(l)&&gO(i)})}function vO(i){var l=i.getSnapshot;i=i.value;try{var h=l();return!ur(i,h)}catch{return!0}}function gO(i){var l=No(i,2);l!==null&&mr(l,i,2)}function Wm(i){var l=Yn();if(typeof i=="function"){var h=i;if(i=h(),Cs){yt(!0);try{h()}finally{yt(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:i},l}function yO(i,l,h,m){return i.baseState=h,Ym(i,st,typeof m=="function"?m:Ha)}function c5(i,l,h,m,b){if(Sf(i))throw Error(r(485));if(i=l.action,i!==null){var j={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){j.listeners.push(R)}};I.T!==null?h(!0):j.isTransition=!1,m(j),h=l.pending,h===null?(j.next=l.pending=j,bO(l,j)):(j.next=h.next,l.pending=h.next=j)}}function bO(i,l){var h=l.action,m=l.payload,b=i.state;if(l.isTransition){var j=I.T,R={};I.T=R;try{var U=h(b,m),W=I.S;W!==null&&W(R,U),xO(i,l,U)}catch(ie){Xm(i,l,ie)}finally{I.T=j}}else try{j=h(b,m),xO(i,l,j)}catch(ie){Xm(i,l,ie)}}function xO(i,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){_O(i,l,m)},function(m){return Xm(i,l,m)}):_O(i,l,h)}function _O(i,l,h){l.status="fulfilled",l.value=h,wO(l),i.state=h,l=i.pending,l!==null&&(h=l.next,h===l?i.pending=null:(h=h.next,l.next=h,bO(i,h)))}function Xm(i,l,h){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=h,wO(l),l=l.next;while(l!==m)}i.action=null}function wO(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function SO(i,l){return l}function jO(i,l){if(Xe){var h=mt.formState;if(h!==null){e:{var m=Be;if(Xe){if(Rt){t:{for(var b=Rt,j=_a;b.nodeType!==8;){if(!j){b=null;break t}if(b=sa(b.nextSibling),b===null){b=null;break t}}j=b.data,b=j==="F!"||j==="F"?b:null}if(b){Rt=sa(b.nextSibling),m=b.data==="F!";break e}}Os(m)}m=!1}m&&(l=h[0])}}return h=Yn(),h.memoizedState=h.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SO,lastRenderedState:l},h.queue=m,h=HO.bind(null,Be,m),m.dispatch=h,m=Wm(!1),j=tv.bind(null,Be,!1,m.queue),m=Yn(),b={state:l,dispatch:null,action:i,pending:null},m.queue=b,h=c5.bind(null,Be,b,j,h),b.dispatch=h,m.memoizedState=i,[l,h,!1]}function EO(i){var l=Yt();return AO(l,st,i)}function AO(i,l,h){if(l=Ym(i,l,SO)[0],i=xf(Ha)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=uu(l)}catch(R){throw R===ru?pf:R}else m=l;l=Yt();var b=l.queue,j=b.dispatch;return h!==l.memoizedState&&(Be.flags|=2048,Io(9,_f(),f5.bind(null,b,h),null)),[m,j,i]}function f5(i,l){i.action=l}function OO(i){var l=Yt(),h=st;if(h!==null)return AO(l,h,i);Yt(),l=l.memoizedState,h=Yt();var m=h.queue.dispatch;return h.memoizedState=i,[l,m,!1]}function Io(i,l,h,m){return i={tag:i,create:h,deps:m,inst:l,next:null},l=Be.updateQueue,l===null&&(l=Gm(),Be.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=i.next=i:(m=h.next,h.next=i,i.next=m,l.lastEffect=i),i}function _f(){return{destroy:void 0,resource:void 0}}function TO(){return Yt().memoizedState}function wf(i,l,h,m){var b=Yn();m=m===void 0?null:m,Be.flags|=i,b.memoizedState=Io(1|l,_f(),h,m)}function cu(i,l,h,m){var b=Yt();m=m===void 0?null:m;var j=b.memoizedState.inst;st!==null&&m!==null&&$m(m,st.memoizedState.deps)?b.memoizedState=Io(l,j,h,m):(Be.flags|=i,b.memoizedState=Io(1|l,j,h,m))}function NO(i,l){wf(8390656,8,i,l)}function kO(i,l){cu(2048,8,i,l)}function CO(i,l){return cu(4,2,i,l)}function MO(i,l){return cu(4,4,i,l)}function RO(i,l){if(typeof l=="function"){i=i();var h=l(i);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function DO(i,l,h){h=h!=null?h.concat([i]):null,cu(4,4,RO.bind(null,l,i),h)}function Zm(){}function PO(i,l){var h=Yt();l=l===void 0?null:l;var m=h.memoizedState;return l!==null&&$m(l,m[1])?m[0]:(h.memoizedState=[i,l],i)}function LO(i,l){var h=Yt();l=l===void 0?null:l;var m=h.memoizedState;if(l!==null&&$m(l,m[1]))return m[0];if(m=i(),Cs){yt(!0);try{i()}finally{yt(!1)}}return h.memoizedState=[m,l],m}function Qm(i,l,h){return h===void 0||(ki&1073741824)!==0?i.memoizedState=l:(i.memoizedState=h,i=BT(),Be.lanes|=i,qi|=i,h)}function qO(i,l,h,m){return ur(h,l)?h:Po.current!==null?(i=Qm(i,h,m),ur(i,l)||(fn=!0),i):(ki&42)===0?(fn=!0,i.memoizedState=h):(i=BT(),Be.lanes|=i,qi|=i,l)}function IO(i,l,h,m,b){var j=F.p;F.p=j!==0&&8>j?j:8;var R=I.T,U={};I.T=U,tv(i,!1,l,h);try{var W=b(),ie=I.S;if(ie!==null&&ie(U,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var pe=o5(W,m);fu(i,l,pe,pr(i))}else fu(i,l,m,pr(i))}catch(ve){fu(i,l,{then:function(){},status:"rejected",reason:ve},pr())}finally{F.p=j,I.T=R}}function d5(){}function Jm(i,l,h,m){if(i.tag!==5)throw Error(r(476));var b=BO(i).queue;IO(i,b,l,Q,h===null?d5:function(){return $O(i),h(m)})}function BO(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:Q},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:h},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function $O(i){var l=BO(i).next.queue;fu(i,l,{},pr())}function ev(){return Nn(Nu)}function zO(){return Yt().memoizedState}function UO(){return Yt().memoizedState}function h5(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var h=pr();i=Ti(h);var m=Ni(l,i,h);m!==null&&(mr(m,l,h),iu(m,l,h)),l={cache:km()},i.payload=l;return}l=l.return}}function p5(i,l,h){var m=pr();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Sf(i)?FO(l,h):(h=xm(i,l,h,m),h!==null&&(mr(h,i,m),GO(h,l,m)))}function HO(i,l,h){var m=pr();fu(i,l,h,m)}function fu(i,l,h,m){var b={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Sf(i))FO(l,b);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var R=l.lastRenderedState,U=j(R,h);if(b.hasEagerState=!0,b.eagerState=U,ur(U,R))return sf(i,l,b,0),mt===null&&af(),!1}catch{}finally{}if(h=xm(i,l,b,m),h!==null)return mr(h,i,m),GO(h,l,m),!0}return!1}function tv(i,l,h,m){if(m={lane:2,revertLane:Rv(),action:m,hasEagerState:!1,eagerState:null,next:null},Sf(i)){if(l)throw Error(r(479))}else l=xm(i,h,m,2),l!==null&&mr(l,i,2)}function Sf(i){var l=i.alternate;return i===Be||l!==null&&l===Be}function FO(i,l){Lo=gf=!0;var h=i.pending;h===null?l.next=l:(l.next=h.next,h.next=l),i.pending=l}function GO(i,l,h){if((h&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,h|=m,l.lanes=h,Ot(i,h)}}var jf={readContext:Nn,use:bf,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},KO={readContext:Nn,use:bf,useCallback:function(i,l){return Yn().memoizedState=[i,l===void 0?null:l],i},useContext:Nn,useEffect:NO,useImperativeHandle:function(i,l,h){h=h!=null?h.concat([i]):null,wf(4194308,4,RO.bind(null,l,i),h)},useLayoutEffect:function(i,l){return wf(4194308,4,i,l)},useInsertionEffect:function(i,l){wf(4,2,i,l)},useMemo:function(i,l){var h=Yn();l=l===void 0?null:l;var m=i();if(Cs){yt(!0);try{i()}finally{yt(!1)}}return h.memoizedState=[m,l],m},useReducer:function(i,l,h){var m=Yn();if(h!==void 0){var b=h(l);if(Cs){yt(!0);try{h(l)}finally{yt(!1)}}}else b=l;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=p5.bind(null,Be,i),[m.memoizedState,i]},useRef:function(i){var l=Yn();return i={current:i},l.memoizedState=i},useState:function(i){i=Wm(i);var l=i.queue,h=HO.bind(null,Be,l);return l.dispatch=h,[i.memoizedState,h]},useDebugValue:Zm,useDeferredValue:function(i,l){var h=Yn();return Qm(h,i,l)},useTransition:function(){var i=Wm(!1);return i=IO.bind(null,Be,i.queue,!0,!1),Yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,h){var m=Be,b=Yn();if(Xe){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),mt===null)throw Error(r(349));(Ge&124)!==0||hO(m,l,h)}b.memoizedState=h;var j={value:h,getSnapshot:l};return b.queue=j,NO(mO.bind(null,m,j,i),[i]),m.flags|=2048,Io(9,_f(),pO.bind(null,m,j,h,l),null),h},useId:function(){var i=Yn(),l=mt.identifierPrefix;if(Xe){var h=$a,m=Ba;h=(m&~(1<<32-ht(m)-1)).toString(32)+h,l="«"+l+"R"+h,h=yf++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=l5++,l="«"+l+"r"+h.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:ev,useFormState:jO,useActionState:jO,useOptimistic:function(i){var l=Yn();l.memoizedState=l.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=tv.bind(null,Be,!0,h),h.dispatch=l,[i,l]},useMemoCache:Km,useCacheRefresh:function(){return Yn().memoizedState=h5.bind(null,Be)}},YO={readContext:Nn,use:bf,useCallback:PO,useContext:Nn,useEffect:kO,useImperativeHandle:DO,useInsertionEffect:CO,useLayoutEffect:MO,useMemo:LO,useReducer:xf,useRef:TO,useState:function(){return xf(Ha)},useDebugValue:Zm,useDeferredValue:function(i,l){var h=Yt();return qO(h,st.memoizedState,i,l)},useTransition:function(){var i=xf(Ha)[0],l=Yt().memoizedState;return[typeof i=="boolean"?i:uu(i),l]},useSyncExternalStore:dO,useId:zO,useHostTransitionStatus:ev,useFormState:EO,useActionState:EO,useOptimistic:function(i,l){var h=Yt();return yO(h,st,i,l)},useMemoCache:Km,useCacheRefresh:UO},m5={readContext:Nn,use:bf,useCallback:PO,useContext:Nn,useEffect:kO,useImperativeHandle:DO,useInsertionEffect:CO,useLayoutEffect:MO,useMemo:LO,useReducer:Vm,useRef:TO,useState:function(){return Vm(Ha)},useDebugValue:Zm,useDeferredValue:function(i,l){var h=Yt();return st===null?Qm(h,i,l):qO(h,st.memoizedState,i,l)},useTransition:function(){var i=Vm(Ha)[0],l=Yt().memoizedState;return[typeof i=="boolean"?i:uu(i),l]},useSyncExternalStore:dO,useId:zO,useHostTransitionStatus:ev,useFormState:OO,useActionState:OO,useOptimistic:function(i,l){var h=Yt();return st!==null?yO(h,st,i,l):(h.baseState=i,[i,h.queue.dispatch])},useMemoCache:Km,useCacheRefresh:UO},Bo=null,du=0;function Ef(i){var l=du;return du+=1,Bo===null&&(Bo=[]),aO(Bo,i,l)}function hu(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Af(i,l){throw l.$$typeof===p?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function VO(i){var l=i._init;return l(i._payload)}function WO(i){function l(re,J){if(i){var ae=re.deletions;ae===null?(re.deletions=[J],re.flags|=16):ae.push(J)}}function h(re,J){if(!i)return null;for(;J!==null;)l(re,J),J=J.sibling;return null}function m(re){for(var J=new Map;re!==null;)re.key!==null?J.set(re.key,re):J.set(re.index,re),re=re.sibling;return J}function b(re,J){return re=Ia(re,J),re.index=0,re.sibling=null,re}function j(re,J,ae){return re.index=ae,i?(ae=re.alternate,ae!==null?(ae=ae.index,ae<J?(re.flags|=67108866,J):ae):(re.flags|=67108866,J)):(re.flags|=1048576,J)}function R(re){return i&&re.alternate===null&&(re.flags|=67108866),re}function U(re,J,ae,me){return J===null||J.tag!==6?(J=wm(ae,re.mode,me),J.return=re,J):(J=b(J,ae),J.return=re,J)}function W(re,J,ae,me){var Oe=ae.type;return Oe===_?pe(re,J,ae.props.children,me,ae.key):J!==null&&(J.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===q&&VO(Oe)===J.type)?(J=b(J,ae.props),hu(J,ae),J.return=re,J):(J=lf(ae.type,ae.key,ae.props,null,re.mode,me),hu(J,ae),J.return=re,J)}function ie(re,J,ae,me){return J===null||J.tag!==4||J.stateNode.containerInfo!==ae.containerInfo||J.stateNode.implementation!==ae.implementation?(J=Sm(ae,re.mode,me),J.return=re,J):(J=b(J,ae.children||[]),J.return=re,J)}function pe(re,J,ae,me,Oe){return J===null||J.tag!==7?(J=Ss(ae,re.mode,me,Oe),J.return=re,J):(J=b(J,ae),J.return=re,J)}function ve(re,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=wm(""+J,re.mode,ae),J.return=re,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return ae=lf(J.type,J.key,J.props,null,re.mode,ae),hu(ae,J),ae.return=re,ae;case y:return J=Sm(J,re.mode,ae),J.return=re,J;case q:var me=J._init;return J=me(J._payload),ve(re,J,ae)}if(H(J)||B(J))return J=Ss(J,re.mode,ae,null),J.return=re,J;if(typeof J.then=="function")return ve(re,Ef(J),ae);if(J.$$typeof===O)return ve(re,df(re,J),ae);Af(re,J)}return null}function le(re,J,ae,me){var Oe=J!==null?J.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Oe!==null?null:U(re,J,""+ae,me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return ae.key===Oe?W(re,J,ae,me):null;case y:return ae.key===Oe?ie(re,J,ae,me):null;case q:return Oe=ae._init,ae=Oe(ae._payload),le(re,J,ae,me)}if(H(ae)||B(ae))return Oe!==null?null:pe(re,J,ae,me,null);if(typeof ae.then=="function")return le(re,J,Ef(ae),me);if(ae.$$typeof===O)return le(re,J,df(re,ae),me);Af(re,ae)}return null}function ue(re,J,ae,me,Oe){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return re=re.get(ae)||null,U(J,re,""+me,Oe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case v:return re=re.get(me.key===null?ae:me.key)||null,W(J,re,me,Oe);case y:return re=re.get(me.key===null?ae:me.key)||null,ie(J,re,me,Oe);case q:var $e=me._init;return me=$e(me._payload),ue(re,J,ae,me,Oe)}if(H(me)||B(me))return re=re.get(ae)||null,pe(J,re,me,Oe,null);if(typeof me.then=="function")return ue(re,J,ae,Ef(me),Oe);if(me.$$typeof===O)return ue(re,J,ae,df(J,me),Oe);Af(J,me)}return null}function qe(re,J,ae,me){for(var Oe=null,$e=null,Ce=J,Le=J=0,hn=null;Ce!==null&&Le<ae.length;Le++){Ce.index>Le?(hn=Ce,Ce=null):hn=Ce.sibling;var Ve=le(re,Ce,ae[Le],me);if(Ve===null){Ce===null&&(Ce=hn);break}i&&Ce&&Ve.alternate===null&&l(re,Ce),J=j(Ve,J,Le),$e===null?Oe=Ve:$e.sibling=Ve,$e=Ve,Ce=hn}if(Le===ae.length)return h(re,Ce),Xe&&Es(re,Le),Oe;if(Ce===null){for(;Le<ae.length;Le++)Ce=ve(re,ae[Le],me),Ce!==null&&(J=j(Ce,J,Le),$e===null?Oe=Ce:$e.sibling=Ce,$e=Ce);return Xe&&Es(re,Le),Oe}for(Ce=m(Ce);Le<ae.length;Le++)hn=ue(Ce,re,Le,ae[Le],me),hn!==null&&(i&&hn.alternate!==null&&Ce.delete(hn.key===null?Le:hn.key),J=j(hn,J,Le),$e===null?Oe=hn:$e.sibling=hn,$e=hn);return i&&Ce.forEach(function(Ki){return l(re,Ki)}),Xe&&Es(re,Le),Oe}function De(re,J,ae,me){if(ae==null)throw Error(r(151));for(var Oe=null,$e=null,Ce=J,Le=J=0,hn=null,Ve=ae.next();Ce!==null&&!Ve.done;Le++,Ve=ae.next()){Ce.index>Le?(hn=Ce,Ce=null):hn=Ce.sibling;var Ki=le(re,Ce,Ve.value,me);if(Ki===null){Ce===null&&(Ce=hn);break}i&&Ce&&Ki.alternate===null&&l(re,Ce),J=j(Ki,J,Le),$e===null?Oe=Ki:$e.sibling=Ki,$e=Ki,Ce=hn}if(Ve.done)return h(re,Ce),Xe&&Es(re,Le),Oe;if(Ce===null){for(;!Ve.done;Le++,Ve=ae.next())Ve=ve(re,Ve.value,me),Ve!==null&&(J=j(Ve,J,Le),$e===null?Oe=Ve:$e.sibling=Ve,$e=Ve);return Xe&&Es(re,Le),Oe}for(Ce=m(Ce);!Ve.done;Le++,Ve=ae.next())Ve=ue(Ce,re,Le,Ve.value,me),Ve!==null&&(i&&Ve.alternate!==null&&Ce.delete(Ve.key===null?Le:Ve.key),J=j(Ve,J,Le),$e===null?Oe=Ve:$e.sibling=Ve,$e=Ve);return i&&Ce.forEach(function(vF){return l(re,vF)}),Xe&&Es(re,Le),Oe}function lt(re,J,ae,me){if(typeof ae=="object"&&ae!==null&&ae.type===_&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:e:{for(var Oe=ae.key;J!==null;){if(J.key===Oe){if(Oe=ae.type,Oe===_){if(J.tag===7){h(re,J.sibling),me=b(J,ae.props.children),me.return=re,re=me;break e}}else if(J.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===q&&VO(Oe)===J.type){h(re,J.sibling),me=b(J,ae.props),hu(me,ae),me.return=re,re=me;break e}h(re,J);break}else l(re,J);J=J.sibling}ae.type===_?(me=Ss(ae.props.children,re.mode,me,ae.key),me.return=re,re=me):(me=lf(ae.type,ae.key,ae.props,null,re.mode,me),hu(me,ae),me.return=re,re=me)}return R(re);case y:e:{for(Oe=ae.key;J!==null;){if(J.key===Oe)if(J.tag===4&&J.stateNode.containerInfo===ae.containerInfo&&J.stateNode.implementation===ae.implementation){h(re,J.sibling),me=b(J,ae.children||[]),me.return=re,re=me;break e}else{h(re,J);break}else l(re,J);J=J.sibling}me=Sm(ae,re.mode,me),me.return=re,re=me}return R(re);case q:return Oe=ae._init,ae=Oe(ae._payload),lt(re,J,ae,me)}if(H(ae))return qe(re,J,ae,me);if(B(ae)){if(Oe=B(ae),typeof Oe!="function")throw Error(r(150));return ae=Oe.call(ae),De(re,J,ae,me)}if(typeof ae.then=="function")return lt(re,J,Ef(ae),me);if(ae.$$typeof===O)return lt(re,J,df(re,ae),me);Af(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,J!==null&&J.tag===6?(h(re,J.sibling),me=b(J,ae),me.return=re,re=me):(h(re,J),me=wm(ae,re.mode,me),me.return=re,re=me),R(re)):h(re,J)}return function(re,J,ae,me){try{du=0;var Oe=lt(re,J,ae,me);return Bo=null,Oe}catch(Ce){if(Ce===ru||Ce===pf)throw Ce;var $e=cr(29,Ce,null,re.mode);return $e.lanes=me,$e.return=re,$e}finally{}}}var $o=WO(!0),XO=WO(!1),Lr=V(null),wa=null;function Ci(i){var l=i.alternate;ne(rn,rn.current&1),ne(Lr,i),wa===null&&(l===null||Po.current!==null||l.memoizedState!==null)&&(wa=i)}function ZO(i){if(i.tag===22){if(ne(rn,rn.current),ne(Lr,i),wa===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(wa=i)}}else Mi()}function Mi(){ne(rn,rn.current),ne(Lr,Lr.current)}function Fa(i){Z(Lr),wa===i&&(wa=null),Z(rn)}var rn=V(0);function Of(i){for(var l=i;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Gv(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function nv(i,l,h,m){l=i.memoizedState,h=h(m,l),h=h==null?l:f({},l,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var rv={enqueueSetState:function(i,l,h){i=i._reactInternals;var m=pr(),b=Ti(m);b.payload=l,h!=null&&(b.callback=h),l=Ni(i,b,m),l!==null&&(mr(l,i,m),iu(l,i,m))},enqueueReplaceState:function(i,l,h){i=i._reactInternals;var m=pr(),b=Ti(m);b.tag=1,b.payload=l,h!=null&&(b.callback=h),l=Ni(i,b,m),l!==null&&(mr(l,i,m),iu(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var h=pr(),m=Ti(h);m.tag=2,l!=null&&(m.callback=l),l=Ni(i,m,h),l!==null&&(mr(l,i,h),iu(l,i,h))}};function QO(i,l,h,m,b,j,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,j,R):l.prototype&&l.prototype.isPureReactComponent?!Wl(h,m)||!Wl(b,j):!0}function JO(i,l,h,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==i&&rv.enqueueReplaceState(l,l.state,null)}function Ms(i,l){var h=l;if("ref"in l){h={};for(var m in l)m!=="ref"&&(h[m]=l[m])}if(i=i.defaultProps){h===l&&(h=f({},h));for(var b in i)h[b]===void 0&&(h[b]=i[b])}return h}var Tf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function eT(i){Tf(i)}function tT(i){console.error(i)}function nT(i){Tf(i)}function Nf(i,l){try{var h=i.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function rT(i,l,h){try{var m=i.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function av(i,l,h){return h=Ti(h),h.tag=3,h.payload={element:null},h.callback=function(){Nf(i,l)},h}function aT(i){return i=Ti(i),i.tag=3,i}function iT(i,l,h,m){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var j=m.value;i.payload=function(){return b(j)},i.callback=function(){rT(l,h,m)}}var R=h.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){rT(l,h,m),typeof b!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function v5(i,l,h,m,b){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=h.alternate,l!==null&&eu(l,h,b,!0),h=Lr.current,h!==null){switch(h.tag){case 13:return wa===null?Tv():h.alternate===null&&Dt===0&&(Dt=3),h.flags&=-257,h.flags|=65536,h.lanes=b,m===Rm?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([m]):l.add(m),kv(i,m,b)),!1;case 22:return h.flags|=65536,m===Rm?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([m]):h.add(m)),kv(i,m,b)),!1}throw Error(r(435,h.tag))}return kv(i,m,b),Tv(),!1}if(Xe)return l=Lr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==Am&&(i=Error(r(422),{cause:m}),Jl(Mr(i,h)))):(m!==Am&&(l=Error(r(423),{cause:m}),Jl(Mr(l,h))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=Mr(m,h),b=av(i.stateNode,m,b),Lm(i,b),Dt!==4&&(Dt=2)),!1;var j=Error(r(520),{cause:m});if(j=Mr(j,h),xu===null?xu=[j]:xu.push(j),Dt!==4&&(Dt=2),l===null)return!0;m=Mr(m,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,i=b&-b,h.lanes|=i,i=av(h.stateNode,m,i),Lm(h,i),!1;case 1:if(l=h.type,j=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ii===null||!Ii.has(j))))return h.flags|=65536,b&=-b,h.lanes|=b,b=aT(b),iT(b,i,h,m),Lm(h,b),!1}h=h.return}while(h!==null);return!1}var sT=Error(r(461)),fn=!1;function wn(i,l,h,m){l.child=i===null?XO(l,null,h,m):$o(l,i.child,h,m)}function oT(i,l,h,m,b){h=h.render;var j=l.ref;if("ref"in m){var R={};for(var U in m)U!=="ref"&&(R[U]=m[U])}else R=m;return Ns(l),m=zm(i,l,h,R,j,b),U=Um(),i!==null&&!fn?(Hm(i,l,b),Ga(i,l,b)):(Xe&&U&&jm(l),l.flags|=1,wn(i,l,m,b),l.child)}function lT(i,l,h,m,b){if(i===null){var j=h.type;return typeof j=="function"&&!_m(j)&&j.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=j,uT(i,l,j,m,b)):(i=lf(h.type,null,m,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(j=i.child,!dv(i,b)){var R=j.memoizedProps;if(h=h.compare,h=h!==null?h:Wl,h(R,m)&&i.ref===l.ref)return Ga(i,l,b)}return l.flags|=1,i=Ia(j,m),i.ref=l.ref,i.return=l,l.child=i}function uT(i,l,h,m,b){if(i!==null){var j=i.memoizedProps;if(Wl(j,m)&&i.ref===l.ref)if(fn=!1,l.pendingProps=m=j,dv(i,b))(i.flags&131072)!==0&&(fn=!0);else return l.lanes=i.lanes,Ga(i,l,b)}return iv(i,l,h,m,b)}function cT(i,l,h){var m=l.pendingProps,b=m.children,j=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=j!==null?j.baseLanes|h:h,i!==null){for(b=l.child=i.child,j=0;b!==null;)j=j|b.lanes|b.childLanes,b=b.sibling;l.childLanes=j&~m}else l.childLanes=0,l.child=null;return fT(i,l,m,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&hf(l,j!==null?j.cachePool:null),j!==null?uO(l,j):Im(),ZO(l);else return l.lanes=l.childLanes=536870912,fT(i,l,j!==null?j.baseLanes|h:h,h)}else j!==null?(hf(l,j.cachePool),uO(l,j),Mi(),l.memoizedState=null):(i!==null&&hf(l,null),Im(),Mi());return wn(i,l,b,h),l.child}function fT(i,l,h,m){var b=Mm();return b=b===null?null:{parent:nn._currentValue,pool:b},l.memoizedState={baseLanes:h,cachePool:b},i!==null&&hf(l,null),Im(),ZO(l),i!==null&&eu(i,l,m,!0),null}function kf(i,l){var h=l.ref;if(h===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(i===null||i.ref!==h)&&(l.flags|=4194816)}}function iv(i,l,h,m,b){return Ns(l),h=zm(i,l,h,m,void 0,b),m=Um(),i!==null&&!fn?(Hm(i,l,b),Ga(i,l,b)):(Xe&&m&&jm(l),l.flags|=1,wn(i,l,h,b),l.child)}function dT(i,l,h,m,b,j){return Ns(l),l.updateQueue=null,h=fO(l,m,h,b),cO(i),m=Um(),i!==null&&!fn?(Hm(i,l,j),Ga(i,l,j)):(Xe&&m&&jm(l),l.flags|=1,wn(i,l,h,j),l.child)}function hT(i,l,h,m,b){if(Ns(l),l.stateNode===null){var j=ko,R=h.contextType;typeof R=="object"&&R!==null&&(j=Nn(R)),j=new h(m,j),l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=rv,l.stateNode=j,j._reactInternals=l,j=l.stateNode,j.props=m,j.state=l.memoizedState,j.refs={},Dm(l),R=h.contextType,j.context=typeof R=="object"&&R!==null?Nn(R):ko,j.state=l.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(nv(l,h,R,m),j.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(R=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),R!==j.state&&rv.enqueueReplaceState(j,j.state,null),ou(l,m,j,b),su(),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){j=l.stateNode;var U=l.memoizedProps,W=Ms(h,U);j.props=W;var ie=j.context,pe=h.contextType;R=ko,typeof pe=="object"&&pe!==null&&(R=Nn(pe));var ve=h.getDerivedStateFromProps;pe=typeof ve=="function"||typeof j.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,pe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(U||ie!==R)&&JO(l,j,m,R),Oi=!1;var le=l.memoizedState;j.state=le,ou(l,m,j,b),su(),ie=l.memoizedState,U||le!==ie||Oi?(typeof ve=="function"&&(nv(l,h,ve,m),ie=l.memoizedState),(W=Oi||QO(l,h,W,m,le,ie,R))?(pe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ie),j.props=m,j.state=ie,j.context=R,m=W):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{j=l.stateNode,Pm(i,l),R=l.memoizedProps,pe=Ms(h,R),j.props=pe,ve=l.pendingProps,le=j.context,ie=h.contextType,W=ko,typeof ie=="object"&&ie!==null&&(W=Nn(ie)),U=h.getDerivedStateFromProps,(ie=typeof U=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(R!==ve||le!==W)&&JO(l,j,m,W),Oi=!1,le=l.memoizedState,j.state=le,ou(l,m,j,b),su();var ue=l.memoizedState;R!==ve||le!==ue||Oi||i!==null&&i.dependencies!==null&&ff(i.dependencies)?(typeof U=="function"&&(nv(l,h,U,m),ue=l.memoizedState),(pe=Oi||QO(l,h,pe,m,le,ue,W)||i!==null&&i.dependencies!==null&&ff(i.dependencies))?(ie||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(m,ue,W),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(m,ue,W)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ue),j.props=m,j.state=ue,j.context=W,m=pe):(typeof j.componentDidUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(l.flags|=1024),m=!1)}return j=m,kf(i,l),m=(l.flags&128)!==0,j||m?(j=l.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:j.render(),l.flags|=1,i!==null&&m?(l.child=$o(l,i.child,null,b),l.child=$o(l,null,h,b)):wn(i,l,h,b),l.memoizedState=j.state,i=l.child):i=Ga(i,l,b),i}function pT(i,l,h,m){return Ql(),l.flags|=256,wn(i,l,h,m),l.child}var sv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ov(i){return{baseLanes:i,cachePool:tO()}}function lv(i,l,h){return i=i!==null?i.childLanes&~h:0,l&&(i|=qr),i}function mT(i,l,h){var m=l.pendingProps,b=!1,j=(l.flags&128)!==0,R;if((R=j)||(R=i!==null&&i.memoizedState===null?!1:(rn.current&2)!==0),R&&(b=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,i===null){if(Xe){if(b?Ci(l):Mi(),Xe){var U=Rt,W;if(W=U){e:{for(W=U,U=_a;W.nodeType!==8;){if(!U){U=null;break e}if(W=sa(W.nextSibling),W===null){U=null;break e}}U=W}U!==null?(l.memoizedState={dehydrated:U,treeContext:js!==null?{id:Ba,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},W=cr(18,null,null,0),W.stateNode=U,W.return=l,l.child=W,qn=l,Rt=null,W=!0):W=!1}W||Os(l)}if(U=l.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return Gv(U)?l.lanes=32:l.lanes=536870912,null;Fa(l)}return U=m.children,m=m.fallback,b?(Mi(),b=l.mode,U=Cf({mode:"hidden",children:U},b),m=Ss(m,b,h,null),U.return=l,m.return=l,U.sibling=m,l.child=U,b=l.child,b.memoizedState=ov(h),b.childLanes=lv(i,R,h),l.memoizedState=sv,m):(Ci(l),uv(l,U))}if(W=i.memoizedState,W!==null&&(U=W.dehydrated,U!==null)){if(j)l.flags&256?(Ci(l),l.flags&=-257,l=cv(i,l,h)):l.memoizedState!==null?(Mi(),l.child=i.child,l.flags|=128,l=null):(Mi(),b=m.fallback,U=l.mode,m=Cf({mode:"visible",children:m.children},U),b=Ss(b,U,h,null),b.flags|=2,m.return=l,b.return=l,m.sibling=b,l.child=m,$o(l,i.child,null,h),m=l.child,m.memoizedState=ov(h),m.childLanes=lv(i,R,h),l.memoizedState=sv,l=b);else if(Ci(l),Gv(U)){if(R=U.nextSibling&&U.nextSibling.dataset,R)var ie=R.dgst;R=ie,m=Error(r(419)),m.stack="",m.digest=R,Jl({value:m,source:null,stack:null}),l=cv(i,l,h)}else if(fn||eu(i,l,h,!1),R=(h&i.childLanes)!==0,fn||R){if(R=mt,R!==null&&(m=h&-h,m=(m&42)!==0?1:Tr(m),m=(m&(R.suspendedLanes|h))!==0?0:m,m!==0&&m!==W.retryLane))throw W.retryLane=m,No(i,m),mr(R,i,m),sT;U.data==="$?"||Tv(),l=cv(i,l,h)}else U.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=W.treeContext,Rt=sa(U.nextSibling),qn=l,Xe=!0,As=null,_a=!1,i!==null&&(Dr[Pr++]=Ba,Dr[Pr++]=$a,Dr[Pr++]=js,Ba=i.id,$a=i.overflow,js=l),l=uv(l,m.children),l.flags|=4096);return l}return b?(Mi(),b=m.fallback,U=l.mode,W=i.child,ie=W.sibling,m=Ia(W,{mode:"hidden",children:m.children}),m.subtreeFlags=W.subtreeFlags&65011712,ie!==null?b=Ia(ie,b):(b=Ss(b,U,h,null),b.flags|=2),b.return=l,m.return=l,m.sibling=b,l.child=m,m=b,b=l.child,U=i.child.memoizedState,U===null?U=ov(h):(W=U.cachePool,W!==null?(ie=nn._currentValue,W=W.parent!==ie?{parent:ie,pool:ie}:W):W=tO(),U={baseLanes:U.baseLanes|h,cachePool:W}),b.memoizedState=U,b.childLanes=lv(i,R,h),l.memoizedState=sv,m):(Ci(l),h=i.child,i=h.sibling,h=Ia(h,{mode:"visible",children:m.children}),h.return=l,h.sibling=null,i!==null&&(R=l.deletions,R===null?(l.deletions=[i],l.flags|=16):R.push(i)),l.child=h,l.memoizedState=null,h)}function uv(i,l){return l=Cf({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Cf(i,l){return i=cr(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function cv(i,l,h){return $o(l,i.child,null,h),i=uv(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function vT(i,l,h){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),Tm(i.return,l,h)}function fv(i,l,h,m,b){var j=i.memoizedState;j===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:b}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=m,j.tail=h,j.tailMode=b)}function gT(i,l,h){var m=l.pendingProps,b=m.revealOrder,j=m.tail;if(wn(i,l,m.children,h),m=rn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vT(i,h,l);else if(i.tag===19)vT(i,h,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(ne(rn,m),b){case"forwards":for(h=l.child,b=null;h!==null;)i=h.alternate,i!==null&&Of(i)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),fv(l,!1,b,h,j);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&Of(i)===null){l.child=b;break}i=b.sibling,b.sibling=h,h=b,b=i}fv(l,!0,h,null,j);break;case"together":fv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ga(i,l,h){if(i!==null&&(l.dependencies=i.dependencies),qi|=l.lanes,(h&l.childLanes)===0)if(i!==null){if(eu(i,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,h=Ia(i,i.pendingProps),l.child=h,h.return=l;i.sibling!==null;)i=i.sibling,h=h.sibling=Ia(i,i.pendingProps),h.return=l;h.sibling=null}return l.child}function dv(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&ff(i)))}function g5(i,l,h){switch(l.tag){case 3:oe(l,l.stateNode.containerInfo),Ai(l,nn,i.memoizedState.cache),Ql();break;case 27:case 5:he(l);break;case 4:oe(l,l.stateNode.containerInfo);break;case 10:Ai(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Ci(l),l.flags|=128,null):(h&l.child.childLanes)!==0?mT(i,l,h):(Ci(l),i=Ga(i,l,h),i!==null?i.sibling:null);Ci(l);break;case 19:var b=(i.flags&128)!==0;if(m=(h&l.childLanes)!==0,m||(eu(i,l,h,!1),m=(h&l.childLanes)!==0),b){if(m)return gT(i,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ne(rn,rn.current),m)break;return null;case 22:case 23:return l.lanes=0,cT(i,l,h);case 24:Ai(l,nn,i.memoizedState.cache)}return Ga(i,l,h)}function yT(i,l,h){if(i!==null)if(i.memoizedProps!==l.pendingProps)fn=!0;else{if(!dv(i,h)&&(l.flags&128)===0)return fn=!1,g5(i,l,h);fn=(i.flags&131072)!==0}else fn=!1,Xe&&(l.flags&1048576)!==0&&VA(l,cf,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var m=l.elementType,b=m._init;if(m=b(m._payload),l.type=m,typeof m=="function")_m(m)?(i=Ms(m,i),l.tag=1,l=hT(null,l,m,i,h)):(l.tag=0,l=iv(null,l,m,i,h));else{if(m!=null){if(b=m.$$typeof,b===A){l.tag=11,l=oT(null,l,m,i,h);break e}else if(b===C){l.tag=14,l=lT(null,l,m,i,h);break e}}throw l=D(m)||m,Error(r(306,l,""))}}return l;case 0:return iv(i,l,l.type,l.pendingProps,h);case 1:return m=l.type,b=Ms(m,l.pendingProps),hT(i,l,m,b,h);case 3:e:{if(oe(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var j=l.memoizedState;b=j.element,Pm(i,l),ou(l,m,null,h);var R=l.memoizedState;if(m=R.cache,Ai(l,nn,m),m!==j.cache&&Nm(l,[nn],h,!0),su(),m=R.element,j.isDehydrated)if(j={element:m,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){l=pT(i,l,m,h);break e}else if(m!==b){b=Mr(Error(r(424)),l),Jl(b),l=pT(i,l,m,h);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Rt=sa(i.firstChild),qn=l,Xe=!0,As=null,_a=!0,h=XO(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ql(),m===b){l=Ga(i,l,h);break e}wn(i,l,m,h)}l=l.child}return l;case 26:return kf(i,l),i===null?(h=wN(l.type,null,l.pendingProps,null))?l.memoizedState=h:Xe||(h=l.type,i=l.pendingProps,m=Gf(G.current).createElement(h),m[qt]=l,m[un]=i,jn(m,h,i),Mt(m),l.stateNode=m):l.memoizedState=wN(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return he(l),i===null&&Xe&&(m=l.stateNode=bN(l.type,l.pendingProps,G.current),qn=l,_a=!0,b=Rt,zi(l.type)?(Kv=b,Rt=sa(m.firstChild)):Rt=b),wn(i,l,l.pendingProps.children,h),kf(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Xe&&((b=m=Rt)&&(m=G5(m,l.type,l.pendingProps,_a),m!==null?(l.stateNode=m,qn=l,Rt=sa(m.firstChild),_a=!1,b=!0):b=!1),b||Os(l)),he(l),b=l.type,j=l.pendingProps,R=i!==null?i.memoizedProps:null,m=j.children,Uv(b,j)?m=null:R!==null&&Uv(b,R)&&(l.flags|=32),l.memoizedState!==null&&(b=zm(i,l,u5,null,null,h),Nu._currentValue=b),kf(i,l),wn(i,l,m,h),l.child;case 6:return i===null&&Xe&&((i=h=Rt)&&(h=K5(h,l.pendingProps,_a),h!==null?(l.stateNode=h,qn=l,Rt=null,i=!0):i=!1),i||Os(l)),null;case 13:return mT(i,l,h);case 4:return oe(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=$o(l,null,m,h):wn(i,l,m,h),l.child;case 11:return oT(i,l,l.type,l.pendingProps,h);case 7:return wn(i,l,l.pendingProps,h),l.child;case 8:return wn(i,l,l.pendingProps.children,h),l.child;case 12:return wn(i,l,l.pendingProps.children,h),l.child;case 10:return m=l.pendingProps,Ai(l,l.type,m.value),wn(i,l,m.children,h),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,Ns(l),b=Nn(b),m=m(b),l.flags|=1,wn(i,l,m,h),l.child;case 14:return lT(i,l,l.type,l.pendingProps,h);case 15:return uT(i,l,l.type,l.pendingProps,h);case 19:return gT(i,l,h);case 31:return m=l.pendingProps,h=l.mode,m={mode:m.mode,children:m.children},i===null?(h=Cf(m,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Ia(i.child,m),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return cT(i,l,h);case 24:return Ns(l),m=Nn(nn),i===null?(b=Mm(),b===null&&(b=mt,j=km(),b.pooledCache=j,j.refCount++,j!==null&&(b.pooledCacheLanes|=h),b=j),l.memoizedState={parent:m,cache:b},Dm(l),Ai(l,nn,b)):((i.lanes&h)!==0&&(Pm(i,l),ou(l,null,null,h),su()),b=i.memoizedState,j=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Ai(l,nn,m)):(m=j.cache,Ai(l,nn,m),m!==b.cache&&Nm(l,[nn],h,!0))),wn(i,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ka(i){i.flags|=4}function bT(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ON(l)){if(l=Lr.current,l!==null&&((Ge&4194048)===Ge?wa!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||l!==wa))throw au=Rm,nO;i.flags|=8192}}function Mf(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?ir():536870912,i.lanes|=l,Fo|=l)}function pu(i,l){if(!Xe)switch(i.tailMode){case"hidden":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Tt(i){var l=i.alternate!==null&&i.alternate.child===i.child,h=0,m=0;if(l)for(var b=i.child;b!==null;)h|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)h|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=h,l}function y5(i,l,h){var m=l.pendingProps;switch(Em(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(l),null;case 1:return Tt(l),null;case 3:return h=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ua(nn),se(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Zl(l)?Ka(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ZA())),Tt(l),null;case 26:return h=l.memoizedState,i===null?(Ka(l),h!==null?(Tt(l),bT(l,h)):(Tt(l),l.flags&=-16777217)):h?h!==i.memoizedState?(Ka(l),Tt(l),bT(l,h)):(Tt(l),l.flags&=-16777217):(i.memoizedProps!==m&&Ka(l),Tt(l),l.flags&=-16777217),null;case 27:ye(l),h=G.current;var b=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ka(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Tt(l),null}i=K.current,Zl(l)?WA(l):(i=bN(b,m,h),l.stateNode=i,Ka(l))}return Tt(l),null;case 5:if(ye(l),h=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ka(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Tt(l),null}if(i=K.current,Zl(l))WA(l);else{switch(b=Gf(G.current),i){case 1:i=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:i=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":i=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":i=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?b.createElement(h,{is:m.is}):b.createElement(h)}}i[qt]=l,i[un]=m;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)i.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=i;e:switch(jn(i,h,m),h){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ka(l)}}return Tt(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&Ka(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=G.current,Zl(l)){if(i=l.stateNode,h=l.memoizedProps,m=null,b=qn,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[qt]=l,i=!!(i.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||dN(i.nodeValue,h)),i||Os(l)}else i=Gf(i).createTextNode(m),i[qt]=l,l.stateNode=i}return Tt(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Zl(l),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[qt]=l}else Ql(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Tt(l),b=!1}else b=ZA(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Fa(l),l):(Fa(l),null)}if(Fa(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=m!==null,i=i!==null&&i.memoizedState!==null,h){m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var j=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(j=m.memoizedState.cachePool.pool),j!==b&&(m.flags|=2048)}return h!==i&&h&&(l.child.flags|=8192),Mf(l,l.updateQueue),Tt(l),null;case 4:return se(),i===null&&qv(l.stateNode.containerInfo),Tt(l),null;case 10:return Ua(l.type),Tt(l),null;case 19:if(Z(rn),b=l.memoizedState,b===null)return Tt(l),null;if(m=(l.flags&128)!==0,j=b.rendering,j===null)if(m)pu(b,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(j=Of(i),j!==null){for(l.flags|=128,pu(b,!1),i=j.updateQueue,l.updateQueue=i,Mf(l,i),l.subtreeFlags=0,i=h,h=l.child;h!==null;)YA(h,i),h=h.sibling;return ne(rn,rn.current&1|2),l.child}i=i.sibling}b.tail!==null&&xe()>Pf&&(l.flags|=128,m=!0,pu(b,!1),l.lanes=4194304)}else{if(!m)if(i=Of(j),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,Mf(l,i),pu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!j.alternate&&!Xe)return Tt(l),null}else 2*xe()-b.renderingStartTime>Pf&&h!==536870912&&(l.flags|=128,m=!0,pu(b,!1),l.lanes=4194304);b.isBackwards?(j.sibling=l.child,l.child=j):(i=b.last,i!==null?i.sibling=j:l.child=j,b.last=j)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=xe(),l.sibling=null,i=rn.current,ne(rn,m?i&1|2:i&1),l):(Tt(l),null);case 22:case 23:return Fa(l),Bm(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(h&536870912)!==0&&(l.flags&128)===0&&(Tt(l),l.subtreeFlags&6&&(l.flags|=8192)):Tt(l),h=l.updateQueue,h!==null&&Mf(l,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048),i!==null&&Z(ks),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Ua(nn),Tt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function b5(i,l){switch(Em(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ua(nn),se(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return ye(l),null;case 13:if(Fa(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ql()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Z(rn),null;case 4:return se(),null;case 10:return Ua(l.type),null;case 22:case 23:return Fa(l),Bm(),i!==null&&Z(ks),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Ua(nn),null;case 25:return null;default:return null}}function xT(i,l){switch(Em(l),l.tag){case 3:Ua(nn),se();break;case 26:case 27:case 5:ye(l);break;case 4:se();break;case 13:Fa(l);break;case 19:Z(rn);break;case 10:Ua(l.type);break;case 22:case 23:Fa(l),Bm(),i!==null&&Z(ks);break;case 24:Ua(nn)}}function mu(i,l){try{var h=l.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var b=m.next;h=b;do{if((h.tag&i)===i){m=void 0;var j=h.create,R=h.inst;m=j(),R.destroy=m}h=h.next}while(h!==b)}}catch(U){ft(l,l.return,U)}}function Ri(i,l,h){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var j=b.next;m=j;do{if((m.tag&i)===i){var R=m.inst,U=R.destroy;if(U!==void 0){R.destroy=void 0,b=l;var W=h,ie=U;try{ie()}catch(pe){ft(b,W,pe)}}}m=m.next}while(m!==j)}}catch(pe){ft(l,l.return,pe)}}function _T(i){var l=i.updateQueue;if(l!==null){var h=i.stateNode;try{lO(l,h)}catch(m){ft(i,i.return,m)}}}function wT(i,l,h){h.props=Ms(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(m){ft(i,l,m)}}function vu(i,l){try{var h=i.ref;if(h!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof h=="function"?i.refCleanup=h(m):h.current=m}}catch(b){ft(i,l,b)}}function Sa(i,l){var h=i.ref,m=i.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(b){ft(i,l,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){ft(i,l,b)}else h.current=null}function ST(i){var l=i.type,h=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(b){ft(i,i.return,b)}}function hv(i,l,h){try{var m=i.stateNode;$5(m,i.type,h,l),m[un]=l}catch(b){ft(i,i.return,b)}}function jT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zi(i.type)||i.tag===4}function pv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mv(i,l,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(i,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(i),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Ff));else if(m!==4&&(m===27&&zi(i.type)&&(h=i.stateNode,l=null),i=i.child,i!==null))for(mv(i,l,h),i=i.sibling;i!==null;)mv(i,l,h),i=i.sibling}function Rf(i,l,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?h.insertBefore(i,l):h.appendChild(i);else if(m!==4&&(m===27&&zi(i.type)&&(h=i.stateNode),i=i.child,i!==null))for(Rf(i,l,h),i=i.sibling;i!==null;)Rf(i,l,h),i=i.sibling}function ET(i){var l=i.stateNode,h=i.memoizedProps;try{for(var m=i.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);jn(l,m,h),l[qt]=i,l[un]=h}catch(j){ft(i,i.return,j)}}var Ya=!1,$t=!1,vv=!1,AT=typeof WeakSet=="function"?WeakSet:Set,dn=null;function x5(i,l){if(i=i.containerInfo,$v=Zf,i=qA(i),pm(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var b=m.anchorOffset,j=m.focusNode;m=m.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var R=0,U=-1,W=-1,ie=0,pe=0,ve=i,le=null;t:for(;;){for(var ue;ve!==h||b!==0&&ve.nodeType!==3||(U=R+b),ve!==j||m!==0&&ve.nodeType!==3||(W=R+m),ve.nodeType===3&&(R+=ve.nodeValue.length),(ue=ve.firstChild)!==null;)le=ve,ve=ue;for(;;){if(ve===i)break t;if(le===h&&++ie===b&&(U=R),le===j&&++pe===m&&(W=R),(ue=ve.nextSibling)!==null)break;ve=le,le=ve.parentNode}ve=ue}h=U===-1||W===-1?null:{start:U,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(zv={focusedElem:i,selectionRange:h},Zf=!1,dn=l;dn!==null;)if(l=dn,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,dn=i;else for(;dn!==null;){switch(l=dn,j=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&j!==null){i=void 0,h=l,b=j.memoizedProps,j=j.memoizedState,m=h.stateNode;try{var qe=Ms(h.type,b,h.elementType===h.type);i=m.getSnapshotBeforeUpdate(qe,j),m.__reactInternalSnapshotBeforeUpdate=i}catch(De){ft(h,h.return,De)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,h=i.nodeType,h===9)Fv(i);else if(h===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,dn=i;break}dn=l.return}}function OT(i,l,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Di(i,h),m&4&&mu(5,h);break;case 1:if(Di(i,h),m&4)if(i=h.stateNode,l===null)try{i.componentDidMount()}catch(R){ft(h,h.return,R)}else{var b=Ms(h.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(b,l,i.__reactInternalSnapshotBeforeUpdate)}catch(R){ft(h,h.return,R)}}m&64&&_T(h),m&512&&vu(h,h.return);break;case 3:if(Di(i,h),m&64&&(i=h.updateQueue,i!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{lO(i,l)}catch(R){ft(h,h.return,R)}}break;case 27:l===null&&m&4&&ET(h);case 26:case 5:Di(i,h),l===null&&m&4&&ST(h),m&512&&vu(h,h.return);break;case 12:Di(i,h);break;case 13:Di(i,h),m&4&&kT(i,h),m&64&&(i=h.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(h=N5.bind(null,h),Y5(i,h))));break;case 22:if(m=h.memoizedState!==null||Ya,!m){l=l!==null&&l.memoizedState!==null||$t,b=Ya;var j=$t;Ya=m,($t=l)&&!j?Pi(i,h,(h.subtreeFlags&8772)!==0):Di(i,h),Ya=b,$t=j}break;case 30:break;default:Di(i,h)}}function TT(i){var l=i.alternate;l!==null&&(i.alternate=null,TT(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Pn(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var wt=null,Vn=!1;function Va(i,l,h){for(h=h.child;h!==null;)NT(i,l,h),h=h.sibling}function NT(i,l,h){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Ct,h)}catch{}switch(h.tag){case 26:$t||Sa(h,l),Va(i,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:$t||Sa(h,l);var m=wt,b=Vn;zi(h.type)&&(wt=h.stateNode,Vn=!1),Va(i,l,h),Eu(h.stateNode),wt=m,Vn=b;break;case 5:$t||Sa(h,l);case 6:if(m=wt,b=Vn,wt=null,Va(i,l,h),wt=m,Vn=b,wt!==null)if(Vn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(h.stateNode)}catch(j){ft(h,l,j)}else try{wt.removeChild(h.stateNode)}catch(j){ft(h,l,j)}break;case 18:wt!==null&&(Vn?(i=wt,gN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,h.stateNode),Ru(i)):gN(wt,h.stateNode));break;case 4:m=wt,b=Vn,wt=h.stateNode.containerInfo,Vn=!0,Va(i,l,h),wt=m,Vn=b;break;case 0:case 11:case 14:case 15:$t||Ri(2,h,l),$t||Ri(4,h,l),Va(i,l,h);break;case 1:$t||(Sa(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"&&wT(h,l,m)),Va(i,l,h);break;case 21:Va(i,l,h);break;case 22:$t=(m=$t)||h.memoizedState!==null,Va(i,l,h),$t=m;break;default:Va(i,l,h)}}function kT(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ru(i)}catch(h){ft(l,l.return,h)}}function _5(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new AT),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new AT),l;default:throw Error(r(435,i.tag))}}function gv(i,l){var h=_5(i);l.forEach(function(m){var b=k5.bind(null,i,m);h.has(m)||(h.add(m),m.then(b,b))})}function fr(i,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var b=h[m],j=i,R=l,U=R;e:for(;U!==null;){switch(U.tag){case 27:if(zi(U.type)){wt=U.stateNode,Vn=!1;break e}break;case 5:wt=U.stateNode,Vn=!1;break e;case 3:case 4:wt=U.stateNode.containerInfo,Vn=!0;break e}U=U.return}if(wt===null)throw Error(r(160));NT(j,R,b),wt=null,Vn=!1,j=b.alternate,j!==null&&(j.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)CT(l,i),l=l.sibling}var ia=null;function CT(i,l){var h=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:fr(l,i),dr(i),m&4&&(Ri(3,i,i.return),mu(3,i),Ri(5,i,i.return));break;case 1:fr(l,i),dr(i),m&512&&($t||h===null||Sa(h,h.return)),m&64&&Ya&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var b=ia;if(fr(l,i),dr(i),m&512&&($t||h===null||Sa(h,h.return)),m&4){var j=h!==null?h.memoizedState:null;if(m=i.memoizedState,h===null)if(m===null)if(i.stateNode===null){e:{m=i.type,h=i.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":j=b.getElementsByTagName("title")[0],(!j||j[ba]||j[qt]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=b.createElement(m),b.head.insertBefore(j,b.querySelector("head > title"))),jn(j,m,h),j[qt]=i,Mt(j),m=j;break e;case"link":var R=EN("link","href",b).get(m+(h.href||""));if(R){for(var U=0;U<R.length;U++)if(j=R[U],j.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&j.getAttribute("rel")===(h.rel==null?null:h.rel)&&j.getAttribute("title")===(h.title==null?null:h.title)&&j.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){R.splice(U,1);break t}}j=b.createElement(m),jn(j,m,h),b.head.appendChild(j);break;case"meta":if(R=EN("meta","content",b).get(m+(h.content||""))){for(U=0;U<R.length;U++)if(j=R[U],j.getAttribute("content")===(h.content==null?null:""+h.content)&&j.getAttribute("name")===(h.name==null?null:h.name)&&j.getAttribute("property")===(h.property==null?null:h.property)&&j.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&j.getAttribute("charset")===(h.charSet==null?null:h.charSet)){R.splice(U,1);break t}}j=b.createElement(m),jn(j,m,h),b.head.appendChild(j);break;default:throw Error(r(468,m))}j[qt]=i,Mt(j),m=j}i.stateNode=m}else AN(b,i.type,i.stateNode);else i.stateNode=jN(b,m,i.memoizedProps);else j!==m?(j===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):j.count--,m===null?AN(b,i.type,i.stateNode):jN(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&hv(i,i.memoizedProps,h.memoizedProps)}break;case 27:fr(l,i),dr(i),m&512&&($t||h===null||Sa(h,h.return)),h!==null&&m&4&&hv(i,i.memoizedProps,h.memoizedProps);break;case 5:if(fr(l,i),dr(i),m&512&&($t||h===null||Sa(h,h.return)),i.flags&32){b=i.stateNode;try{wo(b,"")}catch(ue){ft(i,i.return,ue)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,hv(i,b,h!==null?h.memoizedProps:b)),m&1024&&(vv=!0);break;case 6:if(fr(l,i),dr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,h=i.stateNode;try{h.nodeValue=m}catch(ue){ft(i,i.return,ue)}}break;case 3:if(Vf=null,b=ia,ia=Kf(l.containerInfo),fr(l,i),ia=b,dr(i),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Ru(l.containerInfo)}catch(ue){ft(i,i.return,ue)}vv&&(vv=!1,MT(i));break;case 4:m=ia,ia=Kf(i.stateNode.containerInfo),fr(l,i),dr(i),ia=m;break;case 12:fr(l,i),dr(i);break;case 13:fr(l,i),dr(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Sv=xe()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,gv(i,m)));break;case 22:b=i.memoizedState!==null;var W=h!==null&&h.memoizedState!==null,ie=Ya,pe=$t;if(Ya=ie||b,$t=pe||W,fr(l,i),$t=pe,Ya=ie,dr(i),m&8192)e:for(l=i.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(h===null||W||Ya||$t||Rs(i)),h=null,l=i;;){if(l.tag===5||l.tag===26){if(h===null){W=h=l;try{if(j=W.stateNode,b)R=j.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{U=W.stateNode;var ve=W.memoizedProps.style,le=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;U.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){ft(W,W.return,ue)}}}else if(l.tag===6){if(h===null){W=l;try{W.stateNode.nodeValue=b?"":W.memoizedProps}catch(ue){ft(W,W.return,ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,gv(i,h))));break;case 19:fr(l,i),dr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,gv(i,m)));break;case 30:break;case 21:break;default:fr(l,i),dr(i)}}function dr(i){var l=i.flags;if(l&2){try{for(var h,m=i.return;m!==null;){if(jT(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var b=h.stateNode,j=pv(i);Rf(i,j,b);break;case 5:var R=h.stateNode;h.flags&32&&(wo(R,""),h.flags&=-33);var U=pv(i);Rf(i,U,R);break;case 3:case 4:var W=h.stateNode.containerInfo,ie=pv(i);mv(i,ie,W);break;default:throw Error(r(161))}}catch(pe){ft(i,i.return,pe)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function MT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;MT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Di(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)OT(i,l.alternate,l),l=l.sibling}function Rs(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Ri(4,l,l.return),Rs(l);break;case 1:Sa(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&wT(l,l.return,h),Rs(l);break;case 27:Eu(l.stateNode);case 26:case 5:Sa(l,l.return),Rs(l);break;case 22:l.memoizedState===null&&Rs(l);break;case 30:Rs(l);break;default:Rs(l)}i=i.sibling}}function Pi(i,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=i,j=l,R=j.flags;switch(j.tag){case 0:case 11:case 15:Pi(b,j,h),mu(4,j);break;case 1:if(Pi(b,j,h),m=j,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ie){ft(m,m.return,ie)}if(m=j,b=m.updateQueue,b!==null){var U=m.stateNode;try{var W=b.shared.hiddenCallbacks;if(W!==null)for(b.shared.hiddenCallbacks=null,b=0;b<W.length;b++)oO(W[b],U)}catch(ie){ft(m,m.return,ie)}}h&&R&64&&_T(j),vu(j,j.return);break;case 27:ET(j);case 26:case 5:Pi(b,j,h),h&&m===null&&R&4&&ST(j),vu(j,j.return);break;case 12:Pi(b,j,h);break;case 13:Pi(b,j,h),h&&R&4&&kT(b,j);break;case 22:j.memoizedState===null&&Pi(b,j,h),vu(j,j.return);break;case 30:break;default:Pi(b,j,h)}l=l.sibling}}function yv(i,l){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&tu(h))}function bv(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&tu(i))}function ja(i,l,h,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)RT(i,l,h,m),l=l.sibling}function RT(i,l,h,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:ja(i,l,h,m),b&2048&&mu(9,l);break;case 1:ja(i,l,h,m);break;case 3:ja(i,l,h,m),b&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&tu(i)));break;case 12:if(b&2048){ja(i,l,h,m),i=l.stateNode;try{var j=l.memoizedProps,R=j.id,U=j.onPostCommit;typeof U=="function"&&U(R,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(W){ft(l,l.return,W)}}else ja(i,l,h,m);break;case 13:ja(i,l,h,m);break;case 23:break;case 22:j=l.stateNode,R=l.alternate,l.memoizedState!==null?j._visibility&2?ja(i,l,h,m):gu(i,l):j._visibility&2?ja(i,l,h,m):(j._visibility|=2,zo(i,l,h,m,(l.subtreeFlags&10256)!==0)),b&2048&&yv(R,l);break;case 24:ja(i,l,h,m),b&2048&&bv(l.alternate,l);break;default:ja(i,l,h,m)}}function zo(i,l,h,m,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var j=i,R=l,U=h,W=m,ie=R.flags;switch(R.tag){case 0:case 11:case 15:zo(j,R,U,W,b),mu(8,R);break;case 23:break;case 22:var pe=R.stateNode;R.memoizedState!==null?pe._visibility&2?zo(j,R,U,W,b):gu(j,R):(pe._visibility|=2,zo(j,R,U,W,b)),b&&ie&2048&&yv(R.alternate,R);break;case 24:zo(j,R,U,W,b),b&&ie&2048&&bv(R.alternate,R);break;default:zo(j,R,U,W,b)}l=l.sibling}}function gu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=i,m=l,b=m.flags;switch(m.tag){case 22:gu(h,m),b&2048&&yv(m.alternate,m);break;case 24:gu(h,m),b&2048&&bv(m.alternate,m);break;default:gu(h,m)}l=l.sibling}}var yu=8192;function Uo(i){if(i.subtreeFlags&yu)for(i=i.child;i!==null;)DT(i),i=i.sibling}function DT(i){switch(i.tag){case 26:Uo(i),i.flags&yu&&i.memoizedState!==null&&sF(ia,i.memoizedState,i.memoizedProps);break;case 5:Uo(i);break;case 3:case 4:var l=ia;ia=Kf(i.stateNode.containerInfo),Uo(i),ia=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=yu,yu=16777216,Uo(i),yu=l):Uo(i));break;default:Uo(i)}}function PT(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function bu(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];dn=m,qT(m,i)}PT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)LT(i),i=i.sibling}function LT(i){switch(i.tag){case 0:case 11:case 15:bu(i),i.flags&2048&&Ri(9,i,i.return);break;case 3:bu(i);break;case 12:bu(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Df(i)):bu(i);break;default:bu(i)}}function Df(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];dn=m,qT(m,i)}PT(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Ri(8,l,l.return),Df(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Df(l));break;default:Df(l)}i=i.sibling}}function qT(i,l){for(;dn!==null;){var h=dn;switch(h.tag){case 0:case 11:case 15:Ri(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:tu(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,dn=m;else e:for(h=i;dn!==null;){m=dn;var b=m.sibling,j=m.return;if(TT(m),m===h){dn=null;break e}if(b!==null){b.return=j,dn=b;break e}dn=j}}}var w5={getCacheForType:function(i){var l=Nn(nn),h=l.data.get(i);return h===void 0&&(h=i(),l.data.set(i,h)),h}},S5=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,Ue=null,Ge=0,tt=0,hr=null,Li=!1,Ho=!1,xv=!1,Wa=0,Dt=0,qi=0,Ds=0,_v=0,qr=0,Fo=0,xu=null,Wn=null,wv=!1,Sv=0,Pf=1/0,Lf=null,Ii=null,Sn=0,Bi=null,Go=null,Ko=0,jv=0,Ev=null,IT=null,_u=0,Av=null;function pr(){if((et&2)!==0&&Ge!==0)return Ge&-Ge;if(I.T!==null){var i=Ro;return i!==0?i:Rv()}return vs()}function BT(){qr===0&&(qr=(Ge&536870912)===0||Xe?Jr():536870912);var i=Lr.current;return i!==null&&(i.flags|=32),qr}function mr(i,l,h){(i===mt&&(tt===2||tt===9)||i.cancelPendingCommit!==null)&&(Yo(i,0),$i(i,Ge,qr,!1)),Gn(i,h),((et&2)===0||i!==mt)&&(i===mt&&((et&2)===0&&(Ds|=h),Dt===4&&$i(i,Ge,qr,!1)),Ea(i))}function $T(i,l,h){if((et&6)!==0)throw Error(r(327));var m=!h&&(l&124)===0&&(l&i.expiredLanes)===0||_n(i,l),b=m?A5(i,l):Nv(i,l,!0),j=m;do{if(b===0){Ho&&!m&&$i(i,l,0,!1);break}else{if(h=i.current.alternate,j&&!j5(h)){b=Nv(i,l,!1),j=!1;continue}if(b===2){if(j=l,i.errorRecoveryDisabledLanes&j)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var U=i;b=xu;var W=U.current.memoizedState.isDehydrated;if(W&&(Yo(U,R).flags|=256),R=Nv(U,R,!1),R!==2){if(xv&&!W){U.errorRecoveryDisabledLanes|=j,Ds|=j,b=4;break e}j=Wn,Wn=b,j!==null&&(Wn===null?Wn=j:Wn.push.apply(Wn,j))}b=R}if(j=!1,b!==2)continue}}if(b===1){Yo(i,0),$i(i,l,0,!0);break}e:{switch(m=i,j=b,j){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:$i(m,l,qr,!Li);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Sv+300-xe(),10<b)){if($i(m,l,qr,!Li),en(m,0,!0)!==0)break e;m.timeoutHandle=mN(zT.bind(null,m,h,Wn,Lf,wv,l,qr,Ds,Fo,Li,j,2,-0,0),b);break e}zT(m,h,Wn,Lf,wv,l,qr,Ds,Fo,Li,j,0,-0,0)}}break}while(!0);Ea(i)}function zT(i,l,h,m,b,j,R,U,W,ie,pe,ve,le,ue){if(i.timeoutHandle=-1,ve=l.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(Tu={stylesheets:null,count:0,unsuspend:iF},DT(l),ve=oF(),ve!==null)){i.cancelPendingCommit=ve(VT.bind(null,i,l,j,h,m,b,R,U,W,pe,1,le,ue)),$i(i,j,R,!ie);return}VT(i,l,j,h,m,b,R,U,W)}function j5(i){for(var l=i;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var b=h[m],j=b.getSnapshot;b=b.value;try{if(!ur(j(),b))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $i(i,l,h,m){l&=~_v,l&=~Ds,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var b=l;0<b;){var j=31-ht(b),R=1<<j;m[j]=-1,b&=~R}h!==0&&yo(i,h,l)}function qf(){return(et&6)===0?(wu(0),!1):!0}function Ov(){if(Ue!==null){if(tt===0)var i=Ue.return;else i=Ue,za=Ts=null,Fm(i),Bo=null,du=0,i=Ue;for(;i!==null;)xT(i.alternate,i),i=i.return;Ue=null}}function Yo(i,l){var h=i.timeoutHandle;h!==-1&&(i.timeoutHandle=-1,U5(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),Ov(),mt=i,Ue=h=Ia(i.current,null),Ge=l,tt=0,hr=null,Li=!1,Ho=_n(i,l),xv=!1,Fo=qr=_v=Ds=qi=Dt=0,Wn=xu=null,wv=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var b=31-ht(m),j=1<<b;l|=i[b],m&=~j}return Wa=l,af(),h}function UT(i,l){Be=null,I.H=jf,l===ru||l===pf?(l=iO(),tt=3):l===nO?(l=iO(),tt=4):tt=l===sT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,hr=l,Ue===null&&(Dt=1,Nf(i,Mr(l,i.current)))}function HT(){var i=I.H;return I.H=jf,i===null?jf:i}function FT(){var i=I.A;return I.A=w5,i}function Tv(){Dt=4,Li||(Ge&4194048)!==Ge&&Lr.current!==null||(Ho=!0),(qi&134217727)===0&&(Ds&134217727)===0||mt===null||$i(mt,Ge,qr,!1)}function Nv(i,l,h){var m=et;et|=2;var b=HT(),j=FT();(mt!==i||Ge!==l)&&(Lf=null,Yo(i,l)),l=!1;var R=Dt;e:do try{if(tt!==0&&Ue!==null){var U=Ue,W=hr;switch(tt){case 8:Ov(),R=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(l=!0);var ie=tt;if(tt=0,hr=null,Vo(i,U,W,ie),h&&Ho){R=0;break e}break;default:ie=tt,tt=0,hr=null,Vo(i,U,W,ie)}}E5(),R=Dt;break}catch(pe){UT(i,pe)}while(!0);return l&&i.shellSuspendCounter++,za=Ts=null,et=m,I.H=b,I.A=j,Ue===null&&(mt=null,Ge=0,af()),R}function E5(){for(;Ue!==null;)GT(Ue)}function A5(i,l){var h=et;et|=2;var m=HT(),b=FT();mt!==i||Ge!==l?(Lf=null,Pf=xe()+500,Yo(i,l)):Ho=_n(i,l);e:do try{if(tt!==0&&Ue!==null){l=Ue;var j=hr;t:switch(tt){case 1:tt=0,hr=null,Vo(i,l,j,1);break;case 2:case 9:if(rO(j)){tt=0,hr=null,KT(l);break}l=function(){tt!==2&&tt!==9||mt!==i||(tt=7),Ea(i)},j.then(l,l);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:rO(j)?(tt=0,hr=null,KT(l)):(tt=0,hr=null,Vo(i,l,j,7));break;case 5:var R=null;switch(Ue.tag){case 26:R=Ue.memoizedState;case 5:case 27:var U=Ue;if(!R||ON(R)){tt=0,hr=null;var W=U.sibling;if(W!==null)Ue=W;else{var ie=U.return;ie!==null?(Ue=ie,If(ie)):Ue=null}break t}}tt=0,hr=null,Vo(i,l,j,5);break;case 6:tt=0,hr=null,Vo(i,l,j,6);break;case 8:Ov(),Dt=6;break e;default:throw Error(r(462))}}O5();break}catch(pe){UT(i,pe)}while(!0);return za=Ts=null,I.H=m,I.A=b,et=h,Ue!==null?0:(mt=null,Ge=0,af(),Dt)}function O5(){for(;Ue!==null&&!be();)GT(Ue)}function GT(i){var l=yT(i.alternate,i,Wa);i.memoizedProps=i.pendingProps,l===null?If(i):Ue=l}function KT(i){var l=i,h=l.alternate;switch(l.tag){case 15:case 0:l=dT(h,l,l.pendingProps,l.type,void 0,Ge);break;case 11:l=dT(h,l,l.pendingProps,l.type.render,l.ref,Ge);break;case 5:Fm(l);default:xT(h,l),l=Ue=YA(l,Wa),l=yT(h,l,Wa)}i.memoizedProps=i.pendingProps,l===null?If(i):Ue=l}function Vo(i,l,h,m){za=Ts=null,Fm(l),Bo=null,du=0;var b=l.return;try{if(v5(i,b,l,h,Ge)){Dt=1,Nf(i,Mr(h,i.current)),Ue=null;return}}catch(j){if(b!==null)throw Ue=b,j;Dt=1,Nf(i,Mr(h,i.current)),Ue=null;return}l.flags&32768?(Xe||m===1?i=!0:Ho||(Ge&536870912)!==0?i=!1:(Li=i=!0,(m===2||m===9||m===3||m===6)&&(m=Lr.current,m!==null&&m.tag===13&&(m.flags|=16384))),YT(l,i)):If(l)}function If(i){var l=i;do{if((l.flags&32768)!==0){YT(l,Li);return}i=l.return;var h=y5(l.alternate,l,Wa);if(h!==null){Ue=h;return}if(l=l.sibling,l!==null){Ue=l;return}Ue=l=i}while(l!==null);Dt===0&&(Dt=5)}function YT(i,l){do{var h=b5(i.alternate,i);if(h!==null){h.flags&=32767,Ue=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=h}while(i!==null);Dt=6,Ue=null}function VT(i,l,h,m,b,j,R,U,W){i.cancelPendingCommit=null;do Bf();while(Sn!==0);if((et&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(j=l.lanes|l.childLanes,j|=bm,ea(i,h,j,R,U,W),i===mt&&(Ue=mt=null,Ge=0),Go=l,Bi=i,Ko=h,jv=j,Ev=b,IT=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,C5(ln,function(){return JT(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=I.T,I.T=null,b=F.p,F.p=2,R=et,et|=4;try{x5(i,l,h)}finally{et=R,F.p=b,I.T=m}}Sn=1,WT(),XT(),ZT()}}function WT(){if(Sn===1){Sn=0;var i=Bi,l=Go,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=I.T,I.T=null;var m=F.p;F.p=2;var b=et;et|=4;try{CT(l,i);var j=zv,R=qA(i.containerInfo),U=j.focusedElem,W=j.selectionRange;if(R!==U&&U&&U.ownerDocument&&LA(U.ownerDocument.documentElement,U)){if(W!==null&&pm(U)){var ie=W.start,pe=W.end;if(pe===void 0&&(pe=ie),"selectionStart"in U)U.selectionStart=ie,U.selectionEnd=Math.min(pe,U.value.length);else{var ve=U.ownerDocument||document,le=ve&&ve.defaultView||window;if(le.getSelection){var ue=le.getSelection(),qe=U.textContent.length,De=Math.min(W.start,qe),lt=W.end===void 0?De:Math.min(W.end,qe);!ue.extend&&De>lt&&(R=lt,lt=De,De=R);var re=PA(U,De),J=PA(U,lt);if(re&&J&&(ue.rangeCount!==1||ue.anchorNode!==re.node||ue.anchorOffset!==re.offset||ue.focusNode!==J.node||ue.focusOffset!==J.offset)){var ae=ve.createRange();ae.setStart(re.node,re.offset),ue.removeAllRanges(),De>lt?(ue.addRange(ae),ue.extend(J.node,J.offset)):(ae.setEnd(J.node,J.offset),ue.addRange(ae))}}}}for(ve=[],ue=U;ue=ue.parentNode;)ue.nodeType===1&&ve.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<ve.length;U++){var me=ve[U];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Zf=!!$v,zv=$v=null}finally{et=b,F.p=m,I.T=h}}i.current=l,Sn=2}}function XT(){if(Sn===2){Sn=0;var i=Bi,l=Go,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=I.T,I.T=null;var m=F.p;F.p=2;var b=et;et|=4;try{OT(i,l.alternate,l)}finally{et=b,F.p=m,I.T=h}}Sn=3}}function ZT(){if(Sn===4||Sn===3){Sn=0,Pe();var i=Bi,l=Go,h=Ko,m=IT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Sn=5:(Sn=0,Go=Bi=null,QT(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Ii=null),ms(h),l=l.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Ct,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=I.T,b=F.p,F.p=2,I.T=null;try{for(var j=i.onRecoverableError,R=0;R<m.length;R++){var U=m[R];j(U.value,{componentStack:U.stack})}}finally{I.T=l,F.p=b}}(Ko&3)!==0&&Bf(),Ea(i),b=i.pendingLanes,(h&4194090)!==0&&(b&42)!==0?i===Av?_u++:(_u=0,Av=i):_u=0,wu(0)}}function QT(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,tu(l)))}function Bf(i){return WT(),XT(),ZT(),JT()}function JT(){if(Sn!==5)return!1;var i=Bi,l=jv;jv=0;var h=ms(Ko),m=I.T,b=F.p;try{F.p=32>h?32:h,I.T=null,h=Ev,Ev=null;var j=Bi,R=Ko;if(Sn=0,Go=Bi=null,Ko=0,(et&6)!==0)throw Error(r(331));var U=et;if(et|=4,LT(j.current),RT(j,j.current,R,h),et=U,wu(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Ct,j)}catch{}return!0}finally{F.p=b,I.T=m,QT(i,l)}}function eN(i,l,h){l=Mr(h,l),l=av(i.stateNode,l,2),i=Ni(i,l,2),i!==null&&(Gn(i,2),Ea(i))}function ft(i,l,h){if(i.tag===3)eN(i,i,h);else for(;l!==null;){if(l.tag===3){eN(l,i,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ii===null||!Ii.has(m))){i=Mr(h,i),h=aT(2),m=Ni(l,h,2),m!==null&&(iT(h,m,l,i),Gn(m,2),Ea(m));break}}l=l.return}}function kv(i,l,h){var m=i.pingCache;if(m===null){m=i.pingCache=new S5;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(h)||(xv=!0,b.add(h),i=T5.bind(null,i,l,h),l.then(i,i))}function T5(i,l,h){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,mt===i&&(Ge&h)===h&&(Dt===4||Dt===3&&(Ge&62914560)===Ge&&300>xe()-Sv?(et&2)===0&&Yo(i,0):_v|=h,Fo===Ge&&(Fo=0)),Ea(i)}function tN(i,l){l===0&&(l=ir()),i=No(i,l),i!==null&&(Gn(i,l),Ea(i))}function N5(i){var l=i.memoizedState,h=0;l!==null&&(h=l.retryLane),tN(i,h)}function k5(i,l){var h=0;switch(i.tag){case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(h=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),tN(i,h)}function C5(i,l){return Ae(i,l)}var $f=null,Wo=null,Cv=!1,zf=!1,Mv=!1,Ps=0;function Ea(i){i!==Wo&&i.next===null&&(Wo===null?$f=Wo=i:Wo=Wo.next=i),zf=!0,Cv||(Cv=!0,R5())}function wu(i,l){if(!Mv&&zf){Mv=!0;do for(var h=!1,m=$f;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var j=0;else{var R=m.suspendedLanes,U=m.pingedLanes;j=(1<<31-ht(42|i)+1)-1,j&=b&~(R&~U),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(h=!0,iN(m,j))}else j=Ge,j=en(m,m===mt?j:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(j&3)===0||_n(m,j)||(h=!0,iN(m,j));m=m.next}while(h);Mv=!1}}function M5(){nN()}function nN(){zf=Cv=!1;var i=0;Ps!==0&&(z5()&&(i=Ps),Ps=0);for(var l=xe(),h=null,m=$f;m!==null;){var b=m.next,j=rN(m,l);j===0?(m.next=null,h===null?$f=b:h.next=b,b===null&&(Wo=h)):(h=m,(i!==0||(j&3)!==0)&&(zf=!0)),m=b}wu(i)}function rN(i,l){for(var h=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,j=i.pendingLanes&-62914561;0<j;){var R=31-ht(j),U=1<<R,W=b[R];W===-1?((U&h)===0||(U&m)!==0)&&(b[R]=ps(U,l)):W<=l&&(i.expiredLanes|=U),j&=~U}if(l=mt,h=Ge,h=en(i,i===l?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,h===0||i===l&&(tt===2||tt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&we(m),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||_n(i,h)){if(l=h&-h,l===i.callbackPriority)return l;switch(m!==null&&we(m),ms(h)){case 2:case 8:h=Dn;break;case 32:h=ln;break;case 268435456:h=it;break;default:h=ln}return m=aN.bind(null,i),h=Ae(h,m),i.callbackPriority=l,i.callbackNode=h,l}return m!==null&&m!==null&&we(m),i.callbackPriority=2,i.callbackNode=null,2}function aN(i,l){if(Sn!==0&&Sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var h=i.callbackNode;if(Bf()&&i.callbackNode!==h)return null;var m=Ge;return m=en(i,i===mt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:($T(i,m,l),rN(i,xe()),i.callbackNode!=null&&i.callbackNode===h?aN.bind(null,i):null)}function iN(i,l){if(Bf())return null;$T(i,l,!0)}function R5(){H5(function(){(et&6)!==0?Ae(at,M5):nN()})}function Rv(){return Ps===0&&(Ps=Jr()),Ps}function sN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zc(""+i)}function oN(i,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,i.id&&h.setAttribute("form",i.id),l.parentNode.insertBefore(h,l),i=new FormData(i),h.parentNode.removeChild(h),i}function D5(i,l,h,m,b){if(l==="submit"&&h&&h.stateNode===b){var j=sN((b[un]||null).action),R=m.submitter;R&&(l=(l=R[un]||null)?sN(l.formAction):R.getAttribute("formAction"),l!==null&&(j=l,R=null));var U=new tf("action","action",null,m,b);i.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ps!==0){var W=R?oN(b,R):new FormData(b);Jm(h,{pending:!0,data:W,method:b.method,action:j},null,W)}}else typeof j=="function"&&(U.preventDefault(),W=R?oN(b,R):new FormData(b),Jm(h,{pending:!0,data:W,method:b.method,action:j},j,W))},currentTarget:b}]})}}for(var Dv=0;Dv<ym.length;Dv++){var Pv=ym[Dv],P5=Pv.toLowerCase(),L5=Pv[0].toUpperCase()+Pv.slice(1);aa(P5,"on"+L5)}aa($A,"onAnimationEnd"),aa(zA,"onAnimationIteration"),aa(UA,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(J8,"onTransitionRun"),aa(e5,"onTransitionStart"),aa(t5,"onTransitionCancel"),aa(HA,"onTransitionEnd"),je("onMouseEnter",["mouseout","mouseover"]),je("onMouseLeave",["mouseout","mouseover"]),je("onPointerEnter",["pointerout","pointerover"]),je("onPointerLeave",["pointerout","pointerover"]),ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function lN(i,l){l=(l&4)!==0;for(var h=0;h<i.length;h++){var m=i[h],b=m.event;m=m.listeners;e:{var j=void 0;if(l)for(var R=m.length-1;0<=R;R--){var U=m[R],W=U.instance,ie=U.currentTarget;if(U=U.listener,W!==j&&b.isPropagationStopped())break e;j=U,b.currentTarget=ie;try{j(b)}catch(pe){Tf(pe)}b.currentTarget=null,j=W}else for(R=0;R<m.length;R++){if(U=m[R],W=U.instance,ie=U.currentTarget,U=U.listener,W!==j&&b.isPropagationStopped())break e;j=U,b.currentTarget=ie;try{j(b)}catch(pe){Tf(pe)}b.currentTarget=null,j=W}}}}function He(i,l){var h=l[or];h===void 0&&(h=l[or]=new Set);var m=i+"__bubble";h.has(m)||(uN(l,i,2,!1),h.add(m))}function Lv(i,l,h){var m=0;l&&(m|=4),uN(h,i,m,l)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function qv(i){if(!i[Uf]){i[Uf]=!0,Te.forEach(function(h){h!=="selectionchange"&&(q5.has(h)||Lv(h,!1,i),Lv(h,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Uf]||(l[Uf]=!0,Lv("selectionchange",!1,l))}}function uN(i,l,h,m){switch(RN(l)){case 2:var b=cF;break;case 8:b=fF;break;default:b=Zv}h=b.bind(null,l,h,i),b=void 0,!im||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(l,h,{capture:!0,passive:b}):i.addEventListener(l,h,!0):b!==void 0?i.addEventListener(l,h,{passive:b}):i.addEventListener(l,h,!1)}function Iv(i,l,h,m,b){var j=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var U=m.stateNode.containerInfo;if(U===b)break;if(R===4)for(R=m.return;R!==null;){var W=R.tag;if((W===3||W===4)&&R.stateNode.containerInfo===b)return;R=R.return}for(;U!==null;){if(R=Nr(U),R===null)return;if(W=R.tag,W===5||W===6||W===26||W===27){m=j=R;continue e}U=U.parentNode}}m=m.return}vA(function(){var ie=j,pe=rm(h),ve=[];e:{var le=FA.get(i);if(le!==void 0){var ue=tf,qe=i;switch(i){case"keypress":if(Jc(h)===0)break e;case"keydown":case"keyup":ue=C8;break;case"focusin":qe="focus",ue=um;break;case"focusout":qe="blur",ue=um;break;case"beforeblur":case"afterblur":ue=um;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=bA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=b8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=D8;break;case $A:case zA:case UA:ue=w8;break;case HA:ue=L8;break;case"scroll":case"scrollend":ue=g8;break;case"wheel":ue=I8;break;case"copy":case"cut":case"paste":ue=j8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=_A;break;case"toggle":case"beforetoggle":ue=$8}var De=(l&4)!==0,lt=!De&&(i==="scroll"||i==="scrollend"),re=De?le!==null?le+"Capture":null:le;De=[];for(var J=ie,ae;J!==null;){var me=J;if(ae=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ae===null||re===null||(me=Ul(J,re),me!=null&&De.push(ju(J,me,ae))),lt)break;J=J.return}0<De.length&&(le=new ue(le,qe,null,h,pe),ve.push({event:le,listeners:De}))}}if((l&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",le&&h!==nm&&(qe=h.relatedTarget||h.fromElement)&&(Nr(qe)||qe[tn]))break e;if((ue||le)&&(le=pe.window===pe?pe:(le=pe.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(qe=h.relatedTarget||h.toElement,ue=ie,qe=qe?Nr(qe):null,qe!==null&&(lt=s(qe),De=qe.tag,qe!==lt||De!==5&&De!==27&&De!==6)&&(qe=null)):(ue=null,qe=ie),ue!==qe)){if(De=bA,me="onMouseLeave",re="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(De=_A,me="onPointerLeave",re="onPointerEnter",J="pointer"),lt=ue==null?le:xa(ue),ae=qe==null?le:xa(qe),le=new De(me,J+"leave",ue,h,pe),le.target=lt,le.relatedTarget=ae,me=null,Nr(pe)===ie&&(De=new De(re,J+"enter",qe,h,pe),De.target=ae,De.relatedTarget=lt,me=De),lt=me,ue&&qe)t:{for(De=ue,re=qe,J=0,ae=De;ae;ae=Xo(ae))J++;for(ae=0,me=re;me;me=Xo(me))ae++;for(;0<J-ae;)De=Xo(De),J--;for(;0<ae-J;)re=Xo(re),ae--;for(;J--;){if(De===re||re!==null&&De===re.alternate)break t;De=Xo(De),re=Xo(re)}De=null}else De=null;ue!==null&&cN(ve,le,ue,De,!1),qe!==null&&lt!==null&&cN(ve,lt,qe,De,!0)}}e:{if(le=ie?xa(ie):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var Oe=NA;else if(OA(le))if(kA)Oe=X8;else{Oe=V8;var $e=Y8}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ie&&tm(ie.elementType)&&(Oe=NA):Oe=W8;if(Oe&&(Oe=Oe(i,ie))){TA(ve,Oe,h,pe);break e}$e&&$e(i,le,ie),i==="focusout"&&ie&&le.type==="number"&&ie.memoizedProps.value!=null&&em(le,"number",le.value)}switch($e=ie?xa(ie):window,i){case"focusin":(OA($e)||$e.contentEditable==="true")&&(Ao=$e,mm=ie,Xl=null);break;case"focusout":Xl=mm=Ao=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,IA(ve,h,pe);break;case"selectionchange":if(Q8)break;case"keydown":case"keyup":IA(ve,h,pe)}var Ce;if(fm)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Eo?EA(i,h)&&(Le="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Le="onCompositionStart");Le&&(wA&&h.locale!=="ko"&&(Eo||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Eo&&(Ce=gA()):(Ei=pe,sm="value"in Ei?Ei.value:Ei.textContent,Eo=!0)),$e=Hf(ie,Le),0<$e.length&&(Le=new xA(Le,i,null,h,pe),ve.push({event:Le,listeners:$e}),Ce?Le.data=Ce:(Ce=AA(h),Ce!==null&&(Le.data=Ce)))),(Ce=U8?H8(i,h):F8(i,h))&&(Le=Hf(ie,"onBeforeInput"),0<Le.length&&($e=new xA("onBeforeInput","beforeinput",null,h,pe),ve.push({event:$e,listeners:Le}),$e.data=Ce)),D5(ve,i,ie,h,pe)}lN(ve,l)})}function ju(i,l,h){return{instance:i,listener:l,currentTarget:h}}function Hf(i,l){for(var h=l+"Capture",m=[];i!==null;){var b=i,j=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||j===null||(b=Ul(i,h),b!=null&&m.unshift(ju(i,b,j)),b=Ul(i,l),b!=null&&m.push(ju(i,b,j))),i.tag===3)return m;i=i.return}return[]}function Xo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function cN(i,l,h,m,b){for(var j=l._reactName,R=[];h!==null&&h!==m;){var U=h,W=U.alternate,ie=U.stateNode;if(U=U.tag,W!==null&&W===m)break;U!==5&&U!==26&&U!==27||ie===null||(W=ie,b?(ie=Ul(h,j),ie!=null&&R.unshift(ju(h,ie,W))):b||(ie=Ul(h,j),ie!=null&&R.push(ju(h,ie,W)))),h=h.return}R.length!==0&&i.push({event:l,listeners:R})}var I5=/\r\n?/g,B5=/\u0000|\uFFFD/g;function fN(i){return(typeof i=="string"?i:""+i).replace(I5,`
`).replace(B5,"")}function dN(i,l){return l=fN(l),fN(i)===l}function Ff(){}function ot(i,l,h,m,b,j){switch(h){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||wo(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&wo(i,""+m);break;case"className":lr(i,"class",m);break;case"tabIndex":lr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(i,h,m);break;case"style":pA(i,m,j);break;case"data":if(l!=="object"){lr(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||h!=="href")){i.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(h);break}m=Zc(""+m),i.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(h==="formAction"?(l!=="input"&&ot(i,l,"name",b.name,b,null),ot(i,l,"formEncType",b.formEncType,b,null),ot(i,l,"formMethod",b.formMethod,b,null),ot(i,l,"formTarget",b.formTarget,b,null)):(ot(i,l,"encType",b.encType,b,null),ot(i,l,"method",b.method,b,null),ot(i,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(h);break}m=Zc(""+m),i.setAttribute(h,m);break;case"onClick":m!=null&&(i.onclick=Ff);break;case"onScroll":m!=null&&He("scroll",i);break;case"onScrollEnd":m!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}h=Zc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(h,""+m):i.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(h,""):i.removeAttribute(h);break;case"capture":case"download":m===!0?i.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(h,m):i.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(h,m):i.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(h):i.setAttribute(h,m);break;case"popover":He("beforetoggle",i),He("toggle",i),Tn(i,"popover",m);break;case"xlinkActuate":Ln(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ln(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ln(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ln(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ln(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ln(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Tn(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=m8.get(h)||h,Tn(i,h,m))}}function Bv(i,l,h,m,b,j){switch(h){case"style":pA(i,m,j);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"children":typeof m=="string"?wo(i,m):(typeof m=="number"||typeof m=="bigint")&&wo(i,""+m);break;case"onScroll":m!=null&&He("scroll",i);break;case"onScrollEnd":m!=null&&He("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ff);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ee.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),l=h.slice(2,b?h.length-7:void 0),j=i[un]||null,j=j!=null?j[h]:null,typeof j=="function"&&i.removeEventListener(l,j,b),typeof m=="function")){typeof j!="function"&&j!==null&&(h in i?i[h]=null:i.hasAttribute(h)&&i.removeAttribute(h)),i.addEventListener(l,m,b);break e}h in i?i[h]=m:m===!0?i.setAttribute(h,""):Tn(i,h,m)}}}function jn(i,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var m=!1,b=!1,j;for(j in h)if(h.hasOwnProperty(j)){var R=h[j];if(R!=null)switch(j){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:ot(i,l,j,R,h,null)}}b&&ot(i,l,"srcSet",h.srcSet,h,null),m&&ot(i,l,"src",h.src,h,null);return;case"input":He("invalid",i);var U=j=R=b=null,W=null,ie=null;for(m in h)if(h.hasOwnProperty(m)){var pe=h[m];if(pe!=null)switch(m){case"name":b=pe;break;case"type":R=pe;break;case"checked":W=pe;break;case"defaultChecked":ie=pe;break;case"value":j=pe;break;case"defaultValue":U=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,l));break;default:ot(i,l,m,pe,h,null)}}cA(i,j,U,W,ie,R,b,!1),Wc(i);return;case"select":He("invalid",i),m=R=j=null;for(b in h)if(h.hasOwnProperty(b)&&(U=h[b],U!=null))switch(b){case"value":j=U;break;case"defaultValue":R=U;break;case"multiple":m=U;default:ot(i,l,b,U,h,null)}l=j,h=R,i.multiple=!!m,l!=null?_o(i,!!m,l,!1):h!=null&&_o(i,!!m,h,!0);return;case"textarea":He("invalid",i),j=b=m=null;for(R in h)if(h.hasOwnProperty(R)&&(U=h[R],U!=null))switch(R){case"value":m=U;break;case"defaultValue":b=U;break;case"children":j=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:ot(i,l,R,U,h,null)}dA(i,m,b,j),Wc(i);return;case"option":for(W in h)if(h.hasOwnProperty(W)&&(m=h[W],m!=null))switch(W){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ot(i,l,W,m,h,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(m=0;m<Su.length;m++)He(Su[m],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in h)if(h.hasOwnProperty(ie)&&(m=h[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:ot(i,l,ie,m,h,null)}return;default:if(tm(l)){for(pe in h)h.hasOwnProperty(pe)&&(m=h[pe],m!==void 0&&Bv(i,l,pe,m,h,void 0));return}}for(U in h)h.hasOwnProperty(U)&&(m=h[U],m!=null&&ot(i,l,U,m,h,null))}function $5(i,l,h,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,j=null,R=null,U=null,W=null,ie=null,pe=null;for(ue in h){var ve=h[ue];if(h.hasOwnProperty(ue)&&ve!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":W=ve;default:m.hasOwnProperty(ue)||ot(i,l,ue,null,m,ve)}}for(var le in m){var ue=m[le];if(ve=h[le],m.hasOwnProperty(le)&&(ue!=null||ve!=null))switch(le){case"type":j=ue;break;case"name":b=ue;break;case"checked":ie=ue;break;case"defaultChecked":pe=ue;break;case"value":R=ue;break;case"defaultValue":U=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:ue!==ve&&ot(i,l,le,ue,m,ve)}}Jp(i,R,U,W,ie,pe,j,b);return;case"select":ue=R=U=le=null;for(j in h)if(W=h[j],h.hasOwnProperty(j)&&W!=null)switch(j){case"value":break;case"multiple":ue=W;default:m.hasOwnProperty(j)||ot(i,l,j,null,m,W)}for(b in m)if(j=m[b],W=h[b],m.hasOwnProperty(b)&&(j!=null||W!=null))switch(b){case"value":le=j;break;case"defaultValue":U=j;break;case"multiple":R=j;default:j!==W&&ot(i,l,b,j,m,W)}l=U,h=R,m=ue,le!=null?_o(i,!!h,le,!1):!!m!=!!h&&(l!=null?_o(i,!!h,l,!0):_o(i,!!h,h?[]:"",!1));return;case"textarea":ue=le=null;for(U in h)if(b=h[U],h.hasOwnProperty(U)&&b!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:ot(i,l,U,null,m,b)}for(R in m)if(b=m[R],j=h[R],m.hasOwnProperty(R)&&(b!=null||j!=null))switch(R){case"value":le=b;break;case"defaultValue":ue=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==j&&ot(i,l,R,b,m,j)}fA(i,le,ue);return;case"option":for(var qe in h)if(le=h[qe],h.hasOwnProperty(qe)&&le!=null&&!m.hasOwnProperty(qe))switch(qe){case"selected":i.selected=!1;break;default:ot(i,l,qe,null,m,le)}for(W in m)if(le=m[W],ue=h[W],m.hasOwnProperty(W)&&le!==ue&&(le!=null||ue!=null))switch(W){case"selected":i.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:ot(i,l,W,le,m,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in h)le=h[De],h.hasOwnProperty(De)&&le!=null&&!m.hasOwnProperty(De)&&ot(i,l,De,null,m,le);for(ie in m)if(le=m[ie],ue=h[ie],m.hasOwnProperty(ie)&&le!==ue&&(le!=null||ue!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:ot(i,l,ie,le,m,ue)}return;default:if(tm(l)){for(var lt in h)le=h[lt],h.hasOwnProperty(lt)&&le!==void 0&&!m.hasOwnProperty(lt)&&Bv(i,l,lt,void 0,m,le);for(pe in m)le=m[pe],ue=h[pe],!m.hasOwnProperty(pe)||le===ue||le===void 0&&ue===void 0||Bv(i,l,pe,le,m,ue);return}}for(var re in h)le=h[re],h.hasOwnProperty(re)&&le!=null&&!m.hasOwnProperty(re)&&ot(i,l,re,null,m,le);for(ve in m)le=m[ve],ue=h[ve],!m.hasOwnProperty(ve)||le===ue||le==null&&ue==null||ot(i,l,ve,le,m,ue)}var $v=null,zv=null;function Gf(i){return i.nodeType===9?i:i.ownerDocument}function hN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pN(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Uv(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Hv=null;function z5(){var i=window.event;return i&&i.type==="popstate"?i===Hv?!1:(Hv=i,!0):(Hv=null,!1)}var mN=typeof setTimeout=="function"?setTimeout:void 0,U5=typeof clearTimeout=="function"?clearTimeout:void 0,vN=typeof Promise=="function"?Promise:void 0,H5=typeof queueMicrotask=="function"?queueMicrotask:typeof vN<"u"?function(i){return vN.resolve(null).then(i).catch(F5)}:mN;function F5(i){setTimeout(function(){throw i})}function zi(i){return i==="head"}function gN(i,l){var h=l,m=0,b=0;do{var j=h.nextSibling;if(i.removeChild(h),j&&j.nodeType===8)if(h=j.data,h==="/$"){if(0<m&&8>m){h=m;var R=i.ownerDocument;if(h&1&&Eu(R.documentElement),h&2&&Eu(R.body),h&4)for(h=R.head,Eu(h),R=h.firstChild;R;){var U=R.nextSibling,W=R.nodeName;R[ba]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=U}}if(b===0){i.removeChild(j),Ru(l);return}b--}else h==="$"||h==="$?"||h==="$!"?b++:m=h.charCodeAt(0)-48;else m=0;h=j}while(h);Ru(l)}function Fv(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Fv(h),Pn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}i.removeChild(h)}}function G5(i,l,h,m){for(;i.nodeType===1;){var b=h;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ba])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(j=i.getAttribute("rel"),j==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(j!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(j=i.getAttribute("src"),(j!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&j&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var j=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===j)return i}else return i;if(i=sa(i.nextSibling),i===null)break}return null}function K5(i,l,h){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=sa(i.nextSibling),i===null))return null;return i}function Gv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Y5(i,l){var h=i.ownerDocument;if(i.data!=="$?"||h.readyState==="complete")l();else{var m=function(){l(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function sa(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var Kv=null;function yN(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return i;l--}else h==="/$"&&l++}i=i.previousSibling}return null}function bN(i,l,h){switch(l=Gf(h),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Eu(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Pn(i)}var Ir=new Map,xN=new Set;function Kf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Xa=F.d;F.d={f:V5,r:W5,D:X5,C:Z5,L:Q5,m:J5,X:tF,S:eF,M:nF};function V5(){var i=Xa.f(),l=qf();return i||l}function W5(i){var l=ta(i);l!==null&&l.tag===5&&l.type==="form"?$O(l):Xa.r(i)}var Zo=typeof document>"u"?null:document;function _N(i,l,h){var m=Zo;if(m&&typeof l=="string"&&l){var b=Cr(l);b='link[rel="'+i+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),xN.has(b)||(xN.add(b),i={rel:i,crossOrigin:h,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),jn(l,"link",i),Mt(l),m.head.appendChild(l)))}}function X5(i){Xa.D(i),_N("dns-prefetch",i,null)}function Z5(i,l){Xa.C(i,l),_N("preconnect",i,l)}function Q5(i,l,h){Xa.L(i,l,h);var m=Zo;if(m&&i&&l){var b='link[rel="preload"][as="'+Cr(l)+'"]';l==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+Cr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+Cr(h.imageSizes)+'"]')):b+='[href="'+Cr(i)+'"]';var j=b;switch(l){case"style":j=Qo(i);break;case"script":j=Jo(i)}Ir.has(j)||(i=f({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:i,as:l},h),Ir.set(j,i),m.querySelector(b)!==null||l==="style"&&m.querySelector(Au(j))||l==="script"&&m.querySelector(Ou(j))||(l=m.createElement("link"),jn(l,"link",i),Mt(l),m.head.appendChild(l)))}}function J5(i,l){Xa.m(i,l);var h=Zo;if(h&&i){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Cr(m)+'"][href="'+Cr(i)+'"]',j=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Jo(i)}if(!Ir.has(j)&&(i=f({rel:"modulepreload",href:i},l),Ir.set(j,i),h.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ou(j)))return}m=h.createElement("link"),jn(m,"link",i),Mt(m),h.head.appendChild(m)}}}function eF(i,l,h){Xa.S(i,l,h);var m=Zo;if(m&&i){var b=na(m).hoistableStyles,j=Qo(i);l=l||"default";var R=b.get(j);if(!R){var U={loading:0,preload:null};if(R=m.querySelector(Au(j)))U.loading=5;else{i=f({rel:"stylesheet",href:i,"data-precedence":l},h),(h=Ir.get(j))&&Yv(i,h);var W=R=m.createElement("link");Mt(W),jn(W,"link",i),W._p=new Promise(function(ie,pe){W.onload=ie,W.onerror=pe}),W.addEventListener("load",function(){U.loading|=1}),W.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Yf(R,l,m)}R={type:"stylesheet",instance:R,count:1,state:U},b.set(j,R)}}}function tF(i,l){Xa.X(i,l);var h=Zo;if(h&&i){var m=na(h).hoistableScripts,b=Jo(i),j=m.get(b);j||(j=h.querySelector(Ou(b)),j||(i=f({src:i,async:!0},l),(l=Ir.get(b))&&Vv(i,l),j=h.createElement("script"),Mt(j),jn(j,"link",i),h.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},m.set(b,j))}}function nF(i,l){Xa.M(i,l);var h=Zo;if(h&&i){var m=na(h).hoistableScripts,b=Jo(i),j=m.get(b);j||(j=h.querySelector(Ou(b)),j||(i=f({src:i,async:!0,type:"module"},l),(l=Ir.get(b))&&Vv(i,l),j=h.createElement("script"),Mt(j),jn(j,"link",i),h.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},m.set(b,j))}}function wN(i,l,h,m){var b=(b=G.current)?Kf(b):null;if(!b)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Qo(h.href),h=na(b).hoistableStyles,m=h.get(l),m||(m={type:"style",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){i=Qo(h.href);var j=na(b).hoistableStyles,R=j.get(i);if(R||(b=b.ownerDocument||b,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(i,R),(j=b.querySelector(Au(i)))&&!j._p&&(R.instance=j,R.state.loading=5),Ir.has(i)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ir.set(i,h),j||rF(b,i,h,R.state))),l&&m===null)throw Error(r(528,""));return R}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Jo(h),h=na(b).hoistableScripts,m=h.get(l),m||(m={type:"script",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Qo(i){return'href="'+Cr(i)+'"'}function Au(i){return'link[rel="stylesheet"]['+i+"]"}function SN(i){return f({},i,{"data-precedence":i.precedence,precedence:null})}function rF(i,l,h,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),jn(l,"link",h),Mt(l),i.head.appendChild(l))}function Jo(i){return'[src="'+Cr(i)+'"]'}function Ou(i){return"script[async]"+i}function jN(i,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Cr(h.href)+'"]');if(m)return l.instance=m,Mt(m),m;var b=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Mt(m),jn(m,"style",b),Yf(m,h.precedence,i),l.instance=m;case"stylesheet":b=Qo(h.href);var j=i.querySelector(Au(b));if(j)return l.state.loading|=4,l.instance=j,Mt(j),j;m=SN(h),(b=Ir.get(b))&&Yv(m,b),j=(i.ownerDocument||i).createElement("link"),Mt(j);var R=j;return R._p=new Promise(function(U,W){R.onload=U,R.onerror=W}),jn(j,"link",m),l.state.loading|=4,Yf(j,h.precedence,i),l.instance=j;case"script":return j=Jo(h.src),(b=i.querySelector(Ou(j)))?(l.instance=b,Mt(b),b):(m=h,(b=Ir.get(j))&&(m=f({},h),Vv(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),Mt(b),jn(b,"link",m),i.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Yf(m,h.precedence,i));return l.instance}function Yf(i,l,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,j=b,R=0;R<m.length;R++){var U=m[R];if(U.dataset.precedence===l)j=U;else if(j!==b)break}j?j.parentNode.insertBefore(i,j.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(i,l.firstChild))}function Yv(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Vv(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Vf=null;function EN(i,l,h){if(Vf===null){var m=new Map,b=Vf=new Map;b.set(h,m)}else b=Vf,m=b.get(h),m||(m=new Map,b.set(h,m));if(m.has(i))return m;for(m.set(i,null),h=h.getElementsByTagName(i),b=0;b<h.length;b++){var j=h[b];if(!(j[ba]||j[qt]||i==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var R=j.getAttribute(l)||"";R=i+R;var U=m.get(R);U?U.push(j):m.set(R,[j])}}return m}function AN(i,l,h){i=i.ownerDocument||i,i.head.insertBefore(h,l==="title"?i.querySelector("head > title"):null)}function aF(i,l,h){if(h===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function ON(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Tu=null;function iF(){}function sF(i,l,h){if(Tu===null)throw Error(r(475));var m=Tu;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=Qo(h.href),j=i.querySelector(Au(b));if(j){i=j._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=Wf.bind(m),i.then(m,m)),l.state.loading|=4,l.instance=j,Mt(j);return}j=i.ownerDocument||i,h=SN(h),(b=Ir.get(b))&&Yv(h,b),j=j.createElement("link"),Mt(j);var R=j;R._p=new Promise(function(U,W){R.onload=U,R.onerror=W}),jn(j,"link",h),l.instance=j}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Wf.bind(m),i.addEventListener("load",l),i.addEventListener("error",l))}}function oF(){if(Tu===null)throw Error(r(475));var i=Tu;return i.stylesheets&&i.count===0&&Wv(i,i.stylesheets),0<i.count?function(l){var h=setTimeout(function(){if(i.stylesheets&&Wv(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h)}}:null}function Wf(){if(this.count--,this.count===0){if(this.stylesheets)Wv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xf=null;function Wv(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xf=new Map,l.forEach(lF,i),Xf=null,Wf.call(i))}function lF(i,l){if(!(l.state.loading&4)){var h=Xf.get(i);if(h)var m=h.get(null);else{h=new Map,Xf.set(i,h);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<b.length;j++){var R=b[j];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(h.set(R.dataset.precedence,R),m=R)}m&&h.set(null,m)}b=l.instance,R=b.getAttribute("data-precedence"),j=h.get(R)||m,j===m&&h.set(null,b),h.set(R,b),this.count++,m=Wf.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),j?j.parentNode.insertBefore(b,j.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),l.state.loading|=4}}var Nu={$$typeof:O,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function uF(i,l,h,m,b,j,R,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=j,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function TN(i,l,h,m,b,j,R,U,W,ie,pe,ve){return i=new uF(i,l,h,R,U,W,ie,ve),l=1,j===!0&&(l|=24),j=cr(3,null,null,l),i.current=j,j.stateNode=i,l=km(),l.refCount++,i.pooledCache=l,l.refCount++,j.memoizedState={element:m,isDehydrated:h,cache:l},Dm(j),i}function NN(i){return i?(i=ko,i):ko}function kN(i,l,h,m,b,j){b=NN(b),m.context===null?m.context=b:m.pendingContext=b,m=Ti(l),m.payload={element:h},j=j===void 0?null:j,j!==null&&(m.callback=j),h=Ni(i,m,l),h!==null&&(mr(h,i,l),iu(h,i,l))}function CN(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<l?h:l}}function Xv(i,l){CN(i,l),(i=i.alternate)&&CN(i,l)}function MN(i){if(i.tag===13){var l=No(i,67108864);l!==null&&mr(l,i,67108864),Xv(i,67108864)}}var Zf=!0;function cF(i,l,h,m){var b=I.T;I.T=null;var j=F.p;try{F.p=2,Zv(i,l,h,m)}finally{F.p=j,I.T=b}}function fF(i,l,h,m){var b=I.T;I.T=null;var j=F.p;try{F.p=8,Zv(i,l,h,m)}finally{F.p=j,I.T=b}}function Zv(i,l,h,m){if(Zf){var b=Qv(m);if(b===null)Iv(i,l,m,Qf,h),DN(i,m);else if(hF(b,i,l,h,m))m.stopPropagation();else if(DN(i,m),l&4&&-1<dF.indexOf(i)){for(;b!==null;){var j=ta(b);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var R=Lt(j.pendingLanes);if(R!==0){var U=j;for(U.pendingLanes|=2,U.entangledLanes|=2;R;){var W=1<<31-ht(R);U.entanglements[1]|=W,R&=~W}Ea(j),(et&6)===0&&(Pf=xe()+500,wu(0))}}break;case 13:U=No(j,2),U!==null&&mr(U,j,2),qf(),Xv(j,2)}if(j=Qv(m),j===null&&Iv(i,l,m,Qf,h),j===b)break;b=j}b!==null&&m.stopPropagation()}else Iv(i,l,m,null,h)}}function Qv(i){return i=rm(i),Jv(i)}var Qf=null;function Jv(i){if(Qf=null,i=Nr(i),i!==null){var l=s(i);if(l===null)i=null;else{var h=l.tag;if(h===13){if(i=o(l),i!==null)return i;i=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Qf=i,null}function RN(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case at:return 2;case Dn:return 8;case ln:case Jt:return 32;case it:return 268435456;default:return 32}default:return 32}}var eg=!1,Ui=null,Hi=null,Fi=null,ku=new Map,Cu=new Map,Gi=[],dF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DN(i,l){switch(i){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":ku.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(l.pointerId)}}function Mu(i,l,h,m,b,j){return i===null||i.nativeEvent!==j?(i={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:j,targetContainers:[b]},l!==null&&(l=ta(l),l!==null&&MN(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function hF(i,l,h,m,b){switch(l){case"focusin":return Ui=Mu(Ui,i,l,h,m,b),!0;case"dragenter":return Hi=Mu(Hi,i,l,h,m,b),!0;case"mouseover":return Fi=Mu(Fi,i,l,h,m,b),!0;case"pointerover":var j=b.pointerId;return ku.set(j,Mu(ku.get(j)||null,i,l,h,m,b)),!0;case"gotpointercapture":return j=b.pointerId,Cu.set(j,Mu(Cu.get(j)||null,i,l,h,m,b)),!0}return!1}function PN(i){var l=Nr(i.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){i.blockedOn=l,gs(i.priority,function(){if(h.tag===13){var m=pr();m=Tr(m);var b=No(h,m);b!==null&&mr(b,h,m),Xv(h,m)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jf(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var h=Qv(i.nativeEvent);if(h===null){h=i.nativeEvent;var m=new h.constructor(h.type,h);nm=m,h.target.dispatchEvent(m),nm=null}else return l=ta(h),l!==null&&MN(l),i.blockedOn=h,!1;l.shift()}return!0}function LN(i,l,h){Jf(i)&&h.delete(l)}function pF(){eg=!1,Ui!==null&&Jf(Ui)&&(Ui=null),Hi!==null&&Jf(Hi)&&(Hi=null),Fi!==null&&Jf(Fi)&&(Fi=null),ku.forEach(LN),Cu.forEach(LN)}function ed(i,l){i.blockedOn===l&&(i.blockedOn=null,eg||(eg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pF)))}var td=null;function qN(i){td!==i&&(td=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){td===i&&(td=null);for(var l=0;l<i.length;l+=3){var h=i[l],m=i[l+1],b=i[l+2];if(typeof m!="function"){if(Jv(m||h)===null)continue;break}var j=ta(h);j!==null&&(i.splice(l,3),l-=3,Jm(j,{pending:!0,data:b,method:h.method,action:m},m,b))}}))}function Ru(i){function l(W){return ed(W,i)}Ui!==null&&ed(Ui,i),Hi!==null&&ed(Hi,i),Fi!==null&&ed(Fi,i),ku.forEach(l),Cu.forEach(l);for(var h=0;h<Gi.length;h++){var m=Gi[h];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Gi.length&&(h=Gi[0],h.blockedOn===null);)PN(h),h.blockedOn===null&&Gi.shift();if(h=(i.ownerDocument||i).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var b=h[m],j=h[m+1],R=b[un]||null;if(typeof j=="function")R||qN(h);else if(R){var U=null;if(j&&j.hasAttribute("formAction")){if(b=j,R=j[un]||null)U=R.formAction;else if(Jv(b)!==null)continue}else U=R.action;typeof U=="function"?h[m+1]=U:(h.splice(m,3),m-=3),qN(h)}}}function tg(i){this._internalRoot=i}nd.prototype.render=tg.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,m=pr();kN(h,m,i,l,null,null)},nd.prototype.unmount=tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;kN(i.current,2,null,i,null,null),qf(),l[tn]=null}};function nd(i){this._internalRoot=i}nd.prototype.unstable_scheduleHydration=function(i){if(i){var l=vs();i={blockedOn:null,target:i,priority:l};for(var h=0;h<Gi.length&&l!==0&&l<Gi[h].priority;h++);Gi.splice(h,0,i),h===0&&PN(i)}};var IN=t.version;if(IN!=="19.1.1")throw Error(r(527,IN,"19.1.1"));F.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=c(l),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var mF={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{Ct=rd.inject(mF),ct=rd}catch{}}return Pu.createRoot=function(i,l){if(!a(i))throw Error(r(299));var h=!1,m="",b=eT,j=tT,R=nT,U=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks)),l=TN(i,1,!1,null,null,h,m,b,j,R,U,null),i[tn]=l.current,qv(i),new tg(l)},Pu.hydrateRoot=function(i,l,h){if(!a(i))throw Error(r(299));var m=!1,b="",j=eT,R=tT,U=nT,W=null,ie=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(j=h.onUncaughtError),h.onCaughtError!==void 0&&(R=h.onCaughtError),h.onRecoverableError!==void 0&&(U=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(W=h.unstable_transitionCallbacks),h.formState!==void 0&&(ie=h.formState)),l=TN(i,1,!0,l,h??null,m,b,j,R,U,W,ie),l.context=NN(null),h=l.current,m=pr(),m=Tr(m),b=Ti(m),b.callback=null,Ni(h,b,m),h=m,l.current.lanes=h,Gn(l,h),Ea(l),i[tn]=l.current,qv(i),new nd(l)},Pu.version="19.1.1",Pu}var VN;function AF(){if(VN)return ag.exports;VN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ag.exports=EF(),ag.exports}var OF=AF();const TF=Ar(OF),CB=T.createContext(null);function NF({children:e}){const[t,n]=T.useState({isLoading:!0,data:null,artManifest:new Set,error:null}),r=T.useCallback(async()=>{try{n(v=>({...v,isLoading:!v?.data,error:null}));const c=`/backend/api/alldata.php?ts=${Date.now()}`,d=await fetch(c,{cache:"no-store"});if(!d.ok)throw new Error(`API error: ${d.status}`);const f=await d.json();if(!f.ok)throw new Error(f.error?.message||"API data error");let p=new Set;try{const v=await fetch("/assets/art/manifest.json",{cache:"no-store"});if(v.ok){const y=await v.json();Array.isArray(y)&&(p=new Set(y))}}catch(v){console.warn("Could not load art manifest. Placeholders may be used.",v)}n(v=>({...v,isLoading:!1,data:f.data,artManifest:p,error:null}))}catch(u){console.error("Failed to fetch game data:",u),n(c=>({...c,isLoading:!1,error:u}))}},[]);T.useEffect(()=>{r()},[r]);const a=T.useCallback((u=[],c=-1)=>{!Array.isArray(u)||u.length===0||n(d=>{if(!d?.data)return d;const f={...d,data:{...d.data,state:{...d.data.state,inv:{...d.data.state?.inv||{},solid:{...d.data.state?.inv?.solid||{}},liquid:{...d.data.state?.inv?.liquid||{}}},ani:{...d.data.state?.ani||{}}}}};for(const p of u){const v=String(p.res_id||""),y=Number(p.amount||0)*c;if(!(!v||!y))if(v.startsWith("ani.")){const _=f.data.state.ani[v]?.quantity||0;f.data.state.ani[v]={...f.data.state.ani[v]||{},quantity:_+y}}else{const _=v.replace(/^res\./,"");_ in f.data.state.inv.solid?f.data.state.inv.solid[_]=(f.data.state.inv.solid[_]||0)+y:_ in f.data.state.inv.liquid?f.data.state.inv.liquid[_]=(f.data.state.inv.liquid[_]||0)+y:f.data.state.inv.solid[_]=(f.data.state.inv.solid[_]||0)+y}}return f})},[]),s=T.useCallback((u={})=>{!u||typeof u!="object"||n(c=>{if(!c?.data)return c;const d={...c,data:{...c.data,state:{...c.data.state,inv:{...c.data.state?.inv||{},solid:{...c.data.state?.inv?.solid||{}},liquid:{...c.data.state?.inv?.liquid||{}}}}}};for(const[f,p]of Object.entries(u)){const v=Number(p||0);if(!v)continue;const y=String(f).replace(/^res\./,"");y in d.data.state.inv.solid?d.data.state.inv.solid[y]=(d.data.state.inv.solid[y]||0)+v:y in d.data.state.inv.liquid?d.data.state.inv.liquid[y]=(d.data.state.inv.liquid[y]||0)+v:d.data.state.inv.solid[y]=(d.data.state.inv.solid[y]||0)+v}return d})},[]),o={...t,refreshData:r,applyLockedCostsDelta:a,applyResourceDeltaMap:s};return g.jsx(CB.Provider,{value:o,children:e})}const Re=()=>T.useContext(CB);function WN(e){if(!e)return{page:"",param:null,query:{}};let t=e[0]==="#"?e.slice(1):e;const n=t.indexOf("?"),r=t.indexOf("#",1);let a=t,s="";n!==-1?(a=t.slice(0,n),s=t.slice(n+1)):r!==-1&&(a=t.slice(0,r),s="focus="+encodeURIComponent(t.slice(r+1)));const o=a.split("/").filter(Boolean),u=o[0]||"",c=o[1]||null,d={};if(s){const f=new URLSearchParams(s);for(const[p,v]of f.entries())d[p]=v}return{page:u,param:c,query:d}}function kF(){const[e,t]=T.useState(()=>WN(window.location.hash));return T.useEffect(()=>{const n=()=>t(WN(window.location.hash));return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),e}const _e=e=>typeof e=="number"?e.toLocaleString("da-DK"):String(e),Zs=e=>{if(e==null)return"";const t=Math.max(0,Math.round(+e)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n?`${n}h ${r}m ${a}s`:r?`${r}m ${a}s`:`${a}s`},Zn=e=>{const n=/^(?:bld\.)?(.+)\.l(\d+)$/i.exec(String(e||""));return n?{series:`bld.${n[1]}`,family:n[1],level:Number(n[2])}:null},tr=e=>{if(!e)return{};const t={};if(Array.isArray(e))e.forEach(n=>{const r=n.id??n.rid??n.resource??n.type,a=n.amount??n.qty??n.value;r&&Number(a)&&(t[String(r)]={id:String(r),amount:Number(a)})});else if(typeof e=="object")for(const[n,r]of Object.entries(e)){const a=Number(typeof r=="object"&&r!==null?r.amount??0:r??0);a&&(t[n]={id:n,amount:a})}return t},Na=(e="bld",t)=>{if(!t)return{};const n={},r=e,a=t?.[e]||{};for(const s of Object.keys(a)){const o=s.match(new RegExp(`^${r}\\.(.+)\\.l(\\d+)$`));if(o){const u=`${r}.${o[1]}`,c=Number(o[2]);n[u]=Math.max(n[u]||0,c)}}return n},XN=(e,t)=>{if(!t)return 0;let n=0;const r=String(e).replace(/^rsd\./,""),a=u=>{const c=String(u),d=[`${e}.l`,`${r}.l`];for(const f of d)if(c.startsWith(f)){const p=c.match(/\.l(\d+)$/),v=p?Number(p[1]):0;v>n&&(n=v);return}};if(t.rsd&&typeof t.rsd=="object")for(const u of Object.keys(t.rsd))a(u);const s=t.research||{};for(const u of Object.keys(s))u!=="completed"&&a(u);const o=s.completed;if(o){const u=o instanceof Set?Array.from(o):Object.keys(o);for(const c of u)a(c)}return n},rs=(e,t)=>{if(!e||!t)return!1;const n=String(e),r=n.replace(/^rsd\./,""),a=t.rsd||{},s=t.research||{},o=y=>{const _=s.completed;return _?_ instanceof Set?_.has(y):!!_[y]:!1};if(a[n]||a[r]||s[n]||s[r]||o(n)||o(r))return!0;const c=n.match(/^rsd\.(.+)\.l(\d+)$/);if(!c){const y=n.startsWith("rsd.")?n:`rsd.${n}`;return XN(y,t)>0}const d=c[1],f=Number(c[2]),p=`rsd.${d}`;return XN(p,t)>=f},CF=(e,t,n)=>{const r={};for(const[a,s]of Object.entries(e||{})){if(Number(s?.stage??0)>t)continue;const u=a.match(/^(.+)\.l(\d+)$/i);if(u){const c=`${n}.${u[1]}`;(r[c]||=[]).push({key:a,def:s,level:Number(u[2])})}}for(const a in r)r[a].sort((s,o)=>s.level-o.level);return r},MF=(e,t)=>{if(!Array.isArray(e)||e.length===0)return null;const n=(t||0)+1;return e.find(r=>r.level===n)||null},MB="/world-spil/backend/api";async function ZN(e){try{const t=await fetch(`${MB}${e}`,{method:"GET",credentials:"include",headers:{Accept:"application/json"}}),n=t.status,r=await t.text();let a=null;try{a=r?JSON.parse(r):null}catch{}return n===401?{ok:!1,status:401,data:a,error:{code:"unauthorized",message:a?.error?.message||a?.message||"Unauthorized"}}:n>=200&&n<300?{ok:!0,status:n,data:a}:{ok:!1,status:n,data:a,error:a?.error||{message:r||`HTTP ${n}`}}}catch(t){return{ok:!1,status:0,error:{message:String(t)}}}}async function id(e,t){try{const n=await fetch(`${MB}${e}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t||{})}),r=n.status,a=await n.text();let s=null;try{s=a?JSON.parse(a):null}catch{}return r===401?{ok:!1,status:401,data:s,error:{code:"unauthorized",message:s?.error?.message||s?.message||"Unauthorized"}}:r>=200&&r<300?{ok:!0,status:r,data:s}:{ok:!1,status:r,data:s,error:s?.error||{message:a||`HTTP ${r}`}}}catch(n){return{ok:!1,status:0,error:{message:String(n)}}}}function RF({onAuthChange:e=()=>window.location.reload()}){const[t,n]=T.useState(!0),[r,a]=T.useState({loggedIn:!1,userId:null,username:null}),[s,o]=T.useState(!1),[u,c]=T.useState(!1),[d,f]=T.useState(""),[p,v]=T.useState(""),[y,_]=T.useState(""),[x,w]=T.useState(""),[S,E]=T.useState(""),[O,A]=T.useState(""),N=T.useRef(null);T.useEffect(()=>{const P=M=>{N.current&&(N.current.contains(M.target)||(o(!1),c(!1),A("")))};return document.addEventListener("click",P),()=>document.removeEventListener("click",P)},[]),T.useEffect(()=>{let P=!0;return(async()=>{n(!0),A("");try{const M=await ZN("/user/profile.php");if(!P)return;M.ok&&M.data?.data?.userId?a({loggedIn:!0,userId:M.data.data.userId,username:M.data.data.username??null}):a({loggedIn:!1,userId:null,username:null})}catch(M){console.error("TopbarAuth: error fetching profile",M),a({loggedIn:!1,userId:null,username:null})}finally{P&&n(!1)}})(),()=>{P=!1}},[]);async function k(P){if(P?.preventDefault(),A(""),!d||!p){A("Udfyld brugernavn og kodeord.");return}const M=await id("/auth/login.php",{username:d,password:p});if(M.ok&&M.data?.ok){a({loggedIn:!0,userId:M.data.data?.userId??null,username:M.data.data?.username??d}),o(!1),v(""),e();return}A(M.data?.error?.message||M.error?.message||"Login fejlede")}async function C(){A("");const P=await id("/auth/logout.php",{});P.ok&&P.data?.ok?(a({loggedIn:!1,userId:null,username:null}),e()):A(P.data?.error?.message||P.error?.message||"Log ud fejlede")}async function q(P){if(P?.preventDefault(),A(""),!y||!x||!S){A("Udfyld brugernavn, email og kodeord.");return}const M=await id("/auth/register.php",{username:y,email:x,password:S});if(M.ok&&M.data?.ok){const L=await ZN("/user/profile.php");if(L.ok&&L.data?.data?.userId)a({loggedIn:!0,userId:L.data.data.userId,username:L.data.data.username??y});else{const B=await id("/auth/login.php",{username:y,password:S});B.ok&&B.data?.ok?a({loggedIn:!0,userId:B.data.data?.userId??null,username:B.data.data?.username??y}):a({loggedIn:!1,userId:null,username:null})}c(!1),E(""),e()}else A(M.data?.error?.message||M.error?.message||"Registrering fejlede")}return g.jsx("div",{className:"topbar-auth",ref:N,children:t?g.jsx("span",{className:"auth-muted",children:"Tjekker login…"}):r.loggedIn?g.jsxs("div",{className:"auth-inline",children:[g.jsxs("span",{className:"auth-user",title:"Logget ind",children:["👤 ",r.username||"Bruger"]}),g.jsx("button",{className:"btn small",onClick:C,children:"Log ud"})]}):g.jsxs("div",{className:"auth-inline",children:[g.jsx("button",{className:"btn small",onClick:P=>{P.stopPropagation(),o(M=>!M),c(!1),A("")},children:"Log ind"}),g.jsx("button",{className:"btn small secondary",onClick:P=>{P.stopPropagation(),c(M=>!M),o(!1),A("")},children:"Opret"}),s&&g.jsxs("form",{className:"auth-pop",onSubmit:k,onClick:P=>P.stopPropagation(),children:[g.jsx("div",{className:"auth-title",children:"Log ind"}),g.jsx("input",{className:"auth-input",type:"text",placeholder:"Brugernavn",value:d,onChange:P=>f(P.target.value),autoFocus:!0}),g.jsx("input",{className:"auth-input",type:"password",placeholder:"Kodeord",value:p,onChange:P=>v(P.target.value)}),O&&g.jsx("div",{className:"auth-error",children:O}),g.jsxs("div",{className:"auth-actions",children:[g.jsx("button",{type:"submit",className:"btn small primary",children:"Log ind"}),g.jsx("button",{type:"button",className:"btn small",onClick:()=>o(!1),children:"Luk"})]})]}),u&&g.jsxs("form",{className:"auth-pop",onSubmit:q,onClick:P=>P.stopPropagation(),children:[g.jsx("div",{className:"auth-title",children:"Opret bruger"}),g.jsx("input",{className:"auth-input",type:"text",placeholder:"Brugernavn",value:y,onChange:P=>_(P.target.value),autoFocus:!0}),g.jsx("input",{className:"auth-input",type:"email",placeholder:"Email",value:x,onChange:P=>w(P.target.value)}),g.jsx("input",{className:"auth-input",type:"password",placeholder:"Kodeord",value:S,onChange:P=>E(P.target.value)}),O&&g.jsx("div",{className:"auth-error",children:O}),g.jsxs("div",{className:"auth-actions",children:[g.jsx("button",{type:"submit",className:"btn small primary",children:"Opret"}),g.jsx("button",{type:"button",className:"btn small",onClick:()=>c(!1),children:"Luk"})]})]})]})})}function DF(e,t){if(e)return String(t).split(".").reduce((n,r)=>n&&n[r]!=null?n[r]:void 0,e)}function Ht(){const{data:e}=Re(),t=[e?.lang,e?.defs?.lang,e?.state?.lang].filter(Boolean);return function(r){for(const a of t){const s=a[r];if(s!=null)return s;const o=DF(a,r);if(o!=null)return o}return r}}function Kr({children:e,content:t,placement:n="bottom",offset:r=8,style:a,cardStyle:s,interactive:o=!0,closeDelay:u=150}){const[c,d]=T.useState(!1),f=T.useRef(null),p=T.useRef(null),v=()=>{p.current&&(clearTimeout(p.current),p.current=null)},y=()=>{v(),p.current=setTimeout(()=>d(!1),u)};T.useEffect(()=>{function x(w){w.key==="Escape"&&d(!1)}return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[]);const _=(()=>{const x={position:"absolute",zIndex:1e3,background:"#fff",border:"1px solid rgba(0,0,0,0.1)",borderRadius:6,boxShadow:"0 6px 24px rgba(0,0,0,0.12), 0 2px 6px rgba(0,0,0,0.08)",padding:10,maxWidth:320,color:"#222",fontSize:12,lineHeight:1.35,pointerEvents:o?"auto":"none"};return n==="right"?{...x,left:`calc(100% + ${r}px)`,top:0}:{...x,top:`calc(100% + ${r}px)`,left:0}})();return g.jsxs("div",{ref:f,style:{position:"relative",display:"inline-flex",...a},onMouseEnter:()=>{v(),d(!0)},onMouseLeave:y,onFocus:()=>{v(),d(!0)},onBlur:y,onClick:()=>d(x=>!x),tabIndex:0,children:[e,c&&t&&g.jsx("div",{style:{..._,...s},onMouseEnter:v,onMouseLeave:y,onClick:x=>x.stopPropagation(),children:t})]})}const PF="/world-spil/backend/api/header/summary.php",RB="ws:summary-cache-v1",Ye={data:null,err:null,promise:null,at:0,unauthenticated:!1};function LF(){try{const e=sessionStorage.getItem(RB);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?null:t}catch{return null}}function QN(e){try{sessionStorage.setItem(RB,JSON.stringify(e))}catch{}}(()=>{const e=LF();e&&e.data&&(Ye.data=e.data,Ye.at=e.at||Date.now()),e&&e.unauthenticated&&(Ye.unauthenticated=!0)})();async function qF(){const e=await fetch(PF,{credentials:"include"}),t=await e.text();let n=null;try{n=t?JSON.parse(t):null}catch{}if(e.status===401)return{unauthenticated:!0};if(!e.ok){const r=n?.error?.message||n?.message||t||`HTTP ${e.status}`;throw new Error(r)}if(!n||n.ok===!1){const r=n&&(n.error?.message||n.message)||"Ukendt serverfejl";throw new Error(r)}return{data:n.data??null}}function lg(){return Ye.promise||(Ye.promise=qF().then(e=>e?.unauthenticated?(Ye.data=null,Ye.err=null,Ye.unauthenticated=!0,Ye.at=Date.now(),QN({data:null,at:Ye.at,unauthenticated:!0}),{unauthenticated:!0}):(Ye.data=e.data??null,Ye.err=null,Ye.unauthenticated=!1,Ye.at=Date.now(),QN({data:Ye.data,at:Ye.at,unauthenticated:!1}),{data:Ye.data})).catch(e=>{throw Ye.err=String(e?.message||e),e}).finally(()=>{Ye.promise=null})),Ye.promise}function pi({revalidateMs:e=3e4}={}){const[t,n]=T.useState(Ye.data),[r,a]=T.useState(Ye.err),[s,o]=T.useState(!Ye.data&&!Ye.promise),[u,c]=T.useState(Ye.at),[d,f]=T.useState(Ye.unauthenticated),p=T.useRef(!0);return T.useEffect(()=>{p.current=!0,lg().then(_=>{p.current&&(_?.unauthenticated?(f(!0),n(null),a(null)):(n(_?.data??Ye.data),a(null),f(!1)),o(!1),c(Ye.at))}).catch(_=>{p.current&&(a(String(_?.message||_)),o(!1))});let y=null;return e>0&&(y=setInterval(()=>{lg().then(_=>{p.current&&(_?.unauthenticated?(f(!0),n(null),a(null)):(n(_?.data??Ye.data),a(null),f(!1)),c(Ye.at))}).catch(_=>{p.current&&a(String(_?.message||_))})},e)),()=>{p.current=!1,y&&clearInterval(y)}},[e]),{data:t,err:r,loading:s,refresh:async()=>{o(!0);try{const y=await lg();if(!p.current)return;y?.unauthenticated?(f(!0),n(null),a(null)):(n(y?.data??Ye.data),a(null),f(!1)),c(Ye.at)}catch(y){if(!p.current)return;a(String(y?.message||y))}finally{p.current&&o(!1)}},lastUpdated:u,unauthenticated:d}}function IF(){const e=Ht(),{data:t}=Re(),{data:n,loading:r,err:a}=pi(),s=Number(t?.state?.user?.currentstage??0),o=s<=1,u=n?.usages??{},c=n?.capacities??{},d=n?.citizens?.groupCounts??n?.population??{},f=t?.state?.city?.population??t?.state?.population??{},p=n?.citizens?.raw||{},v=vt(n?.citizens?.totals?.totalPersons??d.total??f.total),y=vt(d.adultsTotal??f.adults),_=vt(p?.adultsUnemployed),x=vt(d.young??f.young),w=vt(d.kids??f.kids),S=vt(d.baby??f.baby),E=vt(p?.adultsPolice),O=vt(p?.adultsFire),A=vt(p?.adultsHealth),N=vt(p?.adultsPolitician),k=vt(p?.adultsGovernment),C=vt(p?.adultsWorker),q=vt(p?.adultsSoldier),P=vt(p?.youngStudent),M=vt(p?.youngWorker),L=vt(p?.kidsStudent),B=vt(p?.kidsStreet),z=vt(p?.old);vt(d?.crime);const D=vt(sd(u.useHousing)),H=vt(c.housing??c.housingCapacity),I=vt(p?.adultsHomeless),F=vt(sd(u.useHealth)),Q=vt(c.healthCapacity??c.health),Y=vt(sd(u.useProvision)),$=vt(sd(u.useWater)),V=T.useMemo(()=>g.jsxs("div",{style:{minWidth:260,maxWidth:420},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[g.jsx("strong",{children:"Borgere"}),g.jsxs("span",{style:{opacity:.75},children:["Stage ",s]})]}),g.jsxs("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:[g.jsx(Ke,{label:"Total",value:_e(v),strong:!0}),g.jsx("hr",{}),o?g.jsxs(g.Fragment,{children:[g.jsx(Ke,{label:"Voksne",value:_e(y),strong:!0}),g.jsx(Ke,{label:"Unge",value:_e(x),strong:!0}),g.jsx(Ke,{label:e("ui.citizens.baby.h1"),value:_e(w),strong:!0}),g.jsx(Ke,{label:"Babyer",value:_e(S),strong:!0}),g.jsx("hr",{}),g.jsx(Ke,{label:"Housing",value:`${_e(D)} / ${_e(H)}`,mono:!0}),g.jsx(Ke,{label:"Hjemløse",value:_e(I)}),g.jsx(Ke,{label:"Health",value:`${_e(F)} / ${_e(Q)}`,mono:!0}),g.jsx("hr",{}),g.jsx(Ke,{label:"Provision forbrug",value:_e(Y),mono:!0}),g.jsx(Ke,{label:"Vand forbrug",value:_e($),mono:!0})]}):g.jsxs(g.Fragment,{children:[g.jsx(Ke,{label:"Voksne:",strong:!0}),g.jsx(Ke,{label:`${e("ui.emoji.adults_police.h1")} ${e("ui.citizens.adults_police.h1")}`,value:_e(E)}),g.jsx(Ke,{label:`${e("ui.emoji.adults_fire.h1")} ${e("ui.citizens.adults_fire.h1")}`,value:_e(O)}),g.jsx(Ke,{label:`${e("ui.emoji.adults_health.h1")} ${e("ui.citizens.adults_health.h1")}`,value:_e(A)}),g.jsx(Ke,{label:`${e("ui.emoji.adults_politician.h1")} ${e("ui.citizens.adults_politician.h1")}`,value:_e(N)}),g.jsx(Ke,{label:`${e("ui.emoji.adults_government.h1")} ${e("ui.citizens.adults_government.h1")}`,value:_e(k)}),g.jsx(Ke,{label:`${e("ui.emoji.adults_worker.h1")} ${e("ui.citizens.adults_worker.h1")}`,value:_e(C)}),g.jsx(Ke,{label:`${e("ui.emoji.adults_soldier.h1")} ${e("ui.citizens.adults_soldier.h1")}`,value:_e(q)}),g.jsx(Ke,{label:`${e("ui.emoji.old.h1")} ${e("ui.citizens.old.h1")}`,value:_e(z)}),g.jsx(Ke,{label:`${e("ui.emoji.adults_unemployed.h1")} ${e("ui.citizens.adults_unemployed.h1")}`,value:_e(_)}),g.jsx(Ke,{label:`${e("ui.emoji.adults_homeless.h1")} ${e("ui.citizens.adults_homeless.h1")}`,value:_e(I)}),g.jsx("hr",{}),g.jsx(Ke,{label:"Unge:",strong:!0}),g.jsx(Ke,{label:`${e("ui.emoji.young_student.h1")} ${e("ui.citizens.young_student.h1")}`,value:_e(P)}),g.jsx(Ke,{label:`${e("ui.emoji.young_worker.h1")} ${e("ui.citizens.young_worker.h1")}`,value:_e(M)}),g.jsx("hr",{}),g.jsx(Ke,{label:"Børn og babyer:",strong:!0}),g.jsx(Ke,{label:`${e("ui.emoji.kids_student.h1")} ${e("ui.citizens.kids_student.h1")}`,value:_e(L)}),g.jsx(Ke,{label:`${e("ui.emoji.kids_street.h1")} ${e("ui.citizens.kids_street.h1")}`,value:_e(B)}),g.jsx(Ke,{label:`${e("ui.emoji.baby.h1")} ${e("ui.citizens.baby.h1")}`,value:_e(S)}),g.jsx("hr",{}),g.jsx(Ke,{label:"Stats:",strong:!0}),g.jsx(Ke,{label:"Housing",value:`${_e(D)} / ${_e(H)}`,mono:!0}),g.jsx(Ke,{label:"Health",value:`${_e(F)} / ${_e(Q)}`,mono:!0}),g.jsx(Ke,{label:"Provision forbrug",value:_e(Y),mono:!0}),g.jsx(Ke,{label:"Vand forbrug",value:_e($),mono:!0}),g.jsx("hr",{}),"Se detaljer i ",g.jsx("a",{href:"#/help?topic=population",children:"Hjælp: Befolkning"})," og ",g.jsx("a",{href:"#/help?topic=stats-overview",children:"Hjælp: Stats"})]})]})]}),[o,s,v,y,x,w,D,H,I,F,Q,Y,$]);return r||a?null:g.jsx(Kr,{content:V,cardStyle:{maxWidth:480,minWidth:320},children:g.jsxs("span",{className:"res-chip",title:"Borgere",style:{cursor:"pointer",userSelect:"none"},children:["👥 ",_e(v)]})})}function Ke({label:e,value:t,mono:n,strong:r}){return g.jsx("li",{style:{padding:"4px 6px",borderRadius:6},children:g.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"space-between",alignItems:"baseline"},children:[g.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e?r?g.jsx("strong",{children:e}):g.jsx("span",{style:{opacity:.9},children:e}):null}),g.jsx("div",{style:{textAlign:"right",fontVariantNumeric:n?"tabular-nums":"normal"},children:t})]})})}function vt(e){const t=Number(e);return Number.isFinite(t)?t:0}function sd(e){if(e==null)return 0;if(typeof e=="object"){if(typeof e.total=="number")return e.total;const t=Object.values(e).filter(n=>typeof n=="number");if(t.length)return t.reduce((n,r)=>n+r,0)}return e}function zS(){const e=Ht();return T.useMemo(()=>({housing:e("ui.emoji.housing.h1")+" "+e("ui.label.housing.h1")||"Housing",food:e("ui.emoji.provision.h1")+" "+e("ui.label.provision.h1")||"Provision",water:e("ui.emoji.water.h1")+" "+e("ui.label.water.h1")||"Water",health:e("ui.emoji.health.h1")+" "+e("ui.label.health.h1")||"Health",healthDentist:e("ui.emoji.health.h1")+" "+e("ui.label.health_dentist.h1")||"Dentist",heat:e("ui.emoji.heat.h1")+" "+e("ui.label.heat.h1")||"Heat",power:e("ui.emoji.power.h1")+" "+e("ui.label.power.h1")||"Power",heatFossil:e("ui.emoji.heat_fossil.h1")+" "+e("ui.label.heat_fossil.h1")||"Heat (Fossil)",heatGreen:e("ui.emoji.heat_green.h1")+" "+e("ui.label.heat_green.h1")||"Heat (Green)",heatNuclear:e("ui.emoji.heat_nuclear.h1")+" "+e("ui.label.heat_nuclear.h1")||"Heat (Nuclear)",powerFossil:e("ui.emoji.power_fossil.h1")+" "+e("ui.label.power_fossil.h1")||"Power (Fossil)",powerGreen:e("ui.emoji.power_green.h1")+" "+e("ui.label.power_green.h1")||"Power (Green)",powerNuclear:e("ui.emoji.power_nuclear.h1")+" "+e("ui.label.power_nuclear.h1")||"Power (Nuclear)",cloth:e("ui.emoji.product_cloth.h1")+" "+e("ui.label.product_cloth.h1")||"Cloth",medicin:e("ui.emoji.product_medicin.h1")+" "+e("ui.label.product_medicin.h1")||"Medicine",social:e("ui.emoji.social.h1")+" "+e("ui.label.social.h1")||"Social",wasteOther:e("ui.emoji.waste_other.h1")+" "+e("ui.label.waste_other.h1")||"Other Waste",tax:e("ui.emoji.tax.h1")+" "+e("ui.label.tax.h1")||"Tax",police:e("ui.emoji.adults_police.h1")+" "+e("ui.citizens.adults_police.h1")||"Police"}),[e])}function BF(){const e=Ht(),t={footprint:{label:e("ui.emoji.footprint.h1")+e("ui.label.footprint.h1"),desc:e("ui.desc.footprint.h1")},animal_cap:{label:e("ui.emoji.animalcap.h1")+e("ui.label.animalcap.h1"),desc:e("ui.desc.animalcap.h1")},housing:{label:e("ui.emoji.housing.h1")+e("ui.label.housing.h1"),desc:e("ui.capdesc.housing.h1")},housingCapacity:{label:e("ui.emoji.housing.h1")+e("ui.label.housing.h1"),desc:e("ui.capdesc.housing.h1")},provision_cap:{label:e("ui.emoji.provision.h1")+e("ui.label.provision.h1"),desc:e("ui.capdesc.provision.h1")},provisionCapacity:{label:e("ui.emoji.provision.h1")+e("ui.label.provision.h1"),desc:e("ui.capdesc.provision.h1")},provisionUsage:{label:e("ui.emoji.provision.h1")+e("ui.label.provision.h1"),desc:e("ui.usagedesc.provision.h1")},healthCapacity:{label:e("ui.emoji.health.h1")+e("ui.label.health.h1"),desc:e("ui.capdesc.health.h1")},healthUnitUsage:{label:e("ui.emoji.health_unit.h1")+e("ui.label.health_unit.h1"),desc:e("ui.usagedesc.health_unit.h1")},healthUnitCapacity:{label:e("ui.emoji.health_unit.h1")+e("ui.label.health_unit.h1"),desc:e("ui.capdesc.health_unit.h1")},healthDentistUsage:{label:e("ui.emoji.health_dentist.h1")+e("ui.label.health_dentist.h1"),desc:e("ui.usagedesc.health_dentist.h1")},healthDentistCapacity:{label:e("ui.emoji.health_dentist.h1")+e("ui.label.health_dentist.h1"),desc:e("ui.capdesc.health_dentist.h1")},adultsPoliceCapacity:{label:e("ui.emoji.adults_police.h1")+e("ui.citizens.adults_police.h1"),desc:e("ui.capdesc.adults_police.h1")},adultsFireCapacity:{label:e("ui.emoji.adults_fire.h1")+e("ui.citizens.adults_fire.h1"),desc:e("ui.capdesc.adults_fire.h1")},adultsHealthCapacity:{label:e("ui.emoji.adults_health.h1")+e("ui.citizens.adults_health.h1"),desc:e("ui.capdesc.adults_health.h1")},adultsSoldierCapacity:{label:e("ui.emoji.adults_soldier.h1")+e("ui.citizens.adults_soldier.h1"),desc:e("ui.capdesc.adults_soldier.h1")},kidsStudentCapacity:{label:e("ui.emoji.kids_student.h1")+e("ui.citizens.kids_student.h1"),desc:e("ui.capdesc.kids_student.h1")},youngStudentCapacity:{label:e("ui.emoji.young_student.h1")+e("ui.citizens.young_student.h1"),desc:e("ui.capdesc.young_student.h1")},heatFossilCapacity:{label:e("ui.emoji.heat.h1")+e("ui.label.heat.h1"),desc:e("ui.capdesc.heat.h1")},storageSolidCap:{label:e("ui.emoji.storage_solid.h1")+e("ui.label.storage_solid.h1"),desc:e("ui.capdesc.storage_solid.h1")},storageLiquidCap:{label:e("ui.emoji.storage_liquid.h1")+e("ui.label.storage_liquid.h1"),desc:e("ui.capdesc.storage_liquid.h1")},waterUsage:{label:e("ui.emoji.water.h1")+e("ui.label.water.h1"),desc:e("ui.usagedesc.water.h1")},waterCapacity:{label:e("ui.emoji.water.h1")+e("ui.label.water.h1"),desc:e("ui.capdesc.water.h1")},wasteOtherUsage:{label:e("ui.emoji.waste_other.h1")+e("ui.label.waste_other.h1"),desc:e("ui.usagedesc.waste_other.h1")},wasteOtherCapacity:{label:e("ui.emoji.waste_other.h1")+e("ui.label.waste_other.h1"),desc:e("ui.capdesc.waste_other.h1")},productClothUsage:{label:e("ui.emoji.cloth.h1")+e("ui.label.product_cloth.h1"),desc:e("ui.usagedesc.product_cloth.h1")},productClothCapacity:{label:e("ui.emoji.cloth.h1")+e("ui.label.product_cloth.h1"),desc:e("ui.capdesc.product_cloth.h1")},taxHealthUsage:{label:e("ui.emoji.tax_health.h1")+e("ui.label.tax_health.h1"),desc:e("ui.capdesc.tax_health.h1")},taxHealthCapacity:{label:e("ui.emoji.tax_health.h1")+e("ui.label.tax_health.h1"),desc:e("ui.usagedesc.tax_health.h1")}};return t.provision_cap=t.provisionCapacity,t}function $F(e){return e>=.9?"😊":e>=.8?"😐":e>=.7?"😞":e>=.6?"😢":e>=.5?"😠":"😡"}function zF(e){const t=Number(e||0);return t>=.85?"🏆":t>=.7?"😊":t>=.55?"🙂":t>=.4?"😐":t>=.25?"😕":"😟"}const JN={heat:["heatGreen","heatNuclear","heatFossil"],power:["powerGreen","powerNuclear","powerFossil"],health:["healthDentist"]},UF={};function HF(e,t){const n=Number(e)||0,r=Number(t)||0;if(r<=0)return 0;const a=Math.max(0,n/r-1);return Math.max(0,1-a)}function FF(){const{data:e,loading:t,err:n}=pi(),{data:r}=Re(),[a,s]=T.useState(null),o=zS(),u=e?.happiness??{impacts:{},weightTotal:0,impactTotal:0,happiness:0},c=e?.usages??{},d=e?.capacities??{},f=e?.metricsMeta??{},p=Number(r?.state?.user?.currentstage??0),v=Number(u.total||u.happiness||0),y=Math.round(v*100),_=$F(v),x=A=>{const N=f?.[A]||{},k=Number(N?.stage?.unlock_at??1),C=Number(N?.stage?.visible_at??k);return{unlockAt:k,visibleAt:C}},w=A=>{const{visibleAt:N}=x(A);return p>=N},S=A=>{const{unlockAt:N}=x(A);return p>=N},E=A=>{const N=o[A]||A,k=u.impacts?.[A]||null,C=!!k;if(!C&&(!w(A)||!S(A)))return null;let q=0,P=0,M=0,L=0,B=0;if(C)q=Number(k.used||0),P=Number(k.capacity||0),M=Number(k.score||0),L=Number(k.weight||0),B=Number(k.impact||0);else{const z=UF[A];z&&(q=Number(c?.[z.usage]?.total||0),P=Number(d?.[z.cap]||0),M=HF(q,P)),L=0,B=0}return{key:A,label:N,used:q,cap:P,scorePct:Math.round(M*100),weight:L,impact:B,fromImpact:C}},O=T.useMemo(()=>{const A=["health","food","water","housing","heat","power"],N=new Set(Object.values(JN||{}).flat()),k=Object.entries(u.impacts||{}).filter(([,M])=>Number(M?.weight||0)>0).map(([M])=>M).filter(M=>!N.has(M)),C=Array.from(new Set([...k,...A])),q=M=>{const L=A.indexOf(M);return L===-1?Number.POSITIVE_INFINITY:L};C.sort((M,L)=>{const B=q(M),z=q(L);return B!==z?B-z:M.localeCompare(L)});const P=C.map(M=>E(M)).filter(Boolean).filter(M=>M.fromImpact||M.used>0||M.cap>0);return g.jsxs("div",{style:{minWidth:260,maxWidth:420},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[g.jsx("strong",{children:"Happiness breakdown"}),g.jsxs("span",{style:{opacity:.75},children:["Σw=",Math.round(u.weightTotal||0)]})]}),P.length===0?g.jsx("div",{style:{opacity:.7},children:"Ingen aktive kategorier."}):g.jsx("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:P.map(M=>{const L=JN[M.key]||[],B=a===M.key&&L.length>0;return g.jsxs("li",{onMouseEnter:()=>s(M.key),onMouseLeave:()=>s(null),style:{padding:"4px 6px",borderRadius:6,background:a===M.key?"rgba(44,123,229,0.08)":"transparent",transition:"background 120ms linear"},children:[g.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"space-between",alignItems:"baseline"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[g.jsx("strong",{children:M.label}),g.jsxs("span",{style:{fontSize:12,opacity:.8},children:["brug: ",M.used.toLocaleString()," / ",M.cap.toLocaleString()]})]}),g.jsxs("div",{style:{textAlign:"right"},children:[g.jsxs("div",{style:{fontVariantNumeric:"tabular-nums"},children:[M.scorePct,"%"]}),M.fromImpact&&g.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Weight:",M.weight]})]})]}),B&&g.jsx("div",{style:{marginTop:6,paddingLeft:8},children:g.jsx("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:L.map(z=>{const D=E(z);return D?g.jsx("li",{style:{padding:"4px 6px",borderRadius:6,background:a===z?"rgba(44,123,229,0.04)":"transparent",marginBottom:4},children:g.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"space-between",alignItems:"baseline"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[g.jsx("strong",{style:{fontSize:13},children:o[z]||z}),g.jsxs("span",{style:{fontSize:12,opacity:.8},children:["brug: ",D.used.toLocaleString()," / ",D.cap.toLocaleString()]})]}),g.jsxs("div",{style:{textAlign:"right"},children:[g.jsxs("div",{style:{fontVariantNumeric:"tabular-nums"},children:[D.scorePct,"%"]}),D.fromImpact&&g.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Weight:",D.weight]})]})]})},z):null})})})]},M.key)})}),g.jsxs("span",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:[g.jsx("hr",{}),"Se detaljer i ",g.jsx("a",{href:"#/help?topic=stats-happiness",children:"Hjælp: Happiness"})," og ",g.jsx("a",{href:"#/help?topic=stats-overview",children:"Hjælp: Stats"}),"."]})]})},[u,c,d,a,f,p,o]);return t||n||!e?.happiness?null:g.jsx(Kr,{content:O,cardStyle:{maxWidth:560,minWidth:420},children:g.jsxs("span",{className:"res-chip",title:void 0,style:{cursor:"pointer",userSelect:"none"},children:[_," ",y]})})}function GF(e){return Array.isArray(e)?e:e==null?[]:typeof e=="string"?e.split(",").map(t=>t.trim()).filter(Boolean):[e]}function KF(e){const t=String(e||"").toLowerCase().trim();return t?t==="animal"||t==="animal_cap"||t==="animalcap"?"animal_cap":t==="solid"||t==="storagesolidcap"||t==="storage_solid_cap"||t==="solid_cap"?"storageSolidCap":t==="liquid"||t==="storageliquidcap"||t==="storage_liquid_cap"||t==="liquid_cap"?"storageLiquidCap":t==="footprint"?"footprint":t:""}function YF(e){const t=GF(e),n=[];for(const r of t){const a=KF(r);a&&!n.includes(a)&&n.push(a)}return n}function DB(e,t){if(!e||typeof e!="object")return null;const r={footprint:["footprint"],animal_cap:["animal_cap","animalCap"],storageSolidCap:["storageSolidCap","storage_solid_cap","solid_cap","solidCap"],storageLiquidCap:["storageLiquidCap","storage_liquid_cap","liquid_cap","liquidCap"]}[t]||[];for(const a of r)if(e[a]!=null&&typeof e[a]=="number"){const s=Number(e[a]);if(Number.isFinite(s))return s}return null}function VF(e,t,n){if(!n)return!1;const r=n[e];if(!r||typeof r!="object")return!1;const a=e==="bld"?"bld.":e==="add"?"add.":"rsd.",s=t.replace(/^(?:bld\.|add\.|rsd\.)/i,""),o=a+s;if(r[o]||r[a+s])return!0;try{for(const[u,c]of Object.entries(r)){if(u===o||u===a+s)return!0;const d=c?.bld_id||c?.add_id||c?.rsd_id||c?.id;if(typeof d=="string"&&(d===o||d===a+s))return!0}}catch{}return!1}function WF(e,{bucket:t,defKey:n,name:r},a){const s=e?.stats||{},o=[];for(const u of a){const c=DB(s,u);c==null||!Number.isFinite(c)||c===0||o.push({metric:u,amount:Number(c),sourceType:t,sourceId:(t==="bld"?"bld.":t==="add"?"add.":"rsd.")+n.replace(/^(?:bld\.|add\.|rsd\.)/i,""),name:r||e?.name||n})}return o}function XF(e,t){const n=e?.cap||{},r=a=>{const s=Number(a);return Number.isFinite(s)?s:null};switch(t){case"footprint":return r(n?.footprint?.base);case"animal_cap":return r(n?.animal_cap?.base);case"storageSolidCap":return r(n?.solid?.base??n?.storageSolidCap?.base);case"storageLiquidCap":return r(n?.liquid?.base??n?.storageLiquidCap?.base);default:return null}}function ZF({defs:e,state:t,modeLc:n,positiveByMetric:r,negativeByMetric:a,selected:s}){if(!s.includes("animal_cap"))return;const o=t?.ani||t?.animals||t?.animal;if(!(!o||typeof o!="object"))for(const[u,c]of Object.entries(o)){const d=typeof c=="number"?c:Number(c?.count??c?.qty??c?.quantity??0);if(!Number.isFinite(d)||d<=0)continue;const p=String(u||"").replace(/^ani\./i,""),v=e?.ani?.[p]??e?.animals?.[p],y=DB(v?.stats||{},"animal_cap");if(y==null||!Number.isFinite(y)||y===0)continue;const x={metric:"animal_cap",amount:y*d,sourceType:"ani",sourceId:`ani.${p}`,name:v?.name||p,meta:{count:d,perUnit:y}},w=Math.sign(x.amount);w>0?n!=="take"&&r.animal_cap.push(x):w<0&&n!=="give"&&a.animal_cap.push(x)}}function QF({defs:e,state:t,metrics:n,mode:r="both"}={}){const a=YF(n),s=String(r||"both").toLowerCase(),o={},u={};for(const f of a)o[f]=[],u[f]=[];const c=["bld","add","rsd"];for(const f of c){const p=e?.[f]||{};for(const[v,y]of Object.entries(p)){if(!VF(f,v,t))continue;const _=y?.name||v,x=WF(y,{bucket:f,defKey:v,name:_},a);for(const w of x){const S=Math.sign(w.amount);S>0?s!=="take"&&o[w.metric].push(w):S<0&&s!=="give"&&u[w.metric].push(w)}}}for(const f of a){const p=XF(t,f);if(p!=null&&p!==0){const v={metric:f,amount:p,sourceType:"base",sourceId:`state.cap.${f==="storageSolidCap"?"solid":f==="storageLiquidCap"?"liquid":f}.base`,name:"Base"},y=Math.sign(v.amount);y>0?s!=="take"&&o[f].push(v):y<0&&s!=="give"&&u[f].push(v)}}ZF({defs:e,state:t,modeLc:s,positiveByMetric:o,negativeByMetric:u,selected:a});const d=(f,p)=>Math.abs(p.amount)-Math.abs(f.amount);for(const f of a)o[f].sort(d),u[f].sort(d);return{positiveByMetric:o,negativeByMetric:u,selected:a,mode:s}}function JF({metrics:e,mode:t="both",groupByMetric:n=!0,title:r,emptyText:a="Ingen",showTotals:s=!0,className:o="",style:u}){const{data:c}=Re()||{},d=c?.defs||{},f=c?.state||{},p=T.useMemo(()=>QF({defs:d,state:f,metrics:e,mode:t}),[d,f,e,t]),v=p.selected,y=O=>{const A=Number(O??0);return(A>0?"+":"")+A},_=({m:O})=>{const A={footprint:"Footprint",animal_cap:"Animal cap",storageSolidCap:"Solid cap",storageLiquidCap:"Liquid cap"}[O]||O;return g.jsx("span",{style:{textTransform:"none"},children:A})},x=({heading:O,items:A})=>g.jsxs("div",{style:{marginBottom:8},children:[O?g.jsx("div",{style:{fontWeight:700,marginBottom:4},children:O}):null,A.length===0?g.jsx("div",{className:"sub",style:{opacity:.7},children:a}):g.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:A.map((N,k)=>g.jsxs("li",{style:{display:"flex",gap:8,padding:"2px 0",alignItems:"center"},children:[g.jsx("span",{style:{opacity:.7,minWidth:60},children:N.sourceType.toUpperCase()}),g.jsx("span",{style:{flex:1},children:N.name||N.sourceId}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap"},children:y(N.amount)})]},k))})]}),w=({positiveItems:O,negativeItems:A})=>{if(!s)return null;const N=O.reduce((L,B)=>L+(B.amount??0),0),k=A.reduce((L,B)=>L+(B.amount??0),0),C=Math.abs(k),q=N+k,P=[];t!=="cost"&&t!=="take"&&P.push(`+${N}`),t!=="give"&&P.push(`-${C}`);const M=t==="both"?`Netto: ${q>=0?"+":""}${q}`:void 0;return g.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.15)",paddingTop:6,marginTop:6,fontWeight:700,display:"flex",gap:12},children:[g.jsx("span",{children:"Total:"}),P.map((L,B)=>g.jsx("span",{children:L},B)),M?g.jsx("span",{style:{marginLeft:"auto"},children:M}):null]})};if(!v?.length)return null;if(n)return g.jsxs("div",{className:o,style:u,children:[r?g.jsx("div",{style:{fontWeight:700,marginBottom:6},children:r}):null,v.map(O=>{const A=p.positiveByMetric[O]||[],N=p.negativeByMetric[O]||[];return g.jsxs("div",{style:{marginBottom:12},children:[g.jsx("div",{style:{fontWeight:700,marginBottom:4},children:g.jsx(_,{m:O})}),t!=="take"&&g.jsx(x,{heading:"Giver (+)",items:A}),t!=="give"&&g.jsx(x,{heading:"Tager (-)",items:N}),g.jsx(w,{positiveItems:A,negativeItems:N})]},O)})]});const S=v.flatMap(O=>p.positiveByMetric[O].map(A=>({...A,_m:O}))),E=v.flatMap(O=>p.negativeByMetric[O].map(A=>({...A,_m:O})));return g.jsxs("div",{className:o,style:u,children:[r?g.jsx("div",{style:{fontWeight:700,marginBottom:6},children:r}):null,t!=="take"&&g.jsx(x,{heading:"Giver (+)",items:S}),t!=="give"&&g.jsx(x,{heading:"Tager (-)",items:E}),g.jsx(w,{positiveItems:S,negativeItems:E})]})}function lc({title:e,metric:t,capObj:n}){const r=Number(n?.base??0),a=Number(n?.bonus??0),s=Number(n?.used??0),o=Number(n?.total??0),u=({label:c,value:d})=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{style:{opacity:.8},children:c}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:d})]});return g.jsxs("div",{style:{maxWidth:420},children:[e?g.jsx("div",{style:{fontWeight:700,marginBottom:6},children:e}):null,g.jsxs("div",{style:{display:"grid",gap:2,marginBottom:8},children:[g.jsx(u,{label:"Brugt",value:s}),g.jsx(u,{label:"Total",value:o}),g.jsx(u,{label:"Base",value:r}),g.jsx(u,{label:"Bonus",value:a})]}),g.jsx("div",{style:{borderTop:"1px solid #eee",margin:"6px 0",opacity:.6}}),g.jsx(JF,{metrics:[t],mode:"both",groupByMetric:!1,title:"Kilder",showTotals:!0})]})}function eG(){const{data:e,err:t}=pi(),[n,r]=T.useState(null),a=zS();if(t)return null;const s=e?.popularity??{impacts:{},weightTotal:0,popularity:0},o=Number(s.popularity||0),u=Math.round(o*100),c=zF(o),d=T.useMemo(()=>{const p=s.impacts||{},v=Object.entries(p).map(([y,_])=>{const x=a[y]||y,w=Number(_.used||0),S=Number(_.capacity||0),E=Number(_.score||0),O=Number(_.weight||0),A=Number(_.impact||0);return{key:y,label:x,used:w,cap:S,scorePct:Math.round(E*100),weight:O,impact:A}});return v.sort((y,_)=>_.impact-y.impact||_.weight-y.weight),v},[s.impacts,a]),f=g.jsxs("div",{style:{minWidth:260,maxWidth:420},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[g.jsx("strong",{children:"Popularity breakdown"}),g.jsxs("span",{style:{opacity:.75},children:["Σw=",Math.round(s.weightTotal||0)]})]}),d.length===0?g.jsx("div",{style:{opacity:.7},children:"Ingen aktive kategorier."}):g.jsx("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:d.map(p=>g.jsx("li",{onMouseEnter:()=>r(p.key),onMouseLeave:()=>r(null),style:{padding:"4px 6px",borderRadius:6,background:n===p.key?"rgba(76, 175, 80, 0.10)":"transparent",transition:"background 120ms linear"},children:g.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"space-between"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[g.jsx("strong",{children:p.label}),g.jsxs("span",{style:{fontSize:12,opacity:.8},children:["brug: ",p.used.toLocaleString()," / ",p.cap.toLocaleString()]})]}),g.jsxs("div",{style:{textAlign:"right"},children:[g.jsxs("div",{style:{fontVariantNumeric:"tabular-nums"},children:[p.scorePct,"%"]}),g.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Weight:",p.weight]})]})]})},p.key))}),g.jsxs("span",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:[g.jsx("hr",{}),"Se detaljer i ",g.jsx("a",{href:"#/help?topic=stats-popularity",children:"Hjælp: Popularity"})," og ",g.jsx("a",{href:"#/help?topic=stats-overview",children:"Hjælp: Stats"}),"."]})]});return g.jsx(Kr,{content:f,children:g.jsx("div",{title:void 0,style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",userSelect:"none",fontSize:14},children:g.jsxs("span",{className:"res-chip",title:void 0,style:{cursor:"pointer",userSelect:"none"},children:[g.jsx("span",{role:"img","aria-label":"popularity",style:{fontSize:16},children:"📣"}),g.jsxs("span",{style:{fontWeight:600},children:[u,"%"]}),g.jsx("span",{children:c})]})})})}function ek(e,t={}){const n=Number(e||0);return t.percent?`${Math.round(n*100)}%`:n.toLocaleString("da-DK")}function tG(){const{data:e,loading:t,err:n}=pi(),{data:r}=Re();if(Number(r?.state?.user?.currentstage??0),t||n||!e)return null;const a=e?.citizens?.groupCounts?.adultsTotal??{},s=e?.citizens?.groupCounts?.crime??{};e?.citizens?.groupCounts?.adults;const o=a>0?s/a:0,u=Math.round(o*1e3)/10,c=g.jsxs("div",{style:{minWidth:260},children:[g.jsx("div",{style:{fontWeight:700,marginBottom:4},children:"Kriminalitet"}),g.jsxs("div",{style:{display:"grid",gap:4},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Voksne i alt"}),g.jsx("span",{children:ek(a)})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Voksne kriminelle"}),g.jsx("span",{children:ek(s)})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #e5e7eb",paddingTop:6,fontWeight:600},children:[g.jsx("span",{children:"Andel"}),g.jsxs("span",{children:[u.toLocaleString("da-DK"),"%"]})]})]})]});return g.jsx(Kr,{content:c,cardStyle:{maxWidth:340,minWidth:260},children:g.jsxs("span",{className:"res-chip",title:"Kriminalitet",style:{cursor:"pointer",userSelect:"none"},children:["🦹 ",u.toLocaleString("da-DK"),"%"]})})}function od(e){return Number(e||0).toLocaleString("da-DK",{maximumFractionDigits:2})}function nG(){const{data:e,loading:t,err:n}=pi();if(Ht(),t||n||!e)return null;const r=e?.usages??{},a=e?.capacities??{};e?.metricsMeta;const s=T.useMemo(()=>{let f=0;for(const[p,v]of Object.entries(r)){if(!/^useTax/i.test(p))continue;const y=Number(v?.total||0);f+=y}return f},[r]),o=Number(a.taxCapacity??a.budgetCapacity??0),u=o>0?Math.max(0,Math.min(1,s/o)):0,c=Math.round(u*100),d=g.jsxs("div",{style:{minWidth:260},children:[g.jsx("div",{style:{fontWeight:700,marginBottom:4},children:"Budget"}),g.jsxs("div",{style:{display:"grid",gap:6},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Forbrug (tax)"}),g.jsx("span",{children:od(s)})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Kapacitet"}),g.jsx("span",{children:od(o)})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #e5e7eb",paddingTop:6,fontWeight:600},children:[g.jsx("span",{children:"Udnyttelse"}),g.jsxs("span",{children:[c.toLocaleString("da-DK"),"%"]})]})]})]});return g.jsx(Kr,{content:d,cardStyle:{maxWidth:360,minWidth:260},children:g.jsxs("span",{className:"res-chip",title:"Budget (tax)",style:{cursor:"pointer",userSelect:"none"},children:["💹 ",od(s)," / ",od(o)]})})}const ug="ws:lang",rG=[{code:"da",label:"Dansk"},{code:"en",label:"English"}];function aG({langs:e=rG,onChange:t}){const n=(()=>{try{const d=localStorage.getItem(ug);if(d)return d}catch{}return e[0].code})(),[r,a]=T.useState(n),[s,o]=T.useState(!1);T.useEffect(()=>{try{localStorage.setItem(ug,r)}catch{}},[r]),T.useEffect(()=>{const d=f=>{const p=f?.detail?.locale;p&&p!==r&&a(p)};return window.addEventListener("ws:localeChanged",d),()=>window.removeEventListener("ws:localeChanged",d)},[r]);const u=async d=>{try{const f=await fetch("/world-spil/backend/api/actions/set-language.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:d,scope:"user"})});if(!f.ok)return!1;const p=await f.json();return!!(p&&p.ok)}catch(f){return console.error("setServerLang error",f),!1}},c=async d=>{const f=d.target.value;a(f);try{localStorage.setItem(ug,f)}catch{}if(typeof t=="function")try{t(f)}catch{}o(!0),await u(f),o(!1),window.location.reload()};return g.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[g.jsx("label",{htmlFor:"ws-lang-select",style:{fontSize:12,color:"var(--color-muted,#6b7280)"},children:"Sprog"}),g.jsx("select",{id:"ws-lang-select",value:r,onChange:c,disabled:s,"aria-label":"Vælg sprog",style:{fontSize:13,padding:"4px 8px",borderRadius:6,border:"1px solid #e5e7eb",background:s?"#f9fafb":"#fff",cursor:"pointer"},children:e.map(d=>g.jsx("option",{value:d.code,children:d.label},d.code))})]})}function iG(){const{data:e}=Re(),t=e?.defs||{},n=e?.state||{};n?.inv?.solid,n?.inv?.liquid;const r=n?.cap?.footprint??{},a=n?.cap?.animal_cap??{};t?.res;const s=g.jsx(lc,{title:"Staldplads",metric:"animal_cap",capObj:a}),o=g.jsx(lc,{title:"Byggepoint",metric:"footprint",capObj:r});return g.jsxs("header",{className:"topbar",children:[g.jsxs("div",{className:"brand",children:[g.jsx("span",{className:"brand-emoji",children:"🌍"}),g.jsx("span",{className:"brand-name",children:"World"}),g.jsx("span",{className:"brand-name",children:e?.config?.game_data?.version})]}),g.jsxs("div",{className:"header-resources",children:[g.jsx(tG,{}),g.jsx(nG,{}),g.jsx(eG,{}),g.jsx(FF,{}),g.jsx(IF,{}),g.jsx(Kr,{content:s,children:g.jsxs("span",{className:"res-chip",children:["🐾 ",_e(a.used||0),g.jsxs("span",{className:"max",children:["/",_e(a.total||0)]})]})}),g.jsx(Kr,{content:o,children:g.jsxs("span",{className:"res-chip",children:["⬛ ",_e(Math.abs(r.used)||0),g.jsxs("span",{className:"max",children:["/",_e(r.total||0)]})]})})]}),g.jsxs("div",{className:"header-tools",style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:8},children:["STAGE: ",n?.user?.currentstage||"0",g.jsx("button",{className:"icon-btn",onClick:()=>window.location.hash="#/help?topic=intro",title:"Hjælp",children:"❓Hjælp"}),g.jsx(RF,{onAuthChange:()=>window.location.reload()}),g.jsx(aG,{})]})]})}function PB({icon:e,title:t,subtitle:n,value:r,children:a}){return g.jsxs("div",{className:"item",children:[g.jsx("div",{className:"icon",children:e}),a||g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("div",{className:"title",children:t}),n&&g.jsx("div",{className:"sub",children:n})]}),g.jsx("div",{className:"right",children:g.jsx("strong",{children:r})})]})]})}function Ew(e){const t=String(e||"").trim();return t.startsWith("res.")?t.toLowerCase():`res.${t.toLowerCase()}`}function tk(e,t){if(!e)return!1;if(e==="all")return!0;const n=Array.isArray(e)?e:String(e).split(/[,;]/).map(r=>r.trim()).filter(Boolean);return n.length?n.includes("all")||t.startsWith("bld.")&&n.includes("buildings")||t.startsWith("add.")&&n.includes("addons")||t.startsWith("rsd.")&&n.includes("research")?!0:n.includes(t):!1}function nk(e,t){const n=e??"all",r=Ew(t);return n==="all"?!0:n==="solid"?r.startsWith("res.")&&!r.startsWith("res.water")&&!r.startsWith("res.oil"):n==="liquid"?r.startsWith("res.water")||r.startsWith("res.oil"):Ew(n)===r}function LB(e,t,{appliesToCtx:n="all",activeBuffs:r=[]}={}){let a=Number(e||0);if(!Number.isFinite(a)||!r?.length)return e;const s=Ew(t);for(const u of r){if((u?.kind||"")!=="res")continue;const c=u?.mode||"both";if(c!=="yield"&&c!=="both"||!tk(u?.applies_to||"all",n))continue;const d=u?.scope??u?.id??"all",f=u?.op||u?.type,p=Number(u?.amount||0);!Number.isFinite(p)||p===0||nk(d,s)&&(f==="adds"&&(a+=p),f==="subt"&&(a=Math.max(0,a-p)))}let o=1;for(const u of r){if((u?.kind||"")!=="res")continue;const c=u?.mode||"both";if(c!=="yield"&&c!=="both"||(u?.op||u?.type)!=="mult"||!tk(u?.applies_to||"all",n))continue;const d=u?.scope??u?.id??"all";if(!nk(d,s))continue;const f=Number(u?.amount||0);!Number.isFinite(f)||f===0||(o*=1+f/100)}return a*=o,a<0?0:a}function Aw(e){const t=String(e||"").trim().toLowerCase();return t.startsWith("res.")?t:`res.${t}`}function qB(e,t){return Aw(e)===Aw(t)}function IB(e,t,n){const r=n?.[e];if(!r||typeof r!="object")return!1;const a=e==="bld"?"bld.":e==="add"?"add.":e==="rsd"?"rsd.":"ani.",s=String(t).replace(/^(?:bld\.|add\.|rsd\.|ani\.)/i,""),o=a+s;if(r[o]||r[a+s])return!0;for(const u of Object.keys(r))if(u===o||u===a+s)return!0;return!1}function sG(e){const t=e||{},n=t.stats||{},r=["yield_period_s","yieldPeriodS","production_period_s","period_s"];for(const a of r){if(typeof t[a]=="number"&&t[a]>0)return t[a];if(typeof n[a]=="number"&&n[a]>0)return n[a]}return 3600}function oG(e){const t=[];if(!e)return t;const n=e.yield??e.yields??null,r=sG(e);if(!Array.isArray(n))return t;for(const a of n){const s=a.id??a.res??null,o=a.amount??a.qty??null;if(s==null||o==null)continue;const u=Number(o)*(3600/(r||3600));t.push({resourceId:String(s),perHour:u,period_s:r,amount_per_cycle:Number(o)})}return t}function lG(e,t){const n=[],r=a=>Array.isArray(a)&&a.forEach(s=>n.push(s));for(const a of["bld","add","rsd"]){const s=e?.[a]||{};for(const[o,u]of Object.entries(s))IB(a,o,t)&&r(u?.buffs)}return n}function uG({defs:e,state:t,resourceResId:n,positive:r,modeLc:a}){const s=t?.user||{},o=s.currentstage??s.stage??t?.currentstage??t?.stage??1,u=e?.stage_bonus_rules?.[o]||{},c={forest:Number(s.mul_forest??s.bonus_forest??0),mining:Number(s.mul_mining??s.bonus_mining??0),field:Number(s.mul_field??s.bonus_field??0),water:Number(s.mul_water??s.bonus_water??0)},d={forest:"Basebonus (Skov)",mining:"Basebonus (Mine)",field:"Basebonus (Mark)",water:"Basebonus (Vand)"};for(const[f,p]of Object.entries(u)){const v=c[f]||0;if(v<=0||!(p||[]).some(x=>qB(x,n)))continue;const _={sourceType:"base",sourceId:`stage.${o}.${f}`,name:d[f],perHour:Number(v)};_.perHour>0&&a!=="cost"&&r.push(_)}}function cG({defs:e,state:t,resource:n,mode:r="both"}={}){const a=String(n||"").trim();if(!a)return{positive:[],negative:[],meta:{resource:a,mode:r}};const s=String(r||"both").toLowerCase(),o=[],u=[],c=lG(e,t);for(const f of["bld","add","rsd","ani"]){const p=e?.[f]||{};for(const[v,y]of Object.entries(p)){if(!IB(f,v,t))continue;const _=(f==="bld"?"bld.":f==="add"?"add.":f==="rsd"?"rsd.":"ani.")+String(v).replace(/^(?:bld\.|add\.|rsd\.|ani\.)/i,""),x=oG(y);for(const w of x){if(!qB(w.resourceId,a))continue;let S=w.perHour;S=LB(S,Aw(a),{appliesToCtx:_,activeBuffs:c});const E={sourceType:f,sourceId:_,name:y?.name||v,perHour:S};S>0?s!=="cost"&&o.push(E):S<0&&s!=="give"&&u.push(E)}}}uG({defs:e,state:t,resourceResId:a,positive:o,modeLc:s});const d=(f,p)=>Math.abs(p.perHour)-Math.abs(f.perHour);return o.sort(d),u.sort(d),{positive:o,negative:u,meta:{resource:a,mode:s}}}function fG({defs:e,state:t,resource:n,mode:r="both",heading:a=""}){const{positive:s,negative:o}=cG({defs:e,state:t,resource:n,mode:r}),u=[];if(a&&u.push(a),r!=="cost")for(const c of s)u.push(`${c.sourceType.toUpperCase()}: ${c.name} (+${rk(c.perHour)}/t)`);if(r!=="give")for(const c of o)u.push(`${c.sourceType.toUpperCase()}: ${c.name} (${rk(c.perHour)}/t)`);return u.length?u.join(`
`):a||""}function rk(e){return Math.round((e??0)*100)/100}function Kd({items:e,defs:t,format:n="detailed",columns:r=1}){const{data:a}=Re(),s=a?.defs||{},o=a?.state||{},u=s.res||t||{},c=Object.entries(e||{}).sort();if(c.length===0)return g.jsx("div",{className:"sub",children:"Ingen"});if(n==="simple"){const d=c.map(([f,p])=>{const v=u[f];if(!v)return null;const y=`res.${f}`;let _="";try{_=fG({defs:s,state:o,resource:y,mode:"both",heading:v.name||f})}catch{_=""}const x=g.jsxs("div",{style:{maxWidth:420,maxHeight:320,overflowY:"auto",whiteSpace:"pre-wrap"},children:[g.jsxs("div",{style:{fontWeight:700,marginBottom:6},children:[v.emoji?`${v.emoji} `:"",v.name||f]}),g.jsxs("div",{style:{marginBottom:8,opacity:.85},children:["Mængde: ",_e(p),v.unit?` ${v.unit}`:""," • UnitSpace: ",Number(v.unitSpace??0)]}),_?g.jsx("div",{children:_}):g.jsx("div",{style:{opacity:.7},children:"Ingen passive kilder fundet."})]});return g.jsx(Kr,{content:x,style:{display:"block",width:"100%"},children:g.jsxs("div",{className:"row",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,padding:"2px 0",cursor:"pointer",minWidth:0},children:[g.jsxs("div",{className:"left",style:{display:"flex",alignItems:"center",gap:6,minWidth:0,flex:1},children:[g.jsx("span",{children:v.emoji}),g.jsx("span",{title:v.name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:v.name})]}),g.jsx("div",{className:"right",style:{fontWeight:600,marginLeft:8,flexShrink:0,fontVariantNumeric:"tabular-nums"},children:_e(p)})]})},f)});return g.jsx("div",{className:"resource-grid",style:{display:"grid",gridTemplateColumns:`repeat(${Math.max(1,Number(r)||1)}, minmax(0, 1fr))`,gap:6},children:d})}return n==="detailed"?c.map(([d,f])=>{const p=u[d];if(!p)return null;const v=(p.unitSpace||0)*f,y=p.unit?` ${p.unit}`:"";return g.jsx(PB,{icon:p.emoji,title:p.name,subtitle:`Fylder pr. enhed: ${p.unitSpace||0}`,value:`${_e(f)}${y} / Fylder: ${_e(v)} ialt`},d)}):null}function BB({format:e="simple",family:t=null}){const{data:n}=Re();if(!n)return null;const a=Object.entries(n.state.ani||{}).filter(([s,o])=>(o?.quantity||0)>0).sort().filter(([s])=>{const o=s.replace(/^ani\./,""),u=n.defs.ani?.[o];return u?t?String(u.family||"").split(",").map(d=>d.trim()).filter(Boolean).includes(t):!0:!1});return a.length===0?g.jsx("div",{className:"sub",children:"Ingen"}):a.map(([s,o])=>{const u=s.replace(/^ani\./,""),c=n.defs.ani?.[u];if(!c)return null;const d=Number(o.quantity||0),f=Math.abs(Number(c.stats?.animal_cap??0)),p=Math.abs(Number(c.stats?.healthUnitUsage??0));if(e==="simple")return g.jsxs("div",{className:"row",children:[g.jsxs("div",{className:"left",children:[g.jsx("span",{children:c.emoji}),g.jsx("span",{children:c.name})]}),g.jsx("div",{className:"right",children:g.jsx("strong",{children:_e(d)})})]},s);if(e==="detailed"){const v=p>0,y=v?`Forbruger ${p} health-unit pr. stk`:`Optager ${f} staldplads pr. stk`,_=v?`${_e(d)} stk / Forbrug ${_e(p*d)} health-units i alt`:`${_e(d)} stk / Fylder ${_e(f*d)} staldpladser i alt`;return g.jsx(PB,{icon:c.emoji,title:c.name,subtitle:y,value:_},s)}return null})}const dG=["yield_paid","yield_lost","build_completed","build_canceled"];function Oa(e){return e<10?"0"+e:""+e}function hG(e){const t=new Date(Date.now()-e),n=t.getUTCFullYear(),r=Oa(t.getUTCMonth()+1),a=Oa(t.getUTCDate()),s=Oa(t.getUTCHours()),o=Oa(t.getUTCMinutes()),u=Oa(t.getUTCSeconds());return`${n}-${r}-${a} ${s}:${o}:${u}`}function pG(e,t=!0){const n=t?new Date(e.replace(" ","T")+"Z"):new Date(e),r=n.getFullYear(),a=Oa(n.getMonth()+1),s=Oa(n.getDate()),o=Oa(n.getHours()),u=Oa(n.getMinutes()),c=Oa(n.getSeconds());return`${r}-${a}-${s} ${o}:${u}:${c}`}function mG(e,t){return e&&(String(e).startsWith(t)?String(e).slice(t.length):String(e))}function vG(e,t,n){if(!e)return`${t}.${n}`;const r={bld:"bld",add:"add",rcp:"rcp",rsd:"rsd",ani:"ani"}[t];if(!r||!e[r])return`${t}.${n}`;const a=e[r][n];return a&&(a.display_name||a.name||a.title)||`${t}.${n}`}function ak(e,t){const n=mG(t,"res.");return!e||!e.res||!e.res[n]?t:e.res[n].name||e.res[n].display_name||t}function gG(e){if(!e)return!1;const t=String(e).toLowerCase();return t.includes("upg")||t==="upgrade"||t==="opgrade"||t==="opgradering"}function yG({endpoint:e="/world-spil/backend/api/user_log.php",initialSinceMs:t=24*3600*1e3,pollMs:n=3e4,limit:r=200,maxRender:a=60,showTypes:s=dG,timesAreUTC:o=!0}){const{data:u}=Re(),c=u?.defs||null,[d,f]=T.useState(t),[p,v]=T.useState([]),[y,_]=T.useState(!1),[x,w]=T.useState(null),S=T.useRef(null),E=T.useMemo(()=>[{label:"1t",value:1*3600*1e3},{label:"6t",value:6*3600*1e3},{label:"24t",value:24*3600*1e3},{label:"7d",value:168*3600*1e3},{label:"30d",value:720*3600*1e3}],[]);async function O(){_(!0),w(null);try{const k=hG(d),C=new URLSearchParams;C.set("from",k),C.set("limit",String(r));const q=`${e}?${C.toString()}`,P=await fetch(q,{credentials:"include"});if(!P.ok)throw new Error(`HTTP ${P.status}`);const M=await P.json(),B=(Array.isArray(M.items)?M.items:[]).filter(z=>s.includes(z.event_type));B.sort((z,D)=>z.event_time<D.event_time?1:-1),v(B.slice(0,a))}catch(k){w(String(k.message||k))}finally{_(!1)}}T.useEffect(()=>{if(O(),n>0)return S.current=setInterval(O,n),()=>clearInterval(S.current)},[d,e,n,r,a,JSON.stringify(s)]);function A(k){const C=k.subject_scope,q=(k.subject_key||"").split(".").slice(1).join(".")||k.subject_key,P=vG(c,C,q);if(k.event_type==="yield_paid"){const L=(Array.isArray(k.payload)?k.payload:[]).map(z=>{const D=ak(c,z.res_id),H=Number(z.amount);return`${H%1===0?H:H.toFixed(2)}× ${D}`});return{text:`${C==="ani"?`Dit ${P}`:P} gav ${L.join(", ")} i udbytte`,className:"sl-yield"}}if(k.event_type==="yield_lost"){const L=(Array.isArray(k.payload)?k.payload:[]).map(z=>{const D=ak(c,z.res_id),H=Number(z.amount);return`${H%1===0?H:H.toFixed(2)}× ${D}`});return{text:`${C==="ani"?`Dit ${P}`:P} tabte ${L.join(", ")} (ingen plads)`,className:"sl-yield-lost"}}return k.event_type==="build_completed"?gG(k.mode)?{text:`Opgradering af ${P} færdig`,className:"sl-completed"}:{text:`${N(C)} ${P} færdig`,className:"sl-completed"}:k.event_type==="build_canceled"?{text:`Annulleret: ${N(C)} ${P}`,className:"sl-canceled"}:{text:`${k.event_type}: ${C}.${q}`,className:""}}function N(k){switch(k){case"bld":return"Bygning";case"add":return"Addon";case"rcp":return"Opskrift";case"rsd":return"Research";case"ani":return"Dyr";default:return k||"Emne"}}return g.jsxs("div",{className:"sidebar-log",children:[g.jsxs("div",{className:"sl-header",children:[g.jsx("div",{className:"sl-title",children:"Aktivitet"}),g.jsx("select",{value:String(d),onChange:k=>f(parseInt(k.target.value,10)),children:E.map(k=>g.jsx("option",{value:k.value,children:k.label},k.value))}),g.jsx("button",{onClick:O,children:"Opdatér"})]}),x&&g.jsxs("div",{className:"sl-error",children:["Fejl: ",x]}),y&&g.jsx("div",{className:"sl-loading",children:"Henter..."}),g.jsxs("ul",{className:"sl-list",children:[p.map((k,C)=>{const{text:q,className:P}=A(k);return g.jsxs("li",{className:"sl-item",children:[g.jsxs("span",{className:"sl-time",children:[pG(k.event_time,o),":"]}),g.jsx("span",{className:`sl-body ${P}`,children:q})]},C)}),!p.length&&!y&&!x&&g.jsx("li",{className:"sl-item sl-empty",children:"Ingen hændelser i valgt periode"})]})]})}function bG({label:e,used:t=0,capacity:n=0,hoverContent:r=null,scaleMaxDelta:a=0}){const s=Math.max(0,Number(t)||0),o=Math.max(0,Number(n)||0),u=o>0?s/o*100:s>0?200:0,c=Math.round(u),d=Math.abs(u-100),f=a>0?Math.min(100,d/a*100):Math.min(100,d),p=u>100,v=u>=200?"linear-gradient(90deg,#6b0505,#3c0200)":"linear-gradient(90deg,#ff7b72,#d9534f)",_=p?v:"linear-gradient(90deg,#2c7be5,#06b6d4)",x=p||c>=60?"#fff":"#cbd5e1",S=g.jsxs("div",{role:"group","aria-label":`${e} kapacitet`,title:typeof r=="string"?r:void 0,style:{position:"relative",width:"100%",height:20,borderRadius:8,overflow:"hidden",background:"linear-gradient(90deg,#0b1220,#0f1724)",border:"1px solid rgba(255,255,255,0.03)",boxShadow:"inset 0 -1px 0 rgba(0,0,0,0.25)",display:"flex",alignItems:"center",padding:"0 10px",gap:10},children:[f>0&&g.jsx("div",{"aria-hidden":!0,style:{position:"absolute",left:0,top:0,bottom:0,width:`${f}%`,background:_,transition:"width 260ms ease",zIndex:0}}),g.jsx("div",{"aria-hidden":!0,style:{position:"absolute",left:"100%",top:3,bottom:3,width:2,transform:"translateX(-100%)",background:"rgba(255,255,255,0.06)",borderRadius:2,zIndex:1}}),g.jsxs("div",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",pointerEvents:"none"},children:[g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:2},children:g.jsxs("div",{style:{fontSize:11,fontWeight:700,color:"#cbd5e1"},children:[e," (",s.toLocaleString()," / ",o.toLocaleString(),")"]})}),g.jsxs("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums",fontWeight:700,color:x,fontSize:12},children:[Math.round(u),"%",!p&&u<100&&g.jsxs("span",{style:{marginLeft:8,color:"#9ae6ff",fontWeight:600},children:["-",Math.round(100-u),"%"]}),p&&g.jsxs("span",{style:{marginLeft:8,color:u>=200?"#ffdede":"#ffd6d6",fontWeight:600},children:["+",Math.round(u-100),"%"]})]})]})]});return r?g.jsx(Kr,{content:r,children:S}):S}const xG=["bld","add","rsd","ani","res"];function ik(e){return String(e||"").replace(/^(bld|add|rsd|ani|res)\./,"")}function sk(e){return String(e||"").replace(/\.l\d+$/i,"")}function _G(e){const t={};for(const r of xG){const a=e?.[r]||{},s={};for(const o of Object.keys(a)){const u=a[o];if(!u)continue;const c=u.name||u.label||u.title||o,d=o,f=ik(o),p=sk(f);s[d]=c,s[f]=s[f]||c,s[p]=s[p]||c}t[r]=s}function n(r,a){if(a&&typeof a=="object"&&a.name&&a.name!==a.id)return a.name;const s=typeof a=="string"?a:String(a?.id??a?.type??"");if(!s)return"Ukendt";const o=t[r]||{},u=ik(s),c=sk(u),d=o[s]||o[u]||o[c]||null;return d||c.replace(/_/g," ").replace(/\./g," ").replace(/([a-z])([A-Z])/g,"$1 $2").split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ")}return{resolve:n}}const zs=e=>Number(e||0).toLocaleString("da-DK",{maximumFractionDigits:2});function ok({label:e,list:t,defs:n,partsList:r}){if(!t)return null;const a=T.useMemo(()=>_G(n),[n]),o=[["buildings","Bygninger"],["addon","Addons"],["research","Forskning"],["animals","Dyr"],["inventory","Lager"],["citizens","Borgere"]].filter(([d])=>Array.isArray(t?.[d])&&t[d].length>0);if(o.length===0)return null;const u={buildings:"bld",addon:"add",research:"rsd",animals:"ani",inventory:"res"},c=({items:d,familyKey:f})=>!Array.isArray(d)||d.length===0?null:g.jsx("div",{style:{display:"grid",gap:4},children:d.map((p,v)=>{const y=u[f],_=a.resolve(y,p),x=p?.amount??p?.value??p?.val??(typeof p=="number"?p:0);return g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[g.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:_}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:Number(x||0).toLocaleString("da-DK",{maximumFractionDigits:2})})]},v)})});return g.jsxs("div",{style:{display:"grid",gap:6},children:[g.jsx("div",{style:{fontWeight:700},children:e}),o.map(([d,f])=>g.jsxs("div",{style:{display:"grid",gap:2},children:[g.jsx("div",{style:{fontSize:12,opacity:.7},children:f}),g.jsx(c,{items:t?.[d],familyKey:d})]},d))]})}function lk({label:e,usage:t}){if(!t)return null;const n=t.breakdown||{},a=["baby","kids","young","adults","old","crime"].map(u=>[u,Number(n[u]||0)]).filter(([,u])=>u!==0),s=Number(t.infra||0),o=Number(t.total||0);return g.jsxs("div",{style:{display:"grid",gap:6},children:[g.jsx("div",{style:{fontWeight:700},children:e}),g.jsxs("div",{style:{display:"grid",gap:4},children:[a.length===0?g.jsx("div",{style:{opacity:.6},children:"—"}):a.map(([u,c])=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[g.jsx("span",{style:{textTransform:"capitalize"},children:u}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:zs(c)})]},u)),s!==0&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[g.jsx("span",{children:"Infra"}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:zs(s)})]})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8,borderTop:"1px solid #e5e7eb",paddingTop:6,fontWeight:600},children:[g.jsx("span",{children:"Total"}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:zs(o)})]})]})}function wG({open:e,onClose:t,content:n,panelRef:r,locked:a}){const s=T.useRef(null),o=r||s;return T.useEffect(()=>{if(!e)return;const u=c=>{c.key==="Escape"&&t?.()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[e,t]),e?g.jsx("div",{ref:o,style:{position:"fixed",right:12,bottom:12,zIndex:50,width:420,maxWidth:"calc(100vw - 24px)",maxHeight:"60vh",overflow:"auto",background:"#ffffff",color:"#0b1220",boxShadow:"0 10px 25px rgba(0,0,0,0.15)",border:"1px solid #e5e7eb",borderRadius:8,padding:12,display:"grid",gap:10,fontFamily:"Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial",fontSize:12,lineHeight:1.3},onMouseLeave:()=>{a||t?.()},children:g.jsx("div",{style:{display:"grid",gap:8},children:n})}):null}function SG(){const{data:e}=pi(),{data:t}=Re(),n=zS(),r=t?.defs||{},a=e?.usages||{},s=e?.capacities||{},o=e?.partsList||{},u=e?.metricsMeta||{},c=Number(t?.state?.user?.currentstage??0),d=T.useMemo(()=>{if(!u)return[];const A=Object.entries(u).filter(([N,k])=>{const C=Number(k?.stage?.unlock_at??1),q=c>=C,P=!k?.parent,M=!!((k?.usageField||"").length||(k?.capacityField||"").length);return q&&P&&M});return A.sort((N,k)=>{const C=(N[1]?.label||N[0]).toLowerCase(),q=(k[1]?.label||k[0]).toLowerCase();return C.localeCompare(q)}),A.map(([N,k])=>{const C=n?.[N]||k?.label||N,q=k?.usageField||"",P=k?.capacityField||"",M=q?Number(a[q]?.total||0):0,L=P?Number(s[P]||0):0;return{key:N,label:C,used:M,cap:L}})},[u,c,a,s]),[f,p]=T.useState(null),[v,y]=T.useState(!1),_=T.useRef(null),x=T.useRef(null),w=O=>{_.current&&clearTimeout(_.current),p(O)},S=()=>{_.current&&clearTimeout(_.current),!v&&(_.current=setTimeout(()=>p(null),120))};T.useEffect(()=>{if(!v)return;const O=A=>{const N=x.current;N&&N.contains(A.target)||(y(!1),p(null))};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[v]);const E=T.useMemo(()=>!f||!u?.[f]?null:(A=>{const N=u[A]||{},k=n?.[A]||N.label||A,C=N.usageField||"",q=N.capacityField||"",P=Array.isArray(N.subs)?N.subs:[],M=C?a[C]:null,L=q?o[q]:null,B=P.filter(H=>{const I=u[H];if(!I)return!1;const F=Number(I?.stage?.unlock_at??1);return c>=F}),z=C?Number(a[C]?.total||0):0,D=q?Number(s[q]||0):0;return g.jsxs("div",{style:{display:"grid",gap:12},children:[g.jsx("div",{style:{fontSize:13,fontWeight:800},children:k}),g.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[g.jsxs("div",{style:{flex:"1 1 180px",minWidth:220},children:[g.jsx("div",{style:{fontSize:10,opacity:.7,marginBottom:4},children:"Brug (usage)"}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Total"}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:zs(z)})]})]}),g.jsxs("div",{style:{flex:"1 1 180px",minWidth:220},children:[g.jsx("div",{style:{fontSize:10,opacity:.7,marginBottom:4},children:"Kapacitet (capacity)"}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Total"}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:zs(D)})]})]})]}),M&&g.jsx(lk,{label:"Usage – opdeling",usage:M}),L&&g.jsx(ok,{label:"Capacity – kilder",list:L,defs:r,partsList:o}),B.length>0&&g.jsxs("div",{style:{display:"grid",gap:10},children:[g.jsx("div",{style:{fontWeight:700,marginTop:6},children:"Underområder"}),B.map(H=>{const I=u[H]||{},F=n?.[H]||I.label||H,Q=I.usageField||"",Y=I.capacityField||"",$=Q?a[Q]:null,V=Y?o[Y]:null,Z=Q?Number(a[Q]?.total||0):0,ne=Y?Number(s[Y]||0):0;return g.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:8,display:"grid",gap:8},children:[g.jsx("div",{style:{fontWeight:700},children:F}),g.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[g.jsxs("div",{style:{flex:"1 1 180px",minWidth:220},children:[g.jsx("div",{style:{fontSize:10,opacity:.7,marginBottom:4},children:"Brug (usage)"}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Total"}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:zs(Z)})]})]}),g.jsxs("div",{style:{flex:"1 1 180px",minWidth:220},children:[g.jsx("div",{style:{fontSize:10,opacity:.7,marginBottom:4},children:"Kapacitet (capacity)"}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Total"}),g.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:zs(ne)})]})]})]}),$&&g.jsx(lk,{label:"Usage – opdeling",usage:$}),V&&g.jsx(ok,{label:"Capacity – kilder",list:V,defs:r,partsList:o})]},H)})]})]},A)})(f),[f,u,a,s,o,r,c]);return g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[d.map(O=>g.jsx("div",{onMouseEnter:()=>{v||w(O.key)},onMouseLeave:S,onClick:()=>{v||(p(O.key),y(!0))},style:{cursor:"pointer"},children:g.jsx(bG,{label:O.label,used:O.used,capacity:O.cap})},O.key)),g.jsx(wG,{open:!!f&&!!E,onClose:()=>{p(null),y(!1)},content:E,panelRef:x,locked:v})]})}function jG(){const{data:e}=Re(),t=Ht();if(!e)return g.jsx("aside",{id:"sidebar"});const{defs:n,state:r}=e,a=Number(r?.cap?.solid?.total??0),s=Number(r?.cap?.liquid?.total??0),o=Number(r?.cap?.solid?.used??0),u=Number(r?.cap?.liquid?.used??0);return g.jsxs("aside",{id:"sidebar",children:[g.jsxs("section",{className:"panel section res-panel",children:[g.jsxs("div",{className:"section-head",children:["Stats ",g.jsx("span",{style:{fontSize:8,opacity:.7},children:"(klik på bar for at låse hover - klik uden for hover for at deaktiverer):"})]}),g.jsx("div",{className:"section-body",children:g.jsx(SG,{})})]}),g.jsxs("section",{className:"panel section res-panel",children:[g.jsxs("div",{className:"section-head",children:["💧 ",t("ui.liquid.h1"),": ",_e(u),"/",_e(s)]}),g.jsx("div",{className:"section-body",children:g.jsx(Kd,{items:r.inv?.liquid,defs:n.res,format:"simple",columns:2})})]}),g.jsxs("section",{className:"panel section res-panel",children:[g.jsxs("div",{className:"section-head",children:["🧱 ",t("ui.solid.h1"),": ",_e(o),"/",_e(a)]}),g.jsx("div",{className:"section-body",children:g.jsx(Kd,{items:r.inv?.solid,defs:n.res,format:"simple",columns:2})})]}),g.jsxs("section",{className:"panel section res-panel",children:[g.jsx("div",{className:"section-head",children:"🐾 Dyr"}),g.jsx("div",{className:"section-body",children:g.jsx(BB,{format:"simple"})})]}),g.jsxs("section",{className:"panel section res-panel",children:[g.jsx("div",{className:"section-head",children:"📰 Log"}),g.jsx("div",{className:"section-body",children:g.jsx(yG,{})})]})]})}function EG({activePage:e}){const t=[{page:"dashboard",title:"Dashboard",icon:"🏠"},{page:"buildings",title:"Buildings",icon:"🏗️"},{page:"research",title:"Research",icon:"🔬"},{page:"unit",title:"Units",icon:"🐄"},{page:"inventory",title:"Inventory",icon:"📦"},{page:"production",title:"Productions",icon:"🏭"},{page:"flowchart",title:"Flowchart",icon:"📂"},{page:"userpage",title:"User",icon:"👤"},{page:"citizens",title:"Befolkning",icon:"👤"},{page:"management",title:"Camp management",icon:"🗺️"}];return g.jsx("nav",{className:"quickbar",children:t.map(n=>g.jsxs("a",{href:`#/${n.page}`,"data-page":n.page,title:n.title,className:e===n.page?"active":"",children:[n.icon,g.jsx("span",{children:n.title})]},n.page))})}function ld(e){if(!e)return 0;const t=String(e).match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2}):(\d{2})$/);if(!t)return 0;const[n,r,a,s,o,u,c]=t.map(Number);return Date.UTC(r,a-1,s,o,u,c)}function AG(){const{data:e}=Re()||{},t=e?.state?.jobs?.running;return T.useEffect(()=>{try{const a=localStorage.getItem("ActiveBuilds_v1");if(a){const s=JSON.parse(a);s&&typeof s=="object"&&(window.ActiveBuilds=s)}else window.ActiveBuilds=window.ActiveBuilds||{}}catch{window.ActiveBuilds=window.ActiveBuilds||{}}for(const[a,s]of Object.entries(window.ActiveBuilds||{}))s&&!s.startTs&&s.start_utc&&(s.startTs=ld(s.start_utc)),s&&!s.endTs&&s.end_utc&&(s.endTs=ld(s.end_utc),!s.endTs&&s.startTs&&s.durationS&&(s.endTs=s.startTs+s.durationS*1e3));const n=()=>{try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds||{}))}catch{}},r=setInterval(n,5e3);return window.addEventListener("beforeunload",n),window.addEventListener("storage",a=>{if(a.key==="ActiveBuilds_v1"&&a.newValue)try{window.ActiveBuilds=JSON.parse(a.newValue)||{}}catch{}}),()=>{clearInterval(r),window.removeEventListener("beforeunload",n)}},[]),T.useEffect(()=>{if(!Array.isArray(t))return;window.ActiveBuilds=window.ActiveBuilds||{};const n=window.ActiveBuilds,r={};for(const a of t){if(!a||!a.bld_id)continue;const s=a.start_utc||"",o=ld(s),u=Number(a.duration_s||0);let c=a.end_utc||"",d=ld(c);if(!d&&o&&u>0&&(d=o+u*1e3,!c&&d)){const p=new Date(d).toISOString();c=`${p.slice(0,10)} ${p.slice(11,19)}`}r[a.bld_id]={...n[a.bld_id]||{},jobId:a.id,start_utc:s,end_utc:c,durationS:u,startTs:o||void 0,endTs:d||void 0}}window.ActiveBuilds=r;try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds))}catch{}},[t]),null}function uk(e){if(!e)return 0;const t=String(e).match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2}):(\d{2})$/);if(!t)return 0;const[n,r,a,s,o,u,c]=t.map(Number);return Date.UTC(r,a-1,s,o,u,c)}function OG(){const{refreshData:e,applyResourceDeltaMap:t}=Re()||{},n=T.useRef(null);return T.useEffect(()=>{function r(){window.ActiveBuilds=window.ActiveBuilds||{};try{const o=localStorage.getItem("ActiveBuilds_v1");o&&!Object.keys(window.ActiveBuilds).length&&(window.ActiveBuilds=JSON.parse(o)||{})}catch{}}r();async function a(o,u){const c=Date.now();if(!(!u||(!u.startTs&&u.start_utc&&(u.startTs=uk(u.start_utc)),!u.endTs&&u.end_utc&&(u.endTs=uk(u.end_utc)),!u.endTs)||c-u.endTs<2e3)&&!u._completing&&!(u.nextCheckTs&&c<u.nextCheckTs)){u._completing=!0;try{const f=await fetch("/world-spil/backend/api/actions/build_complete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:u.jobId})});if(f.ok){const p=await f.json();if(p.ok){delete window.ActiveBuilds[o];try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds))}catch{}p.delta&&p.delta.resources&&t&&t(p.delta.resources),e&&e()}else u._completing=!1,u.nextCheckTs=c+1500}else u._completing=!1,u.nextCheckTs=c+1500}catch{u._completing=!1,u.nextCheckTs=Date.now()+3e3}}}function s(){try{r();for(const[o,u]of Object.entries(window.ActiveBuilds||{}))a(o,u);try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds))}catch{}}catch{}}return n.current=setInterval(s,1e3),()=>{n.current&&clearInterval(n.current)}},[t,e]),null}function TG({intervalMs:e=5e3}){const{refreshData:t}=Re()||{},n=T.useRef(null);return T.useEffect(()=>{function r(){if(document.visibilityState!=="visible")return;!!(window.ActiveBuilds&&Object.keys(window.ActiveBuilds).length>0)&&t&&t()}return n.current=setInterval(r,Math.max(2e3,e)),()=>{n.current&&clearInterval(n.current)}},[t,e]),null}function NG(e){return String(e).startsWith("rsd.")?"research":String(e).startsWith("add.")?"addon":String(e).startsWith("rcp.")?"recipe":"building"}function kG({jobId:e,job:t}){const{data:n,refreshData:r,applyLockedCostsDelta:a}=Re(),s=e.split(".")[0],o=e.replace(new RegExp(`^${s}\\.`),""),u=n?.defs?.[s]?.[o];if(!u)return null;const c=s==="rsd"?"#/research":`#/building/${Zn(e)?.family}.l1`,d=async f=>{f.preventDefault();let p=!1;try{if(window.BuildJobs?.cancel)await window.BuildJobs.cancel(e);else{const v=NG(e),y=t?.jobId||window.ActiveBuilds?.[e]?.jobId||0;if(!y)p=!0;else{const _=await fetch("/world-spil/backend/api/actions/build_cancel.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,job_id:y,scope:v})}),x=await _.text();let w=null;if(x)try{w=JSON.parse(x)}catch{}const S=_.ok&&w?.ok!==!1,E=w?.message||`HTTP ${_.status}`;if(S)Array.isArray(w?.locked_costs)&&w.locked_costs.length&&a&&a(w.locked_costs,1);else if(/job (not running|not found)/i.test(E))p=!0;else throw new Error(E||"Cancel failed")}}}catch(v){if(!p){console.error("Cancel failed",v);return}}try{window.ActiveBuilds&&(delete window.ActiveBuilds[e],localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds)))}catch{}r&&r()};return g.jsxs("div",{className:"item",children:[g.jsx("div",{className:"icon",children:u.icon||"⏱️"}),g.jsxs("div",{className:"grow",style:{display:"flex",flexDirection:"column",gap:4},children:[g.jsx("div",{className:"title",children:g.jsx("a",{href:c,className:"link",children:u.name})}),g.jsxs("div",{className:"build-progress","data-pb-for":e,style:{display:"block",width:"100%",marginTop:8},children:[g.jsx("div",{className:"pb-track",style:{position:"relative",height:12,background:"var(--border,#ddd)",borderRadius:6,overflow:"hidden"},children:g.jsx("div",{className:"pb-fill",style:{height:"100%",width:"0%",background:"var(--primary,#4aa)"}})}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,opacity:.8,marginTop:4},children:[g.jsx("span",{id:`time-remaining-${e.replace(/\./g,"-")}`}),g.jsx("span",{className:"pb-label",children:"0%"})]})]})]}),g.jsx("div",{className:"right",children:g.jsx("button",{className:"btn",onClick:d,"data-cancel-build":e,children:"Cancel"})})]})}function ud({type:e,title:t}){const n=window.ActiveBuilds||{},r=Object.entries(n).filter(([a])=>a.startsWith(`${e}.`));return r.length===0?g.jsxs("div",{className:"sub",children:["Ingen aktive ",t.toLowerCase(),"-jobs."]}):r.map(([a,s])=>g.jsx(kG,{jobId:a,job:s},a))}function CG(e,t){const n=[],r=a=>Array.isArray(a)&&a.forEach(s=>n.push(s));for(const a of["bld","add","rsd"]){const s=e?.[a]||{};for(const[o,u]of Object.entries(s))(a==="bld"?t?.bld?.[`bld.${o}`]:a==="add"?t?.add?.[`add.${o}`]:t?.rsd?.[o]||t?.rsd?.[`rsd.${o}`])&&r(u?.buffs)}return n}function MG({resId:e,data:t,defs:n}){const[r,a]=T.useState(!1),s=e.replace(/^res\./,""),o=n.res?.[s];if(!o)return null;const u=o.emoji||o.icon||"📦";return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"item collapsible-item",onClick:()=>a(!r),children:[g.jsx("div",{className:"icon",children:u}),g.jsx("div",{className:"grow",children:g.jsx("div",{className:"title",children:o.name||s})}),g.jsxs("div",{className:"right",children:[g.jsxs("strong",{children:["+",_e(Math.round(t.total))," / time"]}),g.jsx("span",{className:`chevron ${r?"expanded":""}`,children:"▶"})]})]}),r&&g.jsx("div",{className:"collapsible-content expanded",children:t.sources.map((c,d)=>{const f=c.quantity??1,p=c.amount/c.period_s*3600*f;return g.jsxs("div",{className:"yield-source-item",children:[g.jsxs("span",{children:[c.icon," ",c.name," ",f>1?`(x${f})`:""]}),g.jsxs("span",{children:["+",_e(p)," / time"]})]},d)})})]})}function $B(){const{data:e}=Re(),t=T.useMemo(()=>{if(!e)return{};const a={},s=e.defs||{},o=e.state||{},u=CG(s,o),c=(w,S,E)=>{a[w]||(a[w]={total:0,sources:[]}),a[w].total+=S,a[w].sources.push(E)},d=(w,S)=>(w==="bld"?"bld.":w==="add"?"add.":w==="rsd"?"rsd.":"ani.")+S,f=(w,S,E)=>{for(const[O,A]of Object.entries(w||{})){const N=O.replace(new RegExp(`^${E}\\.`),""),k=S[N];if(!k?.yield||!(k.yield_period_s>0))continue;const C=A.quantity||1,q=d(E,N);for(const P of k.yield){const M=Number(P.amount??P.qty??0),L=String(P.id??P.res_id??"");if(!L)continue;const B=M*(3600/k.yield_period_s),z=LB(B,L.startsWith("res.")?L:`res.${L}`,{appliesToCtx:q,activeBuffs:u}),D=z*(k.yield_period_s/3600);c(L,z*C,{name:k.name,icon:k.emoji||k.icon||"🏠",amount:D,period_s:k.yield_period_s,quantity:C})}}};f(o?.bld,s.bld||{},"bld"),f(o?.add,s.add||{},"add"),f(o?.ani,s.ani||{},"ani");const p=o?.user||{},v=p.currentstage??p.stage??o?.currentstage??o?.stage??1,y=s.stage_bonus_rules?.[v]||{},_={forest:Number(p.mul_forest??p.bonus_forest??0),mining:Number(p.mul_mining??p.bonus_mining??0),field:Number(p.mul_field??p.bonus_field??0),water:Number(p.mul_water??p.bonus_water??0)},x=w=>({forest:"Basebonus (Skov)",mining:"Basebonus (Mine)",field:"Basebonus (Mark)",water:"Basebonus (Vand)"})[w]||"Basebonus";for(const[w,S]of Object.entries(y)){const E=_[w]||0;if(!(E<=0))for(const O of S||[]){const A=String(O),N=E;c(A,N,{name:x(w),icon:"✨",amount:N,period_s:3600,quantity:1})}}return a},[e]),n=e?.defs||{};return Object.entries(t).sort((a,s)=>a[0].localeCompare(s[0])).map(([a,s])=>g.jsx(MG,{resId:a,data:s,defs:n},a))}function ck(){const e=Date.now();for(const t in window.ActiveBuilds||{}){const n=window.ActiveBuilds[t],r=document.getElementById(`time-remaining-${t.replace(/\./g,"-")}`);r&&(r.textContent=Zs((n.endTs-e)/1e3));const a=document.querySelector(`.build-progress[data-pb-for="${t}"]`);if(a){const s=a.querySelector(".pb-fill"),o=a.querySelector(".pb-label");if(s&&o){const u=Math.min(100,Math.round(Math.max(0,(e-n.startTs)/(n.endTs-n.startTs))*100));s.style.width=`${u}%`,o.textContent=`${u}%`}}}}function RG(){const{isLoading:e,error:t}=Re();return T.useEffect(()=>{ck();const n=setInterval(ck,1e3);return()=>clearInterval(n)},[]),e?g.jsx("div",{className:"sub",children:"Indlæser dashboard..."}):t?g.jsx("div",{className:"sub",children:"Fejl ved indlæsning af data."}):g.jsxs(g.Fragment,{children:[g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:"🏗️ Aktive Bygge-jobs"}),g.jsx("div",{className:"section-body",children:g.jsx(ud,{type:"bld",title:"Bygge"})})]}),g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:"➕ Aktive Addon-jobs"}),g.jsx("div",{className:"section-body",children:g.jsx(ud,{type:"add",title:"Addon"})})]}),g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:"🔬 Igangværende Forskning"}),g.jsx("div",{className:"section-body",children:g.jsx(ud,{type:"rsd",title:"Forsker"})})]}),g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:"🍲 Aktive Opskrifter"}),g.jsx("div",{className:"section-body",children:g.jsx(ud,{type:"rcp",title:"Opskrift"})})]}),g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:"📊 Passiv Produktion"}),g.jsx("div",{className:"section-body",children:g.jsx($B,{})})]})]})}(function(){if(!window.ActiveBuilds)try{const t=localStorage.getItem("ActiveBuilds_v1");window.ActiveBuilds=t?JSON.parse(t)||{}:{}}catch{window.ActiveBuilds={}}})();window.addEventListener("storage",e=>{if(e.key==="ActiveBuilds_v1"){try{window.ActiveBuilds=e.newValue?JSON.parse(e.newValue)||{}:{}}catch{window.ActiveBuilds={}}zB()}});const Ow=new Set;function DG(e){return Ow.add(e),()=>Ow.delete(e)}function zB(){Ow.forEach(e=>{try{e()}catch{}})}function PG(e){window.ActiveBuilds=e||{};try{localStorage.setItem("ActiveBuilds_v1",JSON.stringify(window.ActiveBuilds))}catch{}zB()}function sl(e){const n={...window.ActiveBuilds||{}};e(n),PG(n)}function LG(e){const t=()=>!!window.ActiveBuilds?.[e];return T.useSyncExternalStore(DG,t,t)}function Ac({item:e,allOk:t}){const{refreshData:n,applyLockedCostsDelta:r}=Re()||{};if(!e)return null;const{id:a,isUpgrade:s,isOwned:o,stageLocked:u,def:c}=e,d=(o??e.owned)||!1,f=e.stageReq??c?.stage??c?.stage_required,p=LG(a),[v,y]=T.useState(!1);T.useEffect(()=>{!p&&v&&y(!1)},[p,v]);const _=p||v,x=T.useMemo(()=>String(a).startsWith("rsd.")?"research":String(a).startsWith("add.")?"addon":String(a).startsWith("rcp.")?"recipe":"building",[a]),w=O=>{if(!O)return Date.now();const A=String(O).match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2}):(\d{2})$/);if(!A)return Date.now();const[N,k,C,q,P,M,L]=A.map(Number);return Date.UTC(k,C-1,q,P,M,L)},S=async()=>{try{if(window.BuildJobs?.start){const O=await window.BuildJobs.start(a);if(O&&O.job_id){const A=O;sl(N=>{N[a]={jobId:A.job_id,start_utc:A.start_utc,end_utc:A.end_utc,durationS:A.duration_s,startTs:w(A.start_utc),endTs:w(A.end_utc)}}),Array.isArray(A.locked_costs)&&A.locked_costs.length&&r&&r(A.locked_costs,-1)}else y(!0)}else{const O=await fetch("/world-spil/backend/api/actions/build_start.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,scope:x})});if(!O.ok)throw new Error(`HTTP ${O.status}`);const A=await O.json();if(!A.ok||!A.job_id)throw new Error(A.message||"Start failed");const N=A;sl(k=>{k[a]={jobId:N.job_id,start_utc:N.start_utc,end_utc:N.end_utc,durationS:N.duration_s,startTs:w(N.start_utc),endTs:w(N.end_utc)}}),Array.isArray(N.locked_costs)&&N.locked_costs.length&&r&&r(N.locked_costs,-1)}n&&n()}catch(O){console.error("Start build failed",O)}},E=async()=>{let O=!1;try{if(window.BuildJobs?.cancel)await window.BuildJobs.cancel(a),sl(A=>{delete A[a]});else{const A=window.ActiveBuilds?.[a]?.jobId;if(!A)O=!0;else{const N=await fetch("/world-spil/backend/api/actions/build_cancel.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,job_id:A,scope:x})}),k=await N.text();let C=null;if(k)try{C=JSON.parse(k)}catch{}const q=N.ok&&C?.ok!==!1,P=C?.message||`HTTP ${N.status}`;if(q)Array.isArray(C?.locked_costs)&&C.locked_costs.length&&r&&r(C.locked_costs,1);else if(/job (not running|not found)/i.test(P))O=!0;else throw new Error(P||"Cancel failed");sl(M=>{delete M[a]})}}}catch(A){if(!O){console.error("Cancel build failed",A);return}}O&&sl(A=>{delete A[a]}),y(!1),n&&n()};if(_)return g.jsx("button",{className:"btn",onClick:E,"data-cancel-build":a,children:"Cancel"});if(u)return g.jsx("span",{className:"badge stage-locked price-bad",title:f?`Kræver Stage ${f}`:void 0,children:"Stage locked"});if(d)return g.jsx("span",{className:"badge owned",children:"Owned"});if(t){const O=s?"Upgrade":"Build";return g.jsx("button",{className:"btn primary",onClick:S,"data-fakebuild-id":a,"data-buildmode":"timer",children:O})}return g.jsx("button",{className:"btn",disabled:!0,children:"Need more"})}function fk(e){if(!e)return 0;if(typeof e=="number")return e;const t=Date.parse(e);return Number.isFinite(t)?t:0}function Qs({bldId:e,style:t}){const{refreshData:n,applyResourceDeltaMap:r}=Re()||{},[a,s]=T.useState(0),[o,u]=T.useState(!1),[c,d]=T.useState("0%"),f=T.useRef(null),[p,v]=T.useState(!1),y=T.useRef(!1),_=T.useRef(0),x=()=>{const w=window.ActiveBuilds?.[e];if(!w)return null;let S=w.startTs??fk(w.start_utc),E=w.endTs??fk(w.end_utc);return(!S||!E)&&w.durationS&&S&&(E=S+w.durationS*1e3),{startTs:S,endTs:E}};return T.useEffect(()=>{async function w(){const S=x();if(!S||!S.startTs||!S.endTs){u(!1),s(0),d("0%");return}const E=Date.now(),O=Math.max(1,S.endTs-S.startTs),A=Math.max(0,Math.min(1,(E-S.startTs)/O));if(u(!0),s(A*100),d(`${Math.round(A*100)}%`),A>=1&&!p){if(E-S.endTs<2e3||y.current||E-_.current<1500)return;y.current=!0,_.current=E;try{const k=window.ActiveBuilds?.[e]?.jobId;if(k){const C=await fetch("/world-spil/backend/api/actions/build_complete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:k})});if(C.ok){const q=await C.json();q.ok?(v(!0),sl(P=>{delete P[e]}),q.delta&&q.delta.resources&&r&&r(q.delta.resources),n&&n()):y.current=!1}else y.current=!1}else y.current=!1}catch{y.current=!1}}}return w(),f.current=setInterval(w,250),()=>{f.current&&clearInterval(f.current)}},[e,p,r,n]),o?g.jsxs("div",{className:"build-progress",style:{minWidth:120,...t},children:[g.jsx("div",{className:"bar-wrap",style:{background:"#eee",borderRadius:6,height:10},children:g.jsx("div",{className:"bar",style:{height:"100%",width:`${a}%`,background:"#2c7be5",borderRadius:6,transition:"width 150ms linear"}})}),g.jsx("div",{className:"label",style:{fontSize:12,marginTop:4,textAlign:"right"},children:c})]}):null}function qG({id:e,needAmount:t}){const{data:n}=Re();let r=0,a=null;if(e.startsWith("ani.")){const u=e.replace(/^ani\./,"");a=n.defs.ani?.[u]??{emoji:"🐾",name:u},r=n.state.ani?.[e]?.quantity??0}else{const u=e.replace(/^res\./,"");a=n.defs.res?.[u]??{emoji:"❓",name:u},r=n.state.inv?.solid?.[u]??n.state.inv?.liquid?.[u]??0}const o=r>=t?"price-ok":"price-bad";return e.startsWith("ani.")?g.jsxs("span",{className:o,title:`${a.name}: ${_e(r)} / ${_e(t)}`,children:[_e(r)," / ",_e(t)," ",a.emoji||""]}):g.jsxs(g.Fragment,{children:[g.jsxs("span",{className:o,children:[a.emoji," ",_e(r)]}),g.jsxs("span",{className:"sub",children:["/ ",_e(t)]})]})}function IG({cost:e,transform:t}){const n=Object.values(tr(e)),r=t?n.map(a=>{const s=a.id.startsWith("res.")||a.id.startsWith("ani.")?a.id:a.id in(window?.data?.defs?.res||{})?`res.${a.id}`:a.id,o=t(s,a.amount);return{...a,id:s,amount:o}}):n;return r.length===0?null:r.map((a,s)=>g.jsxs(de.Fragment,{children:[s>0&&" • ",g.jsx(qG,{id:a.id,needAmount:a.amount})]},`${a.id}-${s}`))}function BG(e,t,{appliesToCtx:n,activeBuffs:r}){const a=Array.isArray(n)?n:[n];let s=0,o=0,u=1;for(const c of r||[]){if(c.kind!=="res"||!(c.mode==="cost"||c.mode==="both")||!(c.scope==="all"||c.scope===t||c.scope==="solid"&&t.startsWith("res.")||c.scope==="liquid"&&t.startsWith("res.")))continue;const f=c.applies_to==="all",p=Array.isArray(c.applies_to)&&a.some(v=>c.applies_to.includes(v));!f&&!p||(c.op==="adds"?s+=c.amount:c.op==="subt"?o+=c.amount:c.op==="mult"&&(u*=1-c.amount/100))}return u=Math.max(0,u),Math.max(0,(e+s-o)*u)}function UB(e,t,{appliesToCtx:n,activeBuffs:r}){const a=Array.isArray(n)?n:[n];let s=1;for(const o of r||[]){if(o.kind!=="speed"||!(o.actions==="all"||Array.isArray(o.actions)&&o.actions.includes(t)))continue;const c=o.applies_to==="all",d=Array.isArray(o.applies_to)&&a.some(f=>o.applies_to.includes(f));!c&&!d||o.op==="mult"&&(s*=1-o.amount/100)}return s=Math.max(.2,s),Math.max(0,e*s)}function mi({cost:e,ctx:t="all"}){const{data:n}=Re(),r=de.useMemo(()=>{const s=[],o=u=>Array.isArray(u)&&u.forEach(c=>s.push(c));for(const u of["bld","add","rsd"]){const c=n?.defs?.[u]||{};Object.values(c).forEach(d=>o(d.buffs))}return s},[n?.defs]),a=de.useCallback((s,o)=>{const u=s.startsWith("res.")?s:s in(n?.defs?.res||{})?`res.${s}`:s;return u.startsWith("res.")?BG(o,u,{appliesToCtx:t,activeBuffs:r}):o},[t,r,n?.defs?.res]);return g.jsx(IG,{cost:e,transform:a})}function $G({reqId:e}){const{data:t}=Re(),n=t?.state,r=t?.defs;let a=!1,s=e,o="#",u=e;if(e.startsWith("rsd.")){const c=e.slice(4);s=r?.rsd?.[c]?.name||c,a=rs(e,n),o=`#/research?focus=${encodeURIComponent(e)}`,u=a?`Fuldført: ${s}`:`Kræver: ${s}`}else if(e.startsWith("bld.")){const c=Zn(e);c&&(s=`${r?.bld?.[`${c.family}.l${c.level}`]?.name||c.family} L${c.level}`,a=(Na("bld",n)[c.series]||0)>=c.level,o="#/buildings",u=a?`Ejet: ${s}`:`Kræver: ${s}`)}else if(e.startsWith("add.")){const c=e.match(/^add\.(.+)\.l(\d+)$/);if(c){const[d,f]=[c[1],+c[2]];s=`${r?.add?.[e.replace(/^add\./,"")]?.name||d} L${f}`,a=(Na("add",n)[`add.${d}`]||0)>=f,o="#/building",u=a?`Ejet: ${s}`:`Kræver: ${s}`}}return g.jsx("a",{className:a?"price-ok":"price-bad",href:o,title:u,children:s})}function US({req:e}){const t=String(e||"").split(/[,;]/).map(n=>n.trim()).filter(Boolean);return t.length===0?null:g.jsx(g.Fragment,{children:t.map((n,r)=>g.jsxs(de.Fragment,{children:[r>0&&" • ",g.jsx($G,{reqId:n})]},`${n}-${r}`))})}function fc({icon:e,value:t,isOk:n=!0,title:r=""}){return!t&&t!==0?null:g.jsxs("span",{className:n?"price-ok":"price-bad",title:r,children:[e," ",t]})}function HS({price:e,reqString:t,duration:n,durationBase:r,durationText:a,footprint:s,footprintOk:o}){const u=[],c=Ht();if(e&&Object.keys(e).length&&u.push(g.jsx(mi,{cost:e},"price")),t&&u.push(g.jsx(US,{req:t},"req")),typeof s=="number"&&s!==0){const p=s>0,v=p?s:Math.abs(s),y=`${p?"+":""}${v} BP`;u.push(g.jsx(fc,{icon:c("ui.emoji.footprint.h1"),label:"",value:y,isOk:p||o},"footprint"))}const d=a||(n!=null?Zs(n):null);if(d){const v=n!=null&&r!=null&&Math.round(n)!==Math.round(r)?`Normal: ${Zs(r??0)}`:void 0;u.push(g.jsx("span",{title:v,children:g.jsx(fc,{icon:c("ui.emoji.time.h1"),label:"",value:d,isOk:!0})},"time"))}if(!u.length)return g.jsx("div",{className:"sub",style:{marginTop:4},children:"-"});const f=u.flatMap((p,v)=>v===0?[p]:[g.jsx("span",{children:"|"},`sep-${v}`),p]);return g.jsx("div",{className:"sub",style:{marginTop:4,display:"flex",flexWrap:"wrap",alignItems:"center",gap:"8px"},children:f})}function zG(e){return String(e?.id||"").startsWith("rsd.")?"produce":e?.isUpgrade||(e?.ownedMax??0)>0?"upgrade":"build"}function UG(e){const t=[],n=r=>Array.isArray(r)&&r.forEach(a=>t.push(a));for(const r of["bld","add","rsd"]){const a=e?.[r]||{};Object.values(a).forEach(s=>n(s?.buffs))}return t}function Yd(e={}){const t={};for(const n of Object.keys(e||{})){const r=n.match(/^(\w+)\.(.+)\.l(\d+)$/);if(!r)continue;const[,a,s,o]=r,u=`${a}.${s}`;t[u]=Math.max(t[u]||0,Number(o))}return t}function Uh(e){const t={},n=e?.rsd||{};for(const a of Object.keys(n)){const s=a.match(/^rsd\.(.+)\.l(\d+)$/);if(!s)continue;const[,o,u]=s,c=`rsd.${o}`;t[c]=Math.max(t[c]||0,Number(u))}const r=e?.research?.completed;if(r){const a=r instanceof Set?Array.from(r):Object.keys(r);for(const s of a){const o=String(s).match(/^rsd\.(.+)\.l(\d+)$/);if(!o)continue;const[,u,c]=o,d=`rsd.${u}`;t[d]=Math.max(t[d]||0,Number(c))}}return t}function HG(e){if(!e)return{array:[],text:""};if(Array.isArray(e)){const n=e.map(r=>String(r)).filter(Boolean);return{array:n,text:n.join(", ")}}const t=String(e).split(/[,;]/).map(n=>n.trim()).filter(Boolean);return{array:t,text:t.join(", ")}}function Hh(e,t,n={}){if(!e)return{normalizedPrice:{},priceOk:!1,reqIds:[],reqString:"",footprintCost:0,footprintBonus:0,footprintDelta:0,footprintOk:!0,allOk:!1,duration:{base_s:0,final_s:0,action:"build"}};const r=tr(e.price||{});let a=!0;for(const N of Object.values(r)){let k=0;if(N.id.startsWith("ani."))k=t.ani?.[N.id]?.quantity??0;else{const C=N.id.replace(/^res\./,"");k=t.inv?.solid?.[C]??t.inv?.liquid?.[C]??0}if(k<N.amount){a=!1;break}}const{array:s,text:o}=HG(e.req),u=n.ownedBuildings||Yd(t.bld),c=n.ownedAddons||Yd(t.add),d=n.ownedResearch||Uh(t),f=n.hasResearch||(N=>{const k=String(N),C=k.match(/^rsd\.(.+)\.l(\d+)$/);if(C){const[,P,M]=C,L=`rsd.${P}`;if((d[L]||0)>=Number(M))return!0}else{const P=`rsd.${k.replace(/^rsd\./,"")}`;if((d[P]||0)>0)return!0}const q=k.replace(/^rsd\./,"");return!!(t?.research?.[q]||t?.rsd?.[q]||t?.rsd?.[k])});let p=!0;for(const N of s){let k=!1;if(N.startsWith("bld.")){const C=Zn(N);C&&(k=(u[C.series]||0)>=C.level)}else if(N.startsWith("add.")){const C=N.match(/^add\.(.+)\.l(\d+)$/);C&&(k=(c[`add.${C[1]}`]||0)>=Number(C[2]))}else N.startsWith("rsd.")&&(k=f(N));if(!k){p=!1;break}}const v=Number(e.footprintDelta??0),y=v<0?Math.abs(v):0,_=v>0?v:0;let x=!0;if(y>0){const N=t.cap?.footprint||{total:0,used:0};x=(N.total||0)-Math.abs(N.used||0)>=y}const w=a&&p&&x,S=Number(e.duration_s??0),E=zG(e),O=n.activeBuffs||[],A=S>0?UB(S,E,{appliesToCtx:e.id,activeBuffs:O}):0;return{normalizedPrice:r,reqIds:s,reqString:o,footprintCost:y,footprintBonus:_,footprintDelta:v,footprintOk:x,allOk:w,duration:{base_s:S,final_s:A,action:E}}}function FG(e,t){if(!e)return"";if(e.startsWith("res.")){const n=e.replace(/^res\./,"");return t.res?.[n]?.emoji||""}if(e.startsWith("ani.")){const n=e.replace(/^ani\./,"");return t.ani?.[n]?.emoji||""}return""}function dk(e,t,n){const r=tr(e);return Object.keys(r).length?Object.values(r).map(a=>{const s=FG(a.id,t)||"",o=Number(a.amount||0);return`${n==="+"?"+":"-"}${o}${s}`}).join(" • "):n==="+"?"":"-"}function Js({children:e,content:t,cardStyle:n,delayOpen:r=100,delayClose:a=120,dockBottom:s=78,dockRight:o=16}){const[u,c]=T.useState(!1),[d,f]=T.useState(!!t),p=T.useRef(null),v=T.useRef(null),y=()=>{p.current&&(clearTimeout(p.current),p.current=null),v.current&&(clearTimeout(v.current),v.current=null)},_=T.useCallback(()=>{y(),t&&(f(!0),p.current=setTimeout(()=>c(!0),r))},[t,r]),x=T.useCallback(()=>{y(),v.current=setTimeout(()=>c(!1),a)},[a]),w=T.useCallback(()=>{y()},[]),S=T.useCallback(()=>{y(),v.current=setTimeout(()=>c(!1),a)},[a]);let E=e;if(T.isValidElement(e)){const O=e.props?.onMouseEnter,A=e.props?.onMouseLeave;E=T.cloneElement(e,{onMouseEnter:N=>{O?.(N),_()},onMouseLeave:N=>{A?.(N),x()}})}else E=g.jsx("div",{onMouseEnter:_,onMouseLeave:x,style:{display:"block"},children:e});return g.jsxs(g.Fragment,{children:[E,u&&d&&g.jsx("div",{onMouseEnter:w,onMouseLeave:S,style:{position:"fixed",zIndex:1e3,bottom:s,right:o,maxWidth:440,minWidth:280,pointerEvents:"auto"},children:g.jsx("div",{className:"panel",style:{background:"#fff",border:"1px solid var(--border)",borderRadius:8,boxShadow:"0 8px 28px rgba(255, 255, 255, 0.28)",padding:12,color:"#222",fontSize:14,...n},children:t})})]})}function GG(e){if(!e)return{};if(typeof e=="object")return e;if(typeof e=="string"){const t=e.split(";").map(r=>r.trim()).filter(Boolean),n={};for(const r of t){const[a,s=""]=r.split("=",2).map(u=>u.trim());if(a==="")continue;const o=Number(s);n[a]=!Number.isNaN(o)&&s!==""?o:s}return n}return{}}function pl({def:e,translations:t={}}){const n=GG(e?.stats??e?.stat??{}),r=BF(),a=o=>{const u=t[`stat.${o}.label`]??t[`${o}.label`]??null,c=t[`stat.${o}.desc`]??t[`${o}.desc`]??null;return u||c?{label:u||o,desc:c||""}:r[o]?{label:r[o].label||o,desc:r[o].desc||""}:{label:o.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),desc:""}},s=Object.entries(n).filter(([o])=>o&&o!=="id").map(([o,u])=>{const{label:c,desc:d}=a(o),f=String(o).toLowerCase();let p="";f.includes("cap")||f.includes("capacity")||f.includes("footprint")||f.includes("housing")?p="+":(f.includes("usage")||f.includes("use"))&&(p="-");let v;typeof u=="number"?v=new Intl.NumberFormat("da-DK",{maximumFractionDigits:0,signDisplay:"always"}).format(u):v=`${p}${String(u)}`;let y="#000000ff";return typeof u=="number"&&u<0?y="#ff6b6b":p==="+"?y="#16a34a":p==="-"&&(y="#ef4444"),{key:o,label:c,desc:d,value:u,display:v,color:y}});return s.length===0?g.jsx("div",{style:{maxWidth:320,color:"#666"},children:"Ingen stats."}):g.jsxs("div",{style:{maxWidth:380},children:[g.jsxs("div",{style:{fontWeight:700,marginBottom:0},children:[e?.display_name??e?.name??e?.id," "]}),g.jsx("div",{style:{fontWeight:0,marginBottom:8,fontSize:11,color:"#666"},children:e?.display_desc??e?.desc??e?.id}),g.jsx("div",{style:{display:"grid",gap:6},children:s.map(o=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12},children:[g.jsxs("div",{style:{minWidth:140},children:[g.jsx("div",{style:{fontSize:13,fontWeight:600},children:o.label}),o.desc?g.jsx("div",{style:{fontSize:11,color:"#666"},children:o.desc}):null]}),g.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums",minWidth:60,color:o.color},children:o.display})]},o.key))})]})}function HB({entry:e,state:t,baseOwned:n,requirementCaches:r}){const{def:a,fullId:s,stageReq:o,stageOk:u,ownedLevel:c,displayLevel:d}=e,f=Ht(),{data:p}=Re(),v=p?.i18n?.current??{},y=Hh({id:s,price:a.cost||{},req:a.require||a.req||"",duration_s:Number(a.duration_s??0)},t,r),_={id:s,price:a.cost||{},req:a.require||a.req||"",duration_s:Number(a.duration_s??0),isUpgrade:d>1,isOwned:c>=d,owned:c>=d,stageLocked:!u,stageReq:o,def:a},x=y.duration?.final_s??null,w=y.duration?.base_s??null,E=x!=null&&w!=null&&Math.round(x)!==Math.round(w)?null:a.time_str||a.duration_text||null,O=g.jsx(pl,{def:a,translations:v}),A=g.jsxs("div",{className:"item","data-research-row":s,children:[g.jsx("div",{className:"icon",children:f("ui.emoji.research.h1")}),g.jsxs("div",{className:"grow",children:[g.jsxs("div",{className:"title",children:[a.name||s,!u&&g.jsx("span",{className:"badge stage-locked price-bad",title:`${f("ui.text.demandingstage.h1")} ${o}`,style:{marginLeft:8},children:f("ui.text.stagelocked.h1")})]}),a.desc?g.jsxs("div",{className:"sub",children:[f("ui.emoji.recipe.h1")," ",a.desc]}):null,g.jsx(HS,{price:a.cost||{},reqString:y.reqString,duration:x,durationBase:w,durationText:E,footprint:0,footprintOk:!0})]}),g.jsx("div",{className:"right",children:y.allOk&&u?g.jsxs(g.Fragment,{children:[g.jsx(Ac,{item:_,allOk:!0}),g.jsx(Qs,{bldId:s})]}):g.jsx("button",{className:"btn",disabled:!0,title:y.reqString||f("ui.btn.needmore.h1"),children:f("ui.btn.needmore.h1")})})]});return g.jsx(Js,{content:O,style:{display:"block",width:"100%"},children:A})}function cg(e){const t=Number(e);return Number.isFinite(t)?t:0}function FB(e){const t=/^(.+)\.l(\d+)$/.exec(e);return t?{base:t[1],lvl:Number(t[2])}:{base:e,lvl:1}}function hk(e){return FB(e).base}function KG(){const e=Ht(),{data:t}=Re();if(!t)return g.jsx("div",{children:e?.("ui.loading")??"Indlæser..."});const r=(t.defs||{}).rsd||{},a=t.state||{},s=Number(a.user?.currentstage||0),o=T.useMemo(()=>{const M={};for(const[L,B]of Object.entries(r)){const z=B.family||"misc",D=String(z).split(",").map(Q=>Q.trim()).filter(Boolean);D.length===0&&D.push("misc");const H=L,I=L.startsWith("rsd.")?L:`rsd.${L}`,F={id:H,fullId:I,def:B,displayLevel:FB(I).lvl,stageReq:cg(B.stage)};for(const Q of D)M[Q]||(M[Q]=[]),M[Q].push(F)}for(const L of Object.keys(M))M[L].sort((B,z)=>(B.displayLevel||0)-(z.displayLevel||0)||B.fullId.localeCompare(z.fullId));return M},[r]),u=Object.keys(o).sort(),c="all",d=[c,...u],[f,p]=T.useState(d[0]),v=T.useMemo(()=>Uh(a),[a]),y=M=>Number(v[M]||0),[_,x]=T.useState(()=>{const M=localStorage.getItem("research.showOwned");return M===null?!0:M==="1"});T.useEffect(()=>{localStorage.setItem("research.showOwned",_?"1":"0")},[_]);function w(M,L){const B=M===c?Object.values(o).flat():o[M]||[];if(!B.length)return[];const z=new Map;for(const F of B){const Q=hk(F.fullId)||F.fullId,Y=Number(F.displayLevel||0);z.has(Q)||z.set(Q,new Map),z.get(Q).set(Y,F)}const D=[];for(const[F,Q]of z.entries()){const Y=Array.from(Q.keys()).sort((G,te)=>G-te);if(!Y.length)continue;const $=y(F),V=Y[Y.length-1]||0;let Z=$>0?$:Y.includes(1)?1:Y[0];Y.includes(Z)||(Z=Y[Y.length-1]);const ne=Q.get(Z);if(!ne)continue;const K=cg(ne.def?.stage),X={...ne,seriesBase:F,ownedLevel:$,baseOwned:$,isOwned:$>0&&Z<=$,isMaxOwned:$>0&&$>=V,role:"current",stageReq:K,stageOk:s>=K};if(($>0||s>=K)&&D.push(X),$<V){const G=Y.find(te=>te>Z)||null;if(G){const te=Q.get(G),oe=cg(te.def?.stage);D.push({...te,seriesBase:F,ownedLevel:$,baseOwned:$,isOwned:!1,isMaxOwned:!1,role:"next",stageReq:oe,stageOk:s>=oe})}}}const I=(typeof L=="boolean"?L:_)?D:D.filter(F=>!(F.role==="current"&&(F.ownedLevel||0)>0));return I.sort((F,Q)=>{const Y=(F.def?.name||F.seriesBase||F.fullId).toString(),$=(Q.def?.name||Q.seriesBase||Q.fullId).toString();return Y===$?F.role!==Q.role?F.role==="current"?-1:1:(F.displayLevel||0)-(Q.displayLevel||0):Y.localeCompare($)}),I}const S=T.useMemo(()=>w(f,_),[o,a?.research,s,f,_]),E=T.useMemo(()=>{const M={},L=[c,...Object.keys(o).sort()];for(const B of L){const z=w(B,!0).length,D=w(B,!1).length;M[B]={visibleWith:z,visibleWithout:D}}return M},[o,a?.research,s]),O=T.useRef(null),A=T.useRef(""),N=T.useRef(!1);function k(){const M=window.location.hash||"",L=M.indexOf("?");if(L===-1)return"";try{return new URLSearchParams(M.slice(L+1)).get("focus")||""}catch{return""}}function C(M){if(!M)return null;const L=document.getElementById(M)||document.getElementById(M.replace(/\./g,"__"));if(L)return L;try{const B=`[data-fullid="${CSS&&CSS.escape?CSS.escape(M):M}"]`,z=document.querySelector(B);if(z)return z}catch{}try{const B=`[id="${CSS&&CSS.escape?CSS.escape(M):M}"]`,z=document.querySelector(B);if(z)return z}catch{}return null}function q(M){if(!M)return!1;try{M.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}catch{M.scrollIntoView()}M.classList.add("focus-highlight");const L=()=>{M.classList.remove("focus-highlight"),M.removeEventListener("animationend",L)};return M.addEventListener("animationend",L,{once:!0}),!0}function P(M){if(!M||N.current)return!1;const L=C(M);return L?(requestAnimationFrame(()=>{q(L)&&(N.current=!0,O.current=null)}),!0):!1}return T.useEffect(()=>{function M(){const L=k();if(L){L!==A.current&&(A.current=L,N.current=!1,O.current=L,setTimeout(()=>P(L),150),setTimeout(()=>P(L),500));for(const B of Object.keys(o))if((o[B]||[]).some(D=>D.fullId===L||D.id===L)){p(B);break}}}return M(),window.addEventListener("hashchange",M),()=>window.removeEventListener("hashchange",M)},[o]),T.useEffect(()=>{const M=O.current;if(!M||N.current)return;const L=()=>P(M);requestAnimationFrame(L);const B=setTimeout(L,120),z=setTimeout(L,500);return()=>{clearTimeout(B),clearTimeout(z)}},[f,o]),g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:"Research"}),g.jsxs("div",{className:"section-body",children:[g.jsxs("div",{className:"tabs-bar",role:"tablist",style:{display:"flex",gap:8,marginBottom:12},children:[[c,...u].map(M=>g.jsxs("button",{role:"tab","aria-selected":M===f,onClick:()=>p(M),className:M===f?"btn active":"btn",children:[M===c?"Alle":M,g.jsxs("span",{style:{opacity:.7,marginLeft:6},children:[E[M]?.visibleWithout??0,"/",E[M]?.visibleWith??0]})]},M)),g.jsx("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:8},children:g.jsx("button",{className:"btn","aria-pressed":_,title:_?"Skjul allerede researchede":"Vis allerede researchede",onClick:()=>x(M=>!M),children:_?"Skjul ejede":"Vis ejede"})})]}),g.jsx("div",{className:"tab-content",children:!S||S.length===0?g.jsx("div",{className:"sub",children:"Ingen research i denne kategori."}):S.map(M=>{const L=hk(M.fullId),B=y(L);return g.jsx("div",{"data-fullid":M.fullId,style:{marginBottom:8},children:g.jsx(HB,{entry:M,state:a,baseOwned:B,requirementCaches:{}})},M.fullId)})})]})]})}function YG(){const{data:e,isLoading:t,error:n}=Re();if(t)return g.jsx("div",{className:"sub",children:"Indlæser beholdning..."});if(n)return g.jsx("div",{className:"sub",children:"Fejl: Kunne ikke hente data."});const{defs:r,state:a}=e,{cap:s={}}=a,o=s.liquid||s.storageLiquidCap||{},u=s.solid||s.storageSolidCap||{},c=s.animal_cap||{};return g.jsxs(g.Fragment,{children:[g.jsxs("section",{className:"panel section res-panel",children:[g.jsxs("div",{className:"section-head",children:[g.jsx("span",{children:"💧 Flydende Ressourcer"}),g.jsx("span",{style:{marginLeft:"auto",fontWeight:"600"},children:g.jsx(Kr,{content:g.jsx(lc,{title:"Flydende kapacitet",metric:"storageLiquidCap",capObj:o}),children:g.jsxs("span",{children:[_e(o.used||0)," / ",_e(o.total||0)]})})})]}),g.jsx("div",{className:"section-body",children:g.jsx(Kd,{items:a.inv?.liquid,defs:r.res})})]}),g.jsxs("section",{className:"panel section res-panel",children:[g.jsxs("div",{className:"section-head",children:[g.jsx("span",{children:"🧱 Faste Ressourcer"}),g.jsx("span",{style:{marginLeft:"auto",fontWeight:"600"},children:g.jsx(Kr,{content:g.jsx(lc,{title:"Faste kapacitet",metric:"storageSolidCap",capObj:u}),children:g.jsxs("span",{children:[_e(u.used||0)," / ",_e(u.total||0)]})})})]}),g.jsx("div",{className:"section-body",children:g.jsx(Kd,{items:a.inv?.solid,defs:r.res})})]}),g.jsxs("section",{className:"panel section res-panel",children:[g.jsxs("div",{className:"section-head",children:[g.jsx("span",{children:"🐾 Dyr"}),g.jsx("span",{style:{marginLeft:"auto",fontWeight:"600"},children:g.jsx(Kr,{content:g.jsx(lc,{title:"Staldplads",metric:"animal_cap",capObj:c}),children:g.jsxs("span",{children:[_e(c.used||0)," / ",_e(c.total||0)]})})})]}),g.jsx("div",{className:"section-body",children:g.jsx(BB,{format:"detailed"})})]})]})}function FS({src:e,fallback:t,alt:n="",...r}){const{artManifest:a}=Re(),s=e.split("/art/")[1],o=a.has(s)?e:t;return g.jsx("img",{src:o,alt:n,...r})}function VG({isOwned:e,isUpgrade:t,ownedMax:n,stageLocked:r=!1,stageReq:a}){let s="🏠 Ikke bygget";return e?s=`⛔ Level ${n} (maks)`:t&&(s=`⏫ Level ${n} → Level ${n+1}`),!e&&r&&n>0&&(s=`Level ${n} (stage låst${a?`: kræver Stage ${a}`:""})`),g.jsx("span",{children:s})}function WG(e){return String(e?.id||"").startsWith("rsd.")?"produce":e?.isUpgrade||(e?.ownedMax??0)>0?"upgrade":"build"}function XG(e){const{data:t}=Re();if(!t||!e)return{allOk:!1,Component:()=>null};const{price:n,req:r,duration_s:a,footprintDelta:s}=e,{state:o}=t,u=Ht(),c=de.useMemo(()=>{const M=[],L=B=>Array.isArray(B)&&B.forEach(z=>M.push(z));for(const B of["bld","add","rsd"]){const z=t?.defs?.[B]||{};Object.values(z).forEach(D=>L(D?.buffs))}return M},[t?.defs]),d=tr(n);let f=!0;for(const M of Object.values(d)){let L=0;if(M.id.startsWith("ani."))L=o.ani?.[M.id]?.quantity??0;else{const B=M.id.replace(/^res\./,"");L=o.inv?.solid?.[B]??o.inv?.liquid?.[B]??0}if(L<M.amount){f=!1;break}}let p=!0;const v=Array.isArray(r)?r:String(r||"").split(/[,;]/).filter(Boolean);for(const M of v){let L=!1;if(M.startsWith("bld.")){const B=Zn(M);B&&(L=(Na("bld",o)[B.series]||0)>=B.level)}else if(M.startsWith("rsd."))L=rs(M,o);else if(M.startsWith("add.")){const B=M.match(/^add\.(.+)\.l(\d+)$/);B&&(L=(Na("add",o)[`add.${B[1]}`]||0)>=Number(B[2]))}if(!L){p=!1;break}}const y=Number(s??0),_=y<0?Math.abs(y):0;let x=!0;if(_>0){const M=o.cap?.footprint||{total:0,used:0};x=(M.total||0)-Math.abs(M.used||0)>=_}const w=f&&p&&x,S=WG(e),E=Number(a),O=Number.isFinite(E)?E:null,A=O!=null?UB(O,S,{appliesToCtx:e.id||"all",activeBuffs:c}):null,N=A??O,k=A!=null&&O!=null&&Math.round(A)!==Math.round(O),C=N!=null?Zs(N):null,q=k?`Normal: ${Zs(O??0)}`:void 0;return{allOk:w,Component:({showLabels:M=!0,inline:L=!0})=>g.jsxs("div",{className:"reqline",children:[Object.keys(d).length>0&&g.jsxs(g.Fragment,{children:[M&&g.jsx("strong",{children:e.isUpgrade||e.ownedMax>0?"Upgrade cost: ":"Build cost: "}),g.jsx(mi,{cost:n})]}),v.length>0&&(L?g.jsx("span",{className:"sep",children:"|"}):g.jsx("br",{})),v.length>0&&M&&g.jsx("strong",{children:"Demands: "}),v.length>0&&g.jsx(US,{req:r}),_>0&&(L?g.jsx("span",{className:"sep",children:"|"}):g.jsx("br",{})),_>0&&g.jsx(fc,{icon:u("ui.emoji.footprint.h1"),value:`${_} BP`,isOk:x}),C&&(L?g.jsx("span",{className:"sep",children:"|"}):g.jsx("br",{})),C&&g.jsx(fc,{icon:u("ui.emoji.time.h1"),value:C,title:q})]})}}function ZG(e,t="bld"){const n={},r=e?.[t]||{};for(const a of Object.keys(r)){const s=a.match(new RegExp(`^${t}\\.(.+)\\.l(\\d+)$`));if(!s)continue;const o=`${t}.${s[1]}`,u=Number(s[2]);n[o]=Math.max(n[o]||0,u)}return n}function QG({bld:e,state:t,defs:n}){const r=e?.def||n?.bld&&n.bld[(e.id||"").replace(/^bld\./,"")]||null,{allOk:a,Component:s}=XG(e),{data:o}=Re(),u=o?.i18n?.current??{},c=g.jsx(pl,{def:r||e,translations:u}),d=g.jsxs("div",{className:"item","data-bld-id":e.id,children:[g.jsx("div",{className:"icon",children:g.jsx(FS,{src:`/assets/art/${e.id}.medium.png`,fallback:"/assets/art/placeholder.medium.png",className:"bld-thumb",width:50,height:50,style:{width:50,height:50,borderRadius:"6px",border:"1px solid var(--border)"}})}),g.jsxs("div",{children:[g.jsx("div",{className:"title",children:g.jsx("a",{href:`#/building/${e.displayLinkId}`,className:"link",children:e.displayName})}),e.displayDesc?g.jsxs("div",{className:"sub",children:["🛈 ",e.displayDesc]}):null,g.jsxs("div",{className:"sub",style:{marginTop:"4px",display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[g.jsx(VG,{isOwned:e.owned,isUpgrade:e.isUpgrade,ownedMax:e.ownedMax,stageLocked:e.stageLocked,stageReq:e.stageReq}),g.jsx("span",{children:" • "}),g.jsx(s,{showLabels:!0,inline:!0})]})]}),g.jsxs("div",{className:"right",children:[g.jsx(Ac,{item:e,allOk:a}),g.jsx(Qs,{bldId:e.id})]})]});return g.jsx(Js,{content:c,style:{display:"block",width:"100%"},children:d})}function JG(){const{data:e,isLoading:t,error:n}=Re();if(t)return g.jsx("div",{className:"sub",children:"Indlæser..."});if(n)return g.jsx("div",{className:"sub",children:"Fejl."});const{defs:r,state:a}=e,s=Number(a.user?.currentstage||a.user?.stage||0),o=ZG(a,"bld"),u=CF(r.bld,s,"bld"),c=[];for(const[d,f]of Object.entries(u)){const p=o[d]||0,v=MF(f,p),y=d.replace(/^bld\./,""),_=p>0?r.bld[`${y}.l${p}`]||f.find(L=>L.level===p)?.def:null,x=r.bld[`${y}.l1`],w=_?.name||x?.name||v?.def?.name||y,S=_?.desc||x?.desc||"",E=p>0?`bld.${y}.l${p}`:`bld.${y}.l1`,O=`${y}.l${(p||0)+1}`,A=r.bld[O],N=Number(A?.stage??A?.stage_required??0);let k="",C=!1;if(p<=0?k="Ikke bygget":A?!N||N<=s?k=`Level ${p} → Level ${p+1}`:(C=!0,k=`Level ${p} (stage låst)`):k=`Level ${p} (maks)`,!v){const L=f[f.length-1];c.push({id:`bld.${L.key}`,name:v?.def?.name||L?.def?.name||y,level:Math.max(p,L.level),owned:!0,isUpgrade:!1,price:{},req:L.def?.require||"",duration_s:Number(L.def?.duration_s??0),displayName:w,displayDesc:S,displayLinkId:E,displayLevelText:k,stageLocked:C,stageReq:N||0,desc:L.def?.desc||"",yield:L.def?.yield||[],durability:L.def?.durability||0,footprintDelta:L.def?.stats?.footprint||0,animalCapDelta:L.def?.stats?.animalCap||0,ownedMax:p,def:L.def||null});continue}const q=`bld.${v.key}`,P=tr(v.def?.cost||v.def?.price||{}),M=!N||N<=s;c.push({id:q,name:v.def?.name||v.key,level:v.level,owned:!1,isUpgrade:p>0,price:P,req:v.def?.require||v.def?.req||"",duration_s:Number(v.def?.duration_s??10),displayName:w,displayDesc:S,displayLinkId:E,displayLevelText:k,stageLocked:!M&&!!N,stageReq:N||0,desc:v.def?.desc||"",yield:v.def?.yield||[],durability:v.def?.durability||0,footprintDelta:v.def?.stats?.footprint||0,animalCapDelta:v.def?.stats?.animalCap||0,ownedMax:p,def:v.def||null})}return g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:"🧱 Buildings"}),g.jsx("div",{className:"section-body",children:c.map(d=>g.jsx(QG,{bld:d,state:a,defs:r},d.id))})]})}function eK({heroDef:e,heroId:t,durabilityPct:n,jobActiveId:r,footprintText:a,animalCapText:s,actionTarget:o,requirementState:u}){const c=!!r,d=Number.isFinite(o?.duration)&&Number.isFinite(o?.durationBase)?Math.round(o.duration)!==Math.round(o.durationBase):!1,f=o?.duration!=null?Zs(o.duration):"-",p=d?`Normal: ${Zs(o.durationBase??0)}`:void 0,v=Ht();return g.jsxs("div",{className:"detail-hero",children:[g.jsx("div",{className:"photo",children:g.jsx(FS,{src:`/assets/art/${t}.big.png`,fallback:"/assets/art/placeholder.big.png",alt:e?.name||t,width:256,height:256})}),g.jsxs("div",{children:[g.jsxs("div",{style:{fontWeight:800,fontSize:18,marginBottom:6},children:[e?.icon||""," ",e?.name||t,e?.lvl?g.jsxs("span",{className:"sub",style:{marginLeft:8},children:["Level ",e.lvl]}):null]}),e?.desc?g.jsx("div",{className:"sub",style:{marginBottom:10},children:e.desc}):null,g.jsxs("div",{className:"statgrid",children:[g.jsxs("div",{className:"statitem",children:[g.jsx("div",{className:"label",children:v("ui.production.h1")}),g.jsx("div",{className:"value",children:"-"})]}),g.jsxs("div",{className:"statitem",children:[g.jsx("div",{className:"label",children:c?"In progress":"Durability"}),g.jsx("div",{className:"value",children:c?g.jsx(Qs,{bldId:r,style:{width:"100%"}}):g.jsxs("div",{className:"progress",children:[g.jsx("span",{style:{width:`${n}%`}}),g.jsxs("div",{className:"pct",children:[n,"%"]})]})})]}),g.jsxs("div",{className:"statitem",children:[g.jsx("div",{className:"label",children:v("ui.capacity.h1")}),g.jsxs("div",{className:"value",children:[a," � ",s]})]}),g.jsxs("div",{className:"statitem",children:[g.jsx("div",{className:"label",children:v("ui.buildcost.h1")}),g.jsx("div",{className:"value",children:o&&Object.keys(o.price||{}).length?g.jsx(mi,{cost:o.price}):"-"})]}),g.jsxs("div",{className:"statitem",children:[g.jsx("div",{className:"label",children:v("ui.demands.h1")}),g.jsx("div",{className:"value",children:o?.reqString?g.jsx(US,{req:o.reqString}):"-"})]}),g.jsxs("div",{className:"statitem",children:[g.jsx("div",{className:"label",children:v("ui.time.h1")}),g.jsx("div",{className:"value",title:p,children:f})]}),o?.footprint>0?g.jsxs("div",{className:"statitem",children:[g.jsx("div",{className:"label",children:v("ui.footprint.h1")}),g.jsx("div",{className:"value",children:g.jsx(fc,{icon:v("ui.emoji.footprint.h1"),label:"",value:`${o.footprint} BP`,isOk:u.footprintOk})})]}):null]})]})]})}async function Tw(e,t){const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});let r=null;const a=await n.text().catch(()=>null);try{r=a?JSON.parse(a):null}catch{r=a}if(!n.ok){const s=r&&r.message||typeof r=="string"&&r||`HTTP ${n.status}`,o=new Error(s);throw o.status=n.status,o.response=r,o}return r}function tK(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(2):"0"}function pk(e=[],t=""){if(!Array.isArray(e)||e.length===0)return"-";const n=e.map(r=>{const a=String(r.res_id||"").replace(/^res\./,""),s=tK(r.amount);return`${a}: ${s}`}).join(", ");return t?`${t} ${n}`:n}function nK(e=[]){const t={};if(!Array.isArray(e))return t;for(const n of e){const r=String(n.res_id||""),a=Number(n.amount||0);!r||!a||(t[r]=(t[r]??0)-a)}return t}function rK(e){if(!e)return[];if(Array.isArray(e))return e.map(t=>({res_id:String(t.res_id||t.id||""),amount:Number(t.amount||t.qty||0)})).filter(t=>t.res_id&&Number.isFinite(t.amount));if(typeof e=="object"){const t=[],n=r=>{for(const[a,s]of Object.entries(r))if(s!=null)if(typeof s=="number"){const o=a.startsWith("res.")?a:`res.${a}`;t.push({res_id:o,amount:s})}else typeof s=="object"&&n(s)};return n(e),t}return[]}function aK(e,t){const n=Number.isFinite(t)?t:0;return(e||[]).map(r=>({...r,amount:Number(r.amount||0)*n}))}function iK(e){const{data:t}=Re()||{};return T.useMemo(()=>!e||!t?.state?.bld?100:Number(t.state.bld[e]?.durability_pct??100),[t,e])}function sK(e){const{data:t}=Re()||{};return T.useMemo(()=>t?.repair_preview?.[e]||null,[t,e])}function oK({buildingId:e,jobActiveId:t,repairBasePrice:n}){const r=Ht(),{refreshData:a,applyResourceDeltaMap:s}=Re()||{},[o,u]=T.useState(!1),c=iK(e),d=sK(e),f=(()=>{const S=Number(d?.missing_pct);if(Number.isFinite(S))return Math.max(0,Math.min(1,S));const E=Math.max(0,(100-Number(c||0))/100);return Math.min(1,E)})(),p=T.useMemo(()=>rK(n),[n]),v=f*.75,y=T.useMemo(()=>aK(p,v),[p,v]),_=!!e&&!t&&f>0&&!o,x=d?.cost?.length?pk(d.cost):y?.length?pk(y,"Estimeret:"):c<100?"Klik for at reparere":"100%",w=async()=>{if(_){u(!0);try{const S=await Tw("/world-spil/backend/api/actions/repair_building.php",{bld_id:e});S?.ok?(Array.isArray(S.spent)&&S.spent.length>0&&s&&s(nK(S.spent)),a&&a()):alert(S?.message||"Repair failed")}catch(S){alert(S?.message||"Repair request failed")}finally{u(!1)}}};return g.jsx("button",{className:"btn",title:x,onClick:w,disabled:!_,children:r(o?"ui.btn.repair.working":"ui.btn.repair.h1")})}function lK({actionItem:e,canStart:t,jobActiveId:n,buildingId:r,repairBasePrice:a}){const s=Ht(),o=n||e?.id;return g.jsxs("div",{className:"actions-bar",children:[e?g.jsxs(g.Fragment,{children:[g.jsx(Ac,{item:e,allOk:t}),o?g.jsx(Qs,{bldId:o}):null]}):g.jsx("span",{className:"badge owned",children:s("ui.btn.owned.h1")}),r?g.jsx(oK,{buildingId:r,jobActiveId:n,repairBasePrice:a}):g.jsx("button",{className:"btn",disabled:!0,children:s("ui.btn.repair.h1")})]})}function uK({entry:e,state:t,baseOwned:n,requirementCaches:r}){const{def:a,fullId:s,stageReq:o,stageOk:u,ownedLevel:c,displayLevel:d}=e,f=Ht(),{data:p}=Re(),v=p?.i18n?.current??{},y=Hh({id:s,price:a.cost||{},req:a.require||a.req||"",duration_s:Number(a.duration_s??0),footprintDelta:Number(a.stats?.footprint??0)},t,r),_={id:s,price:a.cost||{},req:a.require||a.req||"",duration_s:Number(a.duration_s??0),footprintDelta:Number(a.stats?.footprint??0),isUpgrade:c>0,isOwned:c>=d,owned:c>=d,ownedMax:c,stageLocked:!u,stageReq:o,def:a},x=y.duration?.final_s??null,w=y.duration?.base_s??null,E=x!=null&&w!=null&&Math.round(x)!==Math.round(w)?null:a.time_str||a.duration_text||null,O=g.jsx(pl,{def:a,translations:v}),A=g.jsxs("div",{className:"item","data-addon-row":s,children:[g.jsx("div",{className:"icon",children:f("ui.emoji.addon.h1")}),g.jsxs("div",{className:"grow",children:[g.jsxs("div",{className:"title",children:[a.name||s,!u&&g.jsx("span",{className:"badge stage-locked price-bad",title:`${f("ui.text.demandingstage.h1")} ${o}`,style:{marginLeft:8},children:f("ui.text.stagelocked.h1")})]}),a.desc?g.jsxs("div",{className:"sub",children:[f("ui.emoji.desc.h1")," ",a.desc]}):null,g.jsx(HS,{price:a.cost||{},reqString:y.reqString,duration:x,durationBase:w,durationText:E,footprint:Number(a.stats?.footprint??0),footprintOk:y.footprintOk})]}),g.jsx("div",{className:"right",children:n?g.jsxs(g.Fragment,{children:[g.jsx(Ac,{item:_,allOk:y.allOk&&u}),g.jsx(Qs,{bldId:s})]}):g.jsx("button",{className:"btn",disabled:!0,children:f("ui.btn.demandbuilding.h1")})})]});return g.jsx(Js,{content:O,style:{display:"block",width:"100%"},children:A})}function cK({family:e,defs:t,state:n,stage:r,baseOwned:a,requirementCaches:s,filter:o,onFilterChange:u}){const c=t.add||{},d=s.ownedAddons||{},f=Ht(),p=T.useMemo(()=>{const x=new Map;for(const[S,E]of Object.entries(c)){const O=String(E?.family||"");if(!O||!O.split(",").map(P=>P.trim()).includes(e))continue;const N=S.match(/^(.+)\.l(\d+)$/);if(!N)continue;const k=N[1],C=Number(N[2]),q=`add.${k}`;x.has(q)||x.set(q,[]),x.get(q).push({key:S,def:E,level:C})}const w=[];for(const[S,E]of x.entries()){E.sort((B,z)=>B.level-z.level);const O=d[S]||0,A=E.find(B=>B.level===O+1)||null;let N=null;if(O<=0?N=E.find(B=>B.level===1)||E[0]:A?N=A:N=E[Math.min(E.length-1,Math.max(0,O-1))]||E[E.length-1],!N)continue;const k=A||N,C=Number(k.def?.stage??k.def?.stage_required??0),q=C<=r;if(!q&&O<=0)continue;const P=S.replace(/^add\./,""),M=String(N.def?.group||"main").trim(),L=M===""?"main":M;w.push({def:N.def,fullId:`add.${N.key}`,displayLevel:N.level,ownedLevel:O,stageReq:C,stageOk:q,base:P,groupName:L})}return w.sort((S,E)=>(S.def.name||"").localeCompare(E.def.name||"")),w},[c,e,d,r]),v=T.useMemo(()=>{const x=[],w=new Set;for(const S of p){const E=S.groupName;if(E==="main"||w.has(E))continue;const O=d[`add.${E}`]||0;if(!O)continue;const k=(c[`${E}.l${O||1}`]||c[`${E}.l1`])?.name||E;x.push({key:E,label:k}),w.add(E)}return x.sort((S,E)=>S.label.localeCompare(E.label)),x},[p,d,c]);T.useEffect(()=>{o!=="main"&&!v.some(x=>x.key===o)&&u&&u("main")},[o,v,u]);const y=o&&v.some(x=>x.key===o)?o:"main",_=p.filter(x=>y==="main"?x.groupName==="main":x.groupName===y);return g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:[f("ui.emoji.addon.h1")," ",f("ui.headers.addons.h1"),v.length>0?g.jsxs("div",{className:"tabs secondary-tabs",children:[g.jsx("button",{type:"button",className:`tab ${y==="main"?"active":""}`,onClick:()=>u&&u("main"),children:"Main"}),v.map(x=>g.jsx("button",{type:"button",className:`tab ${y===x.key?"active":""}`,onClick:()=>u&&u(x.key),children:x.label},x.key))]}):null]}),g.jsx("div",{className:"section-body",children:_.length?_.map(x=>g.jsx(uK,{entry:x,state:n,baseOwned:a,requirementCaches:s},x.fullId)):g.jsx("div",{className:"sub",children:"Ingen"})})]})}function fK({family:e,defs:t,state:n,stage:r,baseOwned:a,requirementCaches:s}){const o=t.rsd||{},u=T.useMemo(()=>Uh(n),[n]),c=Ht(),d=T.useMemo(()=>{const f=new Map;for(const[v,y]of Object.entries(o)){const _=String(y?.family||"");if(!_||!_.split(",").map(A=>A.trim()).includes(e))continue;const w=v.match(/^(.+)\.l(\d+)$/);if(!w)continue;const S=w[1],E=Number(w[2]),O=`rsd.${S}`;f.has(O)||f.set(O,[]),f.get(O).push({key:v,def:y,level:E})}const p=[];for(const[v,y]of f.entries()){y.sort((O,A)=>O.level-A.level);const _=u[v]||0,w=(_<=0?y.find(O=>O.level===1):y.find(O=>O.level===_+1))||y[y.length-1];if(!w)continue;const S=Number(w.def?.stage??w.def?.stage_required??0),E=S<=r;!E&&_<=0||p.push({def:w.def,fullId:`rsd.${w.key}`,displayLevel:w.level,ownedLevel:_,stageReq:S,stageOk:E})}return p.sort((v,y)=>(v.def.name||"").localeCompare(y.def.name||"")),p},[e,o,u,r]);return d.length?g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:[c("ui.emoji.research.h1")," ",c("ui.headers.research.h1")]}),g.jsx("div",{className:"section-body",children:d.map(f=>g.jsx(HB,{entry:f,state:n,baseOwned:a,requirementCaches:s},f.fullId))})]}):g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:[c("ui.emoji.research.h1")," ",c("ui.headers.research.h1")]}),g.jsx("div",{className:"section-body",children:g.jsx("div",{className:"sub",children:"Ingen"})})]})}function dK(e,t){const n=tr(e?.yield||{});let r=0,a=0;for(const s of Object.values(n)){const o=String(s.id||"");if(!o.startsWith("res."))continue;const u=o.replace(/^res\./,""),c=t.res?.[u];if(!c)continue;const d=Number(c.unitSpace||0);if(d<=0)continue;const f=Number(s.amount||0);if(f<=0)continue;const p=String(c.unit||"").toLowerCase(),v=d*f;p==="l"?a+=v:r+=v}return{solid:r,liquid:a}}function GB({entry:e,defs:t,state:n,baseOwned:r,requirementCaches:a}){const{def:s,fullId:o,stageReq:u,stageOk:c}=e,d=Ht(),f=Hh({id:o,price:s.cost||{},req:s.require||s.req||"",duration_s:Number(s.duration_s??0)},n,a),p={id:o,price:s.cost||{},req:s.require||s.req||"",duration_s:Number(s.duration_s??0),isUpgrade:e.level>1,isOwned:!1,owned:!1,stageLocked:!c,stageReq:u,def:s},v=dk(s.cost||{},t,"-"),y=dk(s.yield||{},t,"+"),_=f.duration?.final_s??null,x=f.duration?.base_s??null,{solid:w,liquid:S}=dK(s,t),E=n?.cap?.solid||{total:0,used:0},O=n?.cap?.liquid||{total:0,used:0},A=Math.max(0,(E.total||0)-(E.used||0)),N=Math.max(0,(O.total||0)-(O.used||0)),k=w<=A&&S<=N,C=f.allOk&&c&&k,q=k?void 0:`Mangler plads: Solid +${w} (tilgængelig ${A}), Liquid +${S} (tilgængelig ${N})`;return g.jsxs("div",{className:"item","data-recipe-row":o,children:[g.jsx("div",{className:"icon",children:d("ui.emoji.research.h1")}),g.jsxs("div",{className:"grow",children:[g.jsxs("div",{className:"title",children:[s.name||o,!c&&g.jsx("span",{className:"badge stage-locked price-bad",title:`${d("ui.text.demandingstage.h1")} ${u}`,style:{marginLeft:8},children:d("ui.text.stagelocked.h1")})]}),s.desc?g.jsxs("div",{className:"sub",children:["🔍 ",s.desc]}):null,g.jsxs("div",{className:"sub",children:[d("ui.emoji.recipe.h1")," ",d("ui.text.recipe.h1"),": ",v||"-"," · ",y||"-"]}),g.jsx(HS,{price:s.cost||{},reqString:f.reqString,duration:_,durationBase:x,footprint:0,footprintOk:!0})]}),g.jsx("div",{className:"right",children:r?k?g.jsxs(g.Fragment,{children:[g.jsx(Ac,{item:p,allOk:C}),g.jsx(Qs,{bldId:o})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",disabled:!0,title:q,children:"Mangler plads"}),g.jsx(Qs,{bldId:o})]}):g.jsx("button",{className:"btn",disabled:!0,children:d("ui.btn.demandbuilding.h1")})})]})}function hK({family:e,defs:t,state:n,stage:r,baseOwned:a,requirementCaches:s}){const o=t.rcp||{},u=Ht(),c=T.useMemo(()=>{const d=[];for(const[f,p]of Object.entries(o)){const v=String(p?.family||"");if(!v||!v.split(",").map(S=>S.trim()).includes(e))continue;const _=Number(p?.stage??p?.stage_required??0);if(_>r)continue;const x=f.match(/^(.+)\.l(\d+)$/),w=x?Number(x[2]):p?.lvl||1;d.push({def:p,level:w,fullId:`rcp.${f}`,stageReq:_,stageOk:!0})}return d.sort((f,p)=>f.stageReq-p.stageReq||f.level-p.level||(f.def.name||"").localeCompare(p.def.name||"")),d},[o,e,r]);return c.length?g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:[u("ui.emoji.research.h1")," ",u("ui.headers.recipe.h1")]}),g.jsx("div",{className:"section-body",children:c.map(d=>g.jsx(GB,{entry:d,defs:t,state:n,baseOwned:a,requirementCaches:s},d.fullId))})]}):g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:[u("ui.emoji.research.h1")," ",u("ui.headers.recipe.h1")]}),g.jsx("div",{className:"section-body",children:g.jsx("div",{className:"sub",children:"Ingen"})})]})}var Fh=kB();const pK=Ar(Fh);function mK(){const e=T.useRef(null);return e.current||(e.current=document.createElement("div"),e.current.setAttribute("data-confirm-modal-root","")),T.useEffect(()=>(document.body.appendChild(e.current),()=>{e.current&&e.current.parentNode&&e.current.parentNode.removeChild(e.current)}),[]),e.current}function Gh({isOpen:e,open:t,title:n="Bekræft",body:r="",confirmText:a="OK",cancelText:s="Annuller",onConfirm:o,onCancel:u,children:c}){const d=mK(),f=typeof e<"u"?e:!!t;if(T.useEffect(()=>{if(!f)return;const v=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=v}},[f]),T.useEffect(()=>{if(!f)return;const v=y=>{y.key==="Escape"&&u&&u()};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[f,u]),!f)return null;const p=g.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title",onClick:v=>{v.target===v.currentTarget&&u&&u()},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"24px"},children:g.jsxs("div",{style:{width:"min(560px, 96vw)",background:"#0f172a",color:"#e2e8f0",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.08)"},onClick:v=>v.stopPropagation(),children:[g.jsx("div",{style:{padding:"16px 18px 0 18px"},children:g.jsx("h3",{id:"confirm-title",style:{margin:0,fontSize:18},children:n})}),r&&g.jsx("div",{style:{padding:"12px 18px 0 18px",lineHeight:1.5,color:"#cbd5e1"},dangerouslySetInnerHTML:{__html:r}}),c&&g.jsx("div",{style:{padding:"12px 18px 0 18px"},children:c}),g.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",padding:"16px 18px 18px 18px"},children:[g.jsx("button",{type:"button",onClick:u,style:{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(255,255,255,0.1)",background:"transparent",color:"#e2e8f0",cursor:"pointer"},children:s}),g.jsx("button",{type:"button",onClick:o,style:{padding:"8px 14px",borderRadius:8,border:"none",background:"#2563eb",color:"white",cursor:"pointer"},children:a})]})]})});return Fh.createPortal(p,d)}function KB(){const{data:e,refreshData:t}=Re(),[n,r]=T.useState({}),a=T.useMemo(()=>{if(!e)return null;const{state:c,defs:d}=e,f=c.cap?.animal_cap||{total:0,used:0};let p=0,v={};for(const[S,E]of Object.entries(n)){if(!E)continue;const O=S.replace(/^ani\./,""),A=d.ani?.[O];if(!A)continue;p+=Math.abs(A.stats?.animal_cap||1)*E;const N=tr(A.cost||{});for(const k of Object.values(N))v[k.id]={id:k.id,amount:(v[k.id]?.amount||0)+k.amount*E}}let y=!0;for(const S of Object.values(v)){let E=0;if(S.id.startsWith("ani."))E=c.ani?.[S.id]?.quantity??0;else{const O=S.id.replace(/^res\./,"");E=c.inv?.solid?.[O]??c.inv?.liquid?.[O]??0}if(E<S.amount){y=!1;break}}const _=Math.max(0,f.total-f.used),x=p<=_,w=Object.values(n).reduce((S,E)=>S+(E||0),0);return{state:c,defs:d,cap:f,availableCap:_,capToUse:p,totalCost:v,canAfford:y,hasCapacity:x,totalQty:w}},[e,n]),s=T.useCallback((c,d)=>{r(f=>{const p={...f};return d>0?p[c]=d:delete p[c],p})},[]),o=T.useCallback(async()=>{if(!a)return;const{canAfford:c,hasCapacity:d,totalQty:f}=a,p=Object.fromEntries(Object.entries(n).filter(([,y])=>Number(y)>0));if(!Object.keys(p).length||f<=0)throw new Error("No animals selected for purchase.");if(!d)throw new Error("Not enough stall capacity.");if(!c)throw new Error("Insufficient resources.");const v=await Tw("/world-spil/backend/api/actions/animal.php",{action:"buy",animals:p});if(v&&v.ok===!1)throw new Error(v.message||"Server refused purchase.");return r({}),await t(),v},[n,a,t]),u=T.useCallback(async(c,d)=>{if(!c||!d)return;const f=await Tw("/world-spil/backend/api/actions/animal.php",{action:"sell",animal_id:c,quantity:d});if(f&&f.ok===!1)throw new Error(f.message||"Server refused sale.");return await t(),f},[t]);return{animalsToBuy:n,setAnimalsToBuy:r,setQty:s,handleBuy:o,handleSell:u,...a||{}}}function vK(e,t){return e?e.startsWith("res.")?t.res?.[e.replace(/^res\./,"")]?.emoji||"":e.startsWith("ani.")&&t.ani?.[e.replace(/^ani\./,"")]?.emoji||"":""}function mk(e,t){const n=tr(e||{});return Object.values(n).map(a=>{const s=vK(a.id,t);return`${a.amount}${s?" "+s:""}`}).join(", ")}function gK({def:e,defs:t,aniId:n,availableCap:r,animalsToBuy:a,setQty:s}){const o=Math.abs(e.stats?.animal_cap||1),u=T.useMemo(()=>Object.entries(a).reduce((p,[v,y])=>{if(v===n)return p;const _=t.ani?.[v.replace(/^ani\./,"")];return p+Math.abs(_?.stats?.animal_cap||1)*(y||0)},0),[a,n,t]),c=r-u,d=Math.floor(Math.max(0,c/o)),f=Math.min(a[n]||0,d);return g.jsxs("div",{className:"item",children:[g.jsx("div",{className:"icon",children:e.emoji||"🐄"}),g.jsxs("div",{className:"grow",children:[g.jsx("div",{className:"title",children:e.name}),g.jsx("div",{className:"sub",children:g.jsx(mi,{cost:e.cost})}),g.jsxs("div",{className:"sub",children:["Kræver ",o," staldplads"]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"8px"},children:[g.jsx("input",{type:"range",className:"slider",min:"0",step:"1",max:d,value:f,style:{flexGrow:1},onChange:p=>s(n,parseInt(p.target.value,10)),disabled:d===0}),g.jsx("span",{style:{fontWeight:"bold",width:"30px",textAlign:"right"},children:f})]})]})]})}function yK(){const{data:e,isLoading:t,error:n}=Re(),{animalsToBuy:r,setQty:a,handleBuy:s,handleSell:o,state:u,defs:c,cap:d,availableCap:f,capToUse:p,totalCost:v,canAfford:y,hasCapacity:_,totalQty:x}=KB(),[w,S]=T.useState({isOpen:!1,title:"",body:"",onConfirm:null});if(t)return g.jsx("div",{className:"sub",children:"Indlæser..."});if(n||!e)return g.jsx("div",{className:"sub",children:"Fejl."});const E=Object.entries(u?.ani||{}).filter(([k,C])=>C.quantity>0),O=T.useMemo(()=>{const k=new Set(Object.keys(u?.bld||{}).map(C=>Zn(C)?.family).filter(Boolean));return Object.entries(c.ani||{}).filter(([,C])=>(C.stage||0)<=Number(u.user?.currentstage||0)&&C.family?.split(",").some(q=>k.has(q.trim())))},[u,c]),A=()=>{if(!x)return;const k=mk(v,c);S({isOpen:!0,title:"Bekræft køb",body:`Du køber ${x} dyr.<br/><div style="margin-top:8px;">Pris: ${k||"(ukendt)"}</div>`,onConfirm:async()=>{try{await s()}catch(C){alert(C.message||"Køb fejlede.")}finally{S(C=>({...C,isOpen:!1}))}}})},N=(k,C)=>{const q=k.replace(/^ani\./,""),P=c.ani?.[q];if(!P)return;const M=tr(P.cost||{}),L={};Object.values(M).forEach(z=>{L[z.id]={id:z.id,amount:(z.amount||0)*C*.5}});const B=mk(L,c);S({isOpen:!0,title:C===1?"Sælg 1 dyr":`Sælg ${C} dyr`,body:`Du får følgende tilbage:<br/><div style="margin-top:8px;">${B||"(ukendt værdi)"}</div>`,onConfirm:async()=>{try{await o(k,C)}catch(z){alert(z.message||"Salg fejlede.")}finally{S(z=>({...z,isOpen:!1}))}}})};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"section-head",children:"Dine Dyr"}),g.jsx("div",{className:"section-body",children:E.map(([k,C])=>{const q=k.replace(/^ani\./,""),P=c.ani[q];return g.jsxs("div",{className:"item",children:[g.jsx("div",{className:"icon",children:P.emoji||"🐄"}),g.jsxs("div",{children:[g.jsxs("div",{className:"title",children:[P.name," (x",_e(C.quantity),")"]}),g.jsxs("div",{className:"sub",children:["Optager ",Math.abs(P.stats?.animal_cap||1)," staldplads"]})]}),g.jsxs("div",{className:"right",children:[g.jsx("button",{className:"btn",onClick:()=>N(k,1),children:"Sælg 1"}),g.jsx("button",{className:"btn",onClick:()=>N(k,C.quantity),children:"Sælg alle"})]})]},k)})}),g.jsx("div",{className:"section-head",children:"Køb Dyr"}),g.jsxs("div",{className:"section-body",children:[O.map(([k,C])=>g.jsx(gK,{def:C,defs:c,aniId:`ani.${k}`,availableCap:f,animalsToBuy:r,setQty:a},k)),g.jsxs("div",{className:"actions-bar",style:{marginTop:"16px"},children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Total:"})," ",g.jsx(mi,{cost:v}),"  ",g.jsx("strong",{style:{marginLeft:"1em"},children:"Staldplads:"}),g.jsx("span",{className:_?"":"price-bad",children:(d?.used||0)+(p||0)})," / ",d?.total||0]}),g.jsx("button",{className:"btn primary",disabled:x===0||!y||!_,onClick:A,children:"Køb valgte dyr"})]})]}),g.jsx(Gh,{isOpen:w.isOpen,title:w.title,body:w.body,onConfirm:w.onConfirm,onCancel:()=>S(k=>({...k,isOpen:!1})),confirmText:"OK",cancelText:"Annuller"})]})}function bK(e,t){return e?e.startsWith("res.")?t.res?.[e.replace(/^res\./,"")]?.emoji||"":e.startsWith("ani.")&&t.ani?.[e.replace(/^ani\./,"")]?.emoji||"":""}function xK(e,t){const n=tr(e||{});return Object.values(n).map(a=>{const s=bK(a.id,t);return`${a.amount}${s?" "+s:""}`}).join(", ")}function _K({def:e,defs:t,aniId:n,availableHealthCap:r,animalsToBuy:a,setQty:s}){const o=Math.abs(e.stats?.healthUnitUsage??e.stats?.animal_cap??1),u=T.useMemo(()=>Object.entries(a).reduce((p,[v,y])=>{if(v===n)return p;const _=t.ani?.[v.replace(/^ani\./,"")],x=Math.abs(_?.stats?.healthUnitUsage??_?.stats?.animal_cap??1);return p+x*(y||0)},0),[a,n,t]),c=typeof r<"u"?r-u:0,d=Math.floor(Math.max(0,c/o)),f=Math.min(a[n]||0,d);return g.jsxs("div",{className:"item",children:[g.jsx("div",{className:"icon",children:e.emoji||"🩺"}),g.jsxs("div",{className:"grow",children:[g.jsx("div",{className:"title",children:e.name}),g.jsx("div",{className:"sub",children:g.jsx(mi,{cost:e.cost})}),g.jsxs("div",{className:"sub",children:["Kræver ",o," health‑unit",o!==1?"s":""]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"8px"},children:[g.jsx("input",{type:"range",className:"slider",min:"0",step:"1",max:d,value:f,style:{flexGrow:1},onChange:p=>s(n,parseInt(p.target.value,10)),disabled:d===0}),g.jsx("span",{style:{fontWeight:"bold",width:"30px",textAlign:"right"},children:f})]})]})]})}function wK(){const{data:e,isLoading:t,error:n}=Re(),{animalsToBuy:r,setQty:a,handleBuy:s,state:o,defs:u,cap:c,availableHealthCap:d,healthToUse:f,totalHealthCost:p,canAffordHealth:v,hasHealthCapacity:y,totalHealthQty:_,availableCap:x,capToUse:w,totalCost:S,canAfford:E,hasCapacity:O,totalQty:A}=KB(),[N,k]=T.useState({isOpen:!1,title:"",body:"",onConfirm:null});if(t)return g.jsx("div",{className:"sub",children:"Indlæser..."});if(n||!e)return g.jsx("div",{className:"sub",children:"Fejl."});const C=Object.entries(o?.ani||{}).filter(([M,L])=>L.quantity>0),q=T.useMemo(()=>{const M=new Set(Object.keys(o?.bld||{}).map(L=>Zn(L)?.family).filter(Boolean));return Object.entries(u.ani||{}).filter(([,L])=>(L.stage||0)<=Number(o.user?.currentstage||0)&&L.family?.split(",").some(B=>M.has(B.trim())))},[o,u]),P=()=>{const M=typeof _<"u"?_:A;if(!M)return;const L=xK(typeof p<"u"?p:S,u);k({isOpen:!0,title:"Bekræft køb",body:`Du køber ${M} dyr.<br/><div style="margin-top:8px;">Pris: ${L||"(ukendt)"}</div>`,onConfirm:async()=>{try{await s()}catch(B){alert(B.message||"Køb fejlede.")}finally{k(B=>({...B,isOpen:!1}))}}})};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"section-head",children:"Dine Dyr"}),g.jsx("div",{className:"section-body",children:C.map(([M,L])=>{const B=M.replace(/^ani\./,""),z=u.ani[B],D=Math.abs(z.stats?.healthUnitUsage??z.stats?.animal_cap??1);return g.jsxs("div",{className:"item",children:[g.jsx("div",{className:"icon",children:z.emoji||"🩺"}),g.jsxs("div",{children:[g.jsxs("div",{className:"title",children:[z.name," (x",_e(L.quantity),")"]}),g.jsxs("div",{className:"sub",children:["Optager ",D," health‑unit",D!==1?"s":""]})]}),g.jsxs("div",{className:"right",children:[g.jsx("button",{className:"btn",onClick:()=>openSellConfirm(M,1),children:"Sælg 1"}),g.jsx("button",{className:"btn",onClick:()=>openSellConfirm(M,L.quantity),children:"Sælg alle"})]})]},M)})}),g.jsx("div",{className:"section-head",children:"Køb Dyr"}),g.jsxs("div",{className:"section-body",children:[q.map(([M,L])=>g.jsx(_K,{def:L,defs:u,aniId:`ani.${M}`,availableHealthCap:typeof d<"u"?d:x,animalsToBuy:r,setQty:a},M)),g.jsxs("div",{className:"actions-bar",style:{marginTop:"16px"},children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Total:"})," ",g.jsx(mi,{cost:typeof p<"u"?p:S}),"  ",g.jsx("strong",{style:{marginLeft:"1em"},children:"Health‑units:"}),g.jsx("span",{className:(typeof y<"u"?y:O)?"":"price-bad",children:(c?.used||0)+(f??w??0)})," / ",typeof c?.healthUnitCapacity<"u"?c.healthUnitCapacity:c?.total??0]}),g.jsx("button",{className:"btn primary",disabled:(typeof _<"u"?_===0:A===0)||!(typeof v<"u"?v:E)||!(typeof y<"u"?y:O),onClick:P,children:"Køb valgte dyr"})]})]}),g.jsx(Gh,{isOpen:N.isOpen,title:N.title,body:N.body,onConfirm:N.onConfirm,onCancel:()=>k(M=>({...M,isOpen:!1})),confirmText:"OK",cancelText:"Annuller"})]})}function SK(){const t=(typeof window<"u"?window.location.hash:"").match(/#\/building\/([^\/\?]+)/),n=t?decodeURIComponent(t[1]):"",r=n.startsWith("bld.farm."),a=n.startsWith("bld.health."),s=r?"🐄 Animal":a?"🩺 Health":"✨ Special";return g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:s}),g.jsx("div",{className:"section-body",children:r?g.jsx(yK,{}):a?g.jsx(wK,{}):g.jsxs("div",{className:"sub",children:["Ingen specielle funktioner. Aktuel id: ",g.jsx("code",{children:n||"ingen"})]})})]})}const fg=["addons","research","recipes"];function jK(e){return e?e.startsWith("bld.")?e:`bld.${e}`:null}function EK({buildingId:e}){const{data:t}=Re(),n=Ht();if(!t)return g.jsx("div",{className:"panel section",children:g.jsx("div",{className:"section-body",children:g.jsx("div",{className:"sub",children:"Loading…"})})});const{defs:r,state:a}=t,s=jK(e),o=s?s.replace(/^bld\./,""):null,u=o?r.bld?.[o]:null,c=s?Zn(s):null,d=c?.family??o?.replace(/\.l\d+$/,""),f=c?.series??(d?`bld.${d}`:null),p=T.useMemo(()=>Yd(a.bld||{}),[a.bld]),v=T.useMemo(()=>Yd(a.add||{}),[a.add]),y=T.useMemo(()=>Uh(a),[a]),_=T.useMemo(()=>UG(r),[r]),x=T.useMemo(()=>({ownedBuildings:p,ownedAddons:v,ownedResearch:y,activeBuffs:_}),[p,v,y,_]),w=T.useMemo(()=>{const be=Object.create(null),Pe=t?.state?.jobs?.running||[];for(const xe of Pe)be[xe.bld_id]=xe;return be},[t?.state?.jobs?.running]),S=Number(a.user?.currentstage??a.user?.stage??0),E=f&&p[f]||0,O=E>0,A=d?`${d}.l1`:null,N=d?`${d}.l${E+1}`:null,k=O?N:A,C=k?r.bld?.[k]:null,q=Number(C?.stage??C?.stage_required??0),P=!C||q<=S,M=Hh(C?{id:`bld.${k}`,price:C.cost||C.price||{},req:C.require||C.req||"",duration_s:Number(C.duration_s??C.build_time_s??C.stats?.build_time_s??0),footprintDelta:Number(C.stats?.footprint??0)}:null,a,x),L=C?{id:`bld.${k}`,price:C.cost||C.price||{},req:C.require||C.req||"",duration_s:Number(C.duration_s??C.build_time_s??C.stats?.build_time_s??0),footprintDelta:Number(C.stats?.footprint??0),isUpgrade:O,isOwned:!1,owned:!1,ownedMax:E,stageLocked:!P,stageReq:q,def:C}:O?{id:s,isOwned:!0,owned:!0,def:u}:null,B=Number(C?.stats?.footprint??0),z=s||(d?`bld.${d}.l1`:"unknown"),D=O?`bld.${d}.l${E}`:s||(d?`bld.${d}.l1`:""),H=D?a.bld?.[D]||{}:{},I=Number(u?.durability??0),F=Number.isFinite(H?.durability_pct)?Number(H.durability_pct):null,Q=Number(H?.durability??NaN),Y=F??(I>0&&Number.isFinite(Q)?Math.max(0,Math.min(100,Math.round(Q/I*100))):0),$=`${(u?.stats?.footprint??0)>=0?"+":""}${u?.stats?.footprint??0} Byggepoint`,V=`${(u?.stats?.animalCap??0)>=0?"+":""}${u?.stats?.animalCap??0} Staldplads`,Z=L&&L.id.startsWith("bld.")?L.id:null,ne=D||null,K=Z&&w[Z]?Z:ne&&w[ne]?ne:null,X=O?`${d}.l${E}`:null,G=X?r.bld?.[X]:null,te=G?.cost||G?.price||u?.cost||u?.price||{},[oe,se]=T.useState(fg[0]),[he,ye]=T.useState("main");if(T.useEffect(()=>{se(fg[0]),ye("main")},[s]),!s||!u||!d)return g.jsx("div",{className:"panel section",children:g.jsx("div",{className:"section-body",children:g.jsx("div",{className:"sub",children:"Building not found."})})});const ce=C?{price:C.cost||C.price||{},reqString:M.reqString,duration:M.duration?.final_s??Number(C.duration_s??C.build_time_s??C.stats?.build_time_s??0),durationBase:M.duration?.base_s??Number(C.duration_s??C.build_time_s??C.stats?.build_time_s??0),footprint:B}:null,Ae=!!C&&P&&!!M.allOk,we=(()=>{switch(oe){case"addons":return g.jsx(cK,{family:d,defs:r,state:a,stage:S,baseOwned:O,requirementCaches:x,filter:he,onFilterChange:ye});case"research":return g.jsx(fK,{family:d,defs:r,state:a,stage:S,baseOwned:O,requirementCaches:x});case"recipes":return g.jsx(hK,{family:d,defs:r,state:a,stage:S,baseOwned:O,requirementCaches:x});default:return g.jsx(SK,{})}})();return g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:[g.jsx("a",{href:"#/buildings",className:"back",children:"←"}),n("ui.building.h1")]}),g.jsxs("div",{className:"section-body",children:[g.jsx(eK,{heroDef:u,heroId:z,durabilityPct:Y,jobActiveId:K,footprintText:$,animalCapText:V,actionTarget:ce,requirementState:M}),g.jsx(lK,{actionItem:L,canStart:Ae,jobActiveId:K,buildingId:s,repairBasePrice:te}),g.jsx("div",{className:"tabs",children:fg.map(be=>g.jsx("button",{className:`tab ${oe===be?"active":""}`,onClick:()=>se(be),type:"button",children:be.charAt(0).toUpperCase()+be.slice(1)},be))}),g.jsx("div",{id:"tabContent",children:we})]})]})}function AK({defs:e,state:t,stage:n,debug:r=!1}){const a=Ht(),s=(A,N)=>{const k=a(A);return k===A?N:k},{data:o,isLoading:u,error:c}=Re(),d=e||o?.defs||{},f=t||o?.state||{},p=typeof n=="number"?n:Number(f?.user?.currentstage??f?.user?.stage??0)||0,v=d?.rcp||{},y=T.useMemo(()=>{const A=new Set;for(const N of Object.keys(f?.bld||{})){const k=typeof Zn=="function"?Zn(N):null;if(k?.family)A.add(String(k.family));else{const C=String(N).match(/^bld\.([^.]+(?:\.[^.]+)*)\.l\d+$/);C&&A.add(C[1])}}return A},[f?.bld]),_=T.useMemo(()=>typeof Na=="function"?Na("bld",f):{},[f]),x=T.useMemo(()=>typeof Na=="function"?Na("add",f):{},[f]),w=A=>{if(typeof rs=="function")return rs(A,f);const N=String(A),k=N.replace(/^rsd\./,"");return!!(f?.research?.[k]||f?.rsd?.[k]||f?.rsd?.[N])},S=A=>A?Array.isArray(A)?A.map(String).map(N=>N.trim()).filter(Boolean):String(A).split(/[,;]+/).map(N=>N.trim()).filter(Boolean):[],E=A=>{if(!A)return!0;if(A.startsWith("bld.")){const N=typeof Zn=="function"?Zn(A):null;if(N?.series&&Number.isFinite(N.level))return(_[N.series]||0)>=Number(N.level);const k=A.match(/^bld\.([^]+)\.l(\d+)$/);return k?(_[`bld.${k[1]}`]||0)>=Number(k[2]):!1}if(A.startsWith("add.")){const N=A.match(/^add\.([^]+)\.l(\d+)$/);return N?(x[`add.${N[1]}`]||0)>=Number(N[2]):!1}return A.startsWith("rsd.")?!!w(A):!0},O=T.useMemo(()=>{const A=[];for(const[N,k]of Object.entries(v)){if(String(k?.mode||"active").toLowerCase()==="disabled")continue;const q=Number(k?.stage??k?.stage_required??0)||0;if(q>p)continue;const P=String(k?.family||"");if(!P||!P.split(",").map(H=>H.trim()).filter(Boolean).some(H=>y.has(H))||!S(k.require||k.req||"").every(E))continue;const D=Number(N.match(/\.l(\d+)$/)?.[1]||k?.lvl||1);A.push({def:k,fullId:`rcp.${N}`,level:D,stageReq:q,stageOk:!0})}return A.sort((N,k)=>{const C=String(N.def.family||""),q=String(k.def.family||"");return C!==q?C.localeCompare(q):N.stageReq!==k.stageReq?N.stageReq-k.stageReq:N.level!==k.level?N.level-k.level:String(N.def.name||"").localeCompare(String(k.def.name||""))}),A},[v,y,_,x,p]);return r&&console.log("[ActiveRecipes][debug]",{currentStage:p,ownedBuildingFamilies:Array.from(y),totalRecipes:Object.keys(v).length,matched:O.map(A=>A.fullId)}),u?g.jsx("div",{className:"sub",children:s("ui.text.loading.h1","Indlæser...")}):c||!o?g.jsx("div",{className:"sub",children:s("ui.text.error.h1","Fejl.")}):O.length?g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:[s("ui.emoji.recipe.h1","📜")," ",s("ui.headers.recipe.h1","Jobs / Opskrifter")," – ",s("ui.text.available.h1","Tilgængelige")]}),g.jsx("div",{className:"section-body",children:O.map(A=>g.jsx(GB,{entry:A,defs:d,state:f,baseOwned:!0,requirementCaches:{}},A.fullId))})]}):g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:[s("ui.emoji.recipe.h1","📜")," ",s("ui.headers.recipe.h1","Jobs / Opskrifter")," – ",s("ui.text.available.h1","Tilgængelige")]}),g.jsx("div",{className:"section-body",children:g.jsx("div",{className:"sub",children:s("ui.text.none.h1","Ingen")})})]})}function OK(){return g.jsxs("div",{className:"page",children:[g.jsx(AK,{}),g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:"🏗️ Passive Yields"}),g.jsx("div",{className:"section-body",children:g.jsx($B,{})})]})]})}function YB({tabs:e=[],defaultKey:t=null,className:n="",preserve:r=!1}){const a=T.useMemo(()=>t||e[0]&&e[0].key||null,[t,e]),[s,o]=T.useState(a),u=T.useMemo(()=>e.findIndex(d=>d.key===s),[e,s]),c=T.useCallback(d=>{if(!["ArrowLeft","ArrowRight","Home","End"].includes(d.key)||(d.preventDefault(),e.length===0))return;let f=u;d.key==="ArrowLeft"&&(f=f>0?f-1:e.length-1),d.key==="ArrowRight"&&(f=f<e.length-1?f+1:0),d.key==="Home"&&(f=0),d.key==="End"&&(f=e.length-1);const p=e[f];p&&o(p.key)},[u,e]);return!e||!e.length?g.jsxs("section",{className:`panel section ${n}`,children:[g.jsx("div",{className:"section-head",children:"Tabs"}),g.jsx("div",{className:"section-body",children:g.jsx("div",{className:"sub",children:"Ingen faner konfigureret."})})]}):g.jsxs("section",{className:`panel section ${n}`,children:[g.jsxs("div",{className:"section-head",style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("div",{style:{fontWeight:700},children:"Side med faner"}),g.jsx("div",{className:"tabs",role:"tablist","aria-label":"Side faner",style:{marginLeft:"auto",display:"flex",gap:8},onKeyDown:c,children:e.map(d=>g.jsxs("button",{role:"tab","aria-selected":d.key===s,tabIndex:d.key===s?0:-1,className:`tab ${d.key===s?"active":""}`,onClick:()=>o(d.key),title:d.label,style:{display:"inline-flex",alignItems:"center",gap:8},children:[d.icon?g.jsx("span",{"aria-hidden":!0,style:{marginRight:4},children:d.icon}):null,g.jsx("span",{children:d.label})]},d.key))})]}),g.jsx("div",{className:"section-body",style:{paddingTop:12},children:e.map(d=>{const f=d.key===s;return r?g.jsx("div",{role:"tabpanel","aria-hidden":!f,style:{display:f?"block":"none"},children:d.element?d.element:d.Component?g.jsx(d.Component,{}):null},d.key):f?g.jsx("div",{role:"tabpanel",children:d.element?d.element:d.Component?g.jsx(d.Component,{}):null},d.key):null})})]})}function Hn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Hn(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var dg={exports:{}},hg={},pg={exports:{}},mg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk;function TK(){if(vk)return mg;vk=1;var e=Ol();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function u(p,v){var y=v(),_=r({inst:{value:y,getSnapshot:v}}),x=_[0].inst,w=_[1];return s(function(){x.value=y,x.getSnapshot=v,c(x)&&w({inst:x})},[p,y,v]),a(function(){return c(x)&&w({inst:x}),p(function(){c(x)&&w({inst:x})})},[p]),o(y),y}function c(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!n(p,y)}catch{return!0}}function d(p,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return mg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,mg}var gk;function NK(){return gk||(gk=1,pg.exports=TK()),pg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk;function kK(){if(yk)return hg;yk=1;var e=Ol(),t=NK();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,u=e.useMemo,c=e.useDebugValue;return hg.useSyncExternalStoreWithSelector=function(d,f,p,v,y){var _=s(null);if(_.current===null){var x={hasValue:!1,value:null};_.current=x}else x=_.current;_=u(function(){function S(k){if(!E){if(E=!0,O=k,k=v(k),y!==void 0&&x.hasValue){var C=x.value;if(y(C,k))return A=C}return A=k}if(C=A,r(O,k))return C;var q=v(k);return y!==void 0&&y(C,q)?(O=k,C):(O=k,A=q)}var E=!1,O,A,N=p===void 0?null:p;return[function(){return S(f())},N===null?void 0:function(){return S(N())}]},[f,p,v,y]);var w=a(d,_[0],_[1]);return o(function(){x.hasValue=!0,x.value=w},[w]),c(w),w},hg}var bk;function CK(){return bk||(bk=1,dg.exports=kK()),dg.exports}var VB=CK();const MK=Ar(VB),RK={},xk=e=>{let t;const n=new Set,r=(f,p)=>{const v=typeof f=="function"?f(t):f;if(!Object.is(v,t)){const y=t;t=p??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(_=>_(t,y))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(RK?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,a,c);return c},DK=e=>e?xk(e):xk,{useDebugValue:PK}=de,{useSyncExternalStoreWithSelector:LK}=MK,qK=e=>e;function WB(e,t=qK,n){const r=LK(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return PK(r),r}const _k=(e,t)=>{const n=DK(e),r=(a,s=t)=>WB(n,a,s);return Object.assign(r,n),r},IK=(e,t)=>e?_k(e,t):_k;function Rn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var BK={value:()=>{}};function Kh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bd(n)}function Bd(e){this._=e}function $K(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bd.prototype=Kh.prototype={constructor:Bd,on:function(e,t){var n=this._,r=$K(e+"",n),a,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((a=(e=r[s]).type)&&(a=zK(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=r[s]).type)n[a]=wk(n[a],e.name,t);else if(t==null)for(a in n)n[a]=wk(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Bd(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function zK(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function wk(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=BK,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Nw="http://www.w3.org/1999/xhtml";const Sk={svg:"http://www.w3.org/2000/svg",xhtml:Nw,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Sk.hasOwnProperty(t)?{space:Sk[t],local:e}:e}function UK(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Nw&&t.documentElement.namespaceURI===Nw?t.createElement(e):t.createElementNS(n,e)}}function HK(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function XB(e){var t=Yh(e);return(t.local?HK:UK)(t)}function FK(){}function GS(e){return e==null?FK:function(){return this.querySelector(e)}}function GK(e){typeof e!="function"&&(e=GS(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,u=r[a]=new Array(o),c,d,f=0;f<o;++f)(c=s[f])&&(d=e.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d);return new wr(r,this._parents)}function KK(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function YK(){return[]}function ZB(e){return e==null?YK:function(){return this.querySelectorAll(e)}}function VK(e){return function(){return KK(e.apply(this,arguments))}}function WK(e){typeof e=="function"?e=VK(e):e=ZB(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o=t[s],u=o.length,c,d=0;d<u;++d)(c=o[d])&&(r.push(e.call(c,c.__data__,d,o)),a.push(c));return new wr(r,a)}function QB(e){return function(){return this.matches(e)}}function JB(e){return function(t){return t.matches(e)}}var XK=Array.prototype.find;function ZK(e){return function(){return XK.call(this.children,e)}}function QK(){return this.firstElementChild}function JK(e){return this.select(e==null?QK:ZK(typeof e=="function"?e:JB(e)))}var e7=Array.prototype.filter;function t7(){return Array.from(this.children)}function n7(e){return function(){return e7.call(this.children,e)}}function r7(e){return this.selectAll(e==null?t7:n7(typeof e=="function"?e:JB(e)))}function a7(e){typeof e!="function"&&(e=QB(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,u=r[a]=[],c,d=0;d<o;++d)(c=s[d])&&e.call(c,c.__data__,d,s)&&u.push(c);return new wr(r,this._parents)}function e$(e){return new Array(e.length)}function i7(){return new wr(this._enter||this._groups.map(e$),this._parents)}function Vd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vd.prototype={constructor:Vd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function s7(e){return function(){return e}}function o7(e,t,n,r,a,s){for(var o=0,u,c=t.length,d=s.length;o<d;++o)(u=t[o])?(u.__data__=s[o],r[o]=u):n[o]=new Vd(e,s[o]);for(;o<c;++o)(u=t[o])&&(a[o]=u)}function l7(e,t,n,r,a,s,o){var u,c,d=new Map,f=t.length,p=s.length,v=new Array(f),y;for(u=0;u<f;++u)(c=t[u])&&(v[u]=y=o.call(c,c.__data__,u,t)+"",d.has(y)?a[u]=c:d.set(y,c));for(u=0;u<p;++u)y=o.call(e,s[u],u,s)+"",(c=d.get(y))?(r[u]=c,c.__data__=s[u],d.delete(y)):n[u]=new Vd(e,s[u]);for(u=0;u<f;++u)(c=t[u])&&d.get(v[u])===c&&(a[u]=c)}function u7(e){return e.__data__}function c7(e,t){if(!arguments.length)return Array.from(this,u7);var n=t?l7:o7,r=this._parents,a=this._groups;typeof e!="function"&&(e=s7(e));for(var s=a.length,o=new Array(s),u=new Array(s),c=new Array(s),d=0;d<s;++d){var f=r[d],p=a[d],v=p.length,y=f7(e.call(f,f&&f.__data__,d,r)),_=y.length,x=u[d]=new Array(_),w=o[d]=new Array(_),S=c[d]=new Array(v);n(f,p,x,w,S,y,t);for(var E=0,O=0,A,N;E<_;++E)if(A=x[E]){for(E>=O&&(O=E+1);!(N=w[O])&&++O<_;);A._next=N||null}}return o=new wr(o,r),o._enter=u,o._exit=c,o}function f7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function d7(){return new wr(this._exit||this._groups.map(e$),this._parents)}function h7(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function p7(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),u=new Array(a),c=0;c<o;++c)for(var d=n[c],f=r[c],p=d.length,v=u[c]=new Array(p),y,_=0;_<p;++_)(y=d[_]||f[_])&&(v[_]=y);for(;c<a;++c)u[c]=n[c];return new wr(u,this._parents)}function m7(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],o;--a>=0;)(o=r[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function v7(e){e||(e=g7);function t(p,v){return p&&v?e(p.__data__,v.__data__):!p-!v}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o=n[s],u=o.length,c=a[s]=new Array(u),d,f=0;f<u;++f)(d=o[f])&&(c[f]=d);c.sort(t)}return new wr(a,this._parents).order()}function g7(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function y7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function b7(){return Array.from(this)}function x7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null}function _7(){let e=0;for(const t of this)++e;return e}function w7(){return!this.node()}function S7(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,o=a.length,u;s<o;++s)(u=a[s])&&e.call(u,u.__data__,s,a);return this}function j7(e){return function(){this.removeAttribute(e)}}function E7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A7(e,t){return function(){this.setAttribute(e,t)}}function O7(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function T7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function N7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function k7(e,t){var n=Yh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?E7:j7:typeof t=="function"?n.local?N7:T7:n.local?O7:A7)(n,t))}function t$(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function C7(e){return function(){this.style.removeProperty(e)}}function M7(e,t,n){return function(){this.style.setProperty(e,t,n)}}function R7(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function D7(e,t,n){return arguments.length>1?this.each((t==null?C7:typeof t=="function"?R7:M7)(e,t,n??"")):ml(this.node(),e)}function ml(e,t){return e.style.getPropertyValue(t)||t$(e).getComputedStyle(e,null).getPropertyValue(t)}function P7(e){return function(){delete this[e]}}function L7(e,t){return function(){this[e]=t}}function q7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function I7(e,t){return arguments.length>1?this.each((t==null?P7:typeof t=="function"?q7:L7)(e,t)):this.node()[e]}function n$(e){return e.trim().split(/^|\s+/)}function KS(e){return e.classList||new r$(e)}function r$(e){this._node=e,this._names=n$(e.getAttribute("class")||"")}r$.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function a$(e,t){for(var n=KS(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function i$(e,t){for(var n=KS(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function B7(e){return function(){a$(this,e)}}function $7(e){return function(){i$(this,e)}}function z7(e,t){return function(){(t.apply(this,arguments)?a$:i$)(this,e)}}function U7(e,t){var n=n$(e+"");if(arguments.length<2){for(var r=KS(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?z7:t?B7:$7)(n,t))}function H7(){this.textContent=""}function F7(e){return function(){this.textContent=e}}function G7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function K7(e){return arguments.length?this.each(e==null?H7:(typeof e=="function"?G7:F7)(e)):this.node().textContent}function Y7(){this.innerHTML=""}function V7(e){return function(){this.innerHTML=e}}function W7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function X7(e){return arguments.length?this.each(e==null?Y7:(typeof e=="function"?W7:V7)(e)):this.node().innerHTML}function Z7(){this.nextSibling&&this.parentNode.appendChild(this)}function Q7(){return this.each(Z7)}function J7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function e9(){return this.each(J7)}function t9(e){var t=typeof e=="function"?e:XB(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function n9(){return null}function r9(e,t){var n=typeof e=="function"?e:XB(e),r=t==null?n9:typeof t=="function"?t:GS(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function a9(){var e=this.parentNode;e&&e.removeChild(this)}function i9(){return this.each(a9)}function s9(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function o9(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function l9(e){return this.select(e?o9:s9)}function u9(e){return arguments.length?this.property("__data__",e):this.node().__data__}function c9(e){return function(t){e.call(this,t,this.__data__)}}function f9(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function d9(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function h9(e,t,n){return function(){var r=this.__on,a,s=c9(t);if(r){for(var o=0,u=r.length;o<u;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function p9(e,t,n){var r=f9(e+""),a,s=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,d=u.length,f;c<d;++c)for(a=0,f=u[c];a<s;++a)if((o=r[a]).type===f.type&&o.name===f.name)return f.value}return}for(u=t?h9:d9,a=0;a<s;++a)this.each(u(r[a],t,n));return this}function s$(e,t,n){var r=t$(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function m9(e,t){return function(){return s$(this,e,t)}}function v9(e,t){return function(){return s$(this,e,t.apply(this,arguments))}}function g9(e,t){return this.each((typeof t=="function"?v9:m9)(e,t))}function*y9(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,o;a<s;++a)(o=r[a])&&(yield o)}var o$=[null];function wr(e,t){this._groups=e,this._parents=t}function Oc(){return new wr([[document.documentElement]],o$)}function b9(){return this}wr.prototype=Oc.prototype={constructor:wr,select:GK,selectAll:WK,selectChild:JK,selectChildren:r7,filter:a7,data:c7,enter:i7,exit:d7,join:h7,merge:p7,selection:b9,order:m7,sort:v7,call:y7,nodes:b7,node:x7,size:_7,empty:w7,each:S7,attr:k7,style:D7,property:I7,classed:U7,text:K7,html:X7,raise:Q7,lower:e9,append:t9,insert:r9,remove:i9,clone:l9,datum:u9,on:p9,dispatch:g9,[Symbol.iterator]:y9};function ua(e){return typeof e=="string"?new wr([[document.querySelector(e)]],[document.documentElement]):new wr([[e]],o$)}function x9(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Aa(e,t){if(e=x9(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const _9={passive:!1},dc={capture:!0,passive:!1};function vg(e){e.stopImmediatePropagation()}function ul(e){e.preventDefault(),e.stopImmediatePropagation()}function l$(e){var t=e.document.documentElement,n=ua(e).on("dragstart.drag",ul,dc);"onselectstart"in t?n.on("selectstart.drag",ul,dc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function u$(e,t){var n=e.document.documentElement,r=ua(e).on("dragstart.drag",null);t&&(r.on("click.drag",ul,dc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const cd=e=>()=>e;function kw(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:s,x:o,y:u,dx:c,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}kw.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function w9(e){return!e.ctrlKey&&!e.button}function S9(){return this.parentNode}function j9(e,t){return t??{x:e.x,y:e.y}}function E9(){return navigator.maxTouchPoints||"ontouchstart"in this}function A9(){var e=w9,t=S9,n=j9,r=E9,a={},s=Kh("start","drag","end"),o=0,u,c,d,f,p=0;function v(A){A.on("mousedown.drag",y).filter(r).on("touchstart.drag",w).on("touchmove.drag",S,_9).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(A,N){if(!(f||!e.call(this,A,N))){var k=O(this,t.call(this,A,N),A,N,"mouse");k&&(ua(A.view).on("mousemove.drag",_,dc).on("mouseup.drag",x,dc),l$(A.view),vg(A),d=!1,u=A.clientX,c=A.clientY,k("start",A))}}function _(A){if(ul(A),!d){var N=A.clientX-u,k=A.clientY-c;d=N*N+k*k>p}a.mouse("drag",A)}function x(A){ua(A.view).on("mousemove.drag mouseup.drag",null),u$(A.view,d),ul(A),a.mouse("end",A)}function w(A,N){if(e.call(this,A,N)){var k=A.changedTouches,C=t.call(this,A,N),q=k.length,P,M;for(P=0;P<q;++P)(M=O(this,C,A,N,k[P].identifier,k[P]))&&(vg(A),M("start",A,k[P]))}}function S(A){var N=A.changedTouches,k=N.length,C,q;for(C=0;C<k;++C)(q=a[N[C].identifier])&&(ul(A),q("drag",A,N[C]))}function E(A){var N=A.changedTouches,k=N.length,C,q;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),C=0;C<k;++C)(q=a[N[C].identifier])&&(vg(A),q("end",A,N[C]))}function O(A,N,k,C,q,P){var M=s.copy(),L=Aa(P||k,N),B,z,D;if((D=n.call(A,new kw("beforestart",{sourceEvent:k,target:v,identifier:q,active:o,x:L[0],y:L[1],dx:0,dy:0,dispatch:M}),C))!=null)return B=D.x-L[0]||0,z=D.y-L[1]||0,function H(I,F,Q){var Y=L,$;switch(I){case"start":a[q]=H,$=o++;break;case"end":delete a[q],--o;case"drag":L=Aa(Q||F,N),$=o;break}M.call(I,A,new kw(I,{sourceEvent:F,subject:D,target:v,identifier:q,active:$,x:L[0]+B,y:L[1]+z,dx:L[0]-Y[0],dy:L[1]-Y[1],dispatch:M}),C)}}return v.filter=function(A){return arguments.length?(e=typeof A=="function"?A:cd(!!A),v):e},v.container=function(A){return arguments.length?(t=typeof A=="function"?A:cd(A),v):t},v.subject=function(A){return arguments.length?(n=typeof A=="function"?A:cd(A),v):n},v.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:cd(!!A),v):r},v.on=function(){var A=s.on.apply(s,arguments);return A===s?v:A},v.clickDistance=function(A){return arguments.length?(p=(A=+A)*A,v):Math.sqrt(p)},v}function YS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function c$(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tc(){}var hc=.7,Wd=1/hc,cl="\\s*([+-]?\\d+)\\s*",pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O9=/^#([0-9a-f]{3,8})$/,T9=new RegExp(`^rgb\\(${cl},${cl},${cl}\\)$`),N9=new RegExp(`^rgb\\(${Ca},${Ca},${Ca}\\)$`),k9=new RegExp(`^rgba\\(${cl},${cl},${cl},${pc}\\)$`),C9=new RegExp(`^rgba\\(${Ca},${Ca},${Ca},${pc}\\)$`),M9=new RegExp(`^hsl\\(${pc},${Ca},${Ca}\\)$`),R9=new RegExp(`^hsla\\(${pc},${Ca},${Ca},${pc}\\)$`),jk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YS(Tc,eo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ek,formatHex:Ek,formatHex8:D9,formatHsl:P9,formatRgb:Ak,toString:Ak});function Ek(){return this.rgb().formatHex()}function D9(){return this.rgb().formatHex8()}function P9(){return f$(this).formatHsl()}function Ak(){return this.rgb().formatRgb()}function eo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=O9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ok(t):n===3?new Qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=T9.exec(e))?new Qn(t[1],t[2],t[3],1):(t=N9.exec(e))?new Qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=k9.exec(e))?fd(t[1],t[2],t[3],t[4]):(t=C9.exec(e))?fd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=M9.exec(e))?kk(t[1],t[2]/100,t[3]/100,1):(t=R9.exec(e))?kk(t[1],t[2]/100,t[3]/100,t[4]):jk.hasOwnProperty(e)?Ok(jk[e]):e==="transparent"?new Qn(NaN,NaN,NaN,0):null}function Ok(e){return new Qn(e>>16&255,e>>8&255,e&255,1)}function fd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qn(e,t,n,r)}function L9(e){return e instanceof Tc||(e=eo(e)),e?(e=e.rgb(),new Qn(e.r,e.g,e.b,e.opacity)):new Qn}function Cw(e,t,n,r){return arguments.length===1?L9(e):new Qn(e,t,n,r??1)}function Qn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}YS(Qn,Cw,c$(Tc,{brighter(e){return e=e==null?Wd:Math.pow(Wd,e),new Qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new Qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qn(Ys(this.r),Ys(this.g),Ys(this.b),Xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tk,formatHex:Tk,formatHex8:q9,formatRgb:Nk,toString:Nk}));function Tk(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}`}function q9(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}${Us((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nk(){const e=Xd(this.opacity);return`${e===1?"rgb(":"rgba("}${Ys(this.r)}, ${Ys(this.g)}, ${Ys(this.b)}${e===1?")":`, ${e})`}`}function Xd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ys(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Us(e){return e=Ys(e),(e<16?"0":"")+e.toString(16)}function kk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ca(e,t,n,r)}function f$(e){if(e instanceof ca)return new ca(e.h,e.s,e.l,e.opacity);if(e instanceof Tc||(e=eo(e)),!e)return new ca;if(e instanceof ca)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,u=s-a,c=(s+a)/2;return u?(t===s?o=(n-r)/u+(n<r)*6:n===s?o=(r-t)/u+2:o=(t-n)/u+4,u/=c<.5?s+a:2-s-a,o*=60):u=c>0&&c<1?0:o,new ca(o,u,c,e.opacity)}function I9(e,t,n,r){return arguments.length===1?f$(e):new ca(e,t,n,r??1)}function ca(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}YS(ca,I9,c$(Tc,{brighter(e){return e=e==null?Wd:Math.pow(Wd,e),new ca(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new ca(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Qn(gg(e>=240?e-240:e+120,a,r),gg(e,a,r),gg(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ca(Ck(this.h),dd(this.s),dd(this.l),Xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xd(this.opacity);return`${e===1?"hsl(":"hsla("}${Ck(this.h)}, ${dd(this.s)*100}%, ${dd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ck(e){return e=(e||0)%360,e<0?e+360:e}function dd(e){return Math.max(0,Math.min(1,e||0))}function gg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const VS=e=>()=>e;function B9(e,t){return function(n){return e+n*t}}function $9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function z9(e){return(e=+e)==1?d$:function(t,n){return n-t?$9(t,n,e):VS(isNaN(t)?n:t)}}function d$(e,t){var n=t-e;return n?B9(e,n):VS(isNaN(e)?t:e)}const Zd=(function e(t){var n=z9(t);function r(a,s){var o=n((a=Cw(a)).r,(s=Cw(s)).r),u=n(a.g,s.g),c=n(a.b,s.b),d=d$(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=u(f),a.b=c(f),a.opacity=d(f),a+""}}return r.gamma=e,r})(1);function U9(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function H9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function F9(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=Tl(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(u){for(o=0;o<r;++o)s[o]=a[o](u);return s}}function G9(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function la(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function K9(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Tl(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Mw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yg=new RegExp(Mw.source,"g");function Y9(e){return function(){return e}}function V9(e){return function(t){return e(t)+""}}function h$(e,t){var n=Mw.lastIndex=yg.lastIndex=0,r,a,s,o=-1,u=[],c=[];for(e=e+"",t=t+"";(r=Mw.exec(e))&&(a=yg.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),u[o]?u[o]+=s:u[++o]=s),(r=r[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,c.push({i:o,x:la(r,a)})),n=yg.lastIndex;return n<t.length&&(s=t.slice(n),u[o]?u[o]+=s:u[++o]=s),u.length<2?c[0]?V9(c[0].x):Y9(t):(t=c.length,function(d){for(var f=0,p;f<t;++f)u[(p=c[f]).i]=p.x(d);return u.join("")})}function Tl(e,t){var n=typeof t,r;return t==null||n==="boolean"?VS(t):(n==="number"?la:n==="string"?(r=eo(t))?(t=r,Zd):h$:t instanceof eo?Zd:t instanceof Date?G9:H9(t)?U9:Array.isArray(t)?F9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K9:la)(e,t)}function WS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Mk=180/Math.PI,Rw={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function p$(e,t,n,r,a,s){var o,u,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*Mk,skewX:Math.atan(c)*Mk,scaleX:o,scaleY:u}}var hd;function W9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rw:p$(t.a,t.b,t.c,t.d,t.e,t.f)}function X9(e){return e==null||(hd||(hd=document.createElementNS("http://www.w3.org/2000/svg","g")),hd.setAttribute("transform",e),!(e=hd.transform.baseVal.consolidate()))?Rw:(e=e.matrix,p$(e.a,e.b,e.c,e.d,e.e,e.f))}function m$(e,t,n,r){function a(d){return d.length?d.pop()+" ":""}function s(d,f,p,v,y,_){if(d!==p||f!==v){var x=y.push("translate(",null,t,null,n);_.push({i:x-4,x:la(d,p)},{i:x-2,x:la(f,v)})}else(p||v)&&y.push("translate("+p+t+v+n)}function o(d,f,p,v){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),v.push({i:p.push(a(p)+"rotate(",null,r)-2,x:la(d,f)})):f&&p.push(a(p)+"rotate("+f+r)}function u(d,f,p,v){d!==f?v.push({i:p.push(a(p)+"skewX(",null,r)-2,x:la(d,f)}):f&&p.push(a(p)+"skewX("+f+r)}function c(d,f,p,v,y,_){if(d!==p||f!==v){var x=y.push(a(y)+"scale(",null,",",null,")");_.push({i:x-4,x:la(d,p)},{i:x-2,x:la(f,v)})}else(p!==1||v!==1)&&y.push(a(y)+"scale("+p+","+v+")")}return function(d,f){var p=[],v=[];return d=e(d),f=e(f),s(d.translateX,d.translateY,f.translateX,f.translateY,p,v),o(d.rotate,f.rotate,p,v),u(d.skewX,f.skewX,p,v),c(d.scaleX,d.scaleY,f.scaleX,f.scaleY,p,v),d=f=null,function(y){for(var _=-1,x=v.length,w;++_<x;)p[(w=v[_]).i]=w.x(y);return p.join("")}}}var Z9=m$(W9,"px, ","px)","deg)"),Q9=m$(X9,", ",")",")"),J9=1e-12;function Rk(e){return((e=Math.exp(e))+1/e)/2}function eY(e){return((e=Math.exp(e))-1/e)/2}function tY(e){return((e=Math.exp(2*e))-1)/(e+1)}const nY=(function e(t,n,r){function a(s,o){var u=s[0],c=s[1],d=s[2],f=o[0],p=o[1],v=o[2],y=f-u,_=p-c,x=y*y+_*_,w,S;if(x<J9)S=Math.log(v/d)/t,w=function(C){return[u+C*y,c+C*_,d*Math.exp(t*C*S)]};else{var E=Math.sqrt(x),O=(v*v-d*d+r*x)/(2*d*n*E),A=(v*v-d*d-r*x)/(2*v*n*E),N=Math.log(Math.sqrt(O*O+1)-O),k=Math.log(Math.sqrt(A*A+1)-A);S=(k-N)/t,w=function(C){var q=C*S,P=Rk(N),M=d/(n*E)*(P*tY(t*q+N)-eY(N));return[u+M*y,c+M*_,d*P/Rk(t*q+N)]}}return w.duration=S*1e3*t/Math.SQRT2,w}return a.rho=function(s){var o=Math.max(.001,+s),u=o*o,c=u*u;return e(o,u,c)},a})(Math.SQRT2,2,4);function rY(e,t){t===void 0&&(t=e,e=Tl);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[u](o-u)}}var vl=0,ec=0,Lu=0,v$=1e3,Qd,tc,Jd=0,to=0,Vh=0,mc=typeof performance=="object"&&performance.now?performance:Date,g$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function XS(){return to||(g$(aY),to=mc.now()+Vh)}function aY(){to=0}function eh(){this._call=this._time=this._next=null}eh.prototype=y$.prototype={constructor:eh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?XS():+n)+(t==null?0:+t),!this._next&&tc!==this&&(tc?tc._next=this:Qd=this,tc=this),this._call=e,this._time=n,Dw()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dw())}};function y$(e,t,n){var r=new eh;return r.restart(e,t,n),r}function iY(){XS(),++vl;for(var e=Qd,t;e;)(t=to-e._time)>=0&&e._call.call(void 0,t),e=e._next;--vl}function Dk(){to=(Jd=mc.now())+Vh,vl=ec=0;try{iY()}finally{vl=0,oY(),to=0}}function sY(){var e=mc.now(),t=e-Jd;t>v$&&(Vh-=t,Jd=e)}function oY(){for(var e,t=Qd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Qd=n);tc=e,Dw(r)}function Dw(e){if(!vl){ec&&(ec=clearTimeout(ec));var t=e-to;t>24?(e<1/0&&(ec=setTimeout(Dk,e-mc.now()-Vh)),Lu&&(Lu=clearInterval(Lu))):(Lu||(Jd=mc.now(),Lu=setInterval(sY,v$)),vl=1,g$(Dk))}}function Pk(e,t,n){var r=new eh;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var lY=Kh("start","end","cancel","interrupt"),uY=[],b$=0,Lk=1,Pw=2,$d=3,qk=4,Lw=5,zd=6;function Wh(e,t,n,r,a,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;cY(e,n,{name:t,index:r,group:a,on:lY,tween:uY,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:b$})}function ZS(e,t){var n=va(e,t);if(n.state>b$)throw new Error("too late; already scheduled");return n}function Da(e,t){var n=va(e,t);if(n.state>$d)throw new Error("too late; already running");return n}function va(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function cY(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=y$(s,0,n.time);function s(d){n.state=Lk,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var f,p,v,y;if(n.state!==Lk)return c();for(f in r)if(y=r[f],y.name===n.name){if(y.state===$d)return Pk(o);y.state===qk?(y.state=zd,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[f]):+f<t&&(y.state=zd,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[f])}if(Pk(function(){n.state===$d&&(n.state=qk,n.timer.restart(u,n.delay,n.time),u(d))}),n.state=Pw,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Pw){for(n.state=$d,a=new Array(v=n.tween.length),f=0,p=-1;f<v;++f)(y=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(a[++p]=y);a.length=p+1}}function u(d){for(var f=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=Lw,1),p=-1,v=a.length;++p<v;)a[p].call(e,f);n.state===Lw&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=zd,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function Ud(e,t){var n=e.__transition,r,a,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}a=r.state>Pw&&r.state<Lw,r.state=zd,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function fY(e){return this.each(function(){Ud(this,e)})}function dY(e,t){var n,r;return function(){var a=Da(this,e),s=a.tween;if(s!==n){r=n=s;for(var o=0,u=r.length;o<u;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function hY(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=Da(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var u={name:t,value:n},c=0,d=a.length;c<d;++c)if(a[c].name===t){a[c]=u;break}c===d&&a.push(u)}s.tween=a}}function pY(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=va(this.node(),n).tween,a=0,s=r.length,o;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?dY:hY)(n,e,t))}function QS(e,t,n){var r=e._id;return e.each(function(){var a=Da(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return va(a,r).value[t]}}function x$(e,t){var n;return(typeof t=="number"?la:t instanceof eo?Zd:(n=eo(t))?(t=n,Zd):h$)(e,t)}function mY(e){return function(){this.removeAttribute(e)}}function vY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gY(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=t(r=o,n)}}function yY(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=t(r=o,n)}}function bY(e,t,n){var r,a,s;return function(){var o,u=n(this),c;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=u+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,u)))}}function xY(e,t,n){var r,a,s;return function(){var o,u=n(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=u+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,u)))}}function _Y(e,t){var n=Yh(e),r=n==="transform"?Q9:x$;return this.attrTween(e,typeof t=="function"?(n.local?xY:bY)(n,r,QS(this,"attr."+e,t)):t==null?(n.local?vY:mY)(n):(n.local?yY:gY)(n,r,t))}function wY(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function SY(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function jY(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&SY(e,s)),n}return a._value=t,a}function EY(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&wY(e,s)),n}return a._value=t,a}function AY(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Yh(e);return this.tween(n,(r.local?jY:EY)(r,t))}function OY(e,t){return function(){ZS(this,e).delay=+t.apply(this,arguments)}}function TY(e,t){return t=+t,function(){ZS(this,e).delay=t}}function NY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?OY:TY)(t,e)):va(this.node(),t).delay}function kY(e,t){return function(){Da(this,e).duration=+t.apply(this,arguments)}}function CY(e,t){return t=+t,function(){Da(this,e).duration=t}}function MY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kY:CY)(t,e)):va(this.node(),t).duration}function RY(e,t){if(typeof t!="function")throw new Error;return function(){Da(this,e).ease=t}}function DY(e){var t=this._id;return arguments.length?this.each(RY(t,e)):va(this.node(),t).ease}function PY(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Da(this,e).ease=n}}function LY(e){if(typeof e!="function")throw new Error;return this.each(PY(this._id,e))}function qY(e){typeof e!="function"&&(e=QB(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,u=r[a]=[],c,d=0;d<o;++d)(c=s[d])&&e.call(c,c.__data__,d,s)&&u.push(c);return new li(r,this._parents,this._name,this._id)}function IY(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),u=0;u<s;++u)for(var c=t[u],d=n[u],f=c.length,p=o[u]=new Array(f),v,y=0;y<f;++y)(v=c[y]||d[y])&&(p[y]=v);for(;u<r;++u)o[u]=t[u];return new li(o,this._parents,this._name,this._id)}function BY(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function $Y(e,t,n){var r,a,s=BY(t)?ZS:Da;return function(){var o=s(this,e),u=o.on;u!==r&&(a=(r=u).copy()).on(t,n),o.on=a}}function zY(e,t){var n=this._id;return arguments.length<2?va(this.node(),n).on.on(e):this.each($Y(n,e,t))}function UY(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function HY(){return this.on("end.remove",UY(this._id))}function FY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=GS(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var u=r[o],c=u.length,d=s[o]=new Array(c),f,p,v=0;v<c;++v)(f=u[v])&&(p=e.call(f,f.__data__,v,u))&&("__data__"in f&&(p.__data__=f.__data__),d[v]=p,Wh(d[v],t,n,v,d,va(f,n)));return new li(s,this._parents,t,n)}function GY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ZB(e));for(var r=this._groups,a=r.length,s=[],o=[],u=0;u<a;++u)for(var c=r[u],d=c.length,f,p=0;p<d;++p)if(f=c[p]){for(var v=e.call(f,f.__data__,p,c),y,_=va(f,n),x=0,w=v.length;x<w;++x)(y=v[x])&&Wh(y,t,n,x,v,_);s.push(v),o.push(f)}return new li(s,o,t,n)}var KY=Oc.prototype.constructor;function YY(){return new KY(this._groups,this._parents)}function VY(e,t){var n,r,a;return function(){var s=ml(this,e),o=(this.style.removeProperty(e),ml(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}function _$(e){return function(){this.style.removeProperty(e)}}function WY(e,t,n){var r,a=n+"",s;return function(){var o=ml(this,e);return o===a?null:o===r?s:s=t(r=o,n)}}function XY(e,t,n){var r,a,s;return function(){var o=ml(this,e),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),ml(this,e))),o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,u))}}function ZY(e,t){var n,r,a,s="style."+t,o="end."+s,u;return function(){var c=Da(this,e),d=c.on,f=c.value[s]==null?u||(u=_$(t)):void 0;(d!==n||a!==f)&&(r=(n=d).copy()).on(o,a=f),c.on=r}}function QY(e,t,n){var r=(e+="")=="transform"?Z9:x$;return t==null?this.styleTween(e,VY(e,r)).on("end.style."+e,_$(e)):typeof t=="function"?this.styleTween(e,XY(e,r,QS(this,"style."+e,t))).each(ZY(this._id,e)):this.styleTween(e,WY(e,r,t),n).on("end.style."+e,null)}function JY(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function eV(e,t,n){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&JY(e,o,n)),r}return s._value=t,s}function tV(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,eV(e,t,n??""))}function nV(e){return function(){this.textContent=e}}function rV(e){return function(){var t=e(this);this.textContent=t??""}}function aV(e){return this.tween("text",typeof e=="function"?rV(QS(this,"text",e)):nV(e==null?"":e+""))}function iV(e){return function(t){this.textContent=e.call(this,t)}}function sV(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&iV(a)),t}return r._value=e,r}function oV(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,sV(e))}function lV(){for(var e=this._name,t=this._id,n=w$(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],u=o.length,c,d=0;d<u;++d)if(c=o[d]){var f=va(c,t);Wh(c,e,n,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new li(r,this._parents,e,n)}function uV(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var u={value:o},c={value:function(){--a===0&&s()}};n.each(function(){var d=Da(this,r),f=d.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),d.on=t}),a===0&&s()})}var cV=0;function li(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function w$(){return++cV}var Za=Oc.prototype;li.prototype={constructor:li,select:FY,selectAll:GY,selectChild:Za.selectChild,selectChildren:Za.selectChildren,filter:qY,merge:IY,selection:YY,transition:lV,call:Za.call,nodes:Za.nodes,node:Za.node,size:Za.size,empty:Za.empty,each:Za.each,on:zY,attr:_Y,attrTween:AY,style:QY,styleTween:tV,text:aV,textTween:oV,remove:HY,tween:pY,delay:NY,duration:MY,ease:DY,easeVarying:LY,end:uV,[Symbol.iterator]:Za[Symbol.iterator]};function fV(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var dV={time:null,delay:0,duration:250,ease:fV};function hV(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function pV(e){var t,n;e instanceof li?(t=e._id,e=e._name):(t=w$(),(n=dV).time=XS(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],u=o.length,c,d=0;d<u;++d)(c=o[d])&&Wh(c,e,t,d,o,n||hV(c,t));return new li(r,this._parents,e,t)}Oc.prototype.interrupt=fY;Oc.prototype.transition=pV;const pd=e=>()=>e;function mV(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function ri(e,t,n){this.k=e,this.x=t,this.y=n}ri.prototype={constructor:ri,scale:function(e){return e===1?this:new ri(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ri(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var es=new ri(1,0,0);ri.prototype;function bg(e){e.stopImmediatePropagation()}function qu(e){e.preventDefault(),e.stopImmediatePropagation()}function vV(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function gV(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ik(){return this.__zoom||es}function yV(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function bV(){return navigator.maxTouchPoints||"ontouchstart"in this}function xV(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function _V(){var e=vV,t=gV,n=xV,r=yV,a=bV,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,c=nY,d=Kh("start","zoom","end"),f,p,v,y=500,_=150,x=0,w=10;function S(D){D.property("__zoom",Ik).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",L).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(D,H,I,F){var Q=D.selection?D.selection():D;Q.property("__zoom",Ik),D!==Q?N(D,H,I,F):Q.interrupt().each(function(){k(this,arguments).event(F).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},S.scaleBy=function(D,H,I,F){S.scaleTo(D,function(){var Q=this.__zoom.k,Y=typeof H=="function"?H.apply(this,arguments):H;return Q*Y},I,F)},S.scaleTo=function(D,H,I,F){S.transform(D,function(){var Q=t.apply(this,arguments),Y=this.__zoom,$=I==null?A(Q):typeof I=="function"?I.apply(this,arguments):I,V=Y.invert($),Z=typeof H=="function"?H.apply(this,arguments):H;return n(O(E(Y,Z),$,V),Q,o)},I,F)},S.translateBy=function(D,H,I,F){S.transform(D,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),o)},null,F)},S.translateTo=function(D,H,I,F,Q){S.transform(D,function(){var Y=t.apply(this,arguments),$=this.__zoom,V=F==null?A(Y):typeof F=="function"?F.apply(this,arguments):F;return n(es.translate(V[0],V[1]).scale($.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof I=="function"?-I.apply(this,arguments):-I),Y,o)},F,Q)};function E(D,H){return H=Math.max(s[0],Math.min(s[1],H)),H===D.k?D:new ri(H,D.x,D.y)}function O(D,H,I){var F=H[0]-I[0]*D.k,Q=H[1]-I[1]*D.k;return F===D.x&&Q===D.y?D:new ri(D.k,F,Q)}function A(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function N(D,H,I,F){D.on("start.zoom",function(){k(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(F).end()}).tween("zoom",function(){var Q=this,Y=arguments,$=k(Q,Y).event(F),V=t.apply(Q,Y),Z=I==null?A(V):typeof I=="function"?I.apply(Q,Y):I,ne=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),K=Q.__zoom,X=typeof H=="function"?H.apply(Q,Y):H,G=c(K.invert(Z).concat(ne/K.k),X.invert(Z).concat(ne/X.k));return function(te){if(te===1)te=X;else{var oe=G(te),se=ne/oe[2];te=new ri(se,Z[0]-oe[0]*se,Z[1]-oe[1]*se)}$.zoom(null,te)}})}function k(D,H,I){return!I&&D.__zooming||new C(D,H)}function C(D,H){this.that=D,this.args=H,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,H),this.taps=0}C.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,H){return this.mouse&&D!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var H=ua(this.that).datum();d.call(D,this.that,new mV(D,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:d}),H)}};function q(D,...H){if(!e.apply(this,arguments))return;var I=k(this,H).event(D),F=this.__zoom,Q=Math.max(s[0],Math.min(s[1],F.k*Math.pow(2,r.apply(this,arguments)))),Y=Aa(D);if(I.wheel)(I.mouse[0][0]!==Y[0]||I.mouse[0][1]!==Y[1])&&(I.mouse[1]=F.invert(I.mouse[0]=Y)),clearTimeout(I.wheel);else{if(F.k===Q)return;I.mouse=[Y,F.invert(Y)],Ud(this),I.start()}qu(D),I.wheel=setTimeout($,_),I.zoom("mouse",n(O(E(F,Q),I.mouse[0],I.mouse[1]),I.extent,o));function $(){I.wheel=null,I.end()}}function P(D,...H){if(v||!e.apply(this,arguments))return;var I=D.currentTarget,F=k(this,H,!0).event(D),Q=ua(D.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",ne,!0),Y=Aa(D,I),$=D.clientX,V=D.clientY;l$(D.view),bg(D),F.mouse=[Y,this.__zoom.invert(Y)],Ud(this),F.start();function Z(K){if(qu(K),!F.moved){var X=K.clientX-$,G=K.clientY-V;F.moved=X*X+G*G>x}F.event(K).zoom("mouse",n(O(F.that.__zoom,F.mouse[0]=Aa(K,I),F.mouse[1]),F.extent,o))}function ne(K){Q.on("mousemove.zoom mouseup.zoom",null),u$(K.view,F.moved),qu(K),F.event(K).end()}}function M(D,...H){if(e.apply(this,arguments)){var I=this.__zoom,F=Aa(D.changedTouches?D.changedTouches[0]:D,this),Q=I.invert(F),Y=I.k*(D.shiftKey?.5:2),$=n(O(E(I,Y),F,Q),t.apply(this,H),o);qu(D),u>0?ua(this).transition().duration(u).call(N,$,F,D):ua(this).call(S.transform,$,F,D)}}function L(D,...H){if(e.apply(this,arguments)){var I=D.touches,F=I.length,Q=k(this,H,D.changedTouches.length===F).event(D),Y,$,V,Z;for(bg(D),$=0;$<F;++$)V=I[$],Z=Aa(V,this),Z=[Z,this.__zoom.invert(Z),V.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==Z[2]&&(Q.touch1=Z,Q.taps=0):(Q.touch0=Z,Y=!0,Q.taps=1+!!f);f&&(f=clearTimeout(f)),Y&&(Q.taps<2&&(p=Z[0],f=setTimeout(function(){f=null},y)),Ud(this),Q.start())}}function B(D,...H){if(this.__zooming){var I=k(this,H).event(D),F=D.changedTouches,Q=F.length,Y,$,V,Z;for(qu(D),Y=0;Y<Q;++Y)$=F[Y],V=Aa($,this),I.touch0&&I.touch0[2]===$.identifier?I.touch0[0]=V:I.touch1&&I.touch1[2]===$.identifier&&(I.touch1[0]=V);if($=I.that.__zoom,I.touch1){var ne=I.touch0[0],K=I.touch0[1],X=I.touch1[0],G=I.touch1[1],te=(te=X[0]-ne[0])*te+(te=X[1]-ne[1])*te,oe=(oe=G[0]-K[0])*oe+(oe=G[1]-K[1])*oe;$=E($,Math.sqrt(te/oe)),V=[(ne[0]+X[0])/2,(ne[1]+X[1])/2],Z=[(K[0]+G[0])/2,(K[1]+G[1])/2]}else if(I.touch0)V=I.touch0[0],Z=I.touch0[1];else return;I.zoom("touch",n(O($,V,Z),I.extent,o))}}function z(D,...H){if(this.__zooming){var I=k(this,H).event(D),F=D.changedTouches,Q=F.length,Y,$;for(bg(D),v&&clearTimeout(v),v=setTimeout(function(){v=null},y),Y=0;Y<Q;++Y)$=F[Y],I.touch0&&I.touch0[2]===$.identifier?delete I.touch0:I.touch1&&I.touch1[2]===$.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&($=Aa($,this),Math.hypot(p[0]-$[0],p[1]-$[1])<w)){var V=ua(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return S.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:pd(+D),S):r},S.filter=function(D){return arguments.length?(e=typeof D=="function"?D:pd(!!D),S):e},S.touchable=function(D){return arguments.length?(a=typeof D=="function"?D:pd(!!D),S):a},S.extent=function(D){return arguments.length?(t=typeof D=="function"?D:pd([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),S):t},S.scaleExtent=function(D){return arguments.length?(s[0]=+D[0],s[1]=+D[1],S):[s[0],s[1]]},S.translateExtent=function(D){return arguments.length?(o[0][0]=+D[0][0],o[1][0]=+D[1][0],o[0][1]=+D[0][1],o[1][1]=+D[1][1],S):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},S.constrain=function(D){return arguments.length?(n=D,S):n},S.duration=function(D){return arguments.length?(u=+D,S):u},S.interpolate=function(D){return arguments.length?(c=D,S):c},S.on=function(){var D=d.on.apply(d,arguments);return D===d?S:D},S.clickDistance=function(D){return arguments.length?(x=(D=+D)*D,S):Math.sqrt(x)},S.tapDistance=function(D){return arguments.length?(w=+D,S):w},S}const Xh=T.createContext(null),wV=Xh.Provider,ui={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},S$=ui.error001();function Nt(e,t){const n=T.useContext(Xh);if(n===null)throw new Error(S$);return WB(n,e,t)}const gn=()=>{const e=T.useContext(Xh);if(e===null)throw new Error(S$);return T.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},SV=e=>e.userSelectionActive?"none":"all";function j$({position:e,children:t,className:n,style:r,...a}){const s=Nt(SV),o=`${e}`.split("-");return de.createElement("div",{className:Hn(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...a},t)}function jV({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:de.createElement(j$,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},de.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const EV=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:u=2,children:c,className:d,...f})=>{const p=T.useRef(null),[v,y]=T.useState({x:0,y:0,width:0,height:0}),_=Hn(["react-flow__edge-textwrapper",d]);return T.useEffect(()=>{if(p.current){const x=p.current.getBBox();y({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:de.createElement("g",{transform:`translate(${e-v.width/2} ${t-v.height/2})`,className:_,visibility:v.width?"visible":"hidden",...f},a&&de.createElement("rect",{width:v.width+2*o[0],x:-o[0],y:-o[1],height:v.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:u,ry:u}),de.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:p,style:r},n),c)};var AV=T.memo(EV);const JS=e=>({width:e.offsetWidth,height:e.offsetHeight}),gl=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ej=(e={x:0,y:0},t)=>({x:gl(e.x,t[0][0],t[1][0]),y:gl(e.y,t[0][1],t[1][1])}),Bk=(e,t,n)=>e<t?gl(Math.abs(e-t),1,50)/50:e>n?-gl(Math.abs(e-n),1,50)/50:0,E$=(e,t)=>{const n=Bk(e.x,35,t.width-35)*20,r=Bk(e.y,35,t.height-35)*20;return[n,r]},A$=e=>e.getRootNode?.()||window?.document,OV=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),tj=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),TV=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),$k=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),qw=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},NV=e=>Fr(e.width)&&Fr(e.height)&&Fr(e.x)&&Fr(e.y),Fr=e=>!isNaN(e)&&isFinite(e),Pt=Symbol.for("internals"),O$=["Enter"," ","Escape"],kV=(e,t)=>{},CV=e=>"nativeEvent"in e;function Iw(e){const n=(CV(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const T$=e=>"clientX"in e,ts=(e,t)=>{const n=T$(e),r=n?e.clientX:e.touches?.[0].clientX,a=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:a-(t?.top??0)}},th=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Nc=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:v,interactionWidth:y=20})=>de.createElement(de.Fragment,null,de.createElement("path",{id:e,style:f,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:p,markerStart:v}),y&&de.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}),a&&Fr(n)&&Fr(r)?de.createElement(AV,{x:n,y:r,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d}):null);Nc.displayName="BaseEdge";function Iu(e,t,n){return n===void 0?n:r=>{const a=t().edges.find(s=>s.id===e);a&&n(r,{...a})}}function N$({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,s=n<e?n+a:n-a,o=Math.abs(r-t)/2,u=r<t?r+o:r-o;return[s,u,a,o]}function k$({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:s,targetControlX:o,targetControlY:u}){const c=e*.125+a*.375+o*.375+n*.125,d=t*.125+s*.375+u*.375+r*.125,f=Math.abs(c-e),p=Math.abs(d-t);return[c,d,f,p]}var no;(function(e){e.Strict="strict",e.Loose="loose"})(no||(no={}));var Hs;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Hs||(Hs={}));var vc;(function(e){e.Partial="partial",e.Full="full"})(vc||(vc={}));var Qi;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Qi||(Qi={}));var nh;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(nh||(nh={}));var Ne;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ne||(Ne={}));function zk({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===Ne.Left||e===Ne.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function C$({sourceX:e,sourceY:t,sourcePosition:n=Ne.Bottom,targetX:r,targetY:a,targetPosition:s=Ne.Top}){const[o,u]=zk({pos:n,x1:e,y1:t,x2:r,y2:a}),[c,d]=zk({pos:s,x1:r,y1:a,x2:e,y2:t}),[f,p,v,y]=k$({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:o,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${o},${u} ${c},${d} ${r},${a}`,f,p,v,y]}const nj=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=Ne.Bottom,targetPosition:s=Ne.Top,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:v,markerEnd:y,markerStart:_,interactionWidth:x})=>{const[w,S,E]=C$({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:s});return de.createElement(Nc,{path:w,labelX:S,labelY:E,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:v,markerEnd:y,markerStart:_,interactionWidth:x})});nj.displayName="SimpleBezierEdge";const Uk={[Ne.Left]:{x:-1,y:0},[Ne.Right]:{x:1,y:0},[Ne.Top]:{x:0,y:-1},[Ne.Bottom]:{x:0,y:1}},MV=({source:e,sourcePosition:t=Ne.Bottom,target:n})=>t===Ne.Left||t===Ne.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Hk=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function RV({source:e,sourcePosition:t=Ne.Bottom,target:n,targetPosition:r=Ne.Top,center:a,offset:s}){const o=Uk[t],u=Uk[r],c={x:e.x+o.x*s,y:e.y+o.y*s},d={x:n.x+u.x*s,y:n.y+u.y*s},f=MV({source:c,sourcePosition:t,target:d}),p=f.x!==0?"x":"y",v=f[p];let y=[],_,x;const w={x:0,y:0},S={x:0,y:0},[E,O,A,N]=N$({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[p]*u[p]===-1){_=a.x??E,x=a.y??O;const C=[{x:_,y:c.y},{x:_,y:d.y}],q=[{x:c.x,y:x},{x:d.x,y:x}];o[p]===v?y=p==="x"?C:q:y=p==="x"?q:C}else{const C=[{x:c.x,y:d.y}],q=[{x:d.x,y:c.y}];if(p==="x"?y=o.x===v?q:C:y=o.y===v?C:q,t===r){const z=Math.abs(e[p]-n[p]);if(z<=s){const D=Math.min(s-1,s-z);o[p]===v?w[p]=(c[p]>e[p]?-1:1)*D:S[p]=(d[p]>n[p]?-1:1)*D}}if(t!==r){const z=p==="x"?"y":"x",D=o[p]===u[z],H=c[z]>d[z],I=c[z]<d[z];(o[p]===1&&(!D&&H||D&&I)||o[p]!==1&&(!D&&I||D&&H))&&(y=p==="x"?C:q)}const P={x:c.x+w.x,y:c.y+w.y},M={x:d.x+S.x,y:d.y+S.y},L=Math.max(Math.abs(P.x-y[0].x),Math.abs(M.x-y[0].x)),B=Math.max(Math.abs(P.y-y[0].y),Math.abs(M.y-y[0].y));L>=B?(_=(P.x+M.x)/2,x=y[0].y):(_=y[0].x,x=(P.y+M.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...y,{x:d.x+S.x,y:d.y+S.y},n],_,x,A,N]}function DV(e,t,n,r){const a=Math.min(Hk(e,t)/2,Hk(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const d=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${s+a*d},${o}Q ${s},${o} ${s},${o+a*f}`}const u=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${o+a*c}Q ${s},${o} ${s+a*u},${o}`}function Bw({sourceX:e,sourceY:t,sourcePosition:n=Ne.Bottom,targetX:r,targetY:a,targetPosition:s=Ne.Top,borderRadius:o=5,centerX:u,centerY:c,offset:d=20}){const[f,p,v,y,_]=RV({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:s,center:{x:u,y:c},offset:d});return[f.reduce((w,S,E)=>{let O="";return E>0&&E<f.length-1?O=DV(f[E-1],S,f[E+1],o):O=`${E===0?"M":"L"}${S.x} ${S.y}`,w+=O,w},""),p,v,y,_]}const Zh=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,sourcePosition:p=Ne.Bottom,targetPosition:v=Ne.Top,markerEnd:y,markerStart:_,pathOptions:x,interactionWidth:w})=>{const[S,E,O]=Bw({sourceX:e,sourceY:t,sourcePosition:p,targetX:n,targetY:r,targetPosition:v,borderRadius:x?.borderRadius,offset:x?.offset});return de.createElement(Nc,{path:S,labelX:E,labelY:O,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:y,markerStart:_,interactionWidth:w})});Zh.displayName="SmoothStepEdge";const rj=T.memo(e=>de.createElement(Zh,{...e,pathOptions:T.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));rj.displayName="StepEdge";function PV({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,s,o,u]=N$({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,s,o,u]}const aj=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:v,interactionWidth:y})=>{const[_,x,w]=PV({sourceX:e,sourceY:t,targetX:n,targetY:r});return de.createElement(Nc,{path:_,labelX:x,labelY:w,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:v,interactionWidth:y})});aj.displayName="StraightEdge";function md(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Fk({pos:e,x1:t,y1:n,x2:r,y2:a,c:s}){switch(e){case Ne.Left:return[t-md(t-r,s),n];case Ne.Right:return[t+md(r-t,s),n];case Ne.Top:return[t,n-md(n-a,s)];case Ne.Bottom:return[t,n+md(a-n,s)]}}function M$({sourceX:e,sourceY:t,sourcePosition:n=Ne.Bottom,targetX:r,targetY:a,targetPosition:s=Ne.Top,curvature:o=.25}){const[u,c]=Fk({pos:n,x1:e,y1:t,x2:r,y2:a,c:o}),[d,f]=Fk({pos:s,x1:r,y1:a,x2:e,y2:t,c:o}),[p,v,y,_]=k$({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:u,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${e},${t} C${u},${c} ${d},${f} ${r},${a}`,p,v,y,_]}const rh=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=Ne.Bottom,targetPosition:s=Ne.Top,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:v,markerEnd:y,markerStart:_,pathOptions:x,interactionWidth:w})=>{const[S,E,O]=M$({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:s,curvature:x?.curvature});return de.createElement(Nc,{path:S,labelX:E,labelY:O,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:v,markerEnd:y,markerStart:_,interactionWidth:w})});rh.displayName="BezierEdge";const ij=T.createContext(null),LV=ij.Provider;ij.Consumer;const qV=()=>T.useContext(ij),IV=e=>"id"in e&&"source"in e&&"target"in e,BV=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,$w=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,$V=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),zV=(e,t)=>{if(!e.source||!e.target)return t;let n;return IV(e)?n={...e}:n={...e,id:BV(e)},$V(n,t)?t:t.concat(n)},zw=({x:e,y:t},[n,r,a],s,[o,u])=>{const c={x:(e-n)/a,y:(t-r)/a};return s?{x:o*Math.round(c.x/o),y:u*Math.round(c.y/u)}:c},R$=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r}),fl=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-r};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:a}},sj=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const{x:s,y:o}=fl(a,t).positionAbsolute;return OV(r,tj({x:s,y:o,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return TV(n)},D$=(e,t,[n,r,a]=[0,0,1],s=!1,o=!1,u=[0,0])=>{const c={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},d=[];return e.forEach(f=>{const{width:p,height:v,selectable:y=!0,hidden:_=!1}=f;if(o&&!y||_)return!1;const{positionAbsolute:x}=fl(f,u),w={x:x.x,y:x.y,width:p||0,height:v||0},S=qw(c,w),E=typeof p>"u"||typeof v>"u"||p===null||v===null,O=s&&S>0,A=(p||0)*(v||0);(E||O||S>=A||f.dragging)&&d.push(f)}),d},P$=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},L$=(e,t,n,r,a,s=.1)=>{const o=t/(e.width*(1+s)),u=n/(e.height*(1+s)),c=Math.min(o,u),d=gl(c,r,a),f=e.x+e.width/2,p=e.y+e.height/2,v=t/2-f*d,y=n/2-p*d;return{x:v,y,zoom:d}},qs=(e,t=0)=>e.transition().duration(t);function Gk(e,t,n,r){return(t[n]||[]).reduce((a,s)=>(`${e.id}-${s.id}-${n}`!==r&&a.push({id:s.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+s.x+s.width/2,y:(e.positionAbsolute?.y??0)+s.y+s.height/2}),a),[])}function UV(e,t,n,r,a,s){const{x:o,y:u}=ts(e),d=t.elementsFromPoint(o,u).find(_=>_.classList.contains("react-flow__handle"));if(d){const _=d.getAttribute("data-nodeid");if(_){const x=oj(void 0,d),w=d.getAttribute("data-handleid"),S=s({nodeId:_,id:w,type:x});if(S){const E=a.find(O=>O.nodeId===_&&O.type===x&&O.id===w);return{handle:{id:w,type:x,nodeId:_,x:E?.x||n.x,y:E?.y||n.y},validHandleResult:S}}}}let f=[],p=1/0;if(a.forEach(_=>{const x=Math.sqrt((_.x-n.x)**2+(_.y-n.y)**2);if(x<=r){const w=s(_);x<=p&&(x<p?f=[{handle:_,validHandleResult:w}]:x===p&&f.push({handle:_,validHandleResult:w}),p=x)}}),!f.length)return{handle:null,validHandleResult:q$()};if(f.length===1)return f[0];const v=f.some(({validHandleResult:_})=>_.isValid),y=f.some(({handle:_})=>_.type==="target");return f.find(({handle:_,validHandleResult:x})=>y?_.type==="target":v?x.isValid:!0)||f[0]}const HV={source:null,target:null,sourceHandle:null,targetHandle:null},q$=()=>({handleDomNode:null,isValid:!1,connection:HV,endHandle:null});function I$(e,t,n,r,a,s,o){const u=a==="target",c=o.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),d={...q$(),handleDomNode:c};if(c){const f=oj(void 0,c),p=c.getAttribute("data-nodeid"),v=c.getAttribute("data-handleid"),y=c.classList.contains("connectable"),_=c.classList.contains("connectableend"),x={source:u?p:n,sourceHandle:u?v:r,target:u?n:p,targetHandle:u?r:v};d.connection=x,y&&_&&(t===no.Strict?u&&f==="source"||!u&&f==="target":p!==n||v!==r)&&(d.endHandle={nodeId:p,handleId:v,type:f},d.isValid=s(x))}return d}function FV({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((a,s)=>{if(s[Pt]){const{handleBounds:o}=s[Pt];let u=[],c=[];o&&(u=Gk(s,o,"source",`${t}-${n}-${r}`),c=Gk(s,o,"target",`${t}-${n}-${r}`)),a.push(...u,...c)}return a},[])}function oj(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function xg(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function GV(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function B$({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:a,getState:s,setState:o,isValidConnection:u,edgeUpdaterType:c,onReconnectEnd:d}){const f=A$(e.target),{connectionMode:p,domNode:v,autoPanOnConnect:y,connectionRadius:_,onConnectStart:x,panBy:w,getNodes:S,cancelConnection:E}=s();let O=0,A;const{x:N,y:k}=ts(e),C=f?.elementFromPoint(N,k),q=oj(c,C),P=v?.getBoundingClientRect();if(!P||!q)return;let M,L=ts(e,P),B=!1,z=null,D=!1,H=null;const I=FV({nodes:S(),nodeId:n,handleId:t,handleType:q}),F=()=>{if(!y)return;const[$,V]=E$(L,P);w({x:$,y:V}),O=requestAnimationFrame(F)};o({connectionPosition:L,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:q,connectionStartHandle:{nodeId:n,handleId:t,type:q},connectionEndHandle:null}),x?.(e,{nodeId:n,handleId:t,handleType:q});function Q($){const{transform:V}=s();L=ts($,P);const{handle:Z,validHandleResult:ne}=UV($,f,zw(L,V,!1,[1,1]),_,I,K=>I$(K,p,n,t,a?"target":"source",u,f));if(A=Z,B||(F(),B=!0),H=ne.handleDomNode,z=ne.connection,D=ne.isValid,o({connectionPosition:A&&D?R$({x:A.x,y:A.y},V):L,connectionStatus:GV(!!A,D),connectionEndHandle:ne.endHandle}),!A&&!D&&!H)return xg(M);z.source!==z.target&&H&&(xg(M),M=H,H.classList.add("connecting","react-flow__handle-connecting"),H.classList.toggle("valid",D),H.classList.toggle("react-flow__handle-valid",D))}function Y($){(A||H)&&z&&D&&r?.(z),s().onConnectEnd?.($),c&&d?.($),xg(M),E(),cancelAnimationFrame(O),B=!1,D=!1,z=null,H=null,f.removeEventListener("mousemove",Q),f.removeEventListener("mouseup",Y),f.removeEventListener("touchmove",Q),f.removeEventListener("touchend",Y)}f.addEventListener("mousemove",Q),f.addEventListener("mouseup",Y),f.addEventListener("touchmove",Q),f.addEventListener("touchend",Y)}const Kk=()=>!0,KV=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),YV=(e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:a?.nodeId===e&&a?.handleId===t&&a?.type===n||s?.nodeId===e&&s?.handleId===t&&s?.type===n,clickConnecting:o?.nodeId===e&&o?.handleId===t&&o?.type===n}},$$=T.forwardRef(({type:e="source",position:t=Ne.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:o,onConnect:u,children:c,className:d,onMouseDown:f,onTouchStart:p,...v},y)=>{const _=o||null,x=e==="target",w=gn(),S=qV(),{connectOnClick:E,noPanClassName:O}=Nt(KV,Rn),{connecting:A,clickConnecting:N}=Nt(YV(S,_,e),Rn);S||w.getState().onError?.("010",ui.error010());const k=P=>{const{defaultEdgeOptions:M,onConnect:L,hasDefaultEdges:B}=w.getState(),z={...M,...P};if(B){const{edges:D,setEdges:H}=w.getState();H(zV(z,D))}L?.(z),u?.(z)},C=P=>{if(!S)return;const M=T$(P);a&&(M&&P.button===0||!M)&&B$({event:P,handleId:_,nodeId:S,onConnect:k,isTarget:x,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||Kk}),M?f?.(P):p?.(P)},q=P=>{const{onClickConnectStart:M,onClickConnectEnd:L,connectionClickStartHandle:B,connectionMode:z,isValidConnection:D}=w.getState();if(!S||!B&&!a)return;if(!B){M?.(P,{nodeId:S,handleId:_,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:S,type:e,handleId:_}});return}const H=A$(P.target),I=n||D||Kk,{connection:F,isValid:Q}=I$({nodeId:S,id:_,type:e},z,B.nodeId,B.handleId||null,B.type,I,H);Q&&k(F),L?.(P),w.setState({connectionClickStartHandle:null})};return de.createElement("div",{"data-handleid":_,"data-nodeid":S,"data-handlepos":t,"data-id":`${S}-${_}-${e}`,className:Hn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",O,d,{source:!x,target:x,connectable:r,connectablestart:a,connectableend:s,connecting:N,connectionindicator:r&&(a&&!A||s&&A)}]),onMouseDown:C,onTouchStart:C,onClick:E?q:void 0,ref:y,...v},c)});$$.displayName="Handle";var as=T.memo($$);const z$=({data:e,isConnectable:t,targetPosition:n=Ne.Top,sourcePosition:r=Ne.Bottom})=>de.createElement(de.Fragment,null,de.createElement(as,{type:"target",position:n,isConnectable:t}),e?.label,de.createElement(as,{type:"source",position:r,isConnectable:t}));z$.displayName="DefaultNode";var Uw=T.memo(z$);const U$=({data:e,isConnectable:t,sourcePosition:n=Ne.Bottom})=>de.createElement(de.Fragment,null,e?.label,de.createElement(as,{type:"source",position:n,isConnectable:t}));U$.displayName="InputNode";var H$=T.memo(U$);const F$=({data:e,isConnectable:t,targetPosition:n=Ne.Top})=>de.createElement(de.Fragment,null,de.createElement(as,{type:"target",position:n,isConnectable:t}),e?.label);F$.displayName="OutputNode";var G$=T.memo(F$);const lj=()=>null;lj.displayName="GroupNode";const VV=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),vd=e=>e.id;function WV(e,t){return Rn(e.selectedNodes.map(vd),t.selectedNodes.map(vd))&&Rn(e.selectedEdges.map(vd),t.selectedEdges.map(vd))}const K$=T.memo(({onSelectionChange:e})=>{const t=gn(),{selectedNodes:n,selectedEdges:r}=Nt(VV,WV);return T.useEffect(()=>{const a={nodes:n,edges:r};e?.(a),t.getState().onSelectionChange.forEach(s=>s(a))},[n,r,e]),null});K$.displayName="SelectionListener";const XV=e=>!!e.onSelectionChange;function ZV({onSelectionChange:e}){const t=Nt(XV);return e||t?de.createElement(K$,{onSelectionChange:e}):null}const QV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function el(e,t){T.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ze(e,t,n){T.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const JV=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:s,onConnectEnd:o,onClickConnectStart:u,onClickConnectEnd:c,nodesDraggable:d,nodesConnectable:f,nodesFocusable:p,edgesFocusable:v,edgesUpdatable:y,elevateNodesOnSelect:_,minZoom:x,maxZoom:w,nodeExtent:S,onNodesChange:E,onEdgesChange:O,elementsSelectable:A,connectionMode:N,snapGrid:k,snapToGrid:C,translateExtent:q,connectOnClick:P,defaultEdgeOptions:M,fitView:L,fitViewOptions:B,onNodesDelete:z,onEdgesDelete:D,onNodeDrag:H,onNodeDragStart:I,onNodeDragStop:F,onSelectionDrag:Q,onSelectionDragStart:Y,onSelectionDragStop:$,noPanClassName:V,nodeOrigin:Z,rfId:ne,autoPanOnConnect:K,autoPanOnNodeDrag:X,onError:G,connectionRadius:te,isValidConnection:oe,nodeDragThreshold:se})=>{const{setNodes:he,setEdges:ye,setDefaultNodesAndEdges:ce,setMinZoom:Ae,setMaxZoom:we,setTranslateExtent:be,setNodeExtent:Pe,reset:xe}=Nt(QV,Rn),Se=gn();return T.useEffect(()=>{const at=r?.map(Dn=>({...Dn,...M}));return ce(n,at),()=>{xe()}},[]),ze("defaultEdgeOptions",M,Se.setState),ze("connectionMode",N,Se.setState),ze("onConnect",a,Se.setState),ze("onConnectStart",s,Se.setState),ze("onConnectEnd",o,Se.setState),ze("onClickConnectStart",u,Se.setState),ze("onClickConnectEnd",c,Se.setState),ze("nodesDraggable",d,Se.setState),ze("nodesConnectable",f,Se.setState),ze("nodesFocusable",p,Se.setState),ze("edgesFocusable",v,Se.setState),ze("edgesUpdatable",y,Se.setState),ze("elementsSelectable",A,Se.setState),ze("elevateNodesOnSelect",_,Se.setState),ze("snapToGrid",C,Se.setState),ze("snapGrid",k,Se.setState),ze("onNodesChange",E,Se.setState),ze("onEdgesChange",O,Se.setState),ze("connectOnClick",P,Se.setState),ze("fitViewOnInit",L,Se.setState),ze("fitViewOnInitOptions",B,Se.setState),ze("onNodesDelete",z,Se.setState),ze("onEdgesDelete",D,Se.setState),ze("onNodeDrag",H,Se.setState),ze("onNodeDragStart",I,Se.setState),ze("onNodeDragStop",F,Se.setState),ze("onSelectionDrag",Q,Se.setState),ze("onSelectionDragStart",Y,Se.setState),ze("onSelectionDragStop",$,Se.setState),ze("noPanClassName",V,Se.setState),ze("nodeOrigin",Z,Se.setState),ze("rfId",ne,Se.setState),ze("autoPanOnConnect",K,Se.setState),ze("autoPanOnNodeDrag",X,Se.setState),ze("onError",G,Se.setState),ze("connectionRadius",te,Se.setState),ze("isValidConnection",oe,Se.setState),ze("nodeDragThreshold",se,Se.setState),el(e,he),el(t,ye),el(x,Ae),el(w,we),el(q,be),el(S,Pe),null},Yk={display:"none"},eW={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Y$="react-flow__node-desc",V$="react-flow__edge-desc",tW="react-flow__aria-live",nW=e=>e.ariaLiveMessage;function rW({rfId:e}){const t=Nt(nW);return de.createElement("div",{id:`${tW}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:eW},t)}function aW({rfId:e,disableKeyboardA11y:t}){return de.createElement(de.Fragment,null,de.createElement("div",{id:`${Y$}-${e}`,style:Yk},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),de.createElement("div",{id:`${V$}-${e}`,style:Yk},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&de.createElement(rW,{rfId:e}))}var gc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=T.useState(!1),a=T.useRef(!1),s=T.useRef(new Set([])),[o,u]=T.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.split("+")),f=d.reduce((p,v)=>p.concat(...v),[]);return[d,f]}return[[],[]]},[e]);return T.useEffect(()=>{const c=typeof document<"u"?document:null,d=t?.target||c;if(e!==null){const f=y=>{if(a.current=y.ctrlKey||y.metaKey||y.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&Iw(y))return!1;const x=Wk(y.code,u);s.current.add(y[x]),Vk(o,s.current,!1)&&(y.preventDefault(),r(!0))},p=y=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Iw(y))return!1;const x=Wk(y.code,u);Vk(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(y[x]),y.key==="Meta"&&s.current.clear(),a.current=!1},v=()=>{s.current.clear(),r(!1)};return d?.addEventListener("keydown",f),d?.addEventListener("keyup",p),window.addEventListener("blur",v),()=>{d?.removeEventListener("keydown",f),d?.removeEventListener("keyup",p),window.removeEventListener("blur",v)}}},[e,r]),n};function Vk(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function Wk(e,t){return t.includes(e)?"code":"key"}function W$(e,t,n,r){const a=e.parentNode||e.parentId;if(!a)return n;const s=t.get(a),o=fl(s,r);return W$(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(s[Pt]?.z??0)>(n.z??0)?s[Pt]?.z??0:n.z??0},r)}function X$(e,t,n){e.forEach(r=>{const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||n?.[r.id]){const{x:s,y:o,z:u}=W$(r,e,{...r.position,z:r[Pt]?.z??0},t);r.positionAbsolute={x:s,y:o},r[Pt].z=u,n?.[r.id]&&(r[Pt].isParent=!0)}})}function _g(e,t,n,r){const a=new Map,s={},o=r?1e3:0;return e.forEach(u=>{const c=(Fr(u.zIndex)?u.zIndex:0)+(u.selected?o:0),d=t.get(u.id),f={...u,positionAbsolute:{x:u.position.x,y:u.position.y}},p=u.parentNode||u.parentId;p&&(s[p]=!0);const v=d?.type&&d?.type!==u.type;Object.defineProperty(f,Pt,{enumerable:!1,value:{handleBounds:v?void 0:d?.[Pt]?.handleBounds,z:c}}),a.set(u.id,f)}),X$(a,n,s),a}function Z$(e,t={}){const{getNodes:n,width:r,height:a,minZoom:s,maxZoom:o,d3Zoom:u,d3Selection:c,fitViewOnInitDone:d,fitViewOnInit:f,nodeOrigin:p}=e(),v=t.initial&&!d&&f;if(u&&c&&(v||!t.initial)){const _=n().filter(w=>{const S=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return t.nodes?.length?S&&t.nodes.some(E=>E.id===w.id):S}),x=_.every(w=>w.width&&w.height);if(_.length>0&&x){const w=sj(_,p),{x:S,y:E,zoom:O}=L$(w,r,a,t.minZoom??s,t.maxZoom??o,t.padding??.1),A=es.translate(S,E).scale(O);return typeof t.duration=="number"&&t.duration>0?u.transform(qs(c,t.duration),A):u.transform(c,A),!0}}return!1}function iW(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Pt]:r[Pt],selected:n.selected})}),new Map(t)}function sW(e,t){return t.map(n=>{const r=e.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function gd({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:a,edges:s,onNodesChange:o,onEdgesChange:u,hasDefaultNodes:c,hasDefaultEdges:d}=n();e?.length&&(c&&r({nodeInternals:iW(e,a)}),o?.(e)),t?.length&&(d&&r({edges:sW(t,s)}),u?.(t))}const tl=()=>{},oW={zoomIn:tl,zoomOut:tl,zoomTo:tl,getZoom:()=>1,setViewport:tl,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:tl,fitBounds:tl,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},lW=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),uW=()=>{const e=gn(),{d3Zoom:t,d3Selection:n}=Nt(lW,Rn);return T.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(qs(n,a?.duration),1.2),zoomOut:a=>t.scaleBy(qs(n,a?.duration),1/1.2),zoomTo:(a,s)=>t.scaleTo(qs(n,s?.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,s)=>{const[o,u,c]=e.getState().transform,d=es.translate(a.x??o,a.y??u).scale(a.zoom??c);t.transform(qs(n,s?.duration),d)},getViewport:()=>{const[a,s,o]=e.getState().transform;return{x:a,y:s,zoom:o}},fitView:a=>Z$(e.getState,a),setCenter:(a,s,o)=>{const{width:u,height:c,maxZoom:d}=e.getState(),f=typeof o?.zoom<"u"?o.zoom:d,p=u/2-a*f,v=c/2-s*f,y=es.translate(p,v).scale(f);t.transform(qs(n,o?.duration),y)},fitBounds:(a,s)=>{const{width:o,height:u,minZoom:c,maxZoom:d}=e.getState(),{x:f,y:p,zoom:v}=L$(a,o,u,c,d,s?.padding??.1),y=es.translate(f,p).scale(v);t.transform(qs(n,s?.duration),y)},project:a=>{const{transform:s,snapToGrid:o,snapGrid:u}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),zw(a,s,o,u)},screenToFlowPosition:a=>{const{transform:s,snapToGrid:o,snapGrid:u,domNode:c}=e.getState();if(!c)return a;const{x:d,y:f}=c.getBoundingClientRect(),p={x:a.x-d,y:a.y-f};return zw(p,s,o,u)},flowToScreenPosition:a=>{const{transform:s,domNode:o}=e.getState();if(!o)return a;const{x:u,y:c}=o.getBoundingClientRect(),d=R$(a,s);return{x:d.x+u,y:d.y+c}},viewportInitialized:!0}:oW,[t,n])};function uj(){const e=uW(),t=gn(),n=T.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=T.useCallback(x=>t.getState().nodeInternals.get(x),[]),a=T.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(w=>({...w}))},[]),s=T.useCallback(x=>{const{edges:w=[]}=t.getState();return w.find(S=>S.id===x)},[]),o=T.useCallback(x=>{const{getNodes:w,setNodes:S,hasDefaultNodes:E,onNodesChange:O}=t.getState(),A=w(),N=typeof x=="function"?x(A):x;if(E)S(N);else if(O){const k=N.length===0?A.map(C=>({type:"remove",id:C.id})):N.map(C=>({item:C,type:"reset"}));O(k)}},[]),u=T.useCallback(x=>{const{edges:w=[],setEdges:S,hasDefaultEdges:E,onEdgesChange:O}=t.getState(),A=typeof x=="function"?x(w):x;if(E)S(A);else if(O){const N=A.length===0?w.map(k=>({type:"remove",id:k.id})):A.map(k=>({item:k,type:"reset"}));O(N)}},[]),c=T.useCallback(x=>{const w=Array.isArray(x)?x:[x],{getNodes:S,setNodes:E,hasDefaultNodes:O,onNodesChange:A}=t.getState();if(O){const k=[...S(),...w];E(k)}else if(A){const N=w.map(k=>({item:k,type:"add"}));A(N)}},[]),d=T.useCallback(x=>{const w=Array.isArray(x)?x:[x],{edges:S=[],setEdges:E,hasDefaultEdges:O,onEdgesChange:A}=t.getState();if(O)E([...S,...w]);else if(A){const N=w.map(k=>({item:k,type:"add"}));A(N)}},[]),f=T.useCallback(()=>{const{getNodes:x,edges:w=[],transform:S}=t.getState(),[E,O,A]=S;return{nodes:x().map(N=>({...N})),edges:w.map(N=>({...N})),viewport:{x:E,y:O,zoom:A}}},[]),p=T.useCallback(({nodes:x,edges:w})=>{const{nodeInternals:S,getNodes:E,edges:O,hasDefaultNodes:A,hasDefaultEdges:N,onNodesDelete:k,onEdgesDelete:C,onNodesChange:q,onEdgesChange:P}=t.getState(),M=(x||[]).map(H=>H.id),L=(w||[]).map(H=>H.id),B=E().reduce((H,I)=>{const F=I.parentNode||I.parentId,Q=!M.includes(I.id)&&F&&H.find($=>$.id===F);return(typeof I.deletable=="boolean"?I.deletable:!0)&&(M.includes(I.id)||Q)&&H.push(I),H},[]),z=O.filter(H=>typeof H.deletable=="boolean"?H.deletable:!0),D=z.filter(H=>L.includes(H.id));if(B||D){const H=P$(B,z),I=[...D,...H],F=I.reduce((Q,Y)=>(Q.includes(Y.id)||Q.push(Y.id),Q),[]);if((N||A)&&(N&&t.setState({edges:O.filter(Q=>!F.includes(Q.id))}),A&&(B.forEach(Q=>{S.delete(Q.id)}),t.setState({nodeInternals:new Map(S)}))),F.length>0&&(C?.(I),P&&P(F.map(Q=>({id:Q,type:"remove"})))),B.length>0&&(k?.(B),q)){const Q=B.map(Y=>({id:Y.id,type:"remove"}));q(Q)}}},[]),v=T.useCallback(x=>{const w=NV(x),S=w?null:t.getState().nodeInternals.get(x.id);return!w&&!S?[null,null,w]:[w?x:$k(S),S,w]},[]),y=T.useCallback((x,w=!0,S)=>{const[E,O,A]=v(x);return E?(S||t.getState().getNodes()).filter(N=>{if(!A&&(N.id===O.id||!N.positionAbsolute))return!1;const k=$k(N),C=qw(k,E);return w&&C>0||C>=E.width*E.height}):[]},[]),_=T.useCallback((x,w,S=!0)=>{const[E]=v(x);if(!E)return!1;const O=qw(E,w);return S&&O>0||O>=E.width*E.height},[]);return T.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:s,setNodes:o,setEdges:u,addNodes:c,addEdges:d,toObject:f,deleteElements:p,getIntersectingNodes:y,isNodeIntersecting:_}),[e,n,r,a,s,o,u,c,d,f,p,y,_])}const cW={actInsideInputWithModifier:!1};var fW=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=gn(),{deleteElements:r}=uj(),a=gc(e,cW),s=gc(t);T.useEffect(()=>{if(a){const{edges:o,getNodes:u}=n.getState(),c=u().filter(f=>f.selected),d=o.filter(f=>f.selected);r({nodes:c,edges:d}),n.setState({nodesSelectionActive:!1})}},[a]),T.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function dW(e){const t=gn();T.useEffect(()=>{let n;const r=()=>{if(!e.current)return;const a=JS(e.current);(a.height===0||a.width===0)&&t.getState().onError?.("004",ui.error004()),t.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const cj={position:"absolute",width:"100%",height:"100%",top:0,left:0},hW=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,yd=e=>({x:e.x,y:e.y,zoom:e.k}),nl=(e,t)=>e.target.closest(`.${t}`),Xk=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Zk=e=>{const t=e.ctrlKey&&th()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},pW=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),mW=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:u=.5,panOnScrollMode:c=Hs.Free,zoomOnDoubleClick:d=!0,elementsSelectable:f,panOnDrag:p=!0,defaultViewport:v,translateExtent:y,minZoom:_,maxZoom:x,zoomActivationKeyCode:w,preventScrolling:S=!0,children:E,noWheelClassName:O,noPanClassName:A})=>{const N=T.useRef(),k=gn(),C=T.useRef(!1),q=T.useRef(!1),P=T.useRef(null),M=T.useRef({x:0,y:0,zoom:0}),{d3Zoom:L,d3Selection:B,d3ZoomHandler:z,userSelectionActive:D}=Nt(pW,Rn),H=gc(w),I=T.useRef(0),F=T.useRef(!1),Q=T.useRef();return dW(P),T.useEffect(()=>{if(P.current){const Y=P.current.getBoundingClientRect(),$=_V().scaleExtent([_,x]).translateExtent(y),V=ua(P.current).call($),Z=es.translate(v.x,v.y).scale(gl(v.zoom,_,x)),ne=[[0,0],[Y.width,Y.height]],K=$.constrain()(Z,ne,y);$.transform(V,K),$.wheelDelta(Zk),k.setState({d3Zoom:$,d3Selection:V,d3ZoomHandler:V.on("wheel.zoom"),transform:[K.x,K.y,K.k],domNode:P.current.closest(".react-flow")})}},[]),T.useEffect(()=>{B&&L&&(o&&!H&&!D?B.on("wheel.zoom",Y=>{if(nl(Y,O))return!1;Y.preventDefault(),Y.stopImmediatePropagation();const $=B.property("__zoom").k||1;if(Y.ctrlKey&&s){const oe=Aa(Y),se=Zk(Y),he=$*Math.pow(2,se);L.scaleTo(B,he,oe,Y);return}const V=Y.deltaMode===1?20:1;let Z=c===Hs.Vertical?0:Y.deltaX*V,ne=c===Hs.Horizontal?0:Y.deltaY*V;!th()&&Y.shiftKey&&c!==Hs.Vertical&&(Z=Y.deltaY*V,ne=0),L.translateBy(B,-(Z/$)*u,-(ne/$)*u,{internal:!0});const K=yd(B.property("__zoom")),{onViewportChangeStart:X,onViewportChange:G,onViewportChangeEnd:te}=k.getState();clearTimeout(Q.current),F.current||(F.current=!0,t?.(Y,K),X?.(K)),F.current&&(e?.(Y,K),G?.(K),Q.current=setTimeout(()=>{n?.(Y,K),te?.(K),F.current=!1},150))},{passive:!1}):typeof z<"u"&&B.on("wheel.zoom",function(Y,$){if(!S&&Y.type==="wheel"&&!Y.ctrlKey||nl(Y,O))return null;Y.preventDefault(),z.call(this,Y,$)},{passive:!1}))},[D,o,c,B,L,z,H,s,S,O,t,e,n]),T.useEffect(()=>{L&&L.on("start",Y=>{if(!Y.sourceEvent||Y.sourceEvent.internal)return null;I.current=Y.sourceEvent?.button;const{onViewportChangeStart:$}=k.getState(),V=yd(Y.transform);C.current=!0,M.current=V,Y.sourceEvent?.type==="mousedown"&&k.setState({paneDragging:!0}),$?.(V),t?.(Y.sourceEvent,V)})},[L,t]),T.useEffect(()=>{L&&(D&&!C.current?L.on("zoom",null):D||L.on("zoom",Y=>{const{onViewportChange:$}=k.getState();if(k.setState({transform:[Y.transform.x,Y.transform.y,Y.transform.k]}),q.current=!!(r&&Xk(p,I.current??0)),(e||$)&&!Y.sourceEvent?.internal){const V=yd(Y.transform);$?.(V),e?.(Y.sourceEvent,V)}}))},[D,L,e,p,r]),T.useEffect(()=>{L&&L.on("end",Y=>{if(!Y.sourceEvent||Y.sourceEvent.internal)return null;const{onViewportChangeEnd:$}=k.getState();if(C.current=!1,k.setState({paneDragging:!1}),r&&Xk(p,I.current??0)&&!q.current&&r(Y.sourceEvent),q.current=!1,(n||$)&&hW(M.current,Y.transform)){const V=yd(Y.transform);M.current=V,clearTimeout(N.current),N.current=setTimeout(()=>{$?.(V),n?.(Y.sourceEvent,V)},o?150:0)}})},[L,o,p,n,r]),T.useEffect(()=>{L&&L.filter(Y=>{const $=H||a,V=s&&Y.ctrlKey;if((p===!0||Array.isArray(p)&&p.includes(1))&&Y.button===1&&Y.type==="mousedown"&&(nl(Y,"react-flow__node")||nl(Y,"react-flow__edge")))return!0;if(!p&&!$&&!o&&!d&&!s||D||!d&&Y.type==="dblclick"||nl(Y,O)&&Y.type==="wheel"||nl(Y,A)&&(Y.type!=="wheel"||o&&Y.type==="wheel"&&!H)||!s&&Y.ctrlKey&&Y.type==="wheel"||!$&&!o&&!V&&Y.type==="wheel"||!p&&(Y.type==="mousedown"||Y.type==="touchstart")||Array.isArray(p)&&!p.includes(Y.button)&&Y.type==="mousedown")return!1;const Z=Array.isArray(p)&&p.includes(Y.button)||!Y.button||Y.button<=1;return(!Y.ctrlKey||Y.type==="wheel")&&Z})},[D,L,a,s,o,d,p,f,H]),de.createElement("div",{className:"react-flow__renderer",ref:P,style:cj},E)},vW=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function gW(){const{userSelectionActive:e,userSelectionRect:t}=Nt(vW,Rn);return e&&t?de.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Qk(e,t){const n=t.parentNode||t.parentId,r=e.find(a=>a.id===n);if(r){const a=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(a>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),s>0&&(r.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function yW(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,a)=>{const s=e.filter(u=>u.id===a.id);if(s.length===0)return r.push(a),r;const o={...a};for(const u of s)if(u)switch(u.type){case"select":{o.selected=u.selected;break}case"position":{typeof u.position<"u"&&(o.position=u.position),typeof u.positionAbsolute<"u"&&(o.positionAbsolute=u.positionAbsolute),typeof u.dragging<"u"&&(o.dragging=u.dragging),o.expandParent&&Qk(r,o);break}case"dimensions":{typeof u.dimensions<"u"&&(o.width=u.dimensions.width,o.height=u.dimensions.height),typeof u.updateStyle<"u"&&(o.style={...o.style||{},...u.dimensions}),typeof u.resizing=="boolean"&&(o.resizing=u.resizing),o.expandParent&&Qk(r,o);break}case"remove":return r}return r.push(o),r},n)}function bW(e,t){return yW(e,t)}const Wi=(e,t)=>({id:e,type:"select",selected:t});function ol(e,t){return e.reduce((n,r)=>{const a=t.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(Wi(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(Wi(r.id,!1))),n},[])}const wg=(e,t)=>n=>{n.target===t.current&&e?.(n)},xW=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Q$=T.memo(({isSelecting:e,selectionMode:t=vc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:f,children:p})=>{const v=T.useRef(null),y=gn(),_=T.useRef(0),x=T.useRef(0),w=T.useRef(),{userSelectionActive:S,elementsSelectable:E,dragging:O}=Nt(xW,Rn),A=()=>{y.setState({userSelectionActive:!1,userSelectionRect:null}),_.current=0,x.current=0},N=z=>{s?.(z),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},k=z=>{if(Array.isArray(n)&&n?.includes(2)){z.preventDefault();return}o?.(z)},C=u?z=>u(z):void 0,q=z=>{const{resetSelectedElements:D,domNode:H}=y.getState();if(w.current=H?.getBoundingClientRect(),!E||!e||z.button!==0||z.target!==v.current||!w.current)return;const{x:I,y:F}=ts(z,w.current);D(),y.setState({userSelectionRect:{width:0,height:0,startX:I,startY:F,x:I,y:F}}),r?.(z)},P=z=>{const{userSelectionRect:D,nodeInternals:H,edges:I,transform:F,onNodesChange:Q,onEdgesChange:Y,nodeOrigin:$,getNodes:V}=y.getState();if(!e||!w.current||!D)return;y.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Z=ts(z,w.current),ne=D.startX??0,K=D.startY??0,X={...D,x:Z.x<ne?Z.x:ne,y:Z.y<K?Z.y:K,width:Math.abs(Z.x-ne),height:Math.abs(Z.y-K)},G=V(),te=D$(H,X,F,t===vc.Partial,!0,$),oe=P$(te,I).map(he=>he.id),se=te.map(he=>he.id);if(_.current!==se.length){_.current=se.length;const he=ol(G,se);he.length&&Q?.(he)}if(x.current!==oe.length){x.current=oe.length;const he=ol(I,oe);he.length&&Y?.(he)}y.setState({userSelectionRect:X})},M=z=>{if(z.button!==0)return;const{userSelectionRect:D}=y.getState();!S&&D&&z.target===v.current&&N?.(z),y.setState({nodesSelectionActive:_.current>0}),A(),a?.(z)},L=z=>{S&&(y.setState({nodesSelectionActive:_.current>0}),a?.(z)),A()},B=E&&(e||S);return de.createElement("div",{className:Hn(["react-flow__pane",{dragging:O,selection:e}]),onClick:B?void 0:wg(N,v),onContextMenu:wg(k,v),onWheel:wg(C,v),onMouseEnter:B?void 0:c,onMouseDown:B?q:void 0,onMouseMove:B?P:d,onMouseUp:B?M:void 0,onMouseLeave:B?L:f,ref:v,style:cj},p,de.createElement(gW,null))});Q$.displayName="Pane";function J$(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:J$(r,t):!1}function Jk(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function _W(e,t,n,r){return Array.from(e.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!J$(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>({id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(a.positionAbsolute?.x??0),y:n.y-(a.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}))}function wW(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function e3(e,t,n,r,a=[0,0],s){const o=wW(e,e.extent||r);let u=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const p=n.get(c),{x:v,y}=fl(p,a).positionAbsolute;u=p&&Fr(v)&&Fr(y)&&Fr(p.width)&&Fr(p.height)?[[v+e.width*a[0],y+e.height*a[1]],[v+p.width-e.width+e.width*a[0],y+p.height-e.height+e.height*a[1]]]:u}else s?.("005",ui.error005()),u=o;else if(e.extent&&c&&e.extent!=="parent"){const p=n.get(c),{x:v,y}=fl(p,a).positionAbsolute;u=[[e.extent[0][0]+v,e.extent[0][1]+y],[e.extent[1][0]+v,e.extent[1][1]+y]]}let d={x:0,y:0};if(c){const p=n.get(c);d=fl(p,a).positionAbsolute}const f=u&&u!=="parent"?ej(t,u):t;return{position:{x:f.x-d.x,y:f.y-d.y},positionAbsolute:f}}function Sg({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?r.find(a=>a.id===e):r[0],r]}const eC=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const s=Array.from(a),o=t.getBoundingClientRect(),u={x:o.width*r[0],y:o.height*r[1]};return s.map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(d.left-o.left-u.x)/n,y:(d.top-o.top-u.y)/n,...JS(c)}})};function Bu(e,t,n){return n===void 0?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,{...a})}}function Hw({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:u,onError:c}=t.getState(),d=u.get(e);if(!d){c?.("012",ui.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):a([e])}function SW(){const e=gn();return T.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,u=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-r[0])/r[2],y:(u-r[1])/r[2]};return{xSnapped:s?a[0]*Math.round(c.x/a[0]):c.x,ySnapped:s?a[1]*Math.round(c.y/a[1]):c.y,...c}},[])}function jg(e){return(t,n,r)=>e?.(t,r)}function t3({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:s,selectNodesOnDrag:o}){const u=gn(),[c,d]=T.useState(!1),f=T.useRef([]),p=T.useRef({x:null,y:null}),v=T.useRef(0),y=T.useRef(null),_=T.useRef({x:0,y:0}),x=T.useRef(null),w=T.useRef(!1),S=T.useRef(!1),E=T.useRef(!1),O=SW();return T.useEffect(()=>{if(e?.current){const A=ua(e.current),N=({x:q,y:P})=>{const{nodeInternals:M,onNodeDrag:L,onSelectionDrag:B,updateNodePositions:z,nodeExtent:D,snapGrid:H,snapToGrid:I,nodeOrigin:F,onError:Q}=u.getState();p.current={x:q,y:P};let Y=!1,$={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&D){const Z=sj(f.current,F);$=tj(Z)}if(f.current=f.current.map(Z=>{const ne={x:q-Z.distance.x,y:P-Z.distance.y};I&&(ne.x=H[0]*Math.round(ne.x/H[0]),ne.y=H[1]*Math.round(ne.y/H[1]));const K=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];f.current.length>1&&D&&!Z.extent&&(K[0][0]=Z.positionAbsolute.x-$.x+D[0][0],K[1][0]=Z.positionAbsolute.x+(Z.width??0)-$.x2+D[1][0],K[0][1]=Z.positionAbsolute.y-$.y+D[0][1],K[1][1]=Z.positionAbsolute.y+(Z.height??0)-$.y2+D[1][1]);const X=e3(Z,ne,M,K,F,Q);return Y=Y||Z.position.x!==X.position.x||Z.position.y!==X.position.y,Z.position=X.position,Z.positionAbsolute=X.positionAbsolute,Z}),!Y)return;z(f.current,!0,!0),d(!0);const V=a?L:jg(B);if(V&&x.current){const[Z,ne]=Sg({nodeId:a,dragItems:f.current,nodeInternals:M});V(x.current,Z,ne)}},k=()=>{if(!y.current)return;const[q,P]=E$(_.current,y.current);if(q!==0||P!==0){const{transform:M,panBy:L}=u.getState();p.current.x=(p.current.x??0)-q/M[2],p.current.y=(p.current.y??0)-P/M[2],L({x:q,y:P})&&N(p.current)}v.current=requestAnimationFrame(k)},C=q=>{const{nodeInternals:P,multiSelectionActive:M,nodesDraggable:L,unselectNodesAndEdges:B,onNodeDragStart:z,onSelectionDragStart:D}=u.getState();S.current=!0;const H=a?z:jg(D);(!o||!s)&&!M&&a&&(P.get(a)?.selected||B()),a&&s&&o&&Hw({id:a,store:u,nodeRef:e});const I=O(q);if(p.current=I,f.current=_W(P,L,I,a),H&&f.current){const[F,Q]=Sg({nodeId:a,dragItems:f.current,nodeInternals:P});H(q.sourceEvent,F,Q)}};if(t)A.on(".drag",null);else{const q=A9().on("start",P=>{const{domNode:M,nodeDragThreshold:L}=u.getState();L===0&&C(P),E.current=!1;const B=O(P);p.current=B,y.current=M?.getBoundingClientRect()||null,_.current=ts(P.sourceEvent,y.current)}).on("drag",P=>{const M=O(P),{autoPanOnNodeDrag:L,nodeDragThreshold:B}=u.getState();if(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1&&(E.current=!0),!E.current){if(!w.current&&S.current&&L&&(w.current=!0,k()),!S.current){const z=M.xSnapped-(p?.current?.x??0),D=M.ySnapped-(p?.current?.y??0);Math.sqrt(z*z+D*D)>B&&C(P)}(p.current.x!==M.xSnapped||p.current.y!==M.ySnapped)&&f.current&&S.current&&(x.current=P.sourceEvent,_.current=ts(P.sourceEvent,y.current),N(M))}}).on("end",P=>{if(!(!S.current||E.current)&&(d(!1),w.current=!1,S.current=!1,cancelAnimationFrame(v.current),f.current)){const{updateNodePositions:M,nodeInternals:L,onNodeDragStop:B,onSelectionDragStop:z}=u.getState(),D=a?B:jg(z);if(M(f.current,!1,!1),D){const[H,I]=Sg({nodeId:a,dragItems:f.current,nodeInternals:L});D(P.sourceEvent,H,I)}}}).filter(P=>{const M=P.target;return!P.button&&(!n||!Jk(M,`.${n}`,e))&&(!r||Jk(M,r,e))});return A.call(q),()=>{A.on(".drag",null)}}}},[e,t,n,r,s,u,a,o,O]),c}function n3(){const e=gn();return T.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:s,getNodes:o,snapToGrid:u,snapGrid:c,onError:d,nodesDraggable:f}=e.getState(),p=o().filter(E=>E.selected&&(E.draggable||f&&typeof E.draggable>"u")),v=u?c[0]:5,y=u?c[1]:5,_=n.isShiftPressed?4:1,x=n.x*v*_,w=n.y*y*_,S=p.map(E=>{if(E.positionAbsolute){const O={x:E.positionAbsolute.x+x,y:E.positionAbsolute.y+w};u&&(O.x=c[0]*Math.round(O.x/c[0]),O.y=c[1]*Math.round(O.y/c[1]));const{positionAbsolute:A,position:N}=e3(E,O,r,a,void 0,d);E.position=N,E.positionAbsolute=A}return E});s(S,!0,!1)},[])}const dl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var $u=e=>{const t=({id:n,type:r,data:a,xPos:s,yPos:o,xPosOrigin:u,yPosOrigin:c,selected:d,onClick:f,onMouseEnter:p,onMouseMove:v,onMouseLeave:y,onContextMenu:_,onDoubleClick:x,style:w,className:S,isDraggable:E,isSelectable:O,isConnectable:A,isFocusable:N,selectNodesOnDrag:k,sourcePosition:C,targetPosition:q,hidden:P,resizeObserver:M,dragHandle:L,zIndex:B,isParent:z,noDragClassName:D,noPanClassName:H,initialized:I,disableKeyboardA11y:F,ariaLabel:Q,rfId:Y,hasHandleBounds:$})=>{const V=gn(),Z=T.useRef(null),ne=T.useRef(null),K=T.useRef(C),X=T.useRef(q),G=T.useRef(r),te=O||E||f||p||v||y,oe=n3(),se=Bu(n,V.getState,p),he=Bu(n,V.getState,v),ye=Bu(n,V.getState,y),ce=Bu(n,V.getState,_),Ae=Bu(n,V.getState,x),we=xe=>{const{nodeDragThreshold:Se}=V.getState();if(O&&(!k||!E||Se>0)&&Hw({id:n,store:V,nodeRef:Z}),f){const at=V.getState().nodeInternals.get(n);at&&f(xe,{...at})}},be=xe=>{if(!Iw(xe)&&!F)if(O$.includes(xe.key)&&O){const Se=xe.key==="Escape";Hw({id:n,store:V,unselect:Se,nodeRef:Z})}else E&&d&&Object.prototype.hasOwnProperty.call(dl,xe.key)&&(V.setState({ariaLiveMessage:`Moved selected node ${xe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),oe({x:dl[xe.key].x,y:dl[xe.key].y,isShiftPressed:xe.shiftKey}))};T.useEffect(()=>()=>{ne.current&&(M?.unobserve(ne.current),ne.current=null)},[]),T.useEffect(()=>{if(Z.current&&!P){const xe=Z.current;(!I||!$||ne.current!==xe)&&(ne.current&&M?.unobserve(ne.current),M?.observe(xe),ne.current=xe)}},[P,I,$]),T.useEffect(()=>{const xe=G.current!==r,Se=K.current!==C,at=X.current!==q;Z.current&&(xe||Se||at)&&(xe&&(G.current=r),Se&&(K.current=C),at&&(X.current=q),V.getState().updateNodeDimensions([{id:n,nodeElement:Z.current,forceUpdate:!0}]))},[n,r,C,q]);const Pe=t3({nodeRef:Z,disabled:P||!E,noDragClassName:D,handleSelector:L,nodeId:n,isSelectable:O,selectNodesOnDrag:k});return P?null:de.createElement("div",{className:Hn(["react-flow__node",`react-flow__node-${r}`,{[H]:E},S,{selected:d,selectable:O,parent:z,dragging:Pe}]),ref:Z,style:{zIndex:B,transform:`translate(${u}px,${c}px)`,pointerEvents:te?"all":"none",visibility:I?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:se,onMouseMove:he,onMouseLeave:ye,onContextMenu:ce,onClick:we,onDoubleClick:Ae,onKeyDown:N?be:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":F?void 0:`${Y$}-${Y}`,"aria-label":Q},de.createElement(LV,{value:n},de.createElement(e,{id:n,data:a,type:r,xPos:s,yPos:o,selected:d,isConnectable:A,sourcePosition:C,targetPosition:q,dragging:Pe,dragHandle:L,zIndex:B})))};return t.displayName="NodeWrapper",T.memo(t)};const jW=e=>{const t=e.getNodes().filter(n=>n.selected);return{...sj(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function EW({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=gn(),{width:a,height:s,x:o,y:u,transformString:c,userSelectionActive:d}=Nt(jW,Rn),f=n3(),p=T.useRef(null);if(T.useEffect(()=>{n||p.current?.focus({preventScroll:!0})},[n]),t3({nodeRef:p}),d||!a||!s)return null;const v=e?_=>{const x=r.getState().getNodes().filter(w=>w.selected);e(_,x)}:void 0,y=_=>{Object.prototype.hasOwnProperty.call(dl,_.key)&&f({x:dl[_.key].x,y:dl[_.key].y,isShiftPressed:_.shiftKey})};return de.createElement("div",{className:Hn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},de.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:n?void 0:-1,onKeyDown:n?void 0:y,style:{width:a,height:s,top:u,left:o}}))}var AW=T.memo(EW);const OW=e=>e.nodesSelectionActive,r3=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:u,onMove:c,onMoveStart:d,onMoveEnd:f,selectionKeyCode:p,selectionOnDrag:v,selectionMode:y,onSelectionStart:_,onSelectionEnd:x,multiSelectionKeyCode:w,panActivationKeyCode:S,zoomActivationKeyCode:E,elementsSelectable:O,zoomOnScroll:A,zoomOnPinch:N,panOnScroll:k,panOnScrollSpeed:C,panOnScrollMode:q,zoomOnDoubleClick:P,panOnDrag:M,defaultViewport:L,translateExtent:B,minZoom:z,maxZoom:D,preventScrolling:H,onSelectionContextMenu:I,noWheelClassName:F,noPanClassName:Q,disableKeyboardA11y:Y})=>{const $=Nt(OW),V=gc(p),Z=gc(S),ne=Z||M,K=Z||k,X=V||v&&ne!==!0;return fW({deleteKeyCode:u,multiSelectionKeyCode:w}),de.createElement(mW,{onMove:c,onMoveStart:d,onMoveEnd:f,onPaneContextMenu:s,elementsSelectable:O,zoomOnScroll:A,zoomOnPinch:N,panOnScroll:K,panOnScrollSpeed:C,panOnScrollMode:q,zoomOnDoubleClick:P,panOnDrag:!V&&ne,defaultViewport:L,translateExtent:B,minZoom:z,maxZoom:D,zoomActivationKeyCode:E,preventScrolling:H,noWheelClassName:F,noPanClassName:Q},de.createElement(Q$,{onSelectionStart:_,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ne,isSelecting:!!X,selectionMode:y},e,$&&de.createElement(AW,{onSelectionContextMenu:I,noPanClassName:Q,disableKeyboardA11y:Y})))};r3.displayName="FlowRenderer";var TW=T.memo(r3);function NW(e){return Nt(T.useCallback(n=>e?D$(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function kW(e){const t={input:$u(e.input||H$),default:$u(e.default||Uw),output:$u(e.output||G$),group:$u(e.group||lj)},n={},r=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,s)=>(a[s]=$u(e[s]||Uw),a),n);return{...t,...r}}const CW=({x:e,y:t,width:n,height:r,origin:a})=>!n||!r?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-r*a[1]},MW=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),a3=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:s,onError:o}=Nt(MW,Rn),u=NW(e.onlyRenderVisibleElements),c=T.useRef(),d=T.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(p=>{const v=p.map(y=>({id:y.target.getAttribute("data-id"),nodeElement:y.target,forceUpdate:!0}));s(v)});return c.current=f,f},[]);return T.useEffect(()=>()=>{c?.current?.disconnect()},[]),de.createElement("div",{className:"react-flow__nodes",style:cj},u.map(f=>{let p=f.type||"default";e.nodeTypes[p]||(o?.("003",ui.error003(p)),p="default");const v=e.nodeTypes[p]||e.nodeTypes.default,y=!!(f.draggable||t&&typeof f.draggable>"u"),_=!!(f.selectable||a&&typeof f.selectable>"u"),x=!!(f.connectable||n&&typeof f.connectable>"u"),w=!!(f.focusable||r&&typeof f.focusable>"u"),S=e.nodeExtent?ej(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,E=S?.x??0,O=S?.y??0,A=CW({x:E,y:O,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return de.createElement(v,{key:f.id,id:f.id,className:f.className,style:f.style,type:p,data:f.data,sourcePosition:f.sourcePosition||Ne.Bottom,targetPosition:f.targetPosition||Ne.Top,hidden:f.hidden,xPos:E,yPos:O,xPosOrigin:A.x,yPosOrigin:A.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:y,isSelectable:_,isConnectable:x,isFocusable:w,resizeObserver:d,dragHandle:f.dragHandle,zIndex:f[Pt]?.z??0,isParent:!!f[Pt]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel,hasHandleBounds:!!f[Pt]?.handleBounds})}))};a3.displayName="NodeRenderer";var RW=T.memo(a3);const DW=(e,t,n)=>n===Ne.Left?e-t:n===Ne.Right?e+t:e,PW=(e,t,n)=>n===Ne.Top?e-t:n===Ne.Bottom?e+t:e,tC="react-flow__edgeupdater",nC=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:s,onMouseOut:o,type:u})=>de.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:o,className:Hn([tC,`${tC}-${u}`]),cx:DW(t,r,e),cy:PW(n,r,e),r,stroke:"transparent",fill:"transparent"}),LW=()=>!0;var rl=e=>{const t=({id:n,className:r,type:a,data:s,onClick:o,onEdgeDoubleClick:u,selected:c,animated:d,label:f,labelStyle:p,labelShowBg:v,labelBgStyle:y,labelBgPadding:_,labelBgBorderRadius:x,style:w,source:S,target:E,sourceX:O,sourceY:A,targetX:N,targetY:k,sourcePosition:C,targetPosition:q,elementsSelectable:P,hidden:M,sourceHandleId:L,targetHandleId:B,onContextMenu:z,onMouseEnter:D,onMouseMove:H,onMouseLeave:I,reconnectRadius:F,onReconnect:Q,onReconnectStart:Y,onReconnectEnd:$,markerEnd:V,markerStart:Z,rfId:ne,ariaLabel:K,isFocusable:X,isReconnectable:G,pathOptions:te,interactionWidth:oe,disableKeyboardA11y:se})=>{const he=T.useRef(null),[ye,ce]=T.useState(!1),[Ae,we]=T.useState(!1),be=gn(),Pe=T.useMemo(()=>`url('#${$w(Z,ne)}')`,[Z,ne]),xe=T.useMemo(()=>`url('#${$w(V,ne)}')`,[V,ne]);if(M)return null;const Se=At=>{const{edges:Gt,addSelectedEdges:pt,unselectNodesAndEdges:Qe,multiSelectionActive:Lt}=be.getState(),en=Gt.find(_n=>_n.id===n);en&&(P&&(be.setState({nodesSelectionActive:!1}),en.selected&&Lt?(Qe({nodes:[],edges:[en]}),he.current?.blur()):pt([n])),o&&o(At,en))},at=Iu(n,be.getState,u),Dn=Iu(n,be.getState,z),ln=Iu(n,be.getState,D),Jt=Iu(n,be.getState,H),it=Iu(n,be.getState,I),kt=(At,Gt)=>{if(At.button!==0)return;const{edges:pt,isValidConnection:Qe}=be.getState(),Lt=Gt?E:S,en=(Gt?B:L)||null,_n=Gt?"target":"source",ps=Qe||LW,Jr=Gt,ir=pt.find(ea=>ea.id===n);we(!0),Y?.(At,ir,_n);const La=ea=>{we(!1),$?.(ea,ir,_n)};B$({event:At,handleId:en,nodeId:Lt,onConnect:ea=>Q?.(ir,ea),isTarget:Jr,getState:be.getState,setState:be.setState,isValidConnection:ps,edgeUpdaterType:_n,onReconnectEnd:La})},Ft=At=>kt(At,!0),Ct=At=>kt(At,!1),ct=()=>ce(!0),yt=()=>ce(!1),ht=!P&&!o,Fn=At=>{if(!se&&O$.includes(At.key)&&P){const{unselectNodesAndEdges:Gt,addSelectedEdges:pt,edges:Qe}=be.getState();At.key==="Escape"?(he.current?.blur(),Gt({edges:[Qe.find(en=>en.id===n)]})):pt([n])}};return de.createElement("g",{className:Hn(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:c,animated:d,inactive:ht,updating:ye}]),onClick:Se,onDoubleClick:at,onContextMenu:Dn,onMouseEnter:ln,onMouseMove:Jt,onMouseLeave:it,onKeyDown:X?Fn:void 0,tabIndex:X?0:void 0,role:X?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":K===null?void 0:K||`Edge from ${S} to ${E}`,"aria-describedby":X?`${V$}-${ne}`:void 0,ref:he},!Ae&&de.createElement(e,{id:n,source:S,target:E,selected:c,animated:d,label:f,labelStyle:p,labelShowBg:v,labelBgStyle:y,labelBgPadding:_,labelBgBorderRadius:x,data:s,style:w,sourceX:O,sourceY:A,targetX:N,targetY:k,sourcePosition:C,targetPosition:q,sourceHandleId:L,targetHandleId:B,markerStart:Pe,markerEnd:xe,pathOptions:te,interactionWidth:oe}),G&&de.createElement(de.Fragment,null,(G==="source"||G===!0)&&de.createElement(nC,{position:C,centerX:O,centerY:A,radius:F,onMouseDown:Ft,onMouseEnter:ct,onMouseOut:yt,type:"source"}),(G==="target"||G===!0)&&de.createElement(nC,{position:q,centerX:N,centerY:k,radius:F,onMouseDown:Ct,onMouseEnter:ct,onMouseOut:yt,type:"target"})))};return t.displayName="EdgeWrapper",T.memo(t)};function qW(e){const t={default:rl(e.default||rh),straight:rl(e.bezier||aj),step:rl(e.step||rj),smoothstep:rl(e.step||Zh),simplebezier:rl(e.simplebezier||nj)},n={},r=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,s)=>(a[s]=rl(e[s]||rh),a),n);return{...t,...r}}function rC(e,t,n=null){const r=(n?.x||0)+t.x,a=(n?.y||0)+t.y,s=n?.width||t.width,o=n?.height||t.height;switch(e){case Ne.Top:return{x:r+s/2,y:a};case Ne.Right:return{x:r+s,y:a+o/2};case Ne.Bottom:return{x:r+s/2,y:a+o};case Ne.Left:return{x:r,y:a+o/2}}}function aC(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const IW=(e,t,n,r,a,s)=>{const o=rC(n,e,t),u=rC(s,r,a);return{sourceX:o.x,sourceY:o.y,targetX:u.x,targetY:u.y}};function BW({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:s,width:o,height:u,transform:c}){const d={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+r,t.y+s)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const f=tj({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:u/c[2]}),p=Math.max(0,Math.min(f.x2,d.x2)-Math.max(f.x,d.x)),v=Math.max(0,Math.min(f.y2,d.y2)-Math.max(f.y,d.y));return Math.ceil(p*v)>0}function iC(e){const t=e?.[Pt]?.handleBounds||null,n=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const $W=[{level:0,isMaxLevel:!0,edges:[]}];function zW(e,t,n=!1){let r=-1;const a=e.reduce((o,u)=>{const c=Fr(u.zIndex);let d=c?u.zIndex:0;if(n){const f=t.get(u.target),p=t.get(u.source),v=u.selected||f?.selected||p?.selected,y=Math.max(p?.[Pt]?.z||0,f?.[Pt]?.z||0,1e3);d=(c?u.zIndex:0)+(v?y:0)}return o[d]?o[d].push(u):o[d]=[u],r=d>r?d:r,o},{}),s=Object.entries(a).map(([o,u])=>{const c=+o;return{edges:u,level:c,isMaxLevel:c===r}});return s.length===0?$W:s}function UW(e,t,n){const r=Nt(T.useCallback(a=>e?a.edges.filter(s=>{const o=t.get(s.source),u=t.get(s.target);return o?.width&&o?.height&&u?.width&&u?.height&&BW({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:u.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:u.width,targetHeight:u.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return zW(r,t,n)}const HW=({color:e="none",strokeWidth:t=1})=>de.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),FW=({color:e="none",strokeWidth:t=1})=>de.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),sC={[nh.Arrow]:HW,[nh.ArrowClosed]:FW};function GW(e){const t=gn();return T.useMemo(()=>Object.prototype.hasOwnProperty.call(sC,e)?sC[e]:(t.getState().onError?.("009",ui.error009(e)),null),[e])}const KW=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:u="auto-start-reverse"})=>{const c=GW(t);return c?de.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:u,refX:"0",refY:"0"},de.createElement(c,{color:n,strokeWidth:o})):null},YW=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((a,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const u=$w(o,t);r.includes(u)||(a.push({id:u,color:o.color||e,...o}),r.push(u))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))},i3=({defaultColor:e,rfId:t})=>{const n=Nt(T.useCallback(YW({defaultColor:e,rfId:t}),[e,t]),(r,a)=>!(r.length!==a.length||r.some((s,o)=>s.id!==a[o].id)));return de.createElement("defs",null,n.map(r=>de.createElement(KW,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};i3.displayName="MarkerDefinitions";var VW=T.memo(i3);const WW=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),s3=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:u,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:f,onEdgeDoubleClick:p,onReconnect:v,onReconnectStart:y,onReconnectEnd:_,reconnectRadius:x,children:w,disableKeyboardA11y:S})=>{const{edgesFocusable:E,edgesUpdatable:O,elementsSelectable:A,width:N,height:k,connectionMode:C,nodeInternals:q,onError:P}=Nt(WW,Rn),M=UW(t,q,n);return N?de.createElement(de.Fragment,null,M.map(({level:L,edges:B,isMaxLevel:z})=>de.createElement("svg",{key:L,style:{zIndex:L},width:N,height:k,className:"react-flow__edges react-flow__container"},z&&de.createElement(VW,{defaultColor:e,rfId:r}),de.createElement("g",null,B.map(D=>{const[H,I,F]=iC(q.get(D.source)),[Q,Y,$]=iC(q.get(D.target));if(!F||!$)return null;let V=D.type||"default";a[V]||(P?.("011",ui.error011(V)),V="default");const Z=a[V]||a.default,ne=C===no.Strict?Y.target:(Y.target??[]).concat(Y.source??[]),K=aC(I.source,D.sourceHandle),X=aC(ne,D.targetHandle),G=K?.position||Ne.Bottom,te=X?.position||Ne.Top,oe=!!(D.focusable||E&&typeof D.focusable>"u"),se=D.reconnectable||D.updatable,he=typeof v<"u"&&(se||O&&typeof se>"u");if(!K||!X)return P?.("008",ui.error008(K,D)),null;const{sourceX:ye,sourceY:ce,targetX:Ae,targetY:we}=IW(H,K,G,Q,X,te);return de.createElement(Z,{key:D.id,id:D.id,className:Hn([D.className,s]),type:V,data:D.data,selected:!!D.selected,animated:!!D.animated,hidden:!!D.hidden,label:D.label,labelStyle:D.labelStyle,labelShowBg:D.labelShowBg,labelBgStyle:D.labelBgStyle,labelBgPadding:D.labelBgPadding,labelBgBorderRadius:D.labelBgBorderRadius,style:D.style,source:D.source,target:D.target,sourceHandleId:D.sourceHandle,targetHandleId:D.targetHandle,markerEnd:D.markerEnd,markerStart:D.markerStart,sourceX:ye,sourceY:ce,targetX:Ae,targetY:we,sourcePosition:G,targetPosition:te,elementsSelectable:A,onContextMenu:o,onMouseEnter:u,onMouseMove:c,onMouseLeave:d,onClick:f,onEdgeDoubleClick:p,onReconnect:v,onReconnectStart:y,onReconnectEnd:_,reconnectRadius:x,rfId:r,ariaLabel:D.ariaLabel,isFocusable:oe,isReconnectable:he,pathOptions:"pathOptions"in D?D.pathOptions:void 0,interactionWidth:D.interactionWidth,disableKeyboardA11y:S})})))),w):null};s3.displayName="EdgeRenderer";var XW=T.memo(s3);const ZW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function QW({children:e}){const t=Nt(ZW);return de.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function JW(e){const t=uj(),n=T.useRef(!1);T.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const eX={[Ne.Left]:Ne.Right,[Ne.Right]:Ne.Left,[Ne.Top]:Ne.Bottom,[Ne.Bottom]:Ne.Top},o3=({nodeId:e,handleType:t,style:n,type:r=Qi.Bezier,CustomComponent:a,connectionStatus:s})=>{const{fromNode:o,handleId:u,toX:c,toY:d,connectionMode:f}=Nt(T.useCallback(k=>({fromNode:k.nodeInternals.get(e),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2],connectionMode:k.connectionMode}),[e]),Rn),p=o?.[Pt]?.handleBounds;let v=p?.[t];if(f===no.Loose&&(v=v||p?.[t==="source"?"target":"source"]),!o||!v)return null;const y=u?v.find(k=>k.id===u):v[0],_=y?y.x+y.width/2:(o.width??0)/2,x=y?y.y+y.height/2:o.height??0,w=(o.positionAbsolute?.x??0)+_,S=(o.positionAbsolute?.y??0)+x,E=y?.position,O=E?eX[E]:null;if(!E||!O)return null;if(a)return de.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:y,fromX:w,fromY:S,toX:c,toY:d,fromPosition:E,toPosition:O,connectionStatus:s});let A="";const N={sourceX:w,sourceY:S,sourcePosition:E,targetX:c,targetY:d,targetPosition:O};return r===Qi.Bezier?[A]=M$(N):r===Qi.Step?[A]=Bw({...N,borderRadius:0}):r===Qi.SmoothStep?[A]=Bw(N):r===Qi.SimpleBezier?[A]=C$(N):A=`M${w},${S} ${c},${d}`,de.createElement("path",{d:A,fill:"none",className:"react-flow__connection-path",style:n})};o3.displayName="ConnectionLine";const tX=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function nX({containerStyle:e,style:t,type:n,component:r}){const{nodeId:a,handleType:s,nodesConnectable:o,width:u,height:c,connectionStatus:d}=Nt(tX,Rn);return!(a&&s&&u&&o)?null:de.createElement("svg",{style:e,width:u,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},de.createElement("g",{className:Hn(["react-flow__connection",d])},de.createElement(o3,{nodeId:a,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:d})))}function oC(e,t){return T.useRef(null),gn(),T.useMemo(()=>t(e),[e])}const l3=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:s,onNodeClick:o,onEdgeClick:u,onNodeDoubleClick:c,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:p,onNodeMouseLeave:v,onNodeContextMenu:y,onSelectionContextMenu:_,onSelectionStart:x,onSelectionEnd:w,connectionLineType:S,connectionLineStyle:E,connectionLineComponent:O,connectionLineContainerStyle:A,selectionKeyCode:N,selectionOnDrag:k,selectionMode:C,multiSelectionKeyCode:q,panActivationKeyCode:P,zoomActivationKeyCode:M,deleteKeyCode:L,onlyRenderVisibleElements:B,elementsSelectable:z,selectNodesOnDrag:D,defaultViewport:H,translateExtent:I,minZoom:F,maxZoom:Q,preventScrolling:Y,defaultMarkerColor:$,zoomOnScroll:V,zoomOnPinch:Z,panOnScroll:ne,panOnScrollSpeed:K,panOnScrollMode:X,zoomOnDoubleClick:G,panOnDrag:te,onPaneClick:oe,onPaneMouseEnter:se,onPaneMouseMove:he,onPaneMouseLeave:ye,onPaneScroll:ce,onPaneContextMenu:Ae,onEdgeContextMenu:we,onEdgeMouseEnter:be,onEdgeMouseMove:Pe,onEdgeMouseLeave:xe,onReconnect:Se,onReconnectStart:at,onReconnectEnd:Dn,reconnectRadius:ln,noDragClassName:Jt,noWheelClassName:it,noPanClassName:kt,elevateEdgesOnSelect:Ft,disableKeyboardA11y:Ct,nodeOrigin:ct,nodeExtent:yt,rfId:ht})=>{const Fn=oC(e,kW),At=oC(t,qW);return JW(s),de.createElement(TW,{onPaneClick:oe,onPaneMouseEnter:se,onPaneMouseMove:he,onPaneMouseLeave:ye,onPaneContextMenu:Ae,onPaneScroll:ce,deleteKeyCode:L,selectionKeyCode:N,selectionOnDrag:k,selectionMode:C,onSelectionStart:x,onSelectionEnd:w,multiSelectionKeyCode:q,panActivationKeyCode:P,zoomActivationKeyCode:M,elementsSelectable:z,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:V,zoomOnPinch:Z,zoomOnDoubleClick:G,panOnScroll:ne,panOnScrollSpeed:K,panOnScrollMode:X,panOnDrag:te,defaultViewport:H,translateExtent:I,minZoom:F,maxZoom:Q,onSelectionContextMenu:_,preventScrolling:Y,noDragClassName:Jt,noWheelClassName:it,noPanClassName:kt,disableKeyboardA11y:Ct},de.createElement(QW,null,de.createElement(XW,{edgeTypes:At,onEdgeClick:u,onEdgeDoubleClick:d,onlyRenderVisibleElements:B,onEdgeContextMenu:we,onEdgeMouseEnter:be,onEdgeMouseMove:Pe,onEdgeMouseLeave:xe,onReconnect:Se,onReconnectStart:at,onReconnectEnd:Dn,reconnectRadius:ln,defaultMarkerColor:$,noPanClassName:kt,elevateEdgesOnSelect:!!Ft,disableKeyboardA11y:Ct,rfId:ht},de.createElement(nX,{style:E,type:S,component:O,containerStyle:A})),de.createElement("div",{className:"react-flow__edgelabel-renderer"}),de.createElement(RW,{nodeTypes:Fn,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:p,onNodeMouseLeave:v,onNodeContextMenu:y,selectNodesOnDrag:D,onlyRenderVisibleElements:B,noPanClassName:kt,noDragClassName:Jt,disableKeyboardA11y:Ct,nodeOrigin:ct,nodeExtent:yt,rfId:ht})))};l3.displayName="GraphView";var rX=T.memo(l3);const Fw=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Yi={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Fw,nodeExtent:Fw,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:no.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:kV,isValidConnection:void 0},aX=()=>IK((e,t)=>({...Yi,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:s}=t();e({nodeInternals:_g(n,r,a,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",s=typeof r<"u",o=a?_g(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?r:[],hasDefaultNodes:a,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:u,domNode:c,nodeOrigin:d}=t(),f=c?.querySelector(".react-flow__viewport");if(!f)return;const p=window.getComputedStyle(f),{m22:v}=new window.DOMMatrixReadOnly(p.transform),y=n.reduce((x,w)=>{const S=a.get(w.id);if(S?.hidden)a.set(S.id,{...S,[Pt]:{...S[Pt],handleBounds:void 0}});else if(S){const E=JS(w.nodeElement);!!(E.width&&E.height&&(S.width!==E.width||S.height!==E.height||w.forceUpdate))&&(a.set(S.id,{...S,[Pt]:{...S[Pt],handleBounds:{source:eC(".source",w.nodeElement,v,d),target:eC(".target",w.nodeElement,v,d)}},...E}),x.push({id:S.id,type:"dimensions",dimensions:E}))}return x},[]);X$(a,d);const _=o||s&&!o&&Z$(t,{initial:!0,...u});e({nodeInternals:new Map(a),fitViewOnInitDone:_}),y?.length>0&&r?.(y)},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(u=>{const c={id:u.id,type:"position",dragging:a};return r&&(c.positionAbsolute=u.positionAbsolute,c.position=u.position),c});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:s,nodeOrigin:o,getNodes:u,elevateNodesOnSelect:c}=t();if(n?.length){if(s){const d=bW(n,u()),f=_g(d,a,o,c);e({nodeInternals:f})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:s}=t();let o,u=null;r?o=n.map(c=>Wi(c,!0)):(o=ol(s(),n),u=ol(a,[])),gd({changedNodes:o,changedEdges:u,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:s}=t();let o,u=null;r?o=n.map(c=>Wi(c,!0)):(o=ol(a,n),u=ol(s(),[])),gd({changedNodes:u,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:s}=t(),o=n||s(),u=r||a,c=o.map(f=>(f.selected=!1,Wi(f.id,!1))),d=u.map(f=>Wi(f.id,!1));gd({changedNodes:c,changedEdges:d,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();r?.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();r?.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(u=>u.selected).map(u=>Wi(u.id,!1)),o=n.filter(u=>u.selected).map(u=>Wi(u.id,!1));gd({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(a=>{a.positionAbsolute=ej(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:s,d3Zoom:o,d3Selection:u,translateExtent:c}=t();if(!o||!u||!n.x&&!n.y)return!1;const d=es.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),f=[[0,0],[a,s]],p=o?.constrain()(d,f,c);return o.transform(u,p),r[0]!==p.x||r[1]!==p.y||r[2]!==p.k},cancelConnection:()=>e({connectionNodeId:Yi.connectionNodeId,connectionHandleId:Yi.connectionHandleId,connectionHandleType:Yi.connectionHandleType,connectionStatus:Yi.connectionStatus,connectionStartHandle:Yi.connectionStartHandle,connectionEndHandle:Yi.connectionEndHandle}),reset:()=>e({...Yi})}),Object.is),fj=({children:e})=>{const t=T.useRef(null);return t.current||(t.current=aX()),de.createElement(wV,{value:t.current},e)};fj.displayName="ReactFlowProvider";const u3=({children:e})=>T.useContext(Xh)?de.createElement(de.Fragment,null,e):de.createElement(fj,null,e);u3.displayName="ReactFlowWrapper";const iX={input:H$,default:Uw,output:G$,group:lj},sX={default:rh,straight:aj,step:rj,smoothstep:Zh,simplebezier:nj},oX=[0,0],lX=[15,15],uX={x:0,y:0,zoom:1},cX={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},dj=T.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:s=iX,edgeTypes:o=sX,onNodeClick:u,onEdgeClick:c,onInit:d,onMove:f,onMoveStart:p,onMoveEnd:v,onConnect:y,onConnectStart:_,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:S,onNodeMouseEnter:E,onNodeMouseMove:O,onNodeMouseLeave:A,onNodeContextMenu:N,onNodeDoubleClick:k,onNodeDragStart:C,onNodeDrag:q,onNodeDragStop:P,onNodesDelete:M,onEdgesDelete:L,onSelectionChange:B,onSelectionDragStart:z,onSelectionDrag:D,onSelectionDragStop:H,onSelectionContextMenu:I,onSelectionStart:F,onSelectionEnd:Q,connectionMode:Y=no.Strict,connectionLineType:$=Qi.Bezier,connectionLineStyle:V,connectionLineComponent:Z,connectionLineContainerStyle:ne,deleteKeyCode:K="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:G=!1,selectionMode:te=vc.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:se=th()?"Meta":"Control",zoomActivationKeyCode:he=th()?"Meta":"Control",snapToGrid:ye=!1,snapGrid:ce=lX,onlyRenderVisibleElements:Ae=!1,selectNodesOnDrag:we=!0,nodesDraggable:be,nodesConnectable:Pe,nodesFocusable:xe,nodeOrigin:Se=oX,edgesFocusable:at,edgesUpdatable:Dn,elementsSelectable:ln,defaultViewport:Jt=uX,minZoom:it=.5,maxZoom:kt=2,translateExtent:Ft=Fw,preventScrolling:Ct=!0,nodeExtent:ct,defaultMarkerColor:yt="#b1b1b7",zoomOnScroll:ht=!0,zoomOnPinch:Fn=!0,panOnScroll:At=!1,panOnScrollSpeed:Gt=.5,panOnScrollMode:pt=Hs.Free,zoomOnDoubleClick:Qe=!0,panOnDrag:Lt=!0,onPaneClick:en,onPaneMouseEnter:_n,onPaneMouseMove:ps,onPaneMouseLeave:Jr,onPaneScroll:ir,onPaneContextMenu:La,children:Gn,onEdgeContextMenu:ea,onEdgeDoubleClick:yo,onEdgeMouseEnter:Ot,onEdgeMouseMove:Tr,onEdgeMouseLeave:ms,onEdgeUpdate:vs,onEdgeUpdateStart:gs,onEdgeUpdateEnd:sr,onReconnect:qt,onReconnectStart:un,onReconnectEnd:tn,reconnectRadius:or=10,edgeUpdaterRadius:bo=10,onNodesChange:xo,onEdgesChange:ji,noDragClassName:ba="nodrag",noWheelClassName:Pn="nowheel",noPanClassName:Nr="nopan",fitView:ta=!1,fitViewOptions:xa,connectOnClick:na=!0,attributionPosition:Mt,proOptions:Te,defaultEdgeOptions:ee,elevateNodesOnSelect:ge=!0,elevateEdgesOnSelect:je=!1,disableKeyboardA11y:Je=!1,autoPanOnConnect:It=!0,autoPanOnNodeDrag:bt=!0,connectionRadius:cn=20,isValidConnection:Tn,onError:lr,style:Ln,id:_t,nodeDragThreshold:ys,...ra},zl)=>{const bs=_t||"1";return de.createElement("div",{...ra,style:{...Ln,...cX},ref:zl,className:Hn(["react-flow",a]),"data-testid":"rf__wrapper",id:_t},de.createElement(u3,null,de.createElement(rX,{onInit:d,onMove:f,onMoveStart:p,onMoveEnd:v,onNodeClick:u,onEdgeClick:c,onNodeMouseEnter:E,onNodeMouseMove:O,onNodeMouseLeave:A,onNodeContextMenu:N,onNodeDoubleClick:k,nodeTypes:s,edgeTypes:o,connectionLineType:$,connectionLineStyle:V,connectionLineComponent:Z,connectionLineContainerStyle:ne,selectionKeyCode:X,selectionOnDrag:G,selectionMode:te,deleteKeyCode:K,multiSelectionKeyCode:se,panActivationKeyCode:oe,zoomActivationKeyCode:he,onlyRenderVisibleElements:Ae,selectNodesOnDrag:we,defaultViewport:Jt,translateExtent:Ft,minZoom:it,maxZoom:kt,preventScrolling:Ct,zoomOnScroll:ht,zoomOnPinch:Fn,zoomOnDoubleClick:Qe,panOnScroll:At,panOnScrollSpeed:Gt,panOnScrollMode:pt,panOnDrag:Lt,onPaneClick:en,onPaneMouseEnter:_n,onPaneMouseMove:ps,onPaneMouseLeave:Jr,onPaneScroll:ir,onPaneContextMenu:La,onSelectionContextMenu:I,onSelectionStart:F,onSelectionEnd:Q,onEdgeContextMenu:ea,onEdgeDoubleClick:yo,onEdgeMouseEnter:Ot,onEdgeMouseMove:Tr,onEdgeMouseLeave:ms,onReconnect:qt??vs,onReconnectStart:un??gs,onReconnectEnd:tn??sr,reconnectRadius:or??bo,defaultMarkerColor:yt,noDragClassName:ba,noWheelClassName:Pn,noPanClassName:Nr,elevateEdgesOnSelect:je,rfId:bs,disableKeyboardA11y:Je,nodeOrigin:Se,nodeExtent:ct}),de.createElement(JV,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:_,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:S,nodesDraggable:be,nodesConnectable:Pe,nodesFocusable:xe,edgesFocusable:at,edgesUpdatable:Dn,elementsSelectable:ln,elevateNodesOnSelect:ge,minZoom:it,maxZoom:kt,nodeExtent:ct,onNodesChange:xo,onEdgesChange:ji,snapToGrid:ye,snapGrid:ce,connectionMode:Y,translateExtent:Ft,connectOnClick:na,defaultEdgeOptions:ee,fitView:ta,fitViewOptions:xa,onNodesDelete:M,onEdgesDelete:L,onNodeDragStart:C,onNodeDrag:q,onNodeDragStop:P,onSelectionDrag:D,onSelectionDragStart:z,onSelectionDragStop:H,noPanClassName:Nr,nodeOrigin:Se,rfId:bs,autoPanOnConnect:It,autoPanOnNodeDrag:bt,onError:lr,connectionRadius:cn,isValidConnection:Tn,nodeDragThreshold:ys}),de.createElement(ZV,{onSelectionChange:B}),Gn,de.createElement(jV,{proOptions:Te,position:Mt}),de.createElement(aW,{rfId:bs,disableKeyboardA11y:Je})))});dj.displayName="ReactFlow";function fX(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},de.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function dX(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},de.createElement("path",{d:"M0 0h32v4.2H0z"}))}function hX(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},de.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function pX(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},de.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function mX(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},de.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const nc=({children:e,className:t,...n})=>de.createElement("button",{type:"button",className:Hn(["react-flow__controls-button",t]),...n},e);nc.displayName="ControlButton";const vX=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),c3=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:o,onFitView:u,onInteractiveChange:c,className:d,children:f,position:p="bottom-left"})=>{const v=gn(),[y,_]=T.useState(!1),{isInteractive:x,minZoomReached:w,maxZoomReached:S}=Nt(vX,Rn),{zoomIn:E,zoomOut:O,fitView:A}=uj();if(T.useEffect(()=>{_(!0)},[]),!y)return null;const N=()=>{E(),s?.()},k=()=>{O(),o?.()},C=()=>{A(a),u?.()},q=()=>{v.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c?.(!x)};return de.createElement(j$,{className:Hn(["react-flow__controls",d]),position:p,style:e,"data-testid":"rf__controls"},t&&de.createElement(de.Fragment,null,de.createElement(nc,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:S},de.createElement(fX,null)),de.createElement(nc,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},de.createElement(dX,null))),n&&de.createElement(nc,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},de.createElement(hX,null)),r&&de.createElement(nc,{className:"react-flow__controls-interactive",onClick:q,title:"toggle interactivity","aria-label":"toggle interactivity"},x?de.createElement(mX,null):de.createElement(pX,null)),f)};c3.displayName="Controls";var f3=T.memo(c3),da;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(da||(da={}));function gX({color:e,dimensions:t,lineWidth:n}){return de.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function yX({color:e,radius:t}){return de.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const bX={[da.Dots]:"#91919a",[da.Lines]:"#eee",[da.Cross]:"#e2e2e2"},xX={[da.Dots]:1,[da.Lines]:1,[da.Cross]:6},_X=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function d3({id:e,variant:t=da.Dots,gap:n=20,size:r,lineWidth:a=1,offset:s=2,color:o,style:u,className:c}){const d=T.useRef(null),{transform:f,patternId:p}=Nt(_X,Rn),v=o||bX[t],y=r||xX[t],_=t===da.Dots,x=t===da.Cross,w=Array.isArray(n)?n:[n,n],S=[w[0]*f[2]||1,w[1]*f[2]||1],E=y*f[2],O=x?[E,E]:S,A=_?[E/s,E/s]:[O[0]/s,O[1]/s];return de.createElement("svg",{className:Hn(["react-flow__background",c]),style:{...u,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},de.createElement("pattern",{id:p+e,x:f[0]%S[0],y:f[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`},_?de.createElement(yX,{color:v,radius:E/s}):de.createElement(gX,{dimensions:O,color:v,lineWidth:a})),de.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${p+e})`}))}d3.displayName="Background";var h3=T.memo(d3);function hj(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Eg,lC;function wX(){if(lC)return Eg;lC=1;function e(){this.__data__=[],this.size=0}return Eg=e,Eg}var Ag,uC;function Nl(){if(uC)return Ag;uC=1;function e(t,n){return t===n||t!==t&&n!==n}return Ag=e,Ag}var Og,cC;function Qh(){if(cC)return Og;cC=1;var e=Nl();function t(n,r){for(var a=n.length;a--;)if(e(n[a][0],r))return a;return-1}return Og=t,Og}var Tg,fC;function SX(){if(fC)return Tg;fC=1;var e=Qh(),t=Array.prototype,n=t.splice;function r(a){var s=this.__data__,o=e(s,a);if(o<0)return!1;var u=s.length-1;return o==u?s.pop():n.call(s,o,1),--this.size,!0}return Tg=r,Tg}var Ng,dC;function jX(){if(dC)return Ng;dC=1;var e=Qh();function t(n){var r=this.__data__,a=e(r,n);return a<0?void 0:r[a][1]}return Ng=t,Ng}var kg,hC;function EX(){if(hC)return kg;hC=1;var e=Qh();function t(n){return e(this.__data__,n)>-1}return kg=t,kg}var Cg,pC;function AX(){if(pC)return Cg;pC=1;var e=Qh();function t(n,r){var a=this.__data__,s=e(a,n);return s<0?(++this.size,a.push([n,r])):a[s][1]=r,this}return Cg=t,Cg}var Mg,mC;function Jh(){if(mC)return Mg;mC=1;var e=wX(),t=SX(),n=jX(),r=EX(),a=AX();function s(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var d=o[u];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=a,Mg=s,Mg}var Rg,vC;function OX(){if(vC)return Rg;vC=1;var e=Jh();function t(){this.__data__=new e,this.size=0}return Rg=t,Rg}var Dg,gC;function TX(){if(gC)return Dg;gC=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Dg=e,Dg}var Pg,yC;function NX(){if(yC)return Pg;yC=1;function e(t){return this.__data__.get(t)}return Pg=e,Pg}var Lg,bC;function kX(){if(bC)return Lg;bC=1;function e(t){return this.__data__.has(t)}return Lg=e,Lg}var qg,xC;function p3(){if(xC)return qg;xC=1;var e=typeof ad=="object"&&ad&&ad.Object===Object&&ad;return qg=e,qg}var Ig,_C;function ga(){if(_C)return Ig;_C=1;var e=p3(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Ig=n,Ig}var Bg,wC;function kl(){if(wC)return Bg;wC=1;var e=ga(),t=e.Symbol;return Bg=t,Bg}var $g,SC;function CX(){if(SC)return $g;SC=1;var e=kl(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;function s(o){var u=n.call(o,a),c=o[a];try{o[a]=void 0;var d=!0}catch{}var f=r.call(o);return d&&(u?o[a]=c:delete o[a]),f}return $g=s,$g}var zg,jC;function MX(){if(jC)return zg;jC=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return zg=n,zg}var Ug,EC;function uo(){if(EC)return Ug;EC=1;var e=kl(),t=CX(),n=MX(),r="[object Null]",a="[object Undefined]",s=e?e.toStringTag:void 0;function o(u){return u==null?u===void 0?a:r:s&&s in Object(u)?t(u):n(u)}return Ug=o,Ug}var Hg,AC;function Xr(){if(AC)return Hg;AC=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Hg=e,Hg}var Fg,OC;function kc(){if(OC)return Fg;OC=1;var e=uo(),t=Xr(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(u){if(!t(u))return!1;var c=e(u);return c==r||c==a||c==n||c==s}return Fg=o,Fg}var Gg,TC;function RX(){if(TC)return Gg;TC=1;var e=ga(),t=e["__core-js_shared__"];return Gg=t,Gg}var Kg,NC;function DX(){if(NC)return Kg;NC=1;var e=RX(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Kg=n,Kg}var Yg,kC;function m3(){if(kC)return Yg;kC=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Yg=n,Yg}var Vg,CC;function PX(){if(CC)return Vg;CC=1;var e=kc(),t=DX(),n=Xr(),r=m3(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,c=o.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!n(v)||t(v))return!1;var y=e(v)?f:s;return y.test(r(v))}return Vg=p,Vg}var Wg,MC;function LX(){if(MC)return Wg;MC=1;function e(t,n){return t?.[n]}return Wg=e,Wg}var Xg,RC;function co(){if(RC)return Xg;RC=1;var e=PX(),t=LX();function n(r,a){var s=t(r,a);return e(s)?s:void 0}return Xg=n,Xg}var Zg,DC;function pj(){if(DC)return Zg;DC=1;var e=co(),t=ga(),n=e(t,"Map");return Zg=n,Zg}var Qg,PC;function ep(){if(PC)return Qg;PC=1;var e=co(),t=e(Object,"create");return Qg=t,Qg}var Jg,LC;function qX(){if(LC)return Jg;LC=1;var e=ep();function t(){this.__data__=e?e(null):{},this.size=0}return Jg=t,Jg}var ey,qC;function IX(){if(qC)return ey;qC=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return ey=e,ey}var ty,IC;function BX(){if(IC)return ty;IC=1;var e=ep(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(s){var o=this.__data__;if(e){var u=o[s];return u===t?void 0:u}return r.call(o,s)?o[s]:void 0}return ty=a,ty}var ny,BC;function $X(){if(BC)return ny;BC=1;var e=ep(),t=Object.prototype,n=t.hasOwnProperty;function r(a){var s=this.__data__;return e?s[a]!==void 0:n.call(s,a)}return ny=r,ny}var ry,$C;function zX(){if($C)return ry;$C=1;var e=ep(),t="__lodash_hash_undefined__";function n(r,a){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&a===void 0?t:a,this}return ry=n,ry}var ay,zC;function UX(){if(zC)return ay;zC=1;var e=qX(),t=IX(),n=BX(),r=$X(),a=zX();function s(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var d=o[u];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=a,ay=s,ay}var iy,UC;function HX(){if(UC)return iy;UC=1;var e=UX(),t=Jh(),n=pj();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return iy=r,iy}var sy,HC;function FX(){if(HC)return sy;HC=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return sy=e,sy}var oy,FC;function tp(){if(FC)return oy;FC=1;var e=FX();function t(n,r){var a=n.__data__;return e(r)?a[typeof r=="string"?"string":"hash"]:a.map}return oy=t,oy}var ly,GC;function GX(){if(GC)return ly;GC=1;var e=tp();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return ly=t,ly}var uy,KC;function KX(){if(KC)return uy;KC=1;var e=tp();function t(n){return e(this,n).get(n)}return uy=t,uy}var cy,YC;function YX(){if(YC)return cy;YC=1;var e=tp();function t(n){return e(this,n).has(n)}return cy=t,cy}var fy,VC;function VX(){if(VC)return fy;VC=1;var e=tp();function t(n,r){var a=e(this,n),s=a.size;return a.set(n,r),this.size+=a.size==s?0:1,this}return fy=t,fy}var dy,WC;function mj(){if(WC)return dy;WC=1;var e=HX(),t=GX(),n=KX(),r=YX(),a=VX();function s(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var d=o[u];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=a,dy=s,dy}var hy,XC;function WX(){if(XC)return hy;XC=1;var e=Jh(),t=pj(),n=mj(),r=200;function a(s,o){var u=this.__data__;if(u instanceof e){var c=u.__data__;if(!t||c.length<r-1)return c.push([s,o]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(s,o),this.size=u.size,this}return hy=a,hy}var py,ZC;function np(){if(ZC)return py;ZC=1;var e=Jh(),t=OX(),n=TX(),r=NX(),a=kX(),s=WX();function o(u){var c=this.__data__=new e(u);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=s,py=o,py}var my,QC;function vj(){if(QC)return my;QC=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a&&n(t[r],r,t)!==!1;);return t}return my=e,my}var vy,JC;function v3(){if(JC)return vy;JC=1;var e=co(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return vy=t,vy}var gy,eM;function rp(){if(eM)return gy;eM=1;var e=v3();function t(n,r,a){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return gy=t,gy}var yy,tM;function ap(){if(tM)return yy;tM=1;var e=rp(),t=Nl(),n=Object.prototype,r=n.hasOwnProperty;function a(s,o,u){var c=s[o];(!(r.call(s,o)&&t(c,u))||u===void 0&&!(o in s))&&e(s,o,u)}return yy=a,yy}var by,nM;function Cc(){if(nM)return by;nM=1;var e=ap(),t=rp();function n(r,a,s,o){var u=!s;s||(s={});for(var c=-1,d=a.length;++c<d;){var f=a[c],p=o?o(s[f],r[f],f,s,r):void 0;p===void 0&&(p=r[f]),u?t(s,f,p):e(s,f,p)}return s}return by=n,by}var xy,rM;function XX(){if(rM)return xy;rM=1;function e(t,n){for(var r=-1,a=Array(t);++r<t;)a[r]=n(r);return a}return xy=e,xy}var _y,aM;function Pa(){if(aM)return _y;aM=1;function e(t){return t!=null&&typeof t=="object"}return _y=e,_y}var wy,iM;function ZX(){if(iM)return wy;iM=1;var e=uo(),t=Pa(),n="[object Arguments]";function r(a){return t(a)&&e(a)==n}return wy=r,wy}var Sy,sM;function Mc(){if(sM)return Sy;sM=1;var e=ZX(),t=Pa(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!a.call(o,"callee")};return Sy=s,Sy}var jy,oM;function Xt(){if(oM)return jy;oM=1;var e=Array.isArray;return jy=e,jy}var rc={exports:{}},Ey,lM;function QX(){if(lM)return Ey;lM=1;function e(){return!1}return Ey=e,Ey}rc.exports;var uM;function Cl(){return uM||(uM=1,(function(e,t){var n=ga(),r=QX(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,u=o?n.Buffer:void 0,c=u?u.isBuffer:void 0,d=c||r;e.exports=d})(rc,rc.exports)),rc.exports}var Ay,cM;function ip(){if(cM)return Ay;cM=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,a){var s=typeof r;return a=a??e,!!a&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<a}return Ay=n,Ay}var Oy,fM;function gj(){if(fM)return Oy;fM=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Oy=t,Oy}var Ty,dM;function JX(){if(dM)return Ty;dM=1;var e=uo(),t=gj(),n=Pa(),r="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",v="[object RegExp]",y="[object Set]",_="[object String]",x="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",E="[object Float32Array]",O="[object Float64Array]",A="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",C="[object Uint8Array]",q="[object Uint8ClampedArray]",P="[object Uint16Array]",M="[object Uint32Array]",L={};L[E]=L[O]=L[A]=L[N]=L[k]=L[C]=L[q]=L[P]=L[M]=!0,L[r]=L[a]=L[w]=L[s]=L[S]=L[o]=L[u]=L[c]=L[d]=L[f]=L[p]=L[v]=L[y]=L[_]=L[x]=!1;function B(z){return n(z)&&t(z.length)&&!!L[e(z)]}return Ty=B,Ty}var Ny,hM;function sp(){if(hM)return Ny;hM=1;function e(t){return function(n){return t(n)}}return Ny=e,Ny}var ac={exports:{}};ac.exports;var pM;function yj(){return pM||(pM=1,(function(e,t){var n=p3(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s&&n.process,u=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=u})(ac,ac.exports)),ac.exports}var ky,mM;function Rc(){if(mM)return ky;mM=1;var e=JX(),t=sp(),n=yj(),r=n&&n.isTypedArray,a=r?t(r):e;return ky=a,ky}var Cy,vM;function g3(){if(vM)return Cy;vM=1;var e=XX(),t=Mc(),n=Xt(),r=Cl(),a=ip(),s=Rc(),o=Object.prototype,u=o.hasOwnProperty;function c(d,f){var p=n(d),v=!p&&t(d),y=!p&&!v&&r(d),_=!p&&!v&&!y&&s(d),x=p||v||y||_,w=x?e(d.length,String):[],S=w.length;for(var E in d)(f||u.call(d,E))&&!(x&&(E=="length"||y&&(E=="offset"||E=="parent")||_&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||a(E,S)))&&w.push(E);return w}return Cy=c,Cy}var My,gM;function op(){if(gM)return My;gM=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||e;return n===a}return My=t,My}var Ry,yM;function y3(){if(yM)return Ry;yM=1;function e(t,n){return function(r){return t(n(r))}}return Ry=e,Ry}var Dy,bM;function eZ(){if(bM)return Dy;bM=1;var e=y3(),t=e(Object.keys,Object);return Dy=t,Dy}var Py,xM;function bj(){if(xM)return Py;xM=1;var e=op(),t=eZ(),n=Object.prototype,r=n.hasOwnProperty;function a(s){if(!e(s))return t(s);var o=[];for(var u in Object(s))r.call(s,u)&&u!="constructor"&&o.push(u);return o}return Py=a,Py}var Ly,_M;function vi(){if(_M)return Ly;_M=1;var e=kc(),t=gj();function n(r){return r!=null&&t(r.length)&&!e(r)}return Ly=n,Ly}var qy,wM;function ls(){if(wM)return qy;wM=1;var e=g3(),t=bj(),n=vi();function r(a){return n(a)?e(a):t(a)}return qy=r,qy}var Iy,SM;function tZ(){if(SM)return Iy;SM=1;var e=Cc(),t=ls();function n(r,a){return r&&e(a,t(a),r)}return Iy=n,Iy}var By,jM;function nZ(){if(jM)return By;jM=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return By=e,By}var $y,EM;function rZ(){if(EM)return $y;EM=1;var e=Xr(),t=op(),n=nZ(),r=Object.prototype,a=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var u=t(o),c=[];for(var d in o)d=="constructor"&&(u||!a.call(o,d))||c.push(d);return c}return $y=s,$y}var zy,AM;function fo(){if(AM)return zy;AM=1;var e=g3(),t=rZ(),n=vi();function r(a){return n(a)?e(a,!0):t(a)}return zy=r,zy}var Uy,OM;function aZ(){if(OM)return Uy;OM=1;var e=Cc(),t=fo();function n(r,a){return r&&e(a,t(a),r)}return Uy=n,Uy}var ic={exports:{}};ic.exports;var TM;function b3(){return TM||(TM=1,(function(e,t){var n=ga(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s?n.Buffer:void 0,u=o?o.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var p=d.length,v=u?u(p):new d.constructor(p);return d.copy(v),v}e.exports=c})(ic,ic.exports)),ic.exports}var Hy,NM;function x3(){if(NM)return Hy;NM=1;function e(t,n){var r=-1,a=t.length;for(n||(n=Array(a));++r<a;)n[r]=t[r];return n}return Hy=e,Hy}var Fy,kM;function _3(){if(kM)return Fy;kM=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,s=0,o=[];++r<a;){var u=t[r];n(u,r,t)&&(o[s++]=u)}return o}return Fy=e,Fy}var Gy,CM;function w3(){if(CM)return Gy;CM=1;function e(){return[]}return Gy=e,Gy}var Ky,MM;function xj(){if(MM)return Ky;MM=1;var e=_3(),t=w3(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(u){return r.call(o,u)}))}:t;return Ky=s,Ky}var Yy,RM;function iZ(){if(RM)return Yy;RM=1;var e=Cc(),t=xj();function n(r,a){return e(r,t(r),a)}return Yy=n,Yy}var Vy,DM;function _j(){if(DM)return Vy;DM=1;function e(t,n){for(var r=-1,a=n.length,s=t.length;++r<a;)t[s+r]=n[r];return t}return Vy=e,Vy}var Wy,PM;function lp(){if(PM)return Wy;PM=1;var e=y3(),t=e(Object.getPrototypeOf,Object);return Wy=t,Wy}var Xy,LM;function S3(){if(LM)return Xy;LM=1;var e=_j(),t=lp(),n=xj(),r=w3(),a=Object.getOwnPropertySymbols,s=a?function(o){for(var u=[];o;)e(u,n(o)),o=t(o);return u}:r;return Xy=s,Xy}var Zy,qM;function sZ(){if(qM)return Zy;qM=1;var e=Cc(),t=S3();function n(r,a){return e(r,t(r),a)}return Zy=n,Zy}var Qy,IM;function j3(){if(IM)return Qy;IM=1;var e=_j(),t=Xt();function n(r,a,s){var o=a(r);return t(r)?o:e(o,s(r))}return Qy=n,Qy}var Jy,BM;function E3(){if(BM)return Jy;BM=1;var e=j3(),t=xj(),n=ls();function r(a){return e(a,n,t)}return Jy=r,Jy}var eb,$M;function oZ(){if($M)return eb;$M=1;var e=j3(),t=S3(),n=fo();function r(a){return e(a,n,t)}return eb=r,eb}var tb,zM;function lZ(){if(zM)return tb;zM=1;var e=co(),t=ga(),n=e(t,"DataView");return tb=n,tb}var nb,UM;function uZ(){if(UM)return nb;UM=1;var e=co(),t=ga(),n=e(t,"Promise");return nb=n,nb}var rb,HM;function A3(){if(HM)return rb;HM=1;var e=co(),t=ga(),n=e(t,"Set");return rb=n,rb}var ab,FM;function cZ(){if(FM)return ab;FM=1;var e=co(),t=ga(),n=e(t,"WeakMap");return ab=n,ab}var ib,GM;function Ml(){if(GM)return ib;GM=1;var e=lZ(),t=pj(),n=uZ(),r=A3(),a=cZ(),s=uo(),o=m3(),u="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",v="[object DataView]",y=o(e),_=o(t),x=o(n),w=o(r),S=o(a),E=s;return(e&&E(new e(new ArrayBuffer(1)))!=v||t&&E(new t)!=u||n&&E(n.resolve())!=d||r&&E(new r)!=f||a&&E(new a)!=p)&&(E=function(O){var A=s(O),N=A==c?O.constructor:void 0,k=N?o(N):"";if(k)switch(k){case y:return v;case _:return u;case x:return d;case w:return f;case S:return p}return A}),ib=E,ib}var sb,KM;function fZ(){if(KM)return sb;KM=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var a=r.length,s=new r.constructor(a);return a&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return sb=n,sb}var ob,YM;function O3(){if(YM)return ob;YM=1;var e=ga(),t=e.Uint8Array;return ob=t,ob}var lb,VM;function wj(){if(VM)return lb;VM=1;var e=O3();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return lb=t,lb}var ub,WM;function dZ(){if(WM)return ub;WM=1;var e=wj();function t(n,r){var a=r?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return ub=t,ub}var cb,XM;function hZ(){if(XM)return cb;XM=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return cb=t,cb}var fb,ZM;function pZ(){if(ZM)return fb;ZM=1;var e=kl(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(a){return n?Object(n.call(a)):{}}return fb=r,fb}var db,QM;function T3(){if(QM)return db;QM=1;var e=wj();function t(n,r){var a=r?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return db=t,db}var hb,JM;function mZ(){if(JM)return hb;JM=1;var e=wj(),t=dZ(),n=hZ(),r=pZ(),a=T3(),s="[object Boolean]",o="[object Date]",u="[object Map]",c="[object Number]",d="[object RegExp]",f="[object Set]",p="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",E="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",C="[object Uint32Array]";function q(P,M,L){var B=P.constructor;switch(M){case y:return e(P);case s:case o:return new B(+P);case _:return t(P,L);case x:case w:case S:case E:case O:case A:case N:case k:case C:return a(P,L);case u:return new B;case c:case p:return new B(P);case d:return n(P);case f:return new B;case v:return r(P)}}return hb=q,hb}var pb,e2;function N3(){if(e2)return pb;e2=1;var e=Xr(),t=Object.create,n=(function(){function r(){}return function(a){if(!e(a))return{};if(t)return t(a);r.prototype=a;var s=new r;return r.prototype=void 0,s}})();return pb=n,pb}var mb,t2;function k3(){if(t2)return mb;t2=1;var e=N3(),t=lp(),n=op();function r(a){return typeof a.constructor=="function"&&!n(a)?e(t(a)):{}}return mb=r,mb}var vb,n2;function vZ(){if(n2)return vb;n2=1;var e=Ml(),t=Pa(),n="[object Map]";function r(a){return t(a)&&e(a)==n}return vb=r,vb}var gb,r2;function gZ(){if(r2)return gb;r2=1;var e=vZ(),t=sp(),n=yj(),r=n&&n.isMap,a=r?t(r):e;return gb=a,gb}var yb,a2;function yZ(){if(a2)return yb;a2=1;var e=Ml(),t=Pa(),n="[object Set]";function r(a){return t(a)&&e(a)==n}return yb=r,yb}var bb,i2;function bZ(){if(i2)return bb;i2=1;var e=yZ(),t=sp(),n=yj(),r=n&&n.isSet,a=r?t(r):e;return bb=a,bb}var xb,s2;function C3(){if(s2)return xb;s2=1;var e=np(),t=vj(),n=ap(),r=tZ(),a=aZ(),s=b3(),o=x3(),u=iZ(),c=sZ(),d=E3(),f=oZ(),p=Ml(),v=fZ(),y=mZ(),_=k3(),x=Xt(),w=Cl(),S=gZ(),E=Xr(),O=bZ(),A=ls(),N=fo(),k=1,C=2,q=4,P="[object Arguments]",M="[object Array]",L="[object Boolean]",B="[object Date]",z="[object Error]",D="[object Function]",H="[object GeneratorFunction]",I="[object Map]",F="[object Number]",Q="[object Object]",Y="[object RegExp]",$="[object Set]",V="[object String]",Z="[object Symbol]",ne="[object WeakMap]",K="[object ArrayBuffer]",X="[object DataView]",G="[object Float32Array]",te="[object Float64Array]",oe="[object Int8Array]",se="[object Int16Array]",he="[object Int32Array]",ye="[object Uint8Array]",ce="[object Uint8ClampedArray]",Ae="[object Uint16Array]",we="[object Uint32Array]",be={};be[P]=be[M]=be[K]=be[X]=be[L]=be[B]=be[G]=be[te]=be[oe]=be[se]=be[he]=be[I]=be[F]=be[Q]=be[Y]=be[$]=be[V]=be[Z]=be[ye]=be[ce]=be[Ae]=be[we]=!0,be[z]=be[D]=be[ne]=!1;function Pe(xe,Se,at,Dn,ln,Jt){var it,kt=Se&k,Ft=Se&C,Ct=Se&q;if(at&&(it=ln?at(xe,Dn,ln,Jt):at(xe)),it!==void 0)return it;if(!E(xe))return xe;var ct=x(xe);if(ct){if(it=v(xe),!kt)return o(xe,it)}else{var yt=p(xe),ht=yt==D||yt==H;if(w(xe))return s(xe,kt);if(yt==Q||yt==P||ht&&!ln){if(it=Ft||ht?{}:_(xe),!kt)return Ft?c(xe,a(it,xe)):u(xe,r(it,xe))}else{if(!be[yt])return ln?xe:{};it=y(xe,yt,kt)}}Jt||(Jt=new e);var Fn=Jt.get(xe);if(Fn)return Fn;Jt.set(xe,it),O(xe)?xe.forEach(function(pt){it.add(Pe(pt,Se,at,pt,xe,Jt))}):S(xe)&&xe.forEach(function(pt,Qe){it.set(Qe,Pe(pt,Se,at,Qe,xe,Jt))});var At=Ct?Ft?f:d:Ft?N:A,Gt=ct?void 0:At(xe);return t(Gt||xe,function(pt,Qe){Gt&&(Qe=pt,pt=xe[Qe]),n(it,Qe,Pe(pt,Se,at,Qe,xe,Jt))}),it}return xb=Pe,xb}var _b,o2;function xZ(){if(o2)return _b;o2=1;var e=C3(),t=4;function n(r){return e(r,t)}return _b=n,_b}var wb,l2;function Sj(){if(l2)return wb;l2=1;function e(t){return function(){return t}}return wb=e,wb}var Sb,u2;function _Z(){if(u2)return Sb;u2=1;function e(t){return function(n,r,a){for(var s=-1,o=Object(n),u=a(n),c=u.length;c--;){var d=u[t?c:++s];if(r(o[d],d,o)===!1)break}return n}}return Sb=e,Sb}var jb,c2;function jj(){if(c2)return jb;c2=1;var e=_Z(),t=e();return jb=t,jb}var Eb,f2;function Ej(){if(f2)return Eb;f2=1;var e=jj(),t=ls();function n(r,a){return r&&e(r,a,t)}return Eb=n,Eb}var Ab,d2;function wZ(){if(d2)return Ab;d2=1;var e=vi();function t(n,r){return function(a,s){if(a==null)return a;if(!e(a))return n(a,s);for(var o=a.length,u=r?o:-1,c=Object(a);(r?u--:++u<o)&&s(c[u],u,c)!==!1;);return a}}return Ab=t,Ab}var Ob,h2;function up(){if(h2)return Ob;h2=1;var e=Ej(),t=wZ(),n=t(e);return Ob=n,Ob}var Tb,p2;function ho(){if(p2)return Tb;p2=1;function e(t){return t}return Tb=e,Tb}var Nb,m2;function M3(){if(m2)return Nb;m2=1;var e=ho();function t(n){return typeof n=="function"?n:e}return Nb=t,Nb}var kb,v2;function R3(){if(v2)return kb;v2=1;var e=vj(),t=up(),n=M3(),r=Xt();function a(s,o){var u=r(s)?e:t;return u(s,n(o))}return kb=a,kb}var Cb,g2;function D3(){return g2||(g2=1,Cb=R3()),Cb}var Mb,y2;function SZ(){if(y2)return Mb;y2=1;var e=up();function t(n,r){var a=[];return e(n,function(s,o,u){r(s,o,u)&&a.push(s)}),a}return Mb=t,Mb}var Rb,b2;function jZ(){if(b2)return Rb;b2=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Rb=t,Rb}var Db,x2;function EZ(){if(x2)return Db;x2=1;function e(t){return this.__data__.has(t)}return Db=e,Db}var Pb,_2;function P3(){if(_2)return Pb;_2=1;var e=mj(),t=jZ(),n=EZ();function r(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new e;++s<o;)this.add(a[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Pb=r,Pb}var Lb,w2;function AZ(){if(w2)return Lb;w2=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(t[r],r,t))return!0;return!1}return Lb=e,Lb}var qb,S2;function L3(){if(S2)return qb;S2=1;function e(t,n){return t.has(n)}return qb=e,qb}var Ib,j2;function q3(){if(j2)return Ib;j2=1;var e=P3(),t=AZ(),n=L3(),r=1,a=2;function s(o,u,c,d,f,p){var v=c&r,y=o.length,_=u.length;if(y!=_&&!(v&&_>y))return!1;var x=p.get(o),w=p.get(u);if(x&&w)return x==u&&w==o;var S=-1,E=!0,O=c&a?new e:void 0;for(p.set(o,u),p.set(u,o);++S<y;){var A=o[S],N=u[S];if(d)var k=v?d(N,A,S,u,o,p):d(A,N,S,o,u,p);if(k!==void 0){if(k)continue;E=!1;break}if(O){if(!t(u,function(C,q){if(!n(O,q)&&(A===C||f(A,C,c,d,p)))return O.push(q)})){E=!1;break}}else if(!(A===N||f(A,N,c,d,p))){E=!1;break}}return p.delete(o),p.delete(u),E}return Ib=s,Ib}var Bb,E2;function OZ(){if(E2)return Bb;E2=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a,s){r[++n]=[s,a]}),r}return Bb=e,Bb}var $b,A2;function Aj(){if(A2)return $b;A2=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a){r[++n]=a}),r}return $b=e,$b}var zb,O2;function TZ(){if(O2)return zb;O2=1;var e=kl(),t=O3(),n=Nl(),r=q3(),a=OZ(),s=Aj(),o=1,u=2,c="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",v="[object Number]",y="[object RegExp]",_="[object Set]",x="[object String]",w="[object Symbol]",S="[object ArrayBuffer]",E="[object DataView]",O=e?e.prototype:void 0,A=O?O.valueOf:void 0;function N(k,C,q,P,M,L,B){switch(q){case E:if(k.byteLength!=C.byteLength||k.byteOffset!=C.byteOffset)return!1;k=k.buffer,C=C.buffer;case S:return!(k.byteLength!=C.byteLength||!L(new t(k),new t(C)));case c:case d:case v:return n(+k,+C);case f:return k.name==C.name&&k.message==C.message;case y:case x:return k==C+"";case p:var z=a;case _:var D=P&o;if(z||(z=s),k.size!=C.size&&!D)return!1;var H=B.get(k);if(H)return H==C;P|=u,B.set(k,C);var I=r(z(k),z(C),P,M,L,B);return B.delete(k),I;case w:if(A)return A.call(k)==A.call(C)}return!1}return zb=N,zb}var Ub,T2;function NZ(){if(T2)return Ub;T2=1;var e=E3(),t=1,n=Object.prototype,r=n.hasOwnProperty;function a(s,o,u,c,d,f){var p=u&t,v=e(s),y=v.length,_=e(o),x=_.length;if(y!=x&&!p)return!1;for(var w=y;w--;){var S=v[w];if(!(p?S in o:r.call(o,S)))return!1}var E=f.get(s),O=f.get(o);if(E&&O)return E==o&&O==s;var A=!0;f.set(s,o),f.set(o,s);for(var N=p;++w<y;){S=v[w];var k=s[S],C=o[S];if(c)var q=p?c(C,k,S,o,s,f):c(k,C,S,s,o,f);if(!(q===void 0?k===C||d(k,C,u,c,f):q)){A=!1;break}N||(N=S=="constructor")}if(A&&!N){var P=s.constructor,M=o.constructor;P!=M&&"constructor"in s&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof M=="function"&&M instanceof M)&&(A=!1)}return f.delete(s),f.delete(o),A}return Ub=a,Ub}var Hb,N2;function kZ(){if(N2)return Hb;N2=1;var e=np(),t=q3(),n=TZ(),r=NZ(),a=Ml(),s=Xt(),o=Cl(),u=Rc(),c=1,d="[object Arguments]",f="[object Array]",p="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function _(x,w,S,E,O,A){var N=s(x),k=s(w),C=N?f:a(x),q=k?f:a(w);C=C==d?p:C,q=q==d?p:q;var P=C==p,M=q==p,L=C==q;if(L&&o(x)){if(!o(w))return!1;N=!0,P=!1}if(L&&!P)return A||(A=new e),N||u(x)?t(x,w,S,E,O,A):n(x,w,C,S,E,O,A);if(!(S&c)){var B=P&&y.call(x,"__wrapped__"),z=M&&y.call(w,"__wrapped__");if(B||z){var D=B?x.value():x,H=z?w.value():w;return A||(A=new e),O(D,H,S,E,A)}}return L?(A||(A=new e),r(x,w,S,E,O,A)):!1}return Hb=_,Hb}var Fb,k2;function I3(){if(k2)return Fb;k2=1;var e=kZ(),t=Pa();function n(r,a,s,o,u){return r===a?!0:r==null||a==null||!t(r)&&!t(a)?r!==r&&a!==a:e(r,a,s,o,n,u)}return Fb=n,Fb}var Gb,C2;function CZ(){if(C2)return Gb;C2=1;var e=np(),t=I3(),n=1,r=2;function a(s,o,u,c){var d=u.length,f=d,p=!c;if(s==null)return!f;for(s=Object(s);d--;){var v=u[d];if(p&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++d<f;){v=u[d];var y=v[0],_=s[y],x=v[1];if(p&&v[2]){if(_===void 0&&!(y in s))return!1}else{var w=new e;if(c)var S=c(_,x,y,s,o,w);if(!(S===void 0?t(x,_,n|r,c,w):S))return!1}}return!0}return Gb=a,Gb}var Kb,M2;function B3(){if(M2)return Kb;M2=1;var e=Xr();function t(n){return n===n&&!e(n)}return Kb=t,Kb}var Yb,R2;function MZ(){if(R2)return Yb;R2=1;var e=B3(),t=ls();function n(r){for(var a=t(r),s=a.length;s--;){var o=a[s],u=r[o];a[s]=[o,u,e(u)]}return a}return Yb=n,Yb}var Vb,D2;function $3(){if(D2)return Vb;D2=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Vb=e,Vb}var Wb,P2;function RZ(){if(P2)return Wb;P2=1;var e=CZ(),t=MZ(),n=$3();function r(a){var s=t(a);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===a||e(o,a,s)}}return Wb=r,Wb}var Xb,L2;function Rl(){if(L2)return Xb;L2=1;var e=uo(),t=Pa(),n="[object Symbol]";function r(a){return typeof a=="symbol"||t(a)&&e(a)==n}return Xb=r,Xb}var Zb,q2;function Oj(){if(q2)return Zb;q2=1;var e=Xt(),t=Rl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,o){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return Zb=a,Zb}var Qb,I2;function DZ(){if(I2)return Qb;I2=1;var e=mj(),t="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var s=function(){var o=arguments,u=a?a.apply(this,o):o[0],c=s.cache;if(c.has(u))return c.get(u);var d=r.apply(this,o);return s.cache=c.set(u,d)||c,d};return s.cache=new(n.Cache||e),s}return n.Cache=e,Qb=n,Qb}var Jb,B2;function PZ(){if(B2)return Jb;B2=1;var e=DZ(),t=500;function n(r){var a=e(r,function(o){return s.size===t&&s.clear(),o}),s=a.cache;return a}return Jb=n,Jb}var e0,$2;function LZ(){if($2)return e0;$2=1;var e=PZ(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(t,function(o,u,c,d){s.push(c?d.replace(n,"$1"):u||o)}),s});return e0=r,e0}var t0,z2;function cp(){if(z2)return t0;z2=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,s=Array(a);++r<a;)s[r]=n(t[r],r,t);return s}return t0=e,t0}var n0,U2;function qZ(){if(U2)return n0;U2=1;var e=kl(),t=cp(),n=Xt(),r=Rl(),a=e?e.prototype:void 0,s=a?a.toString:void 0;function o(u){if(typeof u=="string")return u;if(n(u))return t(u,o)+"";if(r(u))return s?s.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return n0=o,n0}var r0,H2;function z3(){if(H2)return r0;H2=1;var e=qZ();function t(n){return n==null?"":e(n)}return r0=t,r0}var a0,F2;function fp(){if(F2)return a0;F2=1;var e=Xt(),t=Oj(),n=LZ(),r=z3();function a(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return a0=a,a0}var i0,G2;function Dc(){if(G2)return i0;G2=1;var e=Rl();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return i0=t,i0}var s0,K2;function dp(){if(K2)return s0;K2=1;var e=fp(),t=Dc();function n(r,a){a=e(a,r);for(var s=0,o=a.length;r!=null&&s<o;)r=r[t(a[s++])];return s&&s==o?r:void 0}return s0=n,s0}var o0,Y2;function IZ(){if(Y2)return o0;Y2=1;var e=dp();function t(n,r,a){var s=n==null?void 0:e(n,r);return s===void 0?a:s}return o0=t,o0}var l0,V2;function BZ(){if(V2)return l0;V2=1;function e(t,n){return t!=null&&n in Object(t)}return l0=e,l0}var u0,W2;function U3(){if(W2)return u0;W2=1;var e=fp(),t=Mc(),n=Xt(),r=ip(),a=gj(),s=Dc();function o(u,c,d){c=e(c,u);for(var f=-1,p=c.length,v=!1;++f<p;){var y=s(c[f]);if(!(v=u!=null&&d(u,y)))break;u=u[y]}return v||++f!=p?v:(p=u==null?0:u.length,!!p&&a(p)&&r(y,p)&&(n(u)||t(u)))}return u0=o,u0}var c0,X2;function H3(){if(X2)return c0;X2=1;var e=BZ(),t=U3();function n(r,a){return r!=null&&t(r,a,e)}return c0=n,c0}var f0,Z2;function $Z(){if(Z2)return f0;Z2=1;var e=I3(),t=IZ(),n=H3(),r=Oj(),a=B3(),s=$3(),o=Dc(),u=1,c=2;function d(f,p){return r(f)&&a(p)?s(o(f),p):function(v){var y=t(v,f);return y===void 0&&y===p?n(v,f):e(p,y,u|c)}}return f0=d,f0}var d0,Q2;function F3(){if(Q2)return d0;Q2=1;function e(t){return function(n){return n?.[t]}}return d0=e,d0}var h0,J2;function zZ(){if(J2)return h0;J2=1;var e=dp();function t(n){return function(r){return e(r,n)}}return h0=t,h0}var p0,eR;function UZ(){if(eR)return p0;eR=1;var e=F3(),t=zZ(),n=Oj(),r=Dc();function a(s){return n(s)?e(r(s)):t(s)}return p0=a,p0}var m0,tR;function gi(){if(tR)return m0;tR=1;var e=RZ(),t=$Z(),n=ho(),r=Xt(),a=UZ();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):a(o)}return m0=s,m0}var v0,nR;function G3(){if(nR)return v0;nR=1;var e=_3(),t=SZ(),n=gi(),r=Xt();function a(s,o){var u=r(s)?e:t;return u(s,n(o,3))}return v0=a,v0}var g0,rR;function HZ(){if(rR)return g0;rR=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,a){return r!=null&&t.call(r,a)}return g0=n,g0}var y0,aR;function K3(){if(aR)return y0;aR=1;var e=HZ(),t=U3();function n(r,a){return r!=null&&t(r,a,e)}return y0=n,y0}var b0,iR;function FZ(){if(iR)return b0;iR=1;var e=bj(),t=Ml(),n=Mc(),r=Xt(),a=vi(),s=Cl(),o=op(),u=Rc(),c="[object Map]",d="[object Set]",f=Object.prototype,p=f.hasOwnProperty;function v(y){if(y==null)return!0;if(a(y)&&(r(y)||typeof y=="string"||typeof y.splice=="function"||s(y)||u(y)||n(y)))return!y.length;var _=t(y);if(_==c||_==d)return!y.size;if(o(y))return!e(y).length;for(var x in y)if(p.call(y,x))return!1;return!0}return b0=v,b0}var x0,sR;function Y3(){if(sR)return x0;sR=1;function e(t){return t===void 0}return x0=e,x0}var _0,oR;function V3(){if(oR)return _0;oR=1;var e=up(),t=vi();function n(r,a){var s=-1,o=t(r)?Array(r.length):[];return e(r,function(u,c,d){o[++s]=a(u,c,d)}),o}return _0=n,_0}var w0,lR;function W3(){if(lR)return w0;lR=1;var e=cp(),t=gi(),n=V3(),r=Xt();function a(s,o){var u=r(s)?e:n;return u(s,t(o,3))}return w0=a,w0}var S0,uR;function GZ(){if(uR)return S0;uR=1;function e(t,n,r,a){var s=-1,o=t==null?0:t.length;for(a&&o&&(r=t[++s]);++s<o;)r=n(r,t[s],s,t);return r}return S0=e,S0}var j0,cR;function KZ(){if(cR)return j0;cR=1;function e(t,n,r,a,s){return s(t,function(o,u,c){r=a?(a=!1,o):n(r,o,u,c)}),r}return j0=e,j0}var E0,fR;function X3(){if(fR)return E0;fR=1;var e=GZ(),t=up(),n=gi(),r=KZ(),a=Xt();function s(o,u,c){var d=a(o)?e:r,f=arguments.length<3;return d(o,n(u,4),c,f,t)}return E0=s,E0}var A0,dR;function YZ(){if(dR)return A0;dR=1;var e=uo(),t=Xt(),n=Pa(),r="[object String]";function a(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return A0=a,A0}var O0,hR;function VZ(){if(hR)return O0;hR=1;var e=F3(),t=e("length");return O0=t,O0}var T0,pR;function WZ(){if(pR)return T0;pR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+e+a+s+"]");function c(d){return u.test(d)}return T0=c,T0}var N0,mR;function XZ(){if(mR)return N0;mR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,s="\\ufe0e\\ufe0f",o="["+e+"]",u="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+c+")",f="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",_=d+"?",x="["+s+"]?",w="(?:"+y+"(?:"+[f,p,v].join("|")+")"+x+_+")*",S=x+_+w,E="(?:"+[f+u+"?",u,p,v,o].join("|")+")",O=RegExp(c+"(?="+c+")|"+E+S,"g");function A(N){for(var k=O.lastIndex=0;O.test(N);)++k;return k}return N0=A,N0}var k0,vR;function ZZ(){if(vR)return k0;vR=1;var e=VZ(),t=WZ(),n=XZ();function r(a){return t(a)?n(a):e(a)}return k0=r,k0}var C0,gR;function QZ(){if(gR)return C0;gR=1;var e=bj(),t=Ml(),n=vi(),r=YZ(),a=ZZ(),s="[object Map]",o="[object Set]";function u(c){if(c==null)return 0;if(n(c))return r(c)?a(c):c.length;var d=t(c);return d==s||d==o?c.size:e(c).length}return C0=u,C0}var M0,yR;function JZ(){if(yR)return M0;yR=1;var e=vj(),t=N3(),n=Ej(),r=gi(),a=lp(),s=Xt(),o=Cl(),u=kc(),c=Xr(),d=Rc();function f(p,v,y){var _=s(p),x=_||o(p)||d(p);if(v=r(v,4),y==null){var w=p&&p.constructor;x?y=_?new w:[]:c(p)?y=u(w)?t(a(p)):{}:y={}}return(x?e:n)(p,function(S,E,O){return v(y,S,E,O)}),y}return M0=f,M0}var R0,bR;function eQ(){if(bR)return R0;bR=1;var e=kl(),t=Mc(),n=Xt(),r=e?e.isConcatSpreadable:void 0;function a(s){return n(s)||t(s)||!!(r&&s&&s[r])}return R0=a,R0}var D0,xR;function Tj(){if(xR)return D0;xR=1;var e=_j(),t=eQ();function n(r,a,s,o,u){var c=-1,d=r.length;for(s||(s=t),u||(u=[]);++c<d;){var f=r[c];a>0&&s(f)?a>1?n(f,a-1,s,o,u):e(u,f):o||(u[u.length]=f)}return u}return D0=n,D0}var P0,_R;function tQ(){if(_R)return P0;_R=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return P0=e,P0}var L0,wR;function Z3(){if(wR)return L0;wR=1;var e=tQ(),t=Math.max;function n(r,a,s){return a=t(a===void 0?r.length-1:a,0),function(){for(var o=arguments,u=-1,c=t(o.length-a,0),d=Array(c);++u<c;)d[u]=o[a+u];u=-1;for(var f=Array(a+1);++u<a;)f[u]=o[u];return f[a]=s(d),e(r,this,f)}}return L0=n,L0}var q0,SR;function nQ(){if(SR)return q0;SR=1;var e=Sj(),t=v3(),n=ho(),r=t?function(a,s){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return q0=r,q0}var I0,jR;function rQ(){if(jR)return I0;jR=1;var e=800,t=16,n=Date.now;function r(a){var s=0,o=0;return function(){var u=n(),c=t-(u-o);if(o=u,c>0){if(++s>=e)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return I0=r,I0}var B0,ER;function Q3(){if(ER)return B0;ER=1;var e=nQ(),t=rQ(),n=t(e);return B0=n,B0}var $0,AR;function hp(){if(AR)return $0;AR=1;var e=ho(),t=Z3(),n=Q3();function r(a,s){return n(t(a,s,e),a+"")}return $0=r,$0}var z0,OR;function J3(){if(OR)return z0;OR=1;function e(t,n,r,a){for(var s=t.length,o=r+(a?1:-1);a?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return z0=e,z0}var U0,TR;function aQ(){if(TR)return U0;TR=1;function e(t){return t!==t}return U0=e,U0}var H0,NR;function iQ(){if(NR)return H0;NR=1;function e(t,n,r){for(var a=r-1,s=t.length;++a<s;)if(t[a]===n)return a;return-1}return H0=e,H0}var F0,kR;function sQ(){if(kR)return F0;kR=1;var e=J3(),t=aQ(),n=iQ();function r(a,s,o){return s===s?n(a,s,o):e(a,t,o)}return F0=r,F0}var G0,CR;function oQ(){if(CR)return G0;CR=1;var e=sQ();function t(n,r){var a=n==null?0:n.length;return!!a&&e(n,r,0)>-1}return G0=t,G0}var K0,MR;function lQ(){if(MR)return K0;MR=1;function e(t,n,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(r(n,t[a]))return!0;return!1}return K0=e,K0}var Y0,RR;function uQ(){if(RR)return Y0;RR=1;function e(){}return Y0=e,Y0}var V0,DR;function cQ(){if(DR)return V0;DR=1;var e=A3(),t=uQ(),n=Aj(),r=1/0,a=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return V0=a,V0}var W0,PR;function fQ(){if(PR)return W0;PR=1;var e=P3(),t=oQ(),n=lQ(),r=L3(),a=cQ(),s=Aj(),o=200;function u(c,d,f){var p=-1,v=t,y=c.length,_=!0,x=[],w=x;if(f)_=!1,v=n;else if(y>=o){var S=d?null:a(c);if(S)return s(S);_=!1,v=r,w=new e}else w=d?[]:x;e:for(;++p<y;){var E=c[p],O=d?d(E):E;if(E=f||E!==0?E:0,_&&O===O){for(var A=w.length;A--;)if(w[A]===O)continue e;d&&w.push(O),x.push(E)}else v(w,O,f)||(w!==x&&w.push(O),x.push(E))}return x}return W0=u,W0}var X0,LR;function ez(){if(LR)return X0;LR=1;var e=vi(),t=Pa();function n(r){return t(r)&&e(r)}return X0=n,X0}var Z0,qR;function dQ(){if(qR)return Z0;qR=1;var e=Tj(),t=hp(),n=fQ(),r=ez(),a=t(function(s){return n(e(s,1,r,!0))});return Z0=a,Z0}var Q0,IR;function hQ(){if(IR)return Q0;IR=1;var e=cp();function t(n,r){return e(r,function(a){return n[a]})}return Q0=t,Q0}var J0,BR;function tz(){if(BR)return J0;BR=1;var e=hQ(),t=ls();function n(r){return r==null?[]:e(r,t(r))}return J0=n,J0}var ex,$R;function Zr(){if($R)return ex;$R=1;var e;if(typeof hj=="function")try{e={clone:xZ(),constant:Sj(),each:D3(),filter:G3(),has:K3(),isArray:Xt(),isEmpty:FZ(),isFunction:kc(),isUndefined:Y3(),keys:ls(),map:W3(),reduce:X3(),size:QZ(),transform:JZ(),union:dQ(),values:tz()}}catch{}return e||(e=window._),ex=e,ex}var tx,zR;function Nj(){if(zR)return tx;zR=1;var e=Zr();tx=a;var t="\0",n="\0",r="";function a(f){this._isDirected=e.has(f,"directed")?f.directed:!0,this._isMultigraph=e.has(f,"multigraph")?f.multigraph:!1,this._isCompound=e.has(f,"compound")?f.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(f){return this._label=f,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultNodeLabelFn=f,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return e.keys(this._nodes)},a.prototype.sources=function(){var f=this;return e.filter(this.nodes(),function(p){return e.isEmpty(f._in[p])})},a.prototype.sinks=function(){var f=this;return e.filter(this.nodes(),function(p){return e.isEmpty(f._out[p])})},a.prototype.setNodes=function(f,p){var v=arguments,y=this;return e.each(f,function(_){v.length>1?y.setNode(_,p):y.setNode(_)}),this},a.prototype.setNode=function(f,p){return e.has(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=p),this):(this._nodes[f]=arguments.length>1?p:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=n,this._children[f]={},this._children[n][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)},a.prototype.node=function(f){return this._nodes[f]},a.prototype.hasNode=function(f){return e.has(this._nodes,f)},a.prototype.removeNode=function(f){var p=this;if(e.has(this._nodes,f)){var v=function(y){p.removeEdge(p._edgeObjs[y])};delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],e.each(this.children(f),function(y){p.setParent(y)}),delete this._children[f]),e.each(e.keys(this._in[f]),v),delete this._in[f],delete this._preds[f],e.each(e.keys(this._out[f]),v),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this},a.prototype.setParent=function(f,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(p))p=n;else{p+="";for(var v=p;!e.isUndefined(v);v=this.parent(v))if(v===f)throw new Error("Setting "+p+" as parent of "+f+" would create a cycle");this.setNode(p)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=p,this._children[p][f]=!0,this},a.prototype._removeFromParentsChildList=function(f){delete this._children[this._parent[f]][f]},a.prototype.parent=function(f){if(this._isCompound){var p=this._parent[f];if(p!==n)return p}},a.prototype.children=function(f){if(e.isUndefined(f)&&(f=n),this._isCompound){var p=this._children[f];if(p)return e.keys(p)}else{if(f===n)return this.nodes();if(this.hasNode(f))return[]}},a.prototype.predecessors=function(f){var p=this._preds[f];if(p)return e.keys(p)},a.prototype.successors=function(f){var p=this._sucs[f];if(p)return e.keys(p)},a.prototype.neighbors=function(f){var p=this.predecessors(f);if(p)return e.union(p,this.successors(f))},a.prototype.isLeaf=function(f){var p;return this.isDirected()?p=this.successors(f):p=this.neighbors(f),p.length===0},a.prototype.filterNodes=function(f){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var v=this;e.each(this._nodes,function(x,w){f(w)&&p.setNode(w,x)}),e.each(this._edgeObjs,function(x){p.hasNode(x.v)&&p.hasNode(x.w)&&p.setEdge(x,v.edge(x))});var y={};function _(x){var w=v.parent(x);return w===void 0||p.hasNode(w)?(y[x]=w,w):w in y?y[w]:_(w)}return this._isCompound&&e.each(p.nodes(),function(x){p.setParent(x,_(x))}),p},a.prototype.setDefaultEdgeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultEdgeLabelFn=f,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return e.values(this._edgeObjs)},a.prototype.setPath=function(f,p){var v=this,y=arguments;return e.reduce(f,function(_,x){return y.length>1?v.setEdge(_,x,p):v.setEdge(_,x),x}),this},a.prototype.setEdge=function(){var f,p,v,y,_=!1,x=arguments[0];typeof x=="object"&&x!==null&&"v"in x?(f=x.v,p=x.w,v=x.name,arguments.length===2&&(y=arguments[1],_=!0)):(f=x,p=arguments[1],v=arguments[3],arguments.length>2&&(y=arguments[2],_=!0)),f=""+f,p=""+p,e.isUndefined(v)||(v=""+v);var w=u(this._isDirected,f,p,v);if(e.has(this._edgeLabels,w))return _&&(this._edgeLabels[w]=y),this;if(!e.isUndefined(v)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(p),this._edgeLabels[w]=_?y:this._defaultEdgeLabelFn(f,p,v);var S=c(this._isDirected,f,p,v);return f=S.v,p=S.w,Object.freeze(S),this._edgeObjs[w]=S,s(this._preds[p],f),s(this._sucs[f],p),this._in[p][w]=S,this._out[f][w]=S,this._edgeCount++,this},a.prototype.edge=function(f,p,v){var y=arguments.length===1?d(this._isDirected,arguments[0]):u(this._isDirected,f,p,v);return this._edgeLabels[y]},a.prototype.hasEdge=function(f,p,v){var y=arguments.length===1?d(this._isDirected,arguments[0]):u(this._isDirected,f,p,v);return e.has(this._edgeLabels,y)},a.prototype.removeEdge=function(f,p,v){var y=arguments.length===1?d(this._isDirected,arguments[0]):u(this._isDirected,f,p,v),_=this._edgeObjs[y];return _&&(f=_.v,p=_.w,delete this._edgeLabels[y],delete this._edgeObjs[y],o(this._preds[p],f),o(this._sucs[f],p),delete this._in[p][y],delete this._out[f][y],this._edgeCount--),this},a.prototype.inEdges=function(f,p){var v=this._in[f];if(v){var y=e.values(v);return p?e.filter(y,function(_){return _.v===p}):y}},a.prototype.outEdges=function(f,p){var v=this._out[f];if(v){var y=e.values(v);return p?e.filter(y,function(_){return _.w===p}):y}},a.prototype.nodeEdges=function(f,p){var v=this.inEdges(f,p);if(v)return v.concat(this.outEdges(f,p))};function s(f,p){f[p]?f[p]++:f[p]=1}function o(f,p){--f[p]||delete f[p]}function u(f,p,v,y){var _=""+p,x=""+v;if(!f&&_>x){var w=_;_=x,x=w}return _+r+x+r+(e.isUndefined(y)?t:y)}function c(f,p,v,y){var _=""+p,x=""+v;if(!f&&_>x){var w=_;_=x,x=w}var S={v:_,w:x};return y&&(S.name=y),S}function d(f,p){return u(f,p.v,p.w,p.name)}return tx}var nx,UR;function pQ(){return UR||(UR=1,nx="2.1.8"),nx}var rx,HR;function mQ(){return HR||(HR=1,rx={Graph:Nj(),version:pQ()}),rx}var ax,FR;function vQ(){if(FR)return ax;FR=1;var e=Zr(),t=Nj();ax={write:n,read:s};function n(o){var u={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:r(o),edges:a(o)};return e.isUndefined(o.graph())||(u.value=e.clone(o.graph())),u}function r(o){return e.map(o.nodes(),function(u){var c=o.node(u),d=o.parent(u),f={v:u};return e.isUndefined(c)||(f.value=c),e.isUndefined(d)||(f.parent=d),f})}function a(o){return e.map(o.edges(),function(u){var c=o.edge(u),d={v:u.v,w:u.w};return e.isUndefined(u.name)||(d.name=u.name),e.isUndefined(c)||(d.value=c),d})}function s(o){var u=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(c){u.setNode(c.v,c.value),c.parent&&u.setParent(c.v,c.parent)}),e.each(o.edges,function(c){u.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),u}return ax}var ix,GR;function gQ(){if(GR)return ix;GR=1;var e=Zr();ix=t;function t(n){var r={},a=[],s;function o(u){e.has(r,u)||(r[u]=!0,s.push(u),e.each(n.successors(u),o),e.each(n.predecessors(u),o))}return e.each(n.nodes(),function(u){s=[],o(u),s.length&&a.push(s)}),a}return ix}var sx,KR;function nz(){if(KR)return sx;KR=1;var e=Zr();sx=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var a=this._keyIndices;if(n=String(n),!e.has(a,n)){var s=this._arr,o=s.length;return a[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var a=this._keyIndices[n];if(r>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[a].priority+" New: "+r);this._arr[a].priority=r,this._decrease(a)},t.prototype._heapify=function(n){var r=this._arr,a=2*n,s=a+1,o=n;a<r.length&&(o=r[a].priority<r[o].priority?a:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var r=this._arr,a=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<a));)this._swap(n,s),n=s},t.prototype._swap=function(n,r){var a=this._arr,s=this._keyIndices,o=a[n],u=a[r];a[n]=u,a[r]=o,s[u.key]=n,s[o.key]=r},sx}var ox,YR;function rz(){if(YR)return ox;YR=1;var e=Zr(),t=nz();ox=r;var n=e.constant(1);function r(s,o,u,c){return a(s,String(o),u||n,c||function(d){return s.outEdges(d)})}function a(s,o,u,c){var d={},f=new t,p,v,y=function(_){var x=_.v!==p?_.v:_.w,w=d[x],S=u(_),E=v.distance+S;if(S<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+_+" Weight: "+S);E<w.distance&&(w.distance=E,w.predecessor=p,f.decrease(x,E))};for(s.nodes().forEach(function(_){var x=_===o?0:Number.POSITIVE_INFINITY;d[_]={distance:x},f.add(_,x)});f.size()>0&&(p=f.removeMin(),v=d[p],v.distance!==Number.POSITIVE_INFINITY);)c(p).forEach(y);return d}return ox}var lx,VR;function yQ(){if(VR)return lx;VR=1;var e=rz(),t=Zr();lx=n;function n(r,a,s){return t.transform(r.nodes(),function(o,u){o[u]=e(r,u,a,s)},{})}return lx}var ux,WR;function az(){if(WR)return ux;WR=1;var e=Zr();ux=t;function t(n){var r=0,a=[],s={},o=[];function u(c){var d=s[c]={onStack:!0,lowlink:r,index:r++};if(a.push(c),n.successors(c).forEach(function(v){e.has(s,v)?s[v].onStack&&(d.lowlink=Math.min(d.lowlink,s[v].index)):(u(v),d.lowlink=Math.min(d.lowlink,s[v].lowlink))}),d.lowlink===d.index){var f=[],p;do p=a.pop(),s[p].onStack=!1,f.push(p);while(c!==p);o.push(f)}}return n.nodes().forEach(function(c){e.has(s,c)||u(c)}),o}return ux}var cx,XR;function bQ(){if(XR)return cx;XR=1;var e=Zr(),t=az();cx=n;function n(r){return e.filter(t(r),function(a){return a.length>1||a.length===1&&r.hasEdge(a[0],a[0])})}return cx}var fx,ZR;function xQ(){if(ZR)return fx;ZR=1;var e=Zr();fx=n;var t=e.constant(1);function n(a,s,o){return r(a,s||t,o||function(u){return a.outEdges(u)})}function r(a,s,o){var u={},c=a.nodes();return c.forEach(function(d){u[d]={},u[d][d]={distance:0},c.forEach(function(f){d!==f&&(u[d][f]={distance:Number.POSITIVE_INFINITY})}),o(d).forEach(function(f){var p=f.v===d?f.w:f.v,v=s(f);u[d][p]={distance:v,predecessor:d}})}),c.forEach(function(d){var f=u[d];c.forEach(function(p){var v=u[p];c.forEach(function(y){var _=v[d],x=f[y],w=v[y],S=_.distance+x.distance;S<w.distance&&(w.distance=S,w.predecessor=x.predecessor)})})}),u}return fx}var dx,QR;function iz(){if(QR)return dx;QR=1;var e=Zr();dx=t,t.CycleException=n;function t(r){var a={},s={},o=[];function u(c){if(e.has(s,c))throw new n;e.has(a,c)||(s[c]=!0,a[c]=!0,e.each(r.predecessors(c),u),delete s[c],o.push(c))}if(e.each(r.sinks(),u),e.size(a)!==r.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,dx}var hx,JR;function _Q(){if(JR)return hx;JR=1;var e=iz();hx=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return hx}var px,eD;function sz(){if(eD)return px;eD=1;var e=Zr();px=t;function t(r,a,s){e.isArray(a)||(a=[a]);var o=(r.isDirected()?r.successors:r.neighbors).bind(r),u=[],c={};return e.each(a,function(d){if(!r.hasNode(d))throw new Error("Graph does not have node: "+d);n(r,d,s==="post",c,o,u)}),u}function n(r,a,s,o,u,c){e.has(o,a)||(o[a]=!0,s||c.push(a),e.each(u(a),function(d){n(r,d,s,o,u,c)}),s&&c.push(a))}return px}var mx,tD;function wQ(){if(tD)return mx;tD=1;var e=sz();mx=t;function t(n,r){return e(n,r,"post")}return mx}var vx,nD;function SQ(){if(nD)return vx;nD=1;var e=sz();vx=t;function t(n,r){return e(n,r,"pre")}return vx}var gx,rD;function jQ(){if(rD)return gx;rD=1;var e=Zr(),t=Nj(),n=nz();gx=r;function r(a,s){var o=new t,u={},c=new n,d;function f(v){var y=v.v===d?v.w:v.v,_=c.priority(y);if(_!==void 0){var x=s(v);x<_&&(u[y]=d,c.decrease(y,x))}}if(a.nodeCount()===0)return o;e.each(a.nodes(),function(v){c.add(v,Number.POSITIVE_INFINITY),o.setNode(v)}),c.decrease(a.nodes()[0],0);for(var p=!1;c.size()>0;){if(d=c.removeMin(),e.has(u,d))o.setEdge(d,u[d]);else{if(p)throw new Error("Input graph is not connected: "+a);p=!0}a.nodeEdges(d).forEach(f)}return o}return gx}var yx,aD;function EQ(){return aD||(aD=1,yx={components:gQ(),dijkstra:rz(),dijkstraAll:yQ(),findCycles:bQ(),floydWarshall:xQ(),isAcyclic:_Q(),postorder:wQ(),preorder:SQ(),prim:jQ(),tarjan:az(),topsort:iz()}),yx}var bx,iD;function AQ(){if(iD)return bx;iD=1;var e=mQ();return bx={Graph:e.Graph,json:vQ(),alg:EQ(),version:e.version},bx}var xx,sD;function ha(){if(sD)return xx;sD=1;var e;if(typeof hj=="function")try{e=AQ()}catch{}return e||(e=window.graphlib),xx=e,xx}var _x,oD;function OQ(){if(oD)return _x;oD=1;var e=C3(),t=1,n=4;function r(a){return e(a,t|n)}return _x=r,_x}var wx,lD;function pp(){if(lD)return wx;lD=1;var e=Nl(),t=vi(),n=ip(),r=Xr();function a(s,o,u){if(!r(u))return!1;var c=typeof o;return(c=="number"?t(u)&&n(o,u.length):c=="string"&&o in u)?e(u[o],s):!1}return wx=a,wx}var Sx,uD;function TQ(){if(uD)return Sx;uD=1;var e=hp(),t=Nl(),n=pp(),r=fo(),a=Object.prototype,s=a.hasOwnProperty,o=e(function(u,c){u=Object(u);var d=-1,f=c.length,p=f>2?c[2]:void 0;for(p&&n(c[0],c[1],p)&&(f=1);++d<f;)for(var v=c[d],y=r(v),_=-1,x=y.length;++_<x;){var w=y[_],S=u[w];(S===void 0||t(S,a[w])&&!s.call(u,w))&&(u[w]=v[w])}return u});return Sx=o,Sx}var jx,cD;function NQ(){if(cD)return jx;cD=1;var e=gi(),t=vi(),n=ls();function r(a){return function(s,o,u){var c=Object(s);if(!t(s)){var d=e(o,3);s=n(s),o=function(p){return d(c[p],p,c)}}var f=a(s,o,u);return f>-1?c[d?s[f]:f]:void 0}}return jx=r,jx}var Ex,fD;function kQ(){if(fD)return Ex;fD=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Ex=t,Ex}var Ax,dD;function CQ(){if(dD)return Ax;dD=1;var e=kQ(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Ax=n,Ax}var Ox,hD;function MQ(){if(hD)return Ox;hD=1;var e=CQ(),t=Xr(),n=Rl(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(t(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=t(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=e(d);var p=s.test(d);return p||o.test(d)?u(d.slice(2),p?2:8):a.test(d)?r:+d}return Ox=c,Ox}var Tx,pD;function oz(){if(pD)return Tx;pD=1;var e=MQ(),t=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var s=a<0?-1:1;return s*n}return a===a?a:0}return Tx=r,Tx}var Nx,mD;function RQ(){if(mD)return Nx;mD=1;var e=oz();function t(n){var r=e(n),a=r%1;return r===r?a?r-a:r:0}return Nx=t,Nx}var kx,vD;function DQ(){if(vD)return kx;vD=1;var e=J3(),t=gi(),n=RQ(),r=Math.max;function a(s,o,u){var c=s==null?0:s.length;if(!c)return-1;var d=u==null?0:n(u);return d<0&&(d=r(c+d,0)),e(s,t(o,3),d)}return kx=a,kx}var Cx,gD;function PQ(){if(gD)return Cx;gD=1;var e=NQ(),t=DQ(),n=e(t);return Cx=n,Cx}var Mx,yD;function lz(){if(yD)return Mx;yD=1;var e=Tj();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Mx=t,Mx}var Rx,bD;function LQ(){if(bD)return Rx;bD=1;var e=jj(),t=M3(),n=fo();function r(a,s){return a==null?a:e(a,t(s),n)}return Rx=r,Rx}var Dx,xD;function qQ(){if(xD)return Dx;xD=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Dx=e,Dx}var Px,_D;function IQ(){if(_D)return Px;_D=1;var e=rp(),t=Ej(),n=gi();function r(a,s){var o={};return s=n(s,3),t(a,function(u,c,d){e(o,c,s(u,c,d))}),o}return Px=r,Px}var Lx,wD;function kj(){if(wD)return Lx;wD=1;var e=Rl();function t(n,r,a){for(var s=-1,o=n.length;++s<o;){var u=n[s],c=r(u);if(c!=null&&(d===void 0?c===c&&!e(c):a(c,d)))var d=c,f=u}return f}return Lx=t,Lx}var qx,SD;function BQ(){if(SD)return qx;SD=1;function e(t,n){return t>n}return qx=e,qx}var Ix,jD;function $Q(){if(jD)return Ix;jD=1;var e=kj(),t=BQ(),n=ho();function r(a){return a&&a.length?e(a,n,t):void 0}return Ix=r,Ix}var Bx,ED;function uz(){if(ED)return Bx;ED=1;var e=rp(),t=Nl();function n(r,a,s){(s!==void 0&&!t(r[a],s)||s===void 0&&!(a in r))&&e(r,a,s)}return Bx=n,Bx}var $x,AD;function zQ(){if(AD)return $x;AD=1;var e=uo(),t=lp(),n=Pa(),r="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,u=s.hasOwnProperty,c=o.call(Object);function d(f){if(!n(f)||e(f)!=r)return!1;var p=t(f);if(p===null)return!0;var v=u.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==c}return $x=d,$x}var zx,OD;function cz(){if(OD)return zx;OD=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return zx=e,zx}var Ux,TD;function UQ(){if(TD)return Ux;TD=1;var e=Cc(),t=fo();function n(r){return e(r,t(r))}return Ux=n,Ux}var Hx,ND;function HQ(){if(ND)return Hx;ND=1;var e=uz(),t=b3(),n=T3(),r=x3(),a=k3(),s=Mc(),o=Xt(),u=ez(),c=Cl(),d=kc(),f=Xr(),p=zQ(),v=Rc(),y=cz(),_=UQ();function x(w,S,E,O,A,N,k){var C=y(w,E),q=y(S,E),P=k.get(q);if(P){e(w,E,P);return}var M=N?N(C,q,E+"",w,S,k):void 0,L=M===void 0;if(L){var B=o(q),z=!B&&c(q),D=!B&&!z&&v(q);M=q,B||z||D?o(C)?M=C:u(C)?M=r(C):z?(L=!1,M=t(q,!0)):D?(L=!1,M=n(q,!0)):M=[]:p(q)||s(q)?(M=C,s(C)?M=_(C):(!f(C)||d(C))&&(M=a(q))):L=!1}L&&(k.set(q,M),A(M,q,O,N,k),k.delete(q)),e(w,E,M)}return Hx=x,Hx}var Fx,kD;function FQ(){if(kD)return Fx;kD=1;var e=np(),t=uz(),n=jj(),r=HQ(),a=Xr(),s=fo(),o=cz();function u(c,d,f,p,v){c!==d&&n(d,function(y,_){if(v||(v=new e),a(y))r(c,d,_,f,u,p,v);else{var x=p?p(o(c,_),y,_+"",c,d,v):void 0;x===void 0&&(x=y),t(c,_,x)}},s)}return Fx=u,Fx}var Gx,CD;function GQ(){if(CD)return Gx;CD=1;var e=hp(),t=pp();function n(r){return e(function(a,s){var o=-1,u=s.length,c=u>1?s[u-1]:void 0,d=u>2?s[2]:void 0;for(c=r.length>3&&typeof c=="function"?(u--,c):void 0,d&&t(s[0],s[1],d)&&(c=u<3?void 0:c,u=1),a=Object(a);++o<u;){var f=s[o];f&&r(a,f,o,c)}return a})}return Gx=n,Gx}var Kx,MD;function KQ(){if(MD)return Kx;MD=1;var e=FQ(),t=GQ(),n=t(function(r,a,s){e(r,a,s)});return Kx=n,Kx}var Yx,RD;function fz(){if(RD)return Yx;RD=1;function e(t,n){return t<n}return Yx=e,Yx}var Vx,DD;function YQ(){if(DD)return Vx;DD=1;var e=kj(),t=fz(),n=ho();function r(a){return a&&a.length?e(a,n,t):void 0}return Vx=r,Vx}var Wx,PD;function VQ(){if(PD)return Wx;PD=1;var e=kj(),t=gi(),n=fz();function r(a,s){return a&&a.length?e(a,t(s,2),n):void 0}return Wx=r,Wx}var Xx,LD;function WQ(){if(LD)return Xx;LD=1;var e=ga(),t=function(){return e.Date.now()};return Xx=t,Xx}var Zx,qD;function XQ(){if(qD)return Zx;qD=1;var e=ap(),t=fp(),n=ip(),r=Xr(),a=Dc();function s(o,u,c,d){if(!r(o))return o;u=t(u,o);for(var f=-1,p=u.length,v=p-1,y=o;y!=null&&++f<p;){var _=a(u[f]),x=c;if(_==="__proto__"||_==="constructor"||_==="prototype")return o;if(f!=v){var w=y[_];x=d?d(w,_,y):void 0,x===void 0&&(x=r(w)?w:n(u[f+1])?[]:{})}e(y,_,x),y=y[_]}return o}return Zx=s,Zx}var Qx,ID;function ZQ(){if(ID)return Qx;ID=1;var e=dp(),t=XQ(),n=fp();function r(a,s,o){for(var u=-1,c=s.length,d={};++u<c;){var f=s[u],p=e(a,f);o(p,f)&&t(d,n(f,a),p)}return d}return Qx=r,Qx}var Jx,BD;function QQ(){if(BD)return Jx;BD=1;var e=ZQ(),t=H3();function n(r,a){return e(r,a,function(s,o){return t(r,o)})}return Jx=n,Jx}var e1,$D;function JQ(){if($D)return e1;$D=1;var e=lz(),t=Z3(),n=Q3();function r(a){return n(t(a,void 0,e),a+"")}return e1=r,e1}var t1,zD;function eJ(){if(zD)return t1;zD=1;var e=QQ(),t=JQ(),n=t(function(r,a){return r==null?{}:e(r,a)});return t1=n,t1}var n1,UD;function tJ(){if(UD)return n1;UD=1;var e=Math.ceil,t=Math.max;function n(r,a,s,o){for(var u=-1,c=t(e((a-r)/(s||1)),0),d=Array(c);c--;)d[o?c:++u]=r,r+=s;return d}return n1=n,n1}var r1,HD;function nJ(){if(HD)return r1;HD=1;var e=tJ(),t=pp(),n=oz();function r(a){return function(s,o,u){return u&&typeof u!="number"&&t(s,o,u)&&(o=u=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),u=u===void 0?s<o?1:-1:n(u),e(s,o,u,a)}}return r1=r,r1}var a1,FD;function rJ(){if(FD)return a1;FD=1;var e=nJ(),t=e();return a1=t,a1}var i1,GD;function aJ(){if(GD)return i1;GD=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return i1=e,i1}var s1,KD;function iJ(){if(KD)return s1;KD=1;var e=Rl();function t(n,r){if(n!==r){var a=n!==void 0,s=n===null,o=n===n,u=e(n),c=r!==void 0,d=r===null,f=r===r,p=e(r);if(!d&&!p&&!u&&n>r||u&&c&&f&&!d&&!p||s&&c&&f||!a&&f||!o)return 1;if(!s&&!u&&!p&&n<r||p&&a&&o&&!s&&!u||d&&a&&o||!c&&o||!f)return-1}return 0}return s1=t,s1}var o1,YD;function sJ(){if(YD)return o1;YD=1;var e=iJ();function t(n,r,a){for(var s=-1,o=n.criteria,u=r.criteria,c=o.length,d=a.length;++s<c;){var f=e(o[s],u[s]);if(f){if(s>=d)return f;var p=a[s];return f*(p=="desc"?-1:1)}}return n.index-r.index}return o1=t,o1}var l1,VD;function oJ(){if(VD)return l1;VD=1;var e=cp(),t=dp(),n=gi(),r=V3(),a=aJ(),s=sp(),o=sJ(),u=ho(),c=Xt();function d(f,p,v){p.length?p=e(p,function(x){return c(x)?function(w){return t(w,x.length===1?x[0]:x)}:x}):p=[u];var y=-1;p=e(p,s(n));var _=r(f,function(x,w,S){var E=e(p,function(O){return O(x)});return{criteria:E,index:++y,value:x}});return a(_,function(x,w){return o(x,w,v)})}return l1=d,l1}var u1,WD;function lJ(){if(WD)return u1;WD=1;var e=Tj(),t=oJ(),n=hp(),r=pp(),a=n(function(s,o){if(s==null)return[];var u=o.length;return u>1&&r(s,o[0],o[1])?o=[]:u>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return u1=a,u1}var c1,XD;function uJ(){if(XD)return c1;XD=1;var e=z3(),t=0;function n(r){var a=++t;return e(r)+a}return c1=n,c1}var f1,ZD;function cJ(){if(ZD)return f1;ZD=1;function e(t,n,r){for(var a=-1,s=t.length,o=n.length,u={};++a<s;){var c=a<o?n[a]:void 0;r(u,t[a],c)}return u}return f1=e,f1}var d1,QD;function fJ(){if(QD)return d1;QD=1;var e=ap(),t=cJ();function n(r,a){return t(r||[],a||[],e)}return d1=n,d1}var h1,JD;function Et(){if(JD)return h1;JD=1;var e;if(typeof hj=="function")try{e={cloneDeep:OQ(),constant:Sj(),defaults:TQ(),each:D3(),filter:G3(),find:PQ(),flatten:lz(),forEach:R3(),forIn:LQ(),has:K3(),isUndefined:Y3(),last:qQ(),map:W3(),mapValues:IQ(),max:$Q(),merge:KQ(),min:YQ(),minBy:VQ(),now:WQ(),pick:eJ(),range:rJ(),reduce:X3(),sortBy:lJ(),uniqueId:uJ(),values:tz(),zipObject:fJ()}}catch{}return e||(e=window._),h1=e,h1}var p1,eP;function dJ(){if(eP)return p1;eP=1,p1=e;function e(){var r={};r._next=r._prev=r,this._sentinel=r}e.prototype.dequeue=function(){var r=this._sentinel,a=r._prev;if(a!==r)return t(a),a},e.prototype.enqueue=function(r){var a=this._sentinel;r._prev&&r._next&&t(r),r._next=a._next,a._next._prev=r,a._next=r,r._prev=a},e.prototype.toString=function(){for(var r=[],a=this._sentinel,s=a._prev;s!==a;)r.push(JSON.stringify(s,n)),s=s._prev;return"["+r.join(", ")+"]"};function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,a){if(r!=="_next"&&r!=="_prev")return a}return p1}var m1,tP;function hJ(){if(tP)return m1;tP=1;var e=Et(),t=ha().Graph,n=dJ();m1=a;var r=e.constant(1);function a(d,f){if(d.nodeCount()<=1)return[];var p=u(d,f||r),v=s(p.graph,p.buckets,p.zeroIdx);return e.flatten(e.map(v,function(y){return d.outEdges(y.v,y.w)}),!0)}function s(d,f,p){for(var v=[],y=f[f.length-1],_=f[0],x;d.nodeCount();){for(;x=_.dequeue();)o(d,f,p,x);for(;x=y.dequeue();)o(d,f,p,x);if(d.nodeCount()){for(var w=f.length-2;w>0;--w)if(x=f[w].dequeue(),x){v=v.concat(o(d,f,p,x,!0));break}}}return v}function o(d,f,p,v,y){var _=y?[]:void 0;return e.forEach(d.inEdges(v.v),function(x){var w=d.edge(x),S=d.node(x.v);y&&_.push({v:x.v,w:x.w}),S.out-=w,c(f,p,S)}),e.forEach(d.outEdges(v.v),function(x){var w=d.edge(x),S=x.w,E=d.node(S);E.in-=w,c(f,p,E)}),d.removeNode(v.v),_}function u(d,f){var p=new t,v=0,y=0;e.forEach(d.nodes(),function(w){p.setNode(w,{v:w,in:0,out:0})}),e.forEach(d.edges(),function(w){var S=p.edge(w.v,w.w)||0,E=f(w),O=S+E;p.setEdge(w.v,w.w,O),y=Math.max(y,p.node(w.v).out+=E),v=Math.max(v,p.node(w.w).in+=E)});var _=e.range(y+v+3).map(function(){return new n}),x=v+1;return e.forEach(p.nodes(),function(w){c(_,x,p.node(w))}),{graph:p,buckets:_,zeroIdx:x}}function c(d,f,p){p.out?p.in?d[p.out-p.in+f].enqueue(p):d[d.length-1].enqueue(p):d[0].enqueue(p)}return m1}var v1,nP;function pJ(){if(nP)return v1;nP=1;var e=Et(),t=hJ();v1={run:n,undo:a};function n(s){var o=s.graph().acyclicer==="greedy"?t(s,u(s)):r(s);e.forEach(o,function(c){var d=s.edge(c);s.removeEdge(c),d.forwardName=c.name,d.reversed=!0,s.setEdge(c.w,c.v,d,e.uniqueId("rev"))});function u(c){return function(d){return c.edge(d).weight}}}function r(s){var o=[],u={},c={};function d(f){e.has(c,f)||(c[f]=!0,u[f]=!0,e.forEach(s.outEdges(f),function(p){e.has(u,p.w)?o.push(p):d(p.w)}),delete u[f])}return e.forEach(s.nodes(),d),o}function a(s){e.forEach(s.edges(),function(o){var u=s.edge(o);if(u.reversed){s.removeEdge(o);var c=u.forwardName;delete u.reversed,delete u.forwardName,s.setEdge(o.w,o.v,u,c)}})}return v1}var g1,rP;function er(){if(rP)return g1;rP=1;var e=Et(),t=ha().Graph;g1={addDummyNode:n,simplify:r,asNonCompoundGraph:a,successorWeights:s,predecessorWeights:o,intersectRect:u,buildLayerMatrix:c,normalizeRanks:d,removeEmptyRanks:f,addBorderNode:p,maxRank:v,partition:y,time:_,notime:x};function n(w,S,E,O){var A;do A=e.uniqueId(O);while(w.hasNode(A));return E.dummy=S,w.setNode(A,E),A}function r(w){var S=new t().setGraph(w.graph());return e.forEach(w.nodes(),function(E){S.setNode(E,w.node(E))}),e.forEach(w.edges(),function(E){var O=S.edge(E.v,E.w)||{weight:0,minlen:1},A=w.edge(E);S.setEdge(E.v,E.w,{weight:O.weight+A.weight,minlen:Math.max(O.minlen,A.minlen)})}),S}function a(w){var S=new t({multigraph:w.isMultigraph()}).setGraph(w.graph());return e.forEach(w.nodes(),function(E){w.children(E).length||S.setNode(E,w.node(E))}),e.forEach(w.edges(),function(E){S.setEdge(E,w.edge(E))}),S}function s(w){var S=e.map(w.nodes(),function(E){var O={};return e.forEach(w.outEdges(E),function(A){O[A.w]=(O[A.w]||0)+w.edge(A).weight}),O});return e.zipObject(w.nodes(),S)}function o(w){var S=e.map(w.nodes(),function(E){var O={};return e.forEach(w.inEdges(E),function(A){O[A.v]=(O[A.v]||0)+w.edge(A).weight}),O});return e.zipObject(w.nodes(),S)}function u(w,S){var E=w.x,O=w.y,A=S.x-E,N=S.y-O,k=w.width/2,C=w.height/2;if(!A&&!N)throw new Error("Not possible to find intersection inside of the rectangle");var q,P;return Math.abs(N)*k>Math.abs(A)*C?(N<0&&(C=-C),q=C*A/N,P=C):(A<0&&(k=-k),q=k,P=k*N/A),{x:E+q,y:O+P}}function c(w){var S=e.map(e.range(v(w)+1),function(){return[]});return e.forEach(w.nodes(),function(E){var O=w.node(E),A=O.rank;e.isUndefined(A)||(S[A][O.order]=E)}),S}function d(w){var S=e.min(e.map(w.nodes(),function(E){return w.node(E).rank}));e.forEach(w.nodes(),function(E){var O=w.node(E);e.has(O,"rank")&&(O.rank-=S)})}function f(w){var S=e.min(e.map(w.nodes(),function(N){return w.node(N).rank})),E=[];e.forEach(w.nodes(),function(N){var k=w.node(N).rank-S;E[k]||(E[k]=[]),E[k].push(N)});var O=0,A=w.graph().nodeRankFactor;e.forEach(E,function(N,k){e.isUndefined(N)&&k%A!==0?--O:O&&e.forEach(N,function(C){w.node(C).rank+=O})})}function p(w,S,E,O){var A={width:0,height:0};return arguments.length>=4&&(A.rank=E,A.order=O),n(w,"border",A,S)}function v(w){return e.max(e.map(w.nodes(),function(S){var E=w.node(S).rank;if(!e.isUndefined(E))return E}))}function y(w,S){var E={lhs:[],rhs:[]};return e.forEach(w,function(O){S(O)?E.lhs.push(O):E.rhs.push(O)}),E}function _(w,S){var E=e.now();try{return S()}finally{console.log(w+" time: "+(e.now()-E)+"ms")}}function x(w,S){return S()}return g1}var y1,aP;function mJ(){if(aP)return y1;aP=1;var e=Et(),t=er();y1={run:n,undo:a};function n(s){s.graph().dummyChains=[],e.forEach(s.edges(),function(o){r(s,o)})}function r(s,o){var u=o.v,c=s.node(u).rank,d=o.w,f=s.node(d).rank,p=o.name,v=s.edge(o),y=v.labelRank;if(f!==c+1){s.removeEdge(o);var _,x,w;for(w=0,++c;c<f;++w,++c)v.points=[],x={width:0,height:0,edgeLabel:v,edgeObj:o,rank:c},_=t.addDummyNode(s,"edge",x,"_d"),c===y&&(x.width=v.width,x.height=v.height,x.dummy="edge-label",x.labelpos=v.labelpos),s.setEdge(u,_,{weight:v.weight},p),w===0&&s.graph().dummyChains.push(_),u=_;s.setEdge(u,d,{weight:v.weight},p)}}function a(s){e.forEach(s.graph().dummyChains,function(o){var u=s.node(o),c=u.edgeLabel,d;for(s.setEdge(u.edgeObj,c);u.dummy;)d=s.successors(o)[0],s.removeNode(o),c.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(c.x=u.x,c.y=u.y,c.width=u.width,c.height=u.height),o=d,u=s.node(o)})}return y1}var b1,iP;function ah(){if(iP)return b1;iP=1;var e=Et();b1={longestPath:t,slack:n};function t(r){var a={};function s(o){var u=r.node(o);if(e.has(a,o))return u.rank;a[o]=!0;var c=e.min(e.map(r.outEdges(o),function(d){return s(d.w)-r.edge(d).minlen}));return(c===Number.POSITIVE_INFINITY||c===void 0||c===null)&&(c=0),u.rank=c}e.forEach(r.sources(),s)}function n(r,a){return r.node(a.w).rank-r.node(a.v).rank-r.edge(a).minlen}return b1}var x1,sP;function dz(){if(sP)return x1;sP=1;var e=Et(),t=ha().Graph,n=ah().slack;x1=r;function r(u){var c=new t({directed:!1}),d=u.nodes()[0],f=u.nodeCount();c.setNode(d,{});for(var p,v;a(c,u)<f;)p=s(c,u),v=c.hasNode(p.v)?n(u,p):-n(u,p),o(c,u,v);return c}function a(u,c){function d(f){e.forEach(c.nodeEdges(f),function(p){var v=p.v,y=f===v?p.w:v;!u.hasNode(y)&&!n(c,p)&&(u.setNode(y,{}),u.setEdge(f,y,{}),d(y))})}return e.forEach(u.nodes(),d),u.nodeCount()}function s(u,c){return e.minBy(c.edges(),function(d){if(u.hasNode(d.v)!==u.hasNode(d.w))return n(c,d)})}function o(u,c,d){e.forEach(u.nodes(),function(f){c.node(f).rank+=d})}return x1}var _1,oP;function vJ(){if(oP)return _1;oP=1;var e=Et(),t=dz(),n=ah().slack,r=ah().longestPath,a=ha().alg.preorder,s=ha().alg.postorder,o=er().simplify;_1=u,u.initLowLimValues=p,u.initCutValues=c,u.calcCutValue=f,u.leaveEdge=y,u.enterEdge=_,u.exchangeEdges=x;function u(O){O=o(O),r(O);var A=t(O);p(A),c(A,O);for(var N,k;N=y(A);)k=_(A,O,N),x(A,O,N,k)}function c(O,A){var N=s(O,O.nodes());N=N.slice(0,N.length-1),e.forEach(N,function(k){d(O,A,k)})}function d(O,A,N){var k=O.node(N),C=k.parent;O.edge(N,C).cutvalue=f(O,A,N)}function f(O,A,N){var k=O.node(N),C=k.parent,q=!0,P=A.edge(N,C),M=0;return P||(q=!1,P=A.edge(C,N)),M=P.weight,e.forEach(A.nodeEdges(N),function(L){var B=L.v===N,z=B?L.w:L.v;if(z!==C){var D=B===q,H=A.edge(L).weight;if(M+=D?H:-H,S(O,N,z)){var I=O.edge(N,z).cutvalue;M+=D?-I:I}}}),M}function p(O,A){arguments.length<2&&(A=O.nodes()[0]),v(O,{},1,A)}function v(O,A,N,k,C){var q=N,P=O.node(k);return A[k]=!0,e.forEach(O.neighbors(k),function(M){e.has(A,M)||(N=v(O,A,N,M,k))}),P.low=q,P.lim=N++,C?P.parent=C:delete P.parent,N}function y(O){return e.find(O.edges(),function(A){return O.edge(A).cutvalue<0})}function _(O,A,N){var k=N.v,C=N.w;A.hasEdge(k,C)||(k=N.w,C=N.v);var q=O.node(k),P=O.node(C),M=q,L=!1;q.lim>P.lim&&(M=P,L=!0);var B=e.filter(A.edges(),function(z){return L===E(O,O.node(z.v),M)&&L!==E(O,O.node(z.w),M)});return e.minBy(B,function(z){return n(A,z)})}function x(O,A,N,k){var C=N.v,q=N.w;O.removeEdge(C,q),O.setEdge(k.v,k.w,{}),p(O),c(O,A),w(O,A)}function w(O,A){var N=e.find(O.nodes(),function(C){return!A.node(C).parent}),k=a(O,N);k=k.slice(1),e.forEach(k,function(C){var q=O.node(C).parent,P=A.edge(C,q),M=!1;P||(P=A.edge(q,C),M=!0),A.node(C).rank=A.node(q).rank+(M?P.minlen:-P.minlen)})}function S(O,A,N){return O.hasEdge(A,N)}function E(O,A,N){return N.low<=A.lim&&A.lim<=N.lim}return _1}var w1,lP;function gJ(){if(lP)return w1;lP=1;var e=ah(),t=e.longestPath,n=dz(),r=vJ();w1=a;function a(c){switch(c.graph().ranker){case"network-simplex":u(c);break;case"tight-tree":o(c);break;case"longest-path":s(c);break;default:u(c)}}var s=t;function o(c){t(c),n(c)}function u(c){r(c)}return w1}var S1,uP;function yJ(){if(uP)return S1;uP=1;var e=Et();S1=t;function t(a){var s=r(a);e.forEach(a.graph().dummyChains,function(o){for(var u=a.node(o),c=u.edgeObj,d=n(a,s,c.v,c.w),f=d.path,p=d.lca,v=0,y=f[v],_=!0;o!==c.w;){if(u=a.node(o),_){for(;(y=f[v])!==p&&a.node(y).maxRank<u.rank;)v++;y===p&&(_=!1)}if(!_){for(;v<f.length-1&&a.node(y=f[v+1]).minRank<=u.rank;)v++;y=f[v]}a.setParent(o,y),o=a.successors(o)[0]}})}function n(a,s,o,u){var c=[],d=[],f=Math.min(s[o].low,s[u].low),p=Math.max(s[o].lim,s[u].lim),v,y;v=o;do v=a.parent(v),c.push(v);while(v&&(s[v].low>f||p>s[v].lim));for(y=v,v=u;(v=a.parent(v))!==y;)d.push(v);return{path:c.concat(d.reverse()),lca:y}}function r(a){var s={},o=0;function u(c){var d=o;e.forEach(a.children(c),u),s[c]={low:d,lim:o++}}return e.forEach(a.children(),u),s}return S1}var j1,cP;function bJ(){if(cP)return j1;cP=1;var e=Et(),t=er();j1={run:n,cleanup:o};function n(u){var c=t.addDummyNode(u,"root",{},"_root"),d=a(u),f=e.max(e.values(d))-1,p=2*f+1;u.graph().nestingRoot=c,e.forEach(u.edges(),function(y){u.edge(y).minlen*=p});var v=s(u)+1;e.forEach(u.children(),function(y){r(u,c,p,v,f,d,y)}),u.graph().nodeRankFactor=p}function r(u,c,d,f,p,v,y){var _=u.children(y);if(!_.length){y!==c&&u.setEdge(c,y,{weight:0,minlen:d});return}var x=t.addBorderNode(u,"_bt"),w=t.addBorderNode(u,"_bb"),S=u.node(y);u.setParent(x,y),S.borderTop=x,u.setParent(w,y),S.borderBottom=w,e.forEach(_,function(E){r(u,c,d,f,p,v,E);var O=u.node(E),A=O.borderTop?O.borderTop:E,N=O.borderBottom?O.borderBottom:E,k=O.borderTop?f:2*f,C=A!==N?1:p-v[y]+1;u.setEdge(x,A,{weight:k,minlen:C,nestingEdge:!0}),u.setEdge(N,w,{weight:k,minlen:C,nestingEdge:!0})}),u.parent(y)||u.setEdge(c,x,{weight:0,minlen:p+v[y]})}function a(u){var c={};function d(f,p){var v=u.children(f);v&&v.length&&e.forEach(v,function(y){d(y,p+1)}),c[f]=p}return e.forEach(u.children(),function(f){d(f,1)}),c}function s(u){return e.reduce(u.edges(),function(c,d){return c+u.edge(d).weight},0)}function o(u){var c=u.graph();u.removeNode(c.nestingRoot),delete c.nestingRoot,e.forEach(u.edges(),function(d){var f=u.edge(d);f.nestingEdge&&u.removeEdge(d)})}return j1}var E1,fP;function xJ(){if(fP)return E1;fP=1;var e=Et(),t=er();E1=n;function n(a){function s(o){var u=a.children(o),c=a.node(o);if(u.length&&e.forEach(u,s),e.has(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(var d=c.minRank,f=c.maxRank+1;d<f;++d)r(a,"borderLeft","_bl",o,c,d),r(a,"borderRight","_br",o,c,d)}}e.forEach(a.children(),s)}function r(a,s,o,u,c,d){var f={width:0,height:0,rank:d,borderType:s},p=c[s][d-1],v=t.addDummyNode(a,"border",f,o);c[s][d]=v,a.setParent(v,u),p&&a.setEdge(p,v,{weight:1})}return E1}var A1,dP;function _J(){if(dP)return A1;dP=1;var e=Et();A1={adjust:t,undo:n};function t(d){var f=d.graph().rankdir.toLowerCase();(f==="lr"||f==="rl")&&r(d)}function n(d){var f=d.graph().rankdir.toLowerCase();(f==="bt"||f==="rl")&&s(d),(f==="lr"||f==="rl")&&(u(d),r(d))}function r(d){e.forEach(d.nodes(),function(f){a(d.node(f))}),e.forEach(d.edges(),function(f){a(d.edge(f))})}function a(d){var f=d.width;d.width=d.height,d.height=f}function s(d){e.forEach(d.nodes(),function(f){o(d.node(f))}),e.forEach(d.edges(),function(f){var p=d.edge(f);e.forEach(p.points,o),e.has(p,"y")&&o(p)})}function o(d){d.y=-d.y}function u(d){e.forEach(d.nodes(),function(f){c(d.node(f))}),e.forEach(d.edges(),function(f){var p=d.edge(f);e.forEach(p.points,c),e.has(p,"x")&&c(p)})}function c(d){var f=d.x;d.x=d.y,d.y=f}return A1}var O1,hP;function wJ(){if(hP)return O1;hP=1;var e=Et();O1=t;function t(n){var r={},a=e.filter(n.nodes(),function(d){return!n.children(d).length}),s=e.max(e.map(a,function(d){return n.node(d).rank})),o=e.map(e.range(s+1),function(){return[]});function u(d){if(!e.has(r,d)){r[d]=!0;var f=n.node(d);o[f.rank].push(d),e.forEach(n.successors(d),u)}}var c=e.sortBy(a,function(d){return n.node(d).rank});return e.forEach(c,u),o}return O1}var T1,pP;function SJ(){if(pP)return T1;pP=1;var e=Et();T1=t;function t(r,a){for(var s=0,o=1;o<a.length;++o)s+=n(r,a[o-1],a[o]);return s}function n(r,a,s){for(var o=e.zipObject(s,e.map(s,function(v,y){return y})),u=e.flatten(e.map(a,function(v){return e.sortBy(e.map(r.outEdges(v),function(y){return{pos:o[y.w],weight:r.edge(y).weight}}),"pos")}),!0),c=1;c<s.length;)c<<=1;var d=2*c-1;c-=1;var f=e.map(new Array(d),function(){return 0}),p=0;return e.forEach(u.forEach(function(v){var y=v.pos+c;f[y]+=v.weight;for(var _=0;y>0;)y%2&&(_+=f[y+1]),y=y-1>>1,f[y]+=v.weight;p+=v.weight*_})),p}return T1}var N1,mP;function jJ(){if(mP)return N1;mP=1;var e=Et();N1=t;function t(n,r){return e.map(r,function(a){var s=n.inEdges(a);if(s.length){var o=e.reduce(s,function(u,c){var d=n.edge(c),f=n.node(c.v);return{sum:u.sum+d.weight*f.order,weight:u.weight+d.weight}},{sum:0,weight:0});return{v:a,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:a}})}return N1}var k1,vP;function EJ(){if(vP)return k1;vP=1;var e=Et();k1=t;function t(a,s){var o={};e.forEach(a,function(c,d){var f=o[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:d};e.isUndefined(c.barycenter)||(f.barycenter=c.barycenter,f.weight=c.weight)}),e.forEach(s.edges(),function(c){var d=o[c.v],f=o[c.w];!e.isUndefined(d)&&!e.isUndefined(f)&&(f.indegree++,d.out.push(o[c.w]))});var u=e.filter(o,function(c){return!c.indegree});return n(u)}function n(a){var s=[];function o(d){return function(f){f.merged||(e.isUndefined(f.barycenter)||e.isUndefined(d.barycenter)||f.barycenter>=d.barycenter)&&r(d,f)}}function u(d){return function(f){f.in.push(d),--f.indegree===0&&a.push(f)}}for(;a.length;){var c=a.pop();s.push(c),e.forEach(c.in.reverse(),o(c)),e.forEach(c.out,u(c))}return e.map(e.filter(s,function(d){return!d.merged}),function(d){return e.pick(d,["vs","i","barycenter","weight"])})}function r(a,s){var o=0,u=0;a.weight&&(o+=a.barycenter*a.weight,u+=a.weight),s.weight&&(o+=s.barycenter*s.weight,u+=s.weight),a.vs=s.vs.concat(a.vs),a.barycenter=o/u,a.weight=u,a.i=Math.min(s.i,a.i),s.merged=!0}return k1}var C1,gP;function AJ(){if(gP)return C1;gP=1;var e=Et(),t=er();C1=n;function n(s,o){var u=t.partition(s,function(x){return e.has(x,"barycenter")}),c=u.lhs,d=e.sortBy(u.rhs,function(x){return-x.i}),f=[],p=0,v=0,y=0;c.sort(a(!!o)),y=r(f,d,y),e.forEach(c,function(x){y+=x.vs.length,f.push(x.vs),p+=x.barycenter*x.weight,v+=x.weight,y=r(f,d,y)});var _={vs:e.flatten(f,!0)};return v&&(_.barycenter=p/v,_.weight=v),_}function r(s,o,u){for(var c;o.length&&(c=e.last(o)).i<=u;)o.pop(),s.push(c.vs),u++;return u}function a(s){return function(o,u){return o.barycenter<u.barycenter?-1:o.barycenter>u.barycenter?1:s?u.i-o.i:o.i-u.i}}return C1}var M1,yP;function OJ(){if(yP)return M1;yP=1;var e=Et(),t=jJ(),n=EJ(),r=AJ();M1=a;function a(u,c,d,f){var p=u.children(c),v=u.node(c),y=v?v.borderLeft:void 0,_=v?v.borderRight:void 0,x={};y&&(p=e.filter(p,function(N){return N!==y&&N!==_}));var w=t(u,p);e.forEach(w,function(N){if(u.children(N.v).length){var k=a(u,N.v,d,f);x[N.v]=k,e.has(k,"barycenter")&&o(N,k)}});var S=n(w,d);s(S,x);var E=r(S,f);if(y&&(E.vs=e.flatten([y,E.vs,_],!0),u.predecessors(y).length)){var O=u.node(u.predecessors(y)[0]),A=u.node(u.predecessors(_)[0]);e.has(E,"barycenter")||(E.barycenter=0,E.weight=0),E.barycenter=(E.barycenter*E.weight+O.order+A.order)/(E.weight+2),E.weight+=2}return E}function s(u,c){e.forEach(u,function(d){d.vs=e.flatten(d.vs.map(function(f){return c[f]?c[f].vs:f}),!0)})}function o(u,c){e.isUndefined(u.barycenter)?(u.barycenter=c.barycenter,u.weight=c.weight):(u.barycenter=(u.barycenter*u.weight+c.barycenter*c.weight)/(u.weight+c.weight),u.weight+=c.weight)}return M1}var R1,bP;function TJ(){if(bP)return R1;bP=1;var e=Et(),t=ha().Graph;R1=n;function n(a,s,o){var u=r(a),c=new t({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(d){return a.node(d)});return e.forEach(a.nodes(),function(d){var f=a.node(d),p=a.parent(d);(f.rank===s||f.minRank<=s&&s<=f.maxRank)&&(c.setNode(d),c.setParent(d,p||u),e.forEach(a[o](d),function(v){var y=v.v===d?v.w:v.v,_=c.edge(y,d),x=e.isUndefined(_)?0:_.weight;c.setEdge(y,d,{weight:a.edge(v).weight+x})}),e.has(f,"minRank")&&c.setNode(d,{borderLeft:f.borderLeft[s],borderRight:f.borderRight[s]}))}),c}function r(a){for(var s;a.hasNode(s=e.uniqueId("_root")););return s}return R1}var D1,xP;function NJ(){if(xP)return D1;xP=1;var e=Et();D1=t;function t(n,r,a){var s={},o;e.forEach(a,function(u){for(var c=n.parent(u),d,f;c;){if(d=n.parent(c),d?(f=s[d],s[d]=c):(f=o,o=c),f&&f!==c){r.setEdge(f,c);return}c=d}})}return D1}var P1,_P;function kJ(){if(_P)return P1;_P=1;var e=Et(),t=wJ(),n=SJ(),r=OJ(),a=TJ(),s=NJ(),o=ha().Graph,u=er();P1=c;function c(v){var y=u.maxRank(v),_=d(v,e.range(1,y+1),"inEdges"),x=d(v,e.range(y-1,-1,-1),"outEdges"),w=t(v);p(v,w);for(var S=Number.POSITIVE_INFINITY,E,O=0,A=0;A<4;++O,++A){f(O%2?_:x,O%4>=2),w=u.buildLayerMatrix(v);var N=n(v,w);N<S&&(A=0,E=e.cloneDeep(w),S=N)}p(v,E)}function d(v,y,_){return e.map(y,function(x){return a(v,x,_)})}function f(v,y){var _=new o;e.forEach(v,function(x){var w=x.graph().root,S=r(x,w,_,y);e.forEach(S.vs,function(E,O){x.node(E).order=O}),s(x,_,S.vs)})}function p(v,y){e.forEach(y,function(_){e.forEach(_,function(x,w){v.node(x).order=w})})}return P1}var L1,wP;function CJ(){if(wP)return L1;wP=1;var e=Et(),t=ha().Graph,n=er();L1={positionX:_,findType1Conflicts:r,findType2Conflicts:a,addConflict:o,hasConflict:u,verticalAlignment:c,horizontalCompaction:d,alignCoordinates:v,findSmallestWidthAlignment:p,balance:y};function r(S,E){var O={};function A(N,k){var C=0,q=0,P=N.length,M=e.last(k);return e.forEach(k,function(L,B){var z=s(S,L),D=z?S.node(z).order:P;(z||L===M)&&(e.forEach(k.slice(q,B+1),function(H){e.forEach(S.predecessors(H),function(I){var F=S.node(I),Q=F.order;(Q<C||D<Q)&&!(F.dummy&&S.node(H).dummy)&&o(O,I,H)})}),q=B+1,C=D)}),k}return e.reduce(E,A),O}function a(S,E){var O={};function A(k,C,q,P,M){var L;e.forEach(e.range(C,q),function(B){L=k[B],S.node(L).dummy&&e.forEach(S.predecessors(L),function(z){var D=S.node(z);D.dummy&&(D.order<P||D.order>M)&&o(O,z,L)})})}function N(k,C){var q=-1,P,M=0;return e.forEach(C,function(L,B){if(S.node(L).dummy==="border"){var z=S.predecessors(L);z.length&&(P=S.node(z[0]).order,A(C,M,B,q,P),M=B,q=P)}A(C,M,C.length,P,k.length)}),C}return e.reduce(E,N),O}function s(S,E){if(S.node(E).dummy)return e.find(S.predecessors(E),function(O){return S.node(O).dummy})}function o(S,E,O){if(E>O){var A=E;E=O,O=A}var N=S[E];N||(S[E]=N={}),N[O]=!0}function u(S,E,O){if(E>O){var A=E;E=O,O=A}return e.has(S[E],O)}function c(S,E,O,A){var N={},k={},C={};return e.forEach(E,function(q){e.forEach(q,function(P,M){N[P]=P,k[P]=P,C[P]=M})}),e.forEach(E,function(q){var P=-1;e.forEach(q,function(M){var L=A(M);if(L.length){L=e.sortBy(L,function(I){return C[I]});for(var B=(L.length-1)/2,z=Math.floor(B),D=Math.ceil(B);z<=D;++z){var H=L[z];k[M]===M&&P<C[H]&&!u(O,M,H)&&(k[H]=M,k[M]=N[M]=N[H],P=C[H])}}})}),{root:N,align:k}}function d(S,E,O,A,N){var k={},C=f(S,E,O,N),q=N?"borderLeft":"borderRight";function P(B,z){for(var D=C.nodes(),H=D.pop(),I={};H;)I[H]?B(H):(I[H]=!0,D.push(H),D=D.concat(z(H))),H=D.pop()}function M(B){k[B]=C.inEdges(B).reduce(function(z,D){return Math.max(z,k[D.v]+C.edge(D))},0)}function L(B){var z=C.outEdges(B).reduce(function(H,I){return Math.min(H,k[I.w]-C.edge(I))},Number.POSITIVE_INFINITY),D=S.node(B);z!==Number.POSITIVE_INFINITY&&D.borderType!==q&&(k[B]=Math.max(k[B],z))}return P(M,C.predecessors.bind(C)),P(L,C.successors.bind(C)),e.forEach(A,function(B){k[B]=k[O[B]]}),k}function f(S,E,O,A){var N=new t,k=S.graph(),C=x(k.nodesep,k.edgesep,A);return e.forEach(E,function(q){var P;e.forEach(q,function(M){var L=O[M];if(N.setNode(L),P){var B=O[P],z=N.edge(B,L);N.setEdge(B,L,Math.max(C(S,M,P),z||0))}P=M})}),N}function p(S,E){return e.minBy(e.values(E),function(O){var A=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;return e.forIn(O,function(k,C){var q=w(S,C)/2;A=Math.max(k+q,A),N=Math.min(k-q,N)}),A-N})}function v(S,E){var O=e.values(E),A=e.min(O),N=e.max(O);e.forEach(["u","d"],function(k){e.forEach(["l","r"],function(C){var q=k+C,P=S[q],M;if(P!==E){var L=e.values(P);M=C==="l"?A-e.min(L):N-e.max(L),M&&(S[q]=e.mapValues(P,function(B){return B+M}))}})})}function y(S,E){return e.mapValues(S.ul,function(O,A){if(E)return S[E.toLowerCase()][A];var N=e.sortBy(e.map(S,A));return(N[1]+N[2])/2})}function _(S){var E=n.buildLayerMatrix(S),O=e.merge(r(S,E),a(S,E)),A={},N;e.forEach(["u","d"],function(C){N=C==="u"?E:e.values(E).reverse(),e.forEach(["l","r"],function(q){q==="r"&&(N=e.map(N,function(B){return e.values(B).reverse()}));var P=(C==="u"?S.predecessors:S.successors).bind(S),M=c(S,N,O,P),L=d(S,N,M.root,M.align,q==="r");q==="r"&&(L=e.mapValues(L,function(B){return-B})),A[C+q]=L})});var k=p(S,A);return v(A,k),y(A,S.graph().align)}function x(S,E,O){return function(A,N,k){var C=A.node(N),q=A.node(k),P=0,M;if(P+=C.width/2,e.has(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":M=-C.width/2;break;case"r":M=C.width/2;break}if(M&&(P+=O?M:-M),M=0,P+=(C.dummy?E:S)/2,P+=(q.dummy?E:S)/2,P+=q.width/2,e.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":M=q.width/2;break;case"r":M=-q.width/2;break}return M&&(P+=O?M:-M),M=0,P}}function w(S,E){return S.node(E).width}return L1}var q1,SP;function MJ(){if(SP)return q1;SP=1;var e=Et(),t=er(),n=CJ().positionX;q1=r;function r(s){s=t.asNonCompoundGraph(s),a(s),e.forEach(n(s),function(o,u){s.node(u).x=o})}function a(s){var o=t.buildLayerMatrix(s),u=s.graph().ranksep,c=0;e.forEach(o,function(d){var f=e.max(e.map(d,function(p){return s.node(p).height}));e.forEach(d,function(p){s.node(p).y=c+f/2}),c+=f+u})}return q1}var I1,jP;function RJ(){if(jP)return I1;jP=1;var e=Et(),t=pJ(),n=mJ(),r=gJ(),a=er().normalizeRanks,s=yJ(),o=er().removeEmptyRanks,u=bJ(),c=xJ(),d=_J(),f=kJ(),p=MJ(),v=er(),y=ha().Graph;I1=_;function _(K,X){var G=X&&X.debugTiming?v.time:v.notime;G("layout",function(){var te=G("  buildLayoutGraph",function(){return P(K)});G("  runLayout",function(){x(te,G)}),G("  updateInputGraph",function(){w(K,te)})})}function x(K,X){X("    makeSpaceForEdgeLabels",function(){M(K)}),X("    removeSelfEdges",function(){Y(K)}),X("    acyclic",function(){t.run(K)}),X("    nestingGraph.run",function(){u.run(K)}),X("    rank",function(){r(v.asNonCompoundGraph(K))}),X("    injectEdgeLabelProxies",function(){L(K)}),X("    removeEmptyRanks",function(){o(K)}),X("    nestingGraph.cleanup",function(){u.cleanup(K)}),X("    normalizeRanks",function(){a(K)}),X("    assignRankMinMax",function(){B(K)}),X("    removeEdgeLabelProxies",function(){z(K)}),X("    normalize.run",function(){n.run(K)}),X("    parentDummyChains",function(){s(K)}),X("    addBorderSegments",function(){c(K)}),X("    order",function(){f(K)}),X("    insertSelfEdges",function(){$(K)}),X("    adjustCoordinateSystem",function(){d.adjust(K)}),X("    position",function(){p(K)}),X("    positionSelfEdges",function(){V(K)}),X("    removeBorderNodes",function(){Q(K)}),X("    normalize.undo",function(){n.undo(K)}),X("    fixupEdgeLabelCoords",function(){I(K)}),X("    undoCoordinateSystem",function(){d.undo(K)}),X("    translateGraph",function(){D(K)}),X("    assignNodeIntersects",function(){H(K)}),X("    reversePoints",function(){F(K)}),X("    acyclic.undo",function(){t.undo(K)})}function w(K,X){e.forEach(K.nodes(),function(G){var te=K.node(G),oe=X.node(G);te&&(te.x=oe.x,te.y=oe.y,X.children(G).length&&(te.width=oe.width,te.height=oe.height))}),e.forEach(K.edges(),function(G){var te=K.edge(G),oe=X.edge(G);te.points=oe.points,e.has(oe,"x")&&(te.x=oe.x,te.y=oe.y)}),K.graph().width=X.graph().width,K.graph().height=X.graph().height}var S=["nodesep","edgesep","ranksep","marginx","marginy"],E={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},O=["acyclicer","ranker","rankdir","align"],A=["width","height"],N={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],C={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},q=["labelpos"];function P(K){var X=new y({multigraph:!0,compound:!0}),G=ne(K.graph());return X.setGraph(e.merge({},E,Z(G,S),e.pick(G,O))),e.forEach(K.nodes(),function(te){var oe=ne(K.node(te));X.setNode(te,e.defaults(Z(oe,A),N)),X.setParent(te,K.parent(te))}),e.forEach(K.edges(),function(te){var oe=ne(K.edge(te));X.setEdge(te,e.merge({},C,Z(oe,k),e.pick(oe,q)))}),X}function M(K){var X=K.graph();X.ranksep/=2,e.forEach(K.edges(),function(G){var te=K.edge(G);te.minlen*=2,te.labelpos.toLowerCase()!=="c"&&(X.rankdir==="TB"||X.rankdir==="BT"?te.width+=te.labeloffset:te.height+=te.labeloffset)})}function L(K){e.forEach(K.edges(),function(X){var G=K.edge(X);if(G.width&&G.height){var te=K.node(X.v),oe=K.node(X.w),se={rank:(oe.rank-te.rank)/2+te.rank,e:X};v.addDummyNode(K,"edge-proxy",se,"_ep")}})}function B(K){var X=0;e.forEach(K.nodes(),function(G){var te=K.node(G);te.borderTop&&(te.minRank=K.node(te.borderTop).rank,te.maxRank=K.node(te.borderBottom).rank,X=e.max(X,te.maxRank))}),K.graph().maxRank=X}function z(K){e.forEach(K.nodes(),function(X){var G=K.node(X);G.dummy==="edge-proxy"&&(K.edge(G.e).labelRank=G.rank,K.removeNode(X))})}function D(K){var X=Number.POSITIVE_INFINITY,G=0,te=Number.POSITIVE_INFINITY,oe=0,se=K.graph(),he=se.marginx||0,ye=se.marginy||0;function ce(Ae){var we=Ae.x,be=Ae.y,Pe=Ae.width,xe=Ae.height;X=Math.min(X,we-Pe/2),G=Math.max(G,we+Pe/2),te=Math.min(te,be-xe/2),oe=Math.max(oe,be+xe/2)}e.forEach(K.nodes(),function(Ae){ce(K.node(Ae))}),e.forEach(K.edges(),function(Ae){var we=K.edge(Ae);e.has(we,"x")&&ce(we)}),X-=he,te-=ye,e.forEach(K.nodes(),function(Ae){var we=K.node(Ae);we.x-=X,we.y-=te}),e.forEach(K.edges(),function(Ae){var we=K.edge(Ae);e.forEach(we.points,function(be){be.x-=X,be.y-=te}),e.has(we,"x")&&(we.x-=X),e.has(we,"y")&&(we.y-=te)}),se.width=G-X+he,se.height=oe-te+ye}function H(K){e.forEach(K.edges(),function(X){var G=K.edge(X),te=K.node(X.v),oe=K.node(X.w),se,he;G.points?(se=G.points[0],he=G.points[G.points.length-1]):(G.points=[],se=oe,he=te),G.points.unshift(v.intersectRect(te,se)),G.points.push(v.intersectRect(oe,he))})}function I(K){e.forEach(K.edges(),function(X){var G=K.edge(X);if(e.has(G,"x"))switch((G.labelpos==="l"||G.labelpos==="r")&&(G.width-=G.labeloffset),G.labelpos){case"l":G.x-=G.width/2+G.labeloffset;break;case"r":G.x+=G.width/2+G.labeloffset;break}})}function F(K){e.forEach(K.edges(),function(X){var G=K.edge(X);G.reversed&&G.points.reverse()})}function Q(K){e.forEach(K.nodes(),function(X){if(K.children(X).length){var G=K.node(X),te=K.node(G.borderTop),oe=K.node(G.borderBottom),se=K.node(e.last(G.borderLeft)),he=K.node(e.last(G.borderRight));G.width=Math.abs(he.x-se.x),G.height=Math.abs(oe.y-te.y),G.x=se.x+G.width/2,G.y=te.y+G.height/2}}),e.forEach(K.nodes(),function(X){K.node(X).dummy==="border"&&K.removeNode(X)})}function Y(K){e.forEach(K.edges(),function(X){if(X.v===X.w){var G=K.node(X.v);G.selfEdges||(G.selfEdges=[]),G.selfEdges.push({e:X,label:K.edge(X)}),K.removeEdge(X)}})}function $(K){var X=v.buildLayerMatrix(K);e.forEach(X,function(G){var te=0;e.forEach(G,function(oe,se){var he=K.node(oe);he.order=se+te,e.forEach(he.selfEdges,function(ye){v.addDummyNode(K,"selfedge",{width:ye.label.width,height:ye.label.height,rank:he.rank,order:se+ ++te,e:ye.e,label:ye.label},"_se")}),delete he.selfEdges})})}function V(K){e.forEach(K.nodes(),function(X){var G=K.node(X);if(G.dummy==="selfedge"){var te=K.node(G.e.v),oe=te.x+te.width/2,se=te.y,he=G.x-oe,ye=te.height/2;K.setEdge(G.e,G.label),K.removeNode(X),G.label.points=[{x:oe+2*he/3,y:se-ye},{x:oe+5*he/6,y:se-ye},{x:oe+he,y:se},{x:oe+5*he/6,y:se+ye},{x:oe+2*he/3,y:se+ye}],G.label.x=G.x,G.label.y=G.y}})}function Z(K,X){return e.mapValues(e.pick(K,X),Number)}function ne(K){var X={};return e.forEach(K,function(G,te){X[te.toLowerCase()]=G}),X}return I1}var B1,EP;function DJ(){if(EP)return B1;EP=1;var e=Et(),t=er(),n=ha().Graph;B1={debugOrdering:r};function r(a){var s=t.buildLayerMatrix(a),o=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(a.nodes(),function(u){o.setNode(u,{label:u}),o.setParent(u,"layer"+a.node(u).rank)}),e.forEach(a.edges(),function(u){o.setEdge(u.v,u.w,{},u.name)}),e.forEach(s,function(u,c){var d="layer"+c;o.setNode(d,{rank:"same"}),e.reduce(u,function(f,p){return o.setEdge(f,p,{style:"invis"}),p})}),o}return B1}var $1,AP;function PJ(){return AP||(AP=1,$1="0.8.5"),$1}var z1,OP;function LJ(){return OP||(OP=1,z1={graphlib:ha(),layout:RJ(),debug:DJ(),util:{time:er().time,notime:er().notime},version:PJ()}),z1}var qJ=LJ();const ih=Ar(qJ),TP=200,NP=80;function IJ(e){const{data:t}=Re();return T.useMemo(()=>{if(!t||!t.defs[e])return{nodes:[],edges:[]};const{defs:n,state:r}=t,a=new Map,s=new Set,o=(f,p=null)=>{if(a.has(f))return;const v=p||f.split(".")[0],y=f.replace(new RegExp(`^${v}\\.`),""),_=n[v]?.[y];_&&a.set(f,{id:f,type:"universalNode",data:{id:f,type:v,def:_},position:{x:0,y:0}})};Object.keys(n[e]).forEach(f=>o(`${e}.${f}`));for(const f of a.values()){const p=String(f.data.def.require||"").split(/[,;]/).map(v=>v.trim()).filter(Boolean);for(const v of p)o(v),a.has(v)&&s.add(JSON.stringify({id:`e-${v}-${f.id}`,source:v,target:f.id,type:"smoothstep",markerEnd:{type:"arrowclosed"}}))}const u=new ih.graphlib.Graph;u.setDefaultEdgeLabel(()=>({})),u.setGraph({rankdir:"LR",nodesep:25,ranksep:50}),a.forEach(f=>u.setNode(f.id,{width:TP,height:NP}));const c=Array.from(s).map(f=>JSON.parse(f));return c.forEach(f=>u.setEdge(f.source,f.target)),ih.layout(u),{nodes:Array.from(a.values()).map(f=>{const p=u.node(f.id);return p&&(f.position={x:p.x-TP/2,y:p.y-NP/2}),f}),edges:c}},[t,e])}function BJ(e,t){return e.startsWith("bld.")?t.bld?.[e]?"owned":"unowned":e.startsWith("rsd.")?rs(e,t)?"owned":"unowned":e.startsWith("add.")?t.add?.[e]?"owned":"unowned":"neutral"}function $J({data:e}){const{state:t}=Re().data,{id:n,type:r,def:a}=e,o=`universal-node--${BJ(n,t)}`;return g.jsxs("div",{className:`universal-node ${o}`,title:n,children:[g.jsx(as,{type:"target",position:Ne.Left}),g.jsxs("div",{className:"universal-node__header",children:[g.jsx("div",{className:"icon",children:a.emoji||a.icon||"❔"}),g.jsx("div",{className:"title",children:a.name||n.split(".").pop()})]}),g.jsx("div",{className:"universal-node__type",children:r}),g.jsx(as,{type:"source",position:Ne.Right})]})}function zJ({type:e}){const t=T.useMemo(()=>({universalNode:$J}),[]),{nodes:n,edges:r}=IJ(e);return n.length===0?g.jsx("div",{className:"sub",style:{padding:"20px"},children:"Ingen data for denne kategori."}):g.jsx("div",{style:{height:"100%",width:"100%"},children:g.jsxs(dj,{nodes:n,edges:r,nodeTypes:t,fitView:!0,proOptions:{hideAttribution:!0},children:[g.jsx(h3,{}),g.jsx(f3,{})]})})}function UJ(){const[e,t]=T.useState("bld"),n=[{key:"bld",label:"Bygninger"},{key:"add",label:"Addons"},{key:"rsd",label:"Research"},{key:"rcp",label:"Recipes"}];return g.jsxs("section",{className:"",style:{display:"flex",flexDirection:"column",height:"calc(100vh - 50px)"},children:[g.jsxs("div",{className:"section-head",children:["🌳 Teknologitræ",g.jsx("div",{className:"tabs",style:{marginLeft:"auto"},children:n.map(r=>g.jsx("button",{className:`tab ${e===r.key?"active":""}`,onClick:()=>t(r.key),children:r.label},r.key))})]}),g.jsx("div",{className:"section-body",style:{flexGrow:1,padding:0},children:g.jsx(zJ,{type:e})})]})}const kP=250,CP=120;function HJ(e,t){if(!e||!e.rsd)return{initialNodes:[],initialEdges:[]};const n=e.rsd,r=new Map,a=[];for(const[u,c]of Object.entries(n)){const d=`rsd.${u}`;r.set(d,{id:d,type:"researchNode",data:{def:c,id:d},position:{x:0,y:0}})}for(const[u,c]of Object.entries(n)){const d=`rsd.${u}`,f=String(c.require||"").split(/[,;]/).map(p=>p.trim()).filter(Boolean);for(const p of f)if(p.startsWith("rsd.")){const v=p;r.has(v)&&a.push({id:`e-${v}-${d}`,source:v,target:d,type:"smoothstep"})}}const s=new ih.graphlib.Graph;return s.setDefaultEdgeLabel(()=>({})),s.setGraph({rankdir:"LR"}),r.forEach(u=>s.setNode(u.id,{width:kP,height:CP})),a.forEach(u=>s.setEdge(u.source,u.target)),ih.layout(s),{initialNodes:Array.from(r.values()).map(u=>{const c=s.node(u.id);u.position={x:c.x-kP/2,y:c.y-CP/2};const f=a.filter(p=>p.target===u.id).map(p=>p.source).every(p=>rs(p,t));return rs(u.id,t)?u.data.status="completed":f?u.data.status="available":u.data.status="locked",u}),initialEdges:a}}function FJ(e,t){for(const n of Object.values(tr(e))){let r=0;if(n.id.startsWith("ani."))r=t.ani?.[n.id]?.quantity??0;else{const a=n.id.replace(/^res\./,"");r=t.inv?.solid?.[a]??t.inv?.liquid?.[a]??0}if(r<n.amount)return{ok:!1}}return{ok:!0}}function GJ(e,t){if(e.startsWith("bld.")){const n=Zn(e);return n?(Na("bld",t)[n.series]||0)>=n.level:!1}if(e.startsWith("rsd."))return rs(e,t);if(e.startsWith("add.")){const n=e.match(/^add\.(.+)\.l(\d+)$/);return n?(Na("add",t)[`add.${n[1]}`]||0)>=Number(n[2]):!1}return!1}function KJ(e){const{data:t}=Re();if(!t||!e)return{allOk:!1};const{state:n}=t,{price:r,req:a,footprintDelta:s}=e,o=FJ(r,n).ok;let u=!0;for(const d of String(a||"").split(/[,;]/).filter(Boolean))if(!GJ(d,n)){u=!1;break}let c=!0;if((s||0)<0){const d=n.cap?.footprint||{};c=(d.total||0)-Math.abs(d.used||0)>=Math.abs(s)}return{allOk:o&&u&&c}}function YJ({data:e}){const{def:t,status:n}=e,{allOk:r}=KJ({price:t.cost,req:t.require,footprintDelta:t.stats?.footprint}),a=`research-node--${n}`;return g.jsxs("div",{className:`research-node ${a}`,children:[g.jsx(as,{type:"target",position:Ne.Left}),g.jsxs("div",{className:"research-node__header",children:[g.jsx("div",{className:"icon",children:t.icon||"🧪"}),g.jsx("div",{className:"title",children:t.name})]}),g.jsx("div",{className:"research-node__body",children:g.jsx("div",{className:"sub",children:t.desc})}),g.jsxs("div",{className:"research-node__footer",children:[n==="available"&&r&&g.jsx("button",{className:"btn primary small",children:"Research"}),n==="available"&&!r&&g.jsx("button",{className:"btn small",disabled:!0,children:"Need more"}),n==="locked"&&g.jsx("span",{className:"badge",children:"Locked"}),n==="completed"&&g.jsx("span",{className:"badge owned",children:"✓ Completed"})]}),g.jsx(as,{type:"source",position:Ne.Right})]})}function VJ(){const{data:e,isLoading:t,error:n}=Re(),r=T.useMemo(()=>({researchNode:YJ}),[]),{initialNodes:a,initialEdges:s}=T.useMemo(()=>e?HJ(e.defs,e.state):{initialNodes:[],initialEdges:[]},[e]);return t?g.jsx("div",{className:"sub",children:"Bygger forskningstræ..."}):n?g.jsx("div",{className:"sub",children:"Fejl."}):g.jsx("div",{style:{height:"calc(100vh - 50px)",width:"100%"},children:g.jsx(fj,{children:g.jsxs(dj,{nodes:a,edges:s,nodeTypes:r,fitView:!0,proOptions:{hideAttribution:!0},children:[g.jsx(h3,{}),g.jsx(f3,{})]})})})}function WJ(){const e=[{key:"research",label:"Research",icon:"🏥",Component:VJ},{key:"techtree",label:"TechTree",icon:"🐄",Component:UJ}];return g.jsx(YB,{tabs:e,defaultKey:"research",preserve:!1,className:"my-tabs"})}function XJ({endpoint:e="/world-spil/backend/api/user/profile.php"}){const[t,n]=T.useState(null),[r,a]=T.useState(null),[s,o]=T.useState(!0);return T.useEffect(()=>{let u=!1;async function c(){o(!0),a(null);try{const d=await fetch(e,{credentials:"include"});if(!d.ok)throw new Error(`HTTP ${d.status}`);const f=await d.json();if(!f.ok)throw new Error(f.error?.message||"Ukendt fejl");u||n(f.data)}catch(d){u||a(String(d.message||d))}finally{u||o(!1)}}return c(),()=>{u=!0}},[e]),s?g.jsxs("div",{className:"panel",children:[g.jsx("div",{className:"section-head",children:"Bruger"}),g.jsx("div",{className:"section-body",children:"Indlæser…"})]}):r?g.jsxs("div",{className:"panel",children:[g.jsx("div",{className:"section-head",children:"Bruger"}),g.jsx("div",{className:"section-body error",children:r})]}):t?g.jsxs("div",{className:"panel",children:[g.jsx("div",{className:"section-head",children:"Bruger"}),g.jsxs("div",{className:"section-body",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Brugernavn:"})," ",t.username]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Email:"})," ",t.email||"—"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Rolle:"})," ",t.role||"player"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Oprettet:"})," ",t.created_at||"—"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Sidst logget ind:"})," ",t.last_login||"—"]})]})]}):null}function hz(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=hz(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=hz(e))&&(r&&(r+=" "),r+=t);return r}var U1={},H1={},MP;function ZJ(){return MP||(MP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(H1)),H1}var F1={},RP;function pz(){return RP||(RP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(F1)),F1}var G1={},DP;function mz(){return DP||(DP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(G1)),G1}var K1={},PP;function Cj(){return PP||(PP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],a=n.length;if(a===0)return r;let s=0,o="",u="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<a;){const d=n[s];u?d==="\\"&&s+1<a?(s++,o+=n[s]):d===u?u="":o+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,r.push(o),o=""):o+=d:d==="["?(c=!0,o&&(r.push(o),o="")):d==="."?o&&(r.push(o),o=""):o+=d,s++}return o&&r.push(o),r}e.toPath=t})(K1)),K1}var LP;function Mj(){return LP||(LP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZJ(),n=pz(),r=mz(),a=Cj();function s(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const f=u[c];return f===void 0?n.isDeepKey(c)?s(u,a.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=u[c];return f===void 0?d:f}default:{if(Array.isArray(c))return o(u,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const f=u[c];return f===void 0?d:f}}}function o(u,c,d){if(c.length===0)return d;let f=u;for(let p=0;p<c.length;p++){if(f==null||t.isUnsafeProperty(c[p]))return d;f=f[c[p]]}return f===void 0?d:f}e.get=s})(U1)),U1}var Y1,qP;function QJ(){return qP||(qP=1,Y1=Mj().get),Y1}var JJ=QJ();const yl=Ar(JJ);var V1={exports:{}},ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP;function eee(){if(IP)return ut;IP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function _(x){if(typeof x=="object"&&x!==null){var w=x.$$typeof;switch(w){case e:switch(x=x.type,x){case n:case a:case r:case c:case d:case v:return x;default:switch(x=x&&x.$$typeof,x){case o:case u:case p:case f:return x;case s:return x;default:return w}}case t:return w}}}return ut.ContextConsumer=s,ut.ContextProvider=o,ut.Element=e,ut.ForwardRef=u,ut.Fragment=n,ut.Lazy=p,ut.Memo=f,ut.Portal=t,ut.Profiler=a,ut.StrictMode=r,ut.Suspense=c,ut.SuspenseList=d,ut.isContextConsumer=function(x){return _(x)===s},ut.isContextProvider=function(x){return _(x)===o},ut.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},ut.isForwardRef=function(x){return _(x)===u},ut.isFragment=function(x){return _(x)===n},ut.isLazy=function(x){return _(x)===p},ut.isMemo=function(x){return _(x)===f},ut.isPortal=function(x){return _(x)===t},ut.isProfiler=function(x){return _(x)===a},ut.isStrictMode=function(x){return _(x)===r},ut.isSuspense=function(x){return _(x)===c},ut.isSuspenseList=function(x){return _(x)===d},ut.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===a||x===r||x===c||x===d||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===o||x.$$typeof===s||x.$$typeof===u||x.$$typeof===y||x.getModuleId!==void 0)},ut.typeOf=_,ut}var BP;function tee(){return BP||(BP=1,V1.exports=eee()),V1.exports}var nee=tee(),Jn=e=>e===0?0:e>0?1:-1,Sr=e=>typeof e=="number"&&e!=+e,Fs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Me=e=>(typeof e=="number"||e instanceof Number)&&!Sr(e),Ma=e=>Me(e)||typeof e=="string",ree=0,yc=e=>{var t=++ree;return"".concat(e||"").concat(t)},pa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(t)&&typeof t!="string")return r;var s;if(Fs(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return Sr(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},vz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Vt(e,t,n){return Me(e)&&Me(t)?e+n*(t-e):t}function gz(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):yl(r,t))===n)}var jt=e=>e===null||typeof e>"u",Pc=e=>jt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),aee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Rj(e){if(typeof e!="string")return!1;var t=aee;return t.includes(e)}var iee=["viewBox","children"],$P=["points","pathLength"],W1={svg:iee,polygon:$P,polyline:$P},Dj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Rj(a)&&(r[a]=(s=>n[a](n,s)))}),r},see=(e,t,n)=>r=>(e(t,n,r),null),mp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];Rj(a)&&typeof s=="function"&&(r||(r={}),r[a]=see(s,t,n))}),r},oee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function yz(e){if(typeof e!="string")return!1;var t=oee;return t.includes(e)}function us(e){var t=Object.entries(e).filter(n=>{var[r]=n;return yz(r)});return Object.fromEntries(t)}var zP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",UP=null,X1=null,bz=e=>{if(e===UP&&Array.isArray(X1))return X1;var t=[];return T.Children.forEach(e,n=>{jt(n)||(nee.isFragment(n)?t=t.concat(bz(n.props.children)):t.push(n))}),X1=t,UP=e,t};function lee(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>zP(a)):r=[zP(t)],bz(e).forEach(a=>{var s=yl(a,"type.displayName")||yl(a,"type.name");r.indexOf(s)!==-1&&n.push(a)}),n}var xz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,uee=(e,t,n,r)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(a=r&&W1?.[r])!==null&&a!==void 0?a:[],o=t.startsWith("data-"),u=typeof e!="function"&&(!!r&&s.includes(t)||yz(t)),c=!!n&&Rj(t);return o||u||c},Ut=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{var o;uee((o=r)===null||o===void 0?void 0:o[s],s,t,n)&&(a[s]=r[s])}),a},cee=["children","width","height","viewBox","className","style","title","desc"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gw.apply(null,arguments)}function fee(e,t){if(e==null)return{};var n,r,a=dee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pj=T.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:o,style:u,title:c,desc:d}=e,f=fee(e,cee),p=s||{width:r,height:a,x:0,y:0},v=rt("recharts-surface",o);return T.createElement("svg",Gw({},Ut(f,!0,"svg"),{className:v,width:r,height:a,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),T.createElement("title",null,c),T.createElement("desc",null,d),n)}),hee=["children","className"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(null,arguments)}function pee(e,t){if(e==null)return{};var n,r,a=mee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ma=T.forwardRef((e,t)=>{var{children:n,className:r}=e,a=pee(e,hee),s=rt("recharts-layer",r);return T.createElement("g",Kw({className:s},Ut(a,!0),{ref:t}),n)}),_z=T.createContext(null),vee=()=>T.useContext(_z);function gt(e){return function(){return e}}const wz=Math.cos,sh=Math.sin,ya=Math.sqrt,oh=Math.PI,vp=2*oh,Yw=Math.PI,Vw=2*Yw,Is=1e-6,gee=Vw-Is;function Sz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function yee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Sz;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class bee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Sz:yee(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,c=r-t,d=a-n,f=o-t,p=u-n,v=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Is)if(!(Math.abs(p*c-d*f)>Is)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,_=a-u,x=c*c+d*d,w=y*y+_*_,S=Math.sqrt(x),E=Math.sqrt(v),O=s*Math.tan((Yw-Math.acos((x+v-w)/(2*S*E)))/2),A=O/E,N=O/S;Math.abs(A-1)>Is&&this._append`L${t+A*f},${n+A*p}`,this._append`A${s},${s},0,0,${+(p*y>f*_)},${this._x1=t+N*c},${this._y1=n+N*d}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),c=r*Math.sin(a),d=t+u,f=n+c,p=1^o,v=o?a-s:s-a;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Is||Math.abs(this._y1-f)>Is)&&this._append`L${d},${f}`,r&&(v<0&&(v=v%Vw+Vw),v>gee?this._append`A${r},${r},0,1,${p},${t-u},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:v>Is&&this._append`A${r},${r},0,${+(v>=Yw)},${p},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Lj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new bee(t)}function qj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jz(e){this._context=e}jz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gp(e){return new jz(e)}function Ez(e){return e[0]}function Az(e){return e[1]}function Oz(e,t){var n=gt(!0),r=null,a=gp,s=null,o=Lj(u);e=typeof e=="function"?e:e===void 0?Ez:gt(e),t=typeof t=="function"?t:t===void 0?Az:gt(t);function u(c){var d,f=(c=qj(c)).length,p,v=!1,y;for(r==null&&(s=a(y=o())),d=0;d<=f;++d)!(d<f&&n(p=c[d],d,c))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(p,d,c),+t(p,d,c));if(y)return s=null,y+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:gt(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:gt(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:gt(!!c),u):n},u.curve=function(c){return arguments.length?(a=c,r!=null&&(s=a(r)),u):a},u.context=function(c){return arguments.length?(c==null?r=s=null:s=a(r=c),u):r},u}function bd(e,t,n){var r=null,a=gt(!0),s=null,o=gp,u=null,c=Lj(d);e=typeof e=="function"?e:e===void 0?Ez:gt(+e),t=typeof t=="function"?t:gt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Az:gt(+n);function d(p){var v,y,_,x=(p=qj(p)).length,w,S=!1,E,O=new Array(x),A=new Array(x);for(s==null&&(u=o(E=c())),v=0;v<=x;++v){if(!(v<x&&a(w=p[v],v,p))===S)if(S=!S)y=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=v-1;_>=y;--_)u.point(O[_],A[_]);u.lineEnd(),u.areaEnd()}S&&(O[v]=+e(w,v,p),A[v]=+t(w,v,p),u.point(r?+r(w,v,p):O[v],n?+n(w,v,p):A[v]))}if(E)return u=null,E+""||null}function f(){return Oz().defined(a).curve(o).context(s)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:gt(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:gt(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:gt(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:gt(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:gt(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:gt(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(r).y(t)},d.defined=function(p){return arguments.length?(a=typeof p=="function"?p:gt(!!p),d):a},d.curve=function(p){return arguments.length?(o=p,s!=null&&(u=o(s)),d):o},d.context=function(p){return arguments.length?(p==null?s=u=null:u=o(s=p),d):s},d}class Tz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function xee(e){return new Tz(e,!0)}function _ee(e){return new Tz(e,!1)}const Ij={draw(e,t){const n=ya(t/oh);e.moveTo(n,0),e.arc(0,0,n,0,vp)}},wee={draw(e,t){const n=ya(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Nz=ya(1/3),See=Nz*2,jee={draw(e,t){const n=ya(t/See),r=n*Nz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Eee={draw(e,t){const n=ya(t),r=-n/2;e.rect(r,r,n,n)}},Aee=.8908130915292852,kz=sh(oh/10)/sh(7*oh/10),Oee=sh(vp/10)*kz,Tee=-wz(vp/10)*kz,Nee={draw(e,t){const n=ya(t*Aee),r=Oee*n,a=Tee*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const o=vp*s/5,u=wz(o),c=sh(o);e.lineTo(c*n,-u*n),e.lineTo(u*r-c*a,c*r+u*a)}e.closePath()}},Z1=ya(3),kee={draw(e,t){const n=-ya(t/(Z1*3));e.moveTo(0,n*2),e.lineTo(-Z1*n,-n),e.lineTo(Z1*n,-n),e.closePath()}},Br=-.5,$r=ya(3)/2,Ww=1/ya(12),Cee=(Ww/2+1)*3,Mee={draw(e,t){const n=ya(t/Cee),r=n/2,a=n*Ww,s=r,o=n*Ww+n,u=-s,c=o;e.moveTo(r,a),e.lineTo(s,o),e.lineTo(u,c),e.lineTo(Br*r-$r*a,$r*r+Br*a),e.lineTo(Br*s-$r*o,$r*s+Br*o),e.lineTo(Br*u-$r*c,$r*u+Br*c),e.lineTo(Br*r+$r*a,Br*a-$r*r),e.lineTo(Br*s+$r*o,Br*o-$r*s),e.lineTo(Br*u+$r*c,Br*c-$r*u),e.closePath()}};function Ree(e,t){let n=null,r=Lj(a);e=typeof e=="function"?e:gt(e||Ij),t=typeof t=="function"?t:gt(t===void 0?64:+t);function a(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:gt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:gt(+s),a):t},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function lh(){}function uh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Cz(e){this._context=e}Cz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dee(e){return new Cz(e)}function Mz(e){this._context=e}Mz.prototype={areaStart:lh,areaEnd:lh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:uh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pee(e){return new Mz(e)}function Rz(e){this._context=e}Rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lee(e){return new Rz(e)}function Dz(e){this._context=e}Dz.prototype={areaStart:lh,areaEnd:lh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qee(e){return new Dz(e)}function HP(e){return e<0?-1:1}function FP(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),u=(s*a+o*r)/(r+a);return(HP(s)+HP(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function GP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Q1(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,u=(s-r)/3;e._context.bezierCurveTo(r+u,a+u*t,s-u,o-u*n,s,o)}function ch(e){this._context=e}ch.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q1(this,this._t0,GP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Q1(this,GP(this,n=FP(this,e,t)),n);break;default:Q1(this,this._t0,n=FP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Pz(e){this._context=new Lz(e)}(Pz.prototype=Object.create(ch.prototype)).point=function(e,t){ch.prototype.point.call(this,t,e)};function Lz(e){this._context=e}Lz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}};function Iee(e){return new ch(e)}function Bee(e){return new Pz(e)}function qz(e){this._context=e}qz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=KP(e),a=KP(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KP(e){var t,n=e.length-1,r,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function $ee(e){return new qz(e)}function yp(e,t){this._context=e,this._t=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function zee(e){return new yp(e,.5)}function Uee(e){return new yp(e,0)}function Hee(e){return new yp(e,1)}function bl(e,t){if((o=e.length)>1)for(var n=1,r,a,s=e[t[0]],o,u=s.length;n<o;++n)for(a=s,s=e[t[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Xw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Fee(e,t){return e[t]}function Gee(e){const t=[];return t.key=e,t}function Kee(){var e=gt([]),t=Xw,n=bl,r=Fee;function a(s){var o=Array.from(e.apply(this,arguments),Gee),u,c=o.length,d=-1,f;for(const p of s)for(u=0,++d;u<c;++u)(o[u][d]=[0,+r(p,o[u].key,d,s)]).data=p;for(u=0,f=qj(t(o));u<c;++u)o[f[u]].index=u;return n(o,f),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:gt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:gt(+s),a):r},a.order=function(s){return arguments.length?(t=s==null?Xw:typeof s=="function"?s:gt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(n=s??bl,a):n},a}function Yee(e,t){if((r=e.length)>0){for(var n,r,a=0,s=e[0].length,o;a<s;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}bl(e,t)}}function Vee(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,s=r.length;n<s;++n){for(var o=0,u=0;o<a;++o)u+=e[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}bl(e,t)}}function Wee(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,s,o;r<s;++r){for(var u=0,c=0,d=0;u<o;++u){for(var f=e[t[u]],p=f[r][1]||0,v=f[r-1][1]||0,y=(p-v)/2,_=0;_<u;++_){var x=e[t[_]],w=x[r][1]||0,S=x[r-1][1]||0;y+=w-S}c+=p,d+=y*p}a[r-1][1]+=a[r-1][0]=n,c&&(n-=d/c)}a[r-1][1]+=a[r-1][0]=n,bl(e,t)}}var Xee=["type","size","sizeType"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(null,arguments)}function YP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function VP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(n),!0).forEach(function(r){Zee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zee(e,t,n){return(t=Qee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ete(e,t){if(e==null)return{};var n,r,a=tte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Iz={symbolCircle:Ij,symbolCross:wee,symbolDiamond:jee,symbolSquare:Eee,symbolStar:Nee,symbolTriangle:kee,symbolWye:Mee},nte=Math.PI/180,rte=e=>{var t="symbol".concat(Pc(e));return Iz[t]||Ij},ate=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*nte;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ite=(e,t)=>{Iz["symbol".concat(Pc(e))]=t},Bj=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=ete(e,Xee),s=VP(VP({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var u=()=>{var v=rte(o),y=Ree().type(v).size(ate(n,r,o));return y()},{className:c,cx:d,cy:f}=s,p=Ut(s,!0);return d===+d&&f===+f&&n===+n?T.createElement("path",Zw({},p,{className:rt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:u()})):null};Bj.registerSymbol=ite;function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qw.apply(null,arguments)}function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ste(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(n),!0).forEach(function(r){$j(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $j(e,t,n){return(t=ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ote(e){var t=lte(e,"string");return typeof t=="symbol"?t:t+""}function lte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zr=32;class zj extends T.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,a=zr/2,s=zr/6,o=zr/3,u=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:zr,y2:a,className:"recharts-legend-icon"});if(c==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(zr,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return T.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(zr/8,"h").concat(zr,"v").concat(zr*3/4,"h").concat(-zr,"z"),className:"recharts-legend-icon"});if(T.isValidElement(t.legendIcon)){var d=ste({},t);return delete d.legendIcon,T.cloneElement(t.legendIcon,d)}return T.createElement(Bj,{fill:u,cx:a,cy:a,size:zr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:s,iconType:o}=this.props,u={x:0,y:0,width:zr,height:zr},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,p)=>{var v=f.formatter||a,y=rt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:f.inactive});if(f.type==="none")return null;var _=f.inactive?s:f.color,x=v?v(f.value,f,p):f.value;return T.createElement("li",Qw({className:y,style:c,key:"legend-item-".concat(p)},mp(this.props,f,p)),T.createElement(Pj,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(x," legend icon")},this.renderIcon(f,o)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}$j(zj,"displayName","Legend");$j(zj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var J1={},e_={},XP;function ute(){return XP||(XP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let s=0;s<n.length;s++){const o=n[s],u=r(o);a.has(u)||a.set(u,o)}return Array.from(a.values())}e.uniqBy=t})(e_)),e_}var t_={},ZP;function Bz(){return ZP||(ZP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(t_)),t_}var n_={},r_={},a_={},QP;function cte(){return QP||(QP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(a_)),a_}var JP;function Uj(){return JP||(JP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cte();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(r_)),r_}var i_={},eL;function fte(){return eL||(eL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(i_)),i_}var tL;function dte(){return tL||(tL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uj(),n=fte();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(n_)),n_}var s_={},o_={},nL;function hte(){return nL||(nL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj();function n(r){return function(a){return t.get(a,r)}}e.property=n})(o_)),o_}var l_={},u_={},c_={},f_={},rL;function $z(){return rL||(rL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(f_)),f_}var d_={},aL;function zz(){return aL||(aL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(d_)),d_}var h_={},iL;function Uz(){return iL||(iL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(h_)),h_}var sL;function pte(){return sL||(sL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hj(),n=$z(),r=zz(),a=Uz();function s(p,v,y){return typeof y!="function"?t.isMatch(p,v):o(p,v,function _(x,w,S,E,O,A){const N=y(x,w,S,E,O,A);return N!==void 0?!!N:o(x,w,_,A)},new Map)}function o(p,v,y,_){if(v===p)return!0;switch(typeof v){case"object":return u(p,v,y,_);case"function":return Object.keys(v).length>0?o(p,{...v},y,_):a.eq(p,v);default:return n.isObject(p)?typeof v=="string"?v==="":!0:a.eq(p,v)}}function u(p,v,y,_){if(v==null)return!0;if(Array.isArray(v))return d(p,v,y,_);if(v instanceof Map)return c(p,v,y,_);if(v instanceof Set)return f(p,v,y,_);const x=Object.keys(v);if(p==null)return x.length===0;if(x.length===0)return!0;if(_&&_.has(v))return _.get(v)===p;_&&_.set(v,p);try{for(let w=0;w<x.length;w++){const S=x[w];if(!r.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!y(p[S],v[S],S,p,v,_))return!1}return!0}finally{_&&_.delete(v)}}function c(p,v,y,_){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[x,w]of v.entries()){const S=p.get(x);if(y(S,w,x,p,v,_)===!1)return!1}return!0}function d(p,v,y,_){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const x=new Set;for(let w=0;w<v.length;w++){const S=v[w];let E=!1;for(let O=0;O<p.length;O++){if(x.has(O))continue;const A=p[O];let N=!1;if(y(A,S,w,p,v,_)&&(N=!0),N){x.add(O),E=!0;break}}if(!E)return!1}return!0}function f(p,v,y,_){return v.size===0?!0:p instanceof Set?d([...p],[...v],y,_):!1}e.isMatchWith=s,e.isSetMatch=f})(c_)),c_}var oL;function Hj(){return oL||(oL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pte();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(u_)),u_}var p_={},m_={},v_={},lL;function mte(){return lL||(lL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(v_)),v_}var g_={},uL;function Hz(){return uL||(uL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(g_)),g_}var y_={},cL;function Fz(){return cL||(cL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",v="[object ArrayBuffer]",y="[object Object]",_="[object Error]",x="[object DataView]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",O="[object Uint32Array]",A="[object BigUint64Array]",N="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",q="[object BigInt64Array]",P="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=f,e.bigInt64ArrayTag=q,e.bigUint64ArrayTag=A,e.booleanTag=a,e.dataViewTag=x,e.dateTag=u,e.errorTag=_,e.float32ArrayTag=P,e.float64ArrayTag=M,e.functionTag=p,e.int16ArrayTag=k,e.int32ArrayTag=C,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=E,e.uint32ArrayTag=O,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=S})(y_)),y_}var b_={},fL;function vte(){return fL||(fL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(b_)),b_}var dL;function Gz(){return dL||(dL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mte(),n=Hz(),r=Fz(),a=zz(),s=vte();function o(f,p){return u(f,void 0,f,new Map,p)}function u(f,p,v,y=new Map,_=void 0){const x=_?.(f,p,v,y);if(x!==void 0)return x;if(a.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const w=new Array(f.length);y.set(f,w);for(let S=0;S<f.length;S++)w[S]=u(f[S],S,v,y,_);return Object.hasOwn(f,"index")&&(w.index=f.index),Object.hasOwn(f,"input")&&(w.input=f.input),w}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const w=new RegExp(f.source,f.flags);return w.lastIndex=f.lastIndex,w}if(f instanceof Map){const w=new Map;y.set(f,w);for(const[S,E]of f)w.set(S,u(E,S,v,y,_));return w}if(f instanceof Set){const w=new Set;y.set(f,w);for(const S of f)w.add(u(S,void 0,v,y,_));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const w=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,w);for(let S=0;S<f.length;S++)w[S]=u(f[S],S,v,y,_);return w}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const w=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,w),c(w,f,v,y,_),w}if(typeof File<"u"&&f instanceof File){const w=new File([f],f.name,{type:f.type});return y.set(f,w),c(w,f,v,y,_),w}if(f instanceof Blob){const w=new Blob([f],{type:f.type});return y.set(f,w),c(w,f,v,y,_),w}if(f instanceof Error){const w=new f.constructor;return y.set(f,w),w.message=f.message,w.name=f.name,w.stack=f.stack,w.cause=f.cause,c(w,f,v,y,_),w}if(typeof f=="object"&&d(f)){const w=Object.create(Object.getPrototypeOf(f));return y.set(f,w),c(w,f,v,y,_),w}return f}function c(f,p,v=f,y,_){const x=[...Object.keys(p),...t.getSymbols(p)];for(let w=0;w<x.length;w++){const S=x[w],E=Object.getOwnPropertyDescriptor(f,S);(E==null||E.writable)&&(f[S]=u(p[S],S,v,y,_))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=c})(m_)),m_}var hL;function gte(){return hL||(hL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gz();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(p_)),p_}var pL;function yte(){return pL||(pL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hj(),n=gte();function r(a){return a=n.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=r})(l_)),l_}var x_={},__={},w_={},mL;function bte(){return mL||(mL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gz(),n=Fz();function r(a,s){return t.cloneDeepWith(a,(o,u,c,d)=>{const f=s?.(o,u,c,d);if(f!==void 0)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new a.constructor(a?.valueOf());return t.copyProperties(p,a),p}case n.argumentsTag:{const p={};return t.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(w_)),w_}var vL;function xte(){return vL||(vL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bte();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(__)),__}var S_={},j_={},gL;function Kz(){return gL||(gL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(j_)),j_}var E_={},yL;function _te(){return yL||(yL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(E_)),E_}var bL;function wte(){return bL||(bL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pz(),n=Kz(),r=_te(),a=Cj();function s(o,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&t.isDeepKey(u)&&o?.[u]==null?c=a.toPath(u):c=[u],c.length===0)return!1;let d=o;for(let f=0;f<c.length;f++){const p=c[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=s})(S_)),S_}var xL;function Ste(){return xL||(xL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hj(),n=mz(),r=xte(),a=Mj(),s=wte();function o(u,c){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const f=a.get(d,u);return f===void 0?s.has(d,u):c===void 0?f===void 0:t.isMatch(f,c)}}e.matchesProperty=o})(x_)),x_}var _L;function jte(){return _L||(_L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bz(),n=hte(),r=yte(),a=Ste();function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(s_)),s_}var wL;function Ete(){return wL||(wL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ute(),n=Bz(),r=dte(),a=jte();function s(o,u=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(u)):[]}e.uniqBy=s})(J1)),J1}var A_,SL;function Ate(){return SL||(SL=1,A_=Ete().uniqBy),A_}var Ote=Ate();const jL=Ar(Ote);function Yz(e,t,n){return t===!0?jL(e,n):typeof t=="function"?jL(e,t):e}var Fj=T.createContext(null),Tte=e=>e,Zt=()=>{var e=T.useContext(Fj);return e?e.store.dispatch:Tte},Hd=()=>{},Nte=()=>Hd,kte=(e,t)=>e===t;function ke(e){var t=T.useContext(Fj);return VB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Nte,t?t.store.getState:Hd,t?t.store.getState:Hd,t?e:Hd,kte)}function Cte(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Mte(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Rte(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var EL=e=>Array.isArray(e)?e:[e];function Dte(e){const t=Array.isArray(e[0])?e[0]:e;return Rte(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Pte(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var Lte=class{constructor(e){this.value=e}deref(){return this.value}},qte=typeof WeakRef<"u"?WeakRef:Lte,Ite=0,AL=1;function xd(){return{s:Ite,v:void 0,o:null,p:null}}function Vz(e,t={}){let n=xd();const{resultEqualityCheck:r}=t;let a,s=0;function o(){let u=n;const{length:c}=arguments;for(let p=0,v=c;p<v;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const x=_.get(y);x===void 0?(u=xd(),_.set(y,u)):u=x}else{let _=u.p;_===null&&(u.p=_=new Map);const x=_.get(y);x===void 0?(u=xd(),_.set(y,u)):u=x}}const d=u;let f;if(u.s===AL)f=u.v;else if(f=e.apply(null,arguments),s++,r){const p=a?.deref?.()??a;p!=null&&r(p,f)&&(f=p,s!==0&&s--),a=typeof f=="object"&&f!==null||typeof f=="function"?new qte(f):f}return d.s=AL,d.v=f,f}return o.clearCache=()=>{n=xd(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Bte(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let s=0,o=0,u,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),Cte(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:y=Vz,argsMemoizeOptions:_=[]}=f,x=EL(v),w=EL(_),S=Dte(a),E=p(function(){return s++,d.apply(null,arguments)},...x),O=y(function(){o++;const N=Pte(S,arguments);return u=E.apply(null,N),u},...w);return Object.assign(O,{resultFunc:d,memoizedResultFunc:E,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var fe=Bte(Vz),$te=Object.assign((e,t=fe)=>{Mte(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,u,c)=>(o[n[c]]=u,o),{}))},{withTypes:()=>$te}),O_={},T_={},N_={},OL;function zte(){return OL||(OL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const o=t(r),u=t(a);if(o===u&&o===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?u-o:o-u}return 0};e.compareValues=n})(N_)),N_}var k_={},C_={},TL;function Wz(){return TL||(TL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(C_)),C_}var NL;function Ute(){return NL||(NL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wz(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(k_)),k_}var kL;function Hte(){return kL||(kL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zte(),n=Ute(),r=Cj();function a(s,o,u,c){if(s==null)return[];u=c?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const d=(y,_)=>{let x=y;for(let w=0;w<_.length&&x!=null;++w)x=x[_[w]];return x},f=(y,_)=>_==null||y==null?_:typeof y=="object"&&"key"in y?Object.hasOwn(_,y.key)?_[y.key]:d(_,y.path):typeof y=="function"?y(_):Array.isArray(y)?d(_,y):typeof _=="object"?_[y]:_,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:p.map(_=>f(_,y))})).slice().sort((y,_)=>{for(let x=0;x<p.length;x++){const w=t.compareValues(y.criteria[x],_.criteria[x],u[x]);if(w!==0)return w}return 0}).map(y=>y.original)}e.orderBy=a})(T_)),T_}var M_={},CL;function Fte(){return CL||(CL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],s=Math.floor(r),o=(u,c)=>{for(let d=0;d<u.length;d++){const f=u[d];Array.isArray(f)&&c<s?o(f,c+1):a.push(f)}};return o(n,0),a}e.flatten=t})(M_)),M_}var R_={},ML;function Xz(){return ML||(ML=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kz(),n=Uj(),r=$z(),a=Uz();function s(o,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&t.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?a.eq(c[u],o):!1}e.isIterateeCall=s})(R_)),R_}var RL;function Gte(){return RL||(RL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hte(),n=Fte(),r=Xz();function a(s,...o){const u=o.length;return u>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=a})(O_)),O_}var D_,DL;function Kte(){return DL||(DL=1,D_=Gte().sortBy),D_}var Yte=Kte();const bp=Ar(Yte);var Zz=e=>e.legend.settings,Vte=e=>e.legend.size,Wte=e=>e.legend.payload,Xte=fe([Wte,Zz],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?bp(r,n):r});function Zte(){return ke(Xte)}var _d=1;function Qz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>_d||Math.abs(o.left-t.left)>_d||Math.abs(o.top-t.top)>_d||Math.abs(o.width-t.width)>_d)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function En(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Qte=typeof Symbol=="function"&&Symbol.observable||"@@observable",PL=Qte,P_=()=>Math.random().toString(36).substring(7).split("").join("."),Jte={INIT:`@@redux/INIT${P_()}`,REPLACE:`@@redux/REPLACE${P_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${P_()}`},fh=Jte;function Gj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Jz(e,t,n){if(typeof e!="function")throw new Error(En(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(En(1));return n(Jz)(e,t)}let r=e,a=t,s=new Map,o=s,u=0,c=!1;function d(){o===s&&(o=new Map,s.forEach((w,S)=>{o.set(S,w)}))}function f(){if(c)throw new Error(En(3));return a}function p(w){if(typeof w!="function")throw new Error(En(4));if(c)throw new Error(En(5));let S=!0;d();const E=u++;return o.set(E,w),function(){if(S){if(c)throw new Error(En(6));S=!1,d(),o.delete(E),s=null}}}function v(w){if(!Gj(w))throw new Error(En(7));if(typeof w.type>"u")throw new Error(En(8));if(typeof w.type!="string")throw new Error(En(17));if(c)throw new Error(En(9));try{c=!0,a=r(a,w)}finally{c=!1}return(s=o).forEach(E=>{E()}),w}function y(w){if(typeof w!="function")throw new Error(En(10));r=w,v({type:fh.REPLACE})}function _(){const w=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(En(11));function E(){const A=S;A.next&&A.next(f())}return E(),{unsubscribe:w(E)}},[PL](){return this}}}return v({type:fh.INIT}),{dispatch:v,subscribe:p,getState:f,replaceReducer:y,[PL]:_}}function ene(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:fh.INIT})>"u")throw new Error(En(12));if(typeof n(void 0,{type:fh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(En(13))})}function eU(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{ene(n)}catch(s){a=s}return function(o={},u){if(a)throw a;let c=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],v=n[p],y=o[p],_=v(y,u);if(typeof _>"u")throw u&&u.type,new Error(En(14));d[p]=_,c=c||_!==y}return c=c||r.length!==Object.keys(o).length,c?d:o}}function dh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function tne(...e){return t=>(n,r)=>{const a=t(n,r);let s=()=>{throw new Error(En(15))};const o={getState:a.getState,dispatch:(c,...d)=>s(c,...d)},u=e.map(c=>c(o));return s=dh(...u)(a.dispatch),{...a,dispatch:s}}}function tU(e){return Gj(e)&&"type"in e&&typeof e.type=="string"}var nU=Symbol.for("immer-nothing"),LL=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function fa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xl=Object.getPrototypeOf;function ro(e){return!!e&&!!e[jr]}function ci(e){return e?rU(e)||Array.isArray(e)||!!e[LL]||!!e.constructor?.[LL]||Lc(e)||_p(e):!1}var nne=Object.prototype.constructor.toString();function rU(e){if(!e||typeof e!="object")return!1;const t=xl(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===nne}function hh(e,t){xp(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function xp(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:Lc(e)?2:_p(e)?3:0}function Jw(e,t){return xp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function aU(e,t,n){const r=xp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function rne(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Lc(e){return e instanceof Map}function _p(e){return e instanceof Set}function Bs(e){return e.copy_||e.base_}function eS(e,t){if(Lc(e))return new Map(e);if(_p(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=rU(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[jr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const o=a[s],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(xl(e),r)}else{const r=xl(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function Kj(e,t=!1){return wp(e)||ro(e)||!ci(e)||(xp(e)>1&&Object.defineProperties(e,{set:{value:wd},add:{value:wd},clear:{value:wd},delete:{value:wd}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Kj(n,!0))),e}function wd(){fa(2)}function wp(e){return Object.isFrozen(e)}var ane={};function ao(e){const t=ane[e];return t||fa(0,e),t}var bc;function iU(){return bc}function ine(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qL(e,t){t&&(ao("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tS(e){nS(e),e.drafts_.forEach(sne),e.drafts_=null}function nS(e){e===bc&&(bc=e.parent_)}function IL(e){return bc=ine(bc,e)}function sne(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function BL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[jr].modified_&&(tS(t),fa(4)),ci(e)&&(e=ph(t,e),t.parent_||mh(t,e)),t.patches_&&ao("Patches").generateReplacementPatches_(n[jr].base_,e,t.patches_,t.inversePatches_)):e=ph(t,n,[]),tS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nU?e:void 0}function ph(e,t,n){if(wp(t))return t;const r=t[jr];if(!r)return hh(t,(a,s)=>$L(e,r,t,a,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return mh(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,o=!1;r.type_===3&&(s=new Set(a),a.clear(),o=!0),hh(s,(u,c)=>$L(e,r,a,u,c,n,o)),mh(e,a,!1),n&&e.patches_&&ao("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function $L(e,t,n,r,a,s,o){if(ro(a)){const u=s&&t&&t.type_!==3&&!Jw(t.assigned_,r)?s.concat(r):void 0,c=ph(e,a,u);if(aU(n,r,c),ro(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(ci(a)&&!wp(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ph(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Lc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&mh(e,a)}}function mh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kj(t,n)}function one(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=Yj;n&&(a=[r],s=xc);const{revoke:o,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=o,u}var Yj={get(e,t){if(t===jr)return e;const n=Bs(e);if(!Jw(n,t))return lne(e,n,t);const r=n[t];return e.finalized_||!ci(r)?r:r===L_(e.base_,t)?(q_(e),e.copy_[t]=aS(r,e)):r},has(e,t){return t in Bs(e)},ownKeys(e){return Reflect.ownKeys(Bs(e))},set(e,t,n){const r=sU(Bs(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=L_(Bs(e),t),s=a?.[jr];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(rne(n,a)&&(n!==void 0||Jw(e.base_,t)))return!0;q_(e),rS(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return L_(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,q_(e),rS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Bs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){fa(11)},getPrototypeOf(e){return xl(e.base_)},setPrototypeOf(){fa(12)}},xc={};hh(Yj,(e,t)=>{xc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});xc.deleteProperty=function(e,t){return xc.set.call(this,e,t,void 0)};xc.set=function(e,t,n){return Yj.set.call(this,e[0],t,n,e[0])};function L_(e,t){const n=e[jr];return(n?Bs(n):e)[t]}function lne(e,t,n){const r=sU(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function sU(e,t){if(!(t in e))return;let n=xl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=xl(n)}}function rS(e){e.modified_||(e.modified_=!0,e.parent_&&rS(e.parent_))}function q_(e){e.copy_||(e.copy_=eS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var une=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(c=s,...d){return o.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&fa(6),r!==void 0&&typeof r!="function"&&fa(7);let a;if(ci(t)){const s=IL(this),o=aS(t,void 0);let u=!0;try{a=n(o),u=!1}finally{u?tS(s):nS(s)}return qL(s,r),BL(a,s)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===nU&&(a=void 0),this.autoFreeze_&&Kj(a,!0),r){const s=[],o=[];ao("Patches").generateReplacementPatches_(t,a,s,o),r(s,o)}return a}else fa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,c=>t(c,...u));let r,a;return[this.produce(t,n,(o,u)=>{r=o,a=u}),r,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ci(e)||fa(8),ro(e)&&(e=si(e));const t=IL(this),n=aS(e,void 0);return n[jr].isManual_=!0,nS(t),n}finishDraft(e,t){const n=e&&e[jr];(!n||!n.isManual_)&&fa(9);const{scope_:r}=n;return qL(r,t),BL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=ao("Patches").applyPatches_;return ro(e)?r(e,t):this.produce(e,a=>r(a,t))}};function aS(e,t){const n=Lc(e)?ao("MapSet").proxyMap_(e,t):_p(e)?ao("MapSet").proxySet_(e,t):one(e,t);return(t?t.scope_:iU()).drafts_.push(n),n}function si(e){return ro(e)||fa(10,e),oU(e)}function oU(e){if(!ci(e)||wp(e))return e;const t=e[jr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=eS(e,t.scope_.immer_.useStrictShallowCopy_)}else n=eS(e,!0);return hh(n,(r,a)=>{aU(n,r,oU(a))}),t&&(t.finalized_=!1),n}var cne=new une,lU=cne.produce;function uU(e){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,e):a(s)}var fne=uU(),dne=uU,hne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dh:dh.apply(null,arguments)};function Yr(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(_r(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>tU(r)&&r.type===e,n}var cU=class sc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sc.prototype)}static get[Symbol.species](){return sc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sc(...t[0].concat(this)):new sc(...t.concat(this))}};function zL(e){return ci(e)?lU(e,()=>{}):e}function Sd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function pne(e){return typeof e=="boolean"}var mne=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new cU;return n&&(pne(n)?o.push(fne):o.push(dne(n.extraArgument))),o},vne="RTK_autoBatch",UL=e=>t=>{setTimeout(t,e)},gne=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,s=!1,o=!1;const u=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UL(10):e.type==="callback"?e.queueNotification:UL(e.timeout),d=()=>{o=!1,s&&(s=!1,u.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>a&&f(),v=r.subscribe(p);return u.add(f),()=>{v(),u.delete(f)}},dispatch(f){try{return a=!f?.meta?.[vne],s=!a,s&&(o||(o=!0,c(d))),r.dispatch(f)}finally{a=!0}}})},yne=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new cU(e);return r&&a.push(gne(typeof r=="object"?r:void 0)),a};function bne(e){const t=mne(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(Gj(n))u=eU(n);else throw new Error(_r(1));let c;typeof r=="function"?c=r(t):c=t();let d=dh;a&&(d=hne({trace:!1,...typeof a=="object"&&a}));const f=tne(...c),p=yne(f);let v=typeof o=="function"?o(p):p();const y=d(...v);return Jz(u,s,y)}function fU(e){const t={},n=[];let r;const a={addCase(s,o){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(_r(28));if(u in t)throw new Error(_r(29));return t[u]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return n.push({matcher:s,reducer:o}),a},addDefaultCase(s){return r=s,a}};return e(a),[t,n,r]}function xne(e){return typeof e=="function"}function _ne(e,t){let[n,r,a]=fU(t),s;if(xne(e))s=()=>zL(e());else{const u=zL(e);s=()=>u}function o(u=s(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[a]),d.reduce((f,p)=>{if(p)if(ro(f)){const y=p(f,c);return y===void 0?f:y}else{if(ci(f))return lU(f,v=>p(v,c));{const v=p(f,c);if(v===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return f},u)}return o.getInitialState=s,o}var wne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Sne=(e=21)=>{let t="",n=e;for(;n--;)t+=wne[Math.random()*64|0];return t},jne=Symbol.for("rtk-slice-createasyncthunk");function Ene(e,t){return`${e}/${t}`}function Ane({creators:e}={}){const t=e?.asyncThunk?.[jne];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(_r(11));const o=(typeof r.reducers=="function"?r.reducers(Tne()):r.reducers)||{},u=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,A){const N=typeof O=="string"?O:O.type;if(!N)throw new Error(_r(12));if(N in c.sliceCaseReducersByType)throw new Error(_r(13));return c.sliceCaseReducersByType[N]=A,d},addMatcher(O,A){return c.sliceMatchers.push({matcher:O,reducer:A}),d},exposeAction(O,A){return c.actionCreators[O]=A,d},exposeCaseReducer(O,A){return c.sliceCaseReducersByName[O]=A,d}};u.forEach(O=>{const A=o[O],N={reducerName:O,type:Ene(a,O),createNotation:typeof r.reducers=="function"};kne(A)?Mne(N,A,d,t):Nne(N,A,d)});function f(){const[O={},A=[],N=void 0]=typeof r.extraReducers=="function"?fU(r.extraReducers):[r.extraReducers],k={...O,...c.sliceCaseReducersByType};return _ne(r.initialState,C=>{for(let q in k)C.addCase(q,k[q]);for(let q of c.sliceMatchers)C.addMatcher(q.matcher,q.reducer);for(let q of A)C.addMatcher(q.matcher,q.reducer);N&&C.addDefaultCase(N)})}const p=O=>O,v=new Map,y=new WeakMap;let _;function x(O,A){return _||(_=f()),_(O,A)}function w(){return _||(_=f()),_.getInitialState()}function S(O,A=!1){function N(C){let q=C[O];return typeof q>"u"&&A&&(q=Sd(y,N,w)),q}function k(C=p){const q=Sd(v,A,()=>new WeakMap);return Sd(q,C,()=>{const P={};for(const[M,L]of Object.entries(r.selectors??{}))P[M]=One(L,C,()=>Sd(y,C,w),A);return P})}return{reducerPath:O,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const E={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...S(s),injectInto(O,{reducerPath:A,...N}={}){const k=A??s;return O.inject({reducerPath:k,reducer:x},N),{...E,...S(k,!0)}}};return E}}function One(e,t,n,r){function a(s,...o){let u=t(s);return typeof u>"u"&&r&&(u=n()),e(u,...o)}return a.unwrapped=e,a}var Or=Ane();function Tne(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Nne({type:e,reducerName:t,createNotation:n},r,a){let s,o;if("reducer"in r){if(n&&!Cne(r))throw new Error(_r(17));s=r.reducer,o=r.prepare}else s=r;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Yr(e,o):Yr(e))}function kne(e){return e._reducerDefinitionType==="asyncThunk"}function Cne(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Mne({type:e,reducerName:t},n,r,a){if(!a)throw new Error(_r(18));const{payloadCreator:s,fulfilled:o,pending:u,rejected:c,settled:d,options:f}=n,p=a(e,s,f);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:o||jd,pending:u||jd,rejected:c||jd,settled:d||jd})}function jd(){}var Rne="task",dU="listener",hU="completed",Vj="cancelled",Dne=`task-${Vj}`,Pne=`task-${hU}`,iS=`${dU}-${Vj}`,Lne=`${dU}-${hU}`,Sp=class{constructor(e){this.code=e,this.message=`${Rne} ${Vj} (reason: ${e})`}name="TaskAbortError";message},Wj=(e,t)=>{if(typeof e!="function")throw new TypeError(_r(32))},vh=()=>{},pU=(e,t=vh)=>(e.catch(t),e),mU=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vs=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ws=e=>{if(e.aborted){const{reason:t}=e;throw new Sp(t)}};function vU(e,t){let n=vh;return new Promise((r,a)=>{const s=()=>a(new Sp(e.reason));if(e.aborted){s();return}n=mU(e,s),t.finally(()=>n()).then(r,a)}).finally(()=>{n=vh})}var qne=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Sp?"cancelled":"rejected",error:n}}finally{t?.()}},gh=e=>t=>pU(vU(e,t).then(n=>(Ws(e),n))),gU=e=>{const t=gh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:hl}=Object,HL={},jp="listenerMiddleware",Ine=(e,t)=>{const n=r=>mU(e,()=>Vs(r,e.reason));return(r,a)=>{Wj(r);const s=new AbortController;n(s);const o=qne(async()=>{Ws(e),Ws(s.signal);const u=await r({pause:gh(s.signal),delay:gU(s.signal),signal:s.signal});return Ws(s.signal),u},()=>Vs(s,Pne));return a?.autoJoin&&t.push(o.catch(vh)),{result:gh(e)(o),cancel(){Vs(s,Dne)}}}},Bne=(e,t)=>{const n=async(r,a)=>{Ws(t);let s=()=>{};const u=[new Promise((c,d)=>{let f=e({predicate:r,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});s=()=>{f(),d()}})];a!=null&&u.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await vU(t,Promise.race(u));return Ws(t),c}finally{s()}};return(r,a)=>pU(n(r,a))},yU=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=Yr(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(_r(21));return Wj(s),{predicate:a,type:t,effect:s}},bU=hl(e=>{const{type:t,predicate:n,effect:r}=yU(e);return{id:Sne(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_r(22))}}},{withTypes:()=>bU}),FL=(e,t)=>{const{type:n,effect:r,predicate:a}=yU(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},sS=e=>{e.pending.forEach(t=>{Vs(t,iS)})},$ne=e=>()=>{e.forEach(sS),e.clear()},GL=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},xU=hl(Yr(`${jp}/add`),{withTypes:()=>xU}),zne=Yr(`${jp}/removeAll`),_U=hl(Yr(`${jp}/remove`),{withTypes:()=>_U}),Une=(...e)=>{console.error(`${jp}/error`,...e)},qc=(e={})=>{const t=new Map,{extra:n,onError:r=Une}=e;Wj(r);const a=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),p=>{f.unsubscribe(),p?.cancelActive&&sS(f)}),s=f=>{const p=FL(t,f)??bU(f);return a(p)};hl(s,{withTypes:()=>s});const o=f=>{const p=FL(t,f);return p&&(p.unsubscribe(),f.cancelActive&&sS(p)),!!p};hl(o,{withTypes:()=>o});const u=async(f,p,v,y)=>{const _=new AbortController,x=Bne(s,_.signal),w=[];try{f.pending.add(_),await Promise.resolve(f.effect(p,hl({},v,{getOriginalState:y,condition:(S,E)=>x(S,E).then(Boolean),take:x,delay:gU(_.signal),pause:gh(_.signal),extra:n,signal:_.signal,fork:Ine(_.signal,w),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((S,E,O)=>{S!==_&&(Vs(S,iS),O.delete(S))})},cancel:()=>{Vs(_,iS),f.pending.delete(_)},throwIfCancelled:()=>{Ws(_.signal)}})))}catch(S){S instanceof Sp||GL(r,S,{raisedBy:"effect"})}finally{await Promise.all(w),Vs(_,Lne),f.pending.delete(_)}},c=$ne(t);return{middleware:f=>p=>v=>{if(!tU(v))return p(v);if(xU.match(v))return s(v.payload);if(zne.match(v)){c();return}if(_U.match(v))return o(v.payload);let y=f.getState();const _=()=>{if(y===HL)throw new Error(_r(23));return y};let x;try{if(x=p(v),t.size>0){const w=f.getState(),S=Array.from(t.values());for(const E of S){let O=!1;try{O=E.predicate(v,w,y)}catch(A){O=!1,GL(r,A,{raisedBy:"predicate"})}O&&u(E,v,f,_)}}}finally{y=HL}return x},startListening:s,stopListening:o,clearListeners:c}};function _r(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Hne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wU=Or({name:"chartLayout",initialState:Hne,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Fne,setLayout:Gne,setChartSize:Kne,setScale:Yne}=wU.actions,Vne=wU.reducer;function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function YL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(n),!0).forEach(function(r){Wne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wne(e,t,n){return(t=Xne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yh=Math.PI/180,Qne=e=>e*180/Math.PI,On=(e,t,n,r)=>({x:e+Math.cos(-yh*r)*n,y:t+Math.sin(-yh*r)*n}),Jne=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},ere=(e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)},tre=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,o=ere({x:n,y:r},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var u=(n-a)/o,c=Math.acos(u);return r>s&&(c=2*Math.PI-c),{radius:o,angle:Qne(c),angleInRadian:c}},nre=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-s*360,endAngle:n-s*360}},rre=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(a,s);return e+o*360},are=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:s}=tre({x:n,y:r},t),{innerRadius:o,outerRadius:u}=t;if(a<o||a>u||a===0)return null;var{startAngle:c,endAngle:d}=nre(t),f=s,p;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=c}return p?YL(YL({},t),{},{radius:a,angle:rre(f,t)}):null};function SU(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(r){ire(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ire(e,t,n){return(t=sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sre(e){var t=ore(e,"string");return typeof t=="symbol"?t:t+""}function ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vn(e,t,n){return jt(e)||jt(t)?n:Ma(t)?yl(e,t,n):typeof t=="function"?t(e):n}var lre=(e,t,n,r,a)=>{var s,o=-1,u=(s=t?.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,f=n[c].coordinate,p=c>=u-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(Jn(f-d)!==Jn(p-f)){var y=[];if(Jn(p-f)===Jn(a[1]-a[0])){v=p;var _=f+a[1]-a[0];y[0]=Math.min(_,(_+d)/2),y[1]=Math.max(_,(_+d)/2)}else{v=d;var x=p+a[1]-a[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var w=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){({index:o}=n[c]);break}}else{var S=Math.min(d,p),E=Math.max(d,p);if(e>(S+f)/2&&e<=(E+f)/2){({index:o}=n[c]);break}}}else if(t){for(var O=0;O<u;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<u-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===u-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:o}=t[O]);break}}return o},ure=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&s!=="center"&&Me(e[s]))return Hr(Hr({},e),{},{[s]:e[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&o!=="middle"&&Me(e[o]))return Hr(Hr({},e),{},{[o]:e[o]+(a||0)})}return e},cs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",jU=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var a,s,o=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===n&&(s=!0),u.coordinate));return a||o.push(t),s||o.push(n),o},EU=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:s,scale:o,realScaleType:u,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:v,axisType:y}=e;if(!o)return null;var _=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/_:0;if(x=y==="angleAxis"&&s&&s.length>=2?Jn(s[0]-s[1])*2*x:x,p||v){var w=(p||v||[]).map((S,E)=>{var O=r?r.indexOf(S):S;return{coordinate:o(O)+x,value:S,offset:x,index:E}});return w.filter(S=>!Sr(S.coordinate))}return c&&d?d.map((S,E)=>({coordinate:o(S)+x,value:S,index:E,offset:x})):o.ticks&&f!=null?o.ticks(f).map((S,E)=>({coordinate:o(S)+x,value:S,offset:x,index:E})):o.domain().map((S,E)=>({coordinate:o(S)+x,value:r?r[S]:S,index:E,offset:x}))},WL=1e-4,cre=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-WL,s=Math.max(r[0],r[1])+WL,o=e(t[0]),u=e(t[n-1]);(o<a||o>s||u<a||u>s)&&e.domain([t[0],t[n-1]])}},fre=(e,t)=>{if(!t||t.length!==2||!Me(t[0])||!Me(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Me(e[0])||e[0]<n)&&(a[0]=n),(!Me(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},dre=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0,o=0;o<t;++o){var u=Sr(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=a,e[o][n][1]=a+u,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1])}},hre=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0;s<t;++s){var o=Sr(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},pre={sign:dre,expand:Yee,none:bl,silhouette:Vee,wiggle:Wee,positive:hre},mre=(e,t,n)=>{var r=pre[n],a=Kee().keys(t).value((s,o)=>+vn(s,o,0)).order(Xw).offset(r);return a(e)};function vre(e){return e==null?void 0:String(e)}function XL(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!jt(a[t.dataKey])){var u=gz(n,"value",a[t.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=vn(a,jt(o)?t.dataKey:o);return jt(c)?null:t.scale(c)}var ZL=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var u=vn(s,t.dataKey,t.scale.domain()[o]);return jt(u)?null:t.scale(u)-a/2+r},gre=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},yre=e=>{var t=e.flat(2).filter(Me);return[Math.min(...t),Math.max(...t)]},bre=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],xre=(e,t,n)=>{if(e!=null)return bre(Object.keys(e).reduce((r,a)=>{var s=e[a],{stackedData:o}=s,u=o.reduce((c,d)=>{var f=SU(d,t,n),p=yre(f);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},QL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_c=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=bp(t,f=>f.coordinate),s=1/0,o=1,u=a.length;o<u;o++){var c=a[o],d=a[o-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function eq(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return Hr(Hr({},t),{},{dataKey:n,payload:r,value:a,name:s})}function Ep(e,t){if(e)return String(e);if(typeof t=="string")return t}function _re(e,t,n,r,a){if(n==="horizontal"||n==="vertical"){var s=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return s?{x:e,y:t}:null}return r?are({x:e,y:t},r):null}var wre=(e,t,n,r)=>{var a=t.find(d=>d&&d.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,{radius:o}=r;return Hr(Hr(Hr({},r),On(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var u=a.coordinate,{angle:c}=r;return Hr(Hr(Hr({},r),On(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{x:0,y:0}},Sre=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,yi=e=>e.layout.width,bi=e=>e.layout.height,jre=e=>e.layout.scale,AU=e=>e.layout.margin,Ap=fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Op=fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ere="data-recharts-item-index",Are="data-recharts-item-data-key",Ic=60;function tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tq(Object(n),!0).forEach(function(r){Ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ore(e,t,n){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kre=e=>e.brush.height;function Cre(e){var t=Op(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Ic;return n+a}return n},0)}function Mre(e){var t=Op(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Ic;return n+a}return n},0)}function Rre(e){var t=Ap(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Dre(e){var t=Ap(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var yn=fe([yi,bi,AU,kre,Cre,Mre,Rre,Dre,Zz,Vte],(e,t,n,r,a,s,o,u,c,d)=>{var f={left:(n.left||0)+a,right:(n.right||0)+s},p={top:(n.top||0)+o,bottom:(n.bottom||0)+u},v=Ed(Ed({},p),f),y=v.bottom;v.bottom+=r,v=ure(v,c,d);var _=e-v.left-v.right,x=t-v.top-v.bottom;return Ed(Ed({brushBottom:y},v),{},{width:Math.max(_,0),height:Math.max(x,0)})}),Pre=fe(yn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Xj=fe(yi,bi,(e,t)=>({x:0,y:0,width:e,height:t})),Lre=T.createContext(null),nr=()=>T.useContext(Lre)!=null,Tp=e=>e.brush,Np=fe([Tp,yn,AU],(e,t,n)=>({height:e.height,x:Me(e.x)?e.x:t.left,y:Me(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Me(e.width)?e.width:t.width})),Zj=()=>{var e,t=nr(),n=ke(Pre),r=ke(Np),a=(e=ke(Tp))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},qre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},OU=()=>{var e;return(e=ke(yn))!==null&&e!==void 0?e:qre},Qj=()=>ke(yi),Jj=()=>ke(bi),Ire=()=>ke(e=>e.layout.margin),Ze=e=>e.layout.layoutType,kp=()=>ke(Ze),Bre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TU=Or({name:"legend",initialState:Bre,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=si(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:nq,setLegendSettings:$re,addLegendPayload:zre,removeLegendPayload:Ure}=TU.actions,Hre=TU.reducer,Fre=["contextPayload"];function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oS.apply(null,arguments)}function rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rq(Object(n),!0).forEach(function(r){eE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eE(e,t,n){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yre(e,t){if(e==null)return{};var n,r,a=Vre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wre(e){return e.value}function Xre(e){var{contextPayload:t}=e,n=Yre(e,Fre),r=Yz(t,e.payloadUniqBy,Wre),a=_l(_l({},n),{},{payload:r});return T.isValidElement(e.content)?T.cloneElement(e.content,a):typeof e.content=="function"?T.createElement(e.content,a):T.createElement(zj,a)}function Zre(e,t,n,r,a,s){var{layout:o,align:u,verticalAlign:c}=t,d,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&o==="vertical"?d={left:((r||0)-s.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?f={top:((a||0)-s.height)/2}:f=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_l(_l({},d),f)}function Qre(e){var t=Zt();return T.useEffect(()=>{t($re(e))},[t,e]),null}function Jre(e){var t=Zt();return T.useEffect(()=>(t(nq(e)),()=>{t(nq({width:0,height:0}))}),[t,e]),null}function eae(e){var t=Zte(),n=vee(),r=Ire(),{width:a,height:s,wrapperStyle:o,portal:u}=e,[c,d]=Qz([t]),f=Qj(),p=Jj();if(f==null||p==null)return null;var v=f-(r.left||0)-(r.right||0),y=Cp.getWidthOrHeight(e.layout,s,a,v),_=u?o:_l(_l({position:"absolute",width:y?.width||a||"auto",height:y?.height||s||"auto"},Zre(o,e,r,f,p,c)),o),x=u??n;if(x==null)return null;var w=T.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:d},T.createElement(Qre,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),T.createElement(Jre,{width:c.width,height:c.height}),T.createElement(Xre,oS({},e,y,{margin:r,chartWidth:f,chartHeight:p,contextPayload:t})));return Fh.createPortal(w,x)}class Cp extends T.PureComponent{static getWidthOrHeight(t,n,r,a){return t==="vertical"&&Me(n)?{height:n}:t==="horizontal"?{width:r||a}:null}render(){return T.createElement(eae,this.props)}}eE(Cp,"displayName","Legend");eE(Cp,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lS.apply(null,arguments)}function aq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function I_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aq(Object(n),!0).forEach(function(r){tae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tae(e,t,n){return(t=nae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nae(e){var t=rae(e,"string");return typeof t=="symbol"?t:t+""}function rae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aae(e){return Array.isArray(e)&&Ma(e[0])&&Ma(e[1])?e.join(" ~ "):e}var iae=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:o,itemSorter:u,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:v=!1}=e,y=()=>{if(s&&s.length){var N={padding:0,margin:0},k=(u?bp(s,u):s).map((C,q)=>{if(C.type==="none")return null;var P=C.formatter||o||aae,{value:M,name:L}=C,B=M,z=L;if(P){var D=P(M,L,C,q,s);if(Array.isArray(D))[B,z]=D;else if(D!=null)B=D;else return null}var H=I_({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:H},Ma(z)?T.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Ma(z)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},B),T.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},_=I_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=I_({margin:0},a),w=!jt(f),S=w?f:"",E=rt("recharts-default-tooltip",c),O=rt("recharts-tooltip-label",d);w&&p&&s!==void 0&&s!==null&&(S=p(f,s));var A=v?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",lS({className:E,style:_},A),T.createElement("p",{className:O,style:x},T.isValidElement(S)?S:"".concat(S)),y())},zu="recharts-tooltip-wrapper",sae={visibility:"hidden"};function oae(e){var{coordinate:t,translateX:n,translateY:r}=e;return rt(zu,{["".concat(zu,"-right")]:Me(n)&&t&&Me(t.x)&&n>=t.x,["".concat(zu,"-left")]:Me(n)&&t&&Me(t.x)&&n<t.x,["".concat(zu,"-bottom")]:Me(r)&&t&&Me(t.y)&&r>=t.y,["".concat(zu,"-top")]:Me(r)&&t&&Me(t.y)&&r<t.y})}function iq(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=e;if(s&&Me(s[r]))return s[r];var f=n[r]-u-(a>0?a:0),p=n[r]+a;if(t[r])return o[r]?f:p;var v=c[r];if(v==null)return 0;if(o[r]){var y=f,_=v;return y<_?Math.max(p,v):Math.max(f,v)}if(d==null)return 0;var x=p+u,w=v+d;return x>w?Math.max(f,v):Math.max(p,v)}function lae(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function uae(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:u,viewBox:c}=e,d,f,p;return o.height>0&&o.width>0&&n?(f=iq({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=iq({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=lae({translateX:f,translateY:p,useTranslate3d:u})):d=sae,{cssProperties:d,cssClasses:oae({translateX:f,translateY:p,coordinate:n})}}function sq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sq(Object(n),!0).forEach(function(r){uS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uS(e,t,n){return(t=cae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dae extends T.PureComponent{constructor(){super(...arguments),uS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:o,hasPayload:u,isAnimationActive:c,offset:d,position:f,reverseDirection:p,useTranslate3d:v,viewBox:y,wrapperStyle:_,lastBoundingBox:x,innerRef:w,hasPortalFromProps:S}=this.props,{cssClasses:E,cssProperties:O}=uae({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:v,viewBox:y}),A=S?{}:Ad(Ad({transition:c&&t?"transform ".concat(r,"ms ").concat(a):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),N=Ad(Ad({},A),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},_);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:N,ref:w},s)}}var hae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),po={devToolsEnabled:!1,isSsr:hae()},NU=()=>ke(e=>e.rootProps.accessibilityLayer);function Er(e){return Number.isFinite(e)}function bh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cS.apply(null,arguments)}function oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oq(Object(n),!0).forEach(function(r){pae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pae(e,t,n){return(t=mae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mae(e){var t=vae(e,"string");return typeof t=="symbol"?t:t+""}function vae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uq={curveBasisClosed:Pee,curveBasisOpen:Lee,curveBasis:Dee,curveBumpX:xee,curveBumpY:_ee,curveLinearClosed:qee,curveLinear:gp,curveMonotoneX:Iee,curveMonotoneY:Bee,curveNatural:$ee,curveStep:zee,curveStepAfter:Hee,curveStepBefore:Uee},Od=e=>Er(e.x)&&Er(e.y),Uu=e=>e.x,Hu=e=>e.y,gae=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Pc(e));return(n==="curveMonotone"||n==="curveBump")&&t?uq["".concat(n).concat(t==="vertical"?"Y":"X")]:uq[n]||gp},yae=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=e,o=gae(t,a),u=s?n.filter(Od):n,c;if(Array.isArray(r)){var d=s?r.filter(p=>Od(p)):r,f=u.map((p,v)=>lq(lq({},p),{},{base:d[v]}));return a==="vertical"?c=bd().y(Hu).x1(Uu).x0(p=>p.base.x):c=bd().x(Uu).y1(Hu).y0(p=>p.base.y),c.defined(Od).curve(o),c(f)}return a==="vertical"&&Me(r)?c=bd().y(Hu).x1(Uu).x0(r):Me(r)?c=bd().x(Uu).y1(Hu).y0(r):c=Oz().x(Uu).y(Hu),c.defined(Od).curve(o),c(u)},kU=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?yae(e):r;return T.createElement("path",cS({},us(e),Dj(e),{className:rt("recharts-curve",t),d:s===null?void 0:s,ref:a}))},bae=["x","y","top","left","width","height","className"];function fS(){return fS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fS.apply(null,arguments)}function cq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cq(Object(n),!0).forEach(function(r){_ae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ae(e,t,n){return(t=wae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wae(e){var t=Sae(e,"string");return typeof t=="symbol"?t:t+""}function Sae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jae(e,t){if(e==null)return{};var n,r,a=Eae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Eae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Aae=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),Oae=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:o=0,className:u}=e,c=jae(e,bae),d=xae({x:t,y:n,top:r,left:a,width:s,height:o},c);return!Me(t)||!Me(n)||!Me(s)||!Me(o)||!Me(r)||!Me(a)?null:T.createElement("path",fS({},Ut(d,!0),{className:rt("recharts-cross",u),d:Aae(t,n,s,o,r,a)}))};function Tae(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function fq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fq(Object(n),!0).forEach(function(r){kae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kae(e,t,n){return(t=Cae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cae(e){var t=Mae(e,"string");return typeof t=="symbol"?t:t+""}function Mae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rr(e,t){var n=Nae({},e),r=t,a=Object.keys(t),s=a.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return s}function Rae(){}function dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dq(Object(n),!0).forEach(function(r){Dae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dae(e,t,n){return(t=Pae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pae(e){var t=Lae(e,"string");return typeof t=="symbol"?t:t+""}function Lae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qae=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CU=(e,t,n)=>e.map(r=>"".concat(qae(r)," ").concat(t,"ms ").concat(n)).join(","),Iae=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),wc=(e,t)=>Object.keys(t).reduce((n,r)=>hq(hq({},n),{},{[r]:e(r,t[r])}),{});function pq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pq(Object(n),!0).forEach(function(r){Bae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bae(e,t,n){return(t=$ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ae(e){var t=zae(e,"string");return typeof t=="symbol"?t:t+""}function zae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xh=(e,t,n)=>e+(t-e)*n,dS=e=>{var{from:t,to:n}=e;return t!==n},MU=(e,t,n)=>{var r=wc((a,s)=>{if(dS(s)){var[o,u]=e(s.from,s.to,s.velocity);return An(An({},s),{},{from:o,velocity:u})}return s},t);return n<1?wc((a,s)=>dS(s)?An(An({},s),{},{velocity:xh(s.velocity,r[a].velocity,n),from:xh(s.from,r[a].from,n)}):s,t):MU(e,r,n-1)};function Uae(e,t,n,r,a,s){var o,u=r.reduce((v,y)=>An(An({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),c=()=>wc((v,y)=>y.from,u),d=()=>!Object.values(u).filter(dS).length,f=null,p=v=>{o||(o=v);var y=v-o,_=y/n.dt;u=MU(n,u,_),a(An(An(An({},e),t),c())),o=v,d()||(f=s.setTimeout(p))};return()=>(f=s.setTimeout(p),()=>{f()})}function Hae(e,t,n,r,a,s,o){var u=null,c=a.reduce((p,v)=>An(An({},p),{},{[v]:[e[v],t[v]]}),{}),d,f=p=>{d||(d=p);var v=(p-d)/r,y=wc((x,w)=>xh(...w,n(v)),c);if(s(An(An(An({},e),t),y)),v<1)u=o.setTimeout(f);else{var _=wc((x,w)=>xh(...w,n(1)),c);s(An(An(An({},e),t),_))}};return()=>(u=o.setTimeout(f),()=>{u()})}const Fae=(e,t,n,r,a,s)=>{var o=Iae(e,t);return n.isStepper===!0?Uae(e,t,n,o,a,s):Hae(e,t,n,r,o,a,s)};var _h=1e-4,RU=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DU=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),mq=(e,t)=>n=>{var r=RU(e,t);return DU(r,n)},Gae=(e,t)=>n=>{var r=RU(e,t),a=[...r.map((s,o)=>s*o).slice(1),0];return DU(a,n)},vq=function(){for(var t,n,r,a,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[t,r,n,a]=[0,0,1,1];break;case"ease":[t,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,a]=[.42,0,1,1];break;case"ease-out":[t,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,r,n,a]=c[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else o.length===4&&([t,r,n,a]=o);var d=mq(t,n),f=mq(r,a),p=Gae(t,n),v=_=>_>1?1:_<0?0:_,y=_=>{for(var x=_>1?1:_,w=x,S=0;S<8;++S){var E=d(w)-x,O=p(w);if(Math.abs(E-x)<_h||O<_h)return f(w);w=v(w-E/O)}return f(w)};return y.isStepper=!1,y},Kae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,s=(o,u,c)=>{var d=-(o-u)*n,f=c*r,p=c+(d-f)*a/1e3,v=c*a/1e3+o;return Math.abs(v-u)<_h&&Math.abs(p)<_h?[u,0]:[v,p]};return s.isStepper=!0,s.dt=a,s},Yae=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vq(e);case"spring":return Kae();default:if(e.split("(")[0]==="cubic-bezier")return vq(e)}return typeof e=="function"?e:null};function Vae(e){var t,n=()=>null,r=!1,a=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[c,...d]=u;if(typeof c=="number"){a=e.setTimeout(s.bind(null,d),c);return}s(c),a=e.setTimeout(s.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Wae{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function Xae(){return Vae(new Wae)}var Zae=T.createContext(Xae);function Qae(e,t){var n=T.useContext(Zae);return T.useMemo(()=>t??n(e),[e,t,n])}var Jae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gq={t:0},B_={t:1};function Mp(e){var t=rr(e,Jae),{isActive:n,canBegin:r,duration:a,easing:s,begin:o,onAnimationEnd:u,onAnimationStart:c,children:d}=t,f=Qae(t.animationId,t.animationManager),[p,v]=T.useState(n?gq:B_),y=T.useRef(null);return T.useEffect(()=>{n||v(B_)},[n]),T.useEffect(()=>{if(!n||!r)return Rae;var _=Fae(gq,B_,Yae(s),a,v,f.getTimeoutController()),x=()=>{y.current=_()};return f.start([c,o,x,a,u]),()=>{f.stop(),y.current&&y.current(),u()}},[n,r,a,s,o,c,u,f]),d(p.t)}function Rp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(yc(t)),r=T.useRef(e);return r.current!==e&&(n.current=yc(t),r.current=e),n.current}function yq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yq(Object(n),!0).forEach(function(r){eie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eie(e,t,n){return(t=tie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tie(e){var t=nie(e,"string");return typeof t=="symbol"?t:t+""}function nie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wh.apply(null,arguments)}var xq=(e,t,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,v=4;p<v;p++)f[p]=a[p]>s?s:a[p];d="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+u*f[0],",").concat(t)),d+="L ".concat(e+n-u*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+o*f[1])),d+="L ".concat(e+n,",").concat(t+r-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-u*f[2],",").concat(t+r)),d+="L ".concat(e+u*f[3],",").concat(t+r),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);d="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+n-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n-u*y,",").concat(t+r,`
            L `).concat(e+u*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*y," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},rie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PU=e=>{var t=rr(e,rie),n=T.useRef(null),[r,a]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&a(D)}catch{}},[]);var{x:s,y:o,width:u,height:c,radius:d,className:f}=t,{animationEasing:p,animationDuration:v,animationBegin:y,isAnimationActive:_,isUpdateAnimationActive:x}=t,w=T.useRef(u),S=T.useRef(c),E=T.useRef(s),O=T.useRef(o),A=T.useMemo(()=>({x:s,y:o,width:u,height:c,radius:d}),[s,o,u,c,d]),N=Rp(A,"rectangle-");if(s!==+s||o!==+o||u!==+u||c!==+c||u===0||c===0)return null;var k=rt("recharts-rectangle",f);if(!x)return T.createElement("path",wh({},Ut(t,!0),{className:k,d:xq(s,o,u,c,d)}));var C=w.current,q=S.current,P=E.current,M=O.current,L="0px ".concat(r===-1?1:r,"px"),B="".concat(r,"px 0px"),z=CU(["strokeDasharray"],v,typeof p=="string"?p:void 0);return T.createElement(Mp,{animationId:N,key:N,canBegin:r>0,duration:v,easing:p,isActive:x,begin:y},D=>{var H=Vt(C,u,D),I=Vt(q,c,D),F=Vt(P,s,D),Q=Vt(M,o,D);n.current&&(w.current=H,S.current=I,E.current=F,O.current=Q);var Y;return _?D>0?Y={transition:z,strokeDasharray:B}:Y={strokeDasharray:L}:Y={strokeDasharray:B},T.createElement("path",wh({},Ut(t,!0),{className:k,d:xq(F,Q,H,I,d),ref:n,style:bq(bq({},Y),t.style)}))})};function LU(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e,o=On(t,n,r,a),u=On(t,n,r,s);return{points:[o,u],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hS.apply(null,arguments)}var aie=(e,t)=>{var n=Jn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Td=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:o,cornerRadius:u,cornerIsExternal:c}=e,d=u*(o?1:-1)+r,f=Math.asin(u/d)/yh,p=c?a:a+s*f,v=On(t,n,d,p),y=On(t,n,r,p),_=c?a-s*f:a,x=On(t,n,d*Math.cos(f*yh),_);return{center:v,circleTangency:y,lineTangency:x,theta:f}},qU=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:o}=e,u=aie(s,o),c=s+u,d=On(t,n,a,s),f=On(t,n,a,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var v=On(t,n,r,s),y=On(t,n,r,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},iie=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:d}=e,f=Jn(d-c),{circleTangency:p,lineTangency:v,theta:y}=Td({cx:t,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:u}),{circleTangency:_,lineTangency:x,theta:w}=Td({cx:t,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:u}),S=u?Math.abs(c-d):Math.abs(c-d)-y-w;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):qU({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:c,endAngle:d});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:A,theta:N}=Td({cx:t,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:k,lineTangency:C,theta:q}=Td({cx:t,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),P=u?Math.abs(c-d):Math.abs(c-d)-N-q;if(P<0&&s===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},sie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IU=e=>{var t=rr(e,sie),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:f,className:p}=t;if(s<a||d===f)return null;var v=rt("recharts-sector",p),y=s-a,_=pa(o,y,0,!0),x;return _>0&&Math.abs(d-f)<360?x=iie({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(_,y/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:f}):x=qU({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),T.createElement("path",hS({},Ut(t,!0),{className:v,d:x}))};function oie(e,t,n){var r,a,s,o;if(e==="horizontal")r=t.x,s=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:c,innerRadius:d,outerRadius:f,angle:p}=t,v=On(u,c,d,p),y=On(u,c,f,p);r=v.x,a=v.y,s=y.x,o=y.y}else return LU(t);return[{x:r,y:a},{x:s,y:o}]}var $_={},z_={},U_={},_q;function lie(){return _q||(_q=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wz();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(U_)),U_}var wq;function uie(){return wq||(wq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lie();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(z_)),z_}var Sq;function cie(){return Sq||(Sq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xz(),n=uie();function r(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),o=o===void 0?a<s?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((s-a)/(o||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=a,a+=o;return c}e.range=r})($_)),$_}var H_,jq;function fie(){return jq||(jq=1,H_=cie().range),H_}var die=fie();const BU=Ar(die);function ns(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hie(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tE(e){let t,n,r;e.length!==2?(t=ns,n=(u,c)=>ns(e(u),c),r=(u,c)=>e(u)-c):(t=e===ns||e===hie?e:pie,n=e,r=e);function a(u,c,d=0,f=u.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;n(u[p],c)<0?d=p+1:f=p}while(d<f)}return d}function s(u,c,d=0,f=u.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;n(u[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function o(u,c,d=0,f=u.length){const p=a(u,c,d,f-1);return p>d&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:a,center:o,right:s}}function pie(){return 0}function $U(e){return e===null?NaN:+e}function*mie(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const vie=tE(ns),Bc=vie.right;tE($U).center;class Eq extends Map{constructor(t,n=bie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(Aq(this,t))}has(t){return super.has(Aq(this,t))}set(t,n){return super.set(gie(this,t),n)}delete(t){return super.delete(yie(this,t))}}function Aq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function gie({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function yie({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bie(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xie(e=ns){if(e===ns)return zU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function zU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _ie=Math.sqrt(50),wie=Math.sqrt(10),Sie=Math.sqrt(2);function Sh(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=_ie?10:s>=wie?5:s>=Sie?2:1;let u,c,d;return a<0?(d=Math.pow(10,-a)/o,u=Math.round(e*d),c=Math.round(t*d),u/d<e&&++u,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,u=Math.round(e/d),c=Math.round(t/d),u*d<e&&++u,c*d>t&&--c),c<u&&.5<=n&&n<2?Sh(e,t,n*2):[u,c,d]}function pS(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?Sh(t,e,n):Sh(e,t,n);if(!(s>=a))return[];const u=s-a+1,c=new Array(u);if(r)if(o<0)for(let d=0;d<u;++d)c[d]=(s-d)/-o;else for(let d=0;d<u;++d)c[d]=(s-d)*o;else if(o<0)for(let d=0;d<u;++d)c[d]=(a+d)/-o;else for(let d=0;d<u;++d)c[d]=(a+d)*o;return c}function mS(e,t,n){return t=+t,e=+e,n=+n,Sh(e,t,n)[2]}function vS(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?mS(t,e,n):mS(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Oq(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Tq(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function UU(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?zU:xie(a);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,f=Math.log(c),p=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),y=Math.max(n,Math.floor(t-d*p/c+v)),_=Math.min(r,Math.floor(t+(c-d)*p/c+v));UU(e,t,y,_,a)}const s=e[t];let o=n,u=r;for(Fu(e,n,t),a(e[r],s)>0&&Fu(e,n,r);o<u;){for(Fu(e,o,u),++o,--u;a(e[o],s)<0;)++o;for(;a(e[u],s)>0;)--u}a(e[n],s)===0?Fu(e,n,u):(++u,Fu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Fu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function jie(e,t,n){if(e=Float64Array.from(mie(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Tq(e);if(t>=1)return Oq(e);var r,a=(r-1)*t,s=Math.floor(a),o=Oq(UU(e,s).subarray(0,s+1)),u=Tq(e.subarray(s+1));return o+(u-o)*(a-s)}}function Eie(e,t,n=$U){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),o=+n(e[s],s,e),u=+n(e[s+1],s+1,e);return o+(u-o)*(a-s)}}function Aie(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}function Qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const gS=Symbol("implicit");function nE(){var e=new Eq,t=[],n=[],r=gS;function a(s){let o=e.get(s);if(o===void 0){if(r!==gS)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Eq;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return nE(t,n).unknown(r)},Qr.apply(a,arguments),a}function rE(){var e=nE().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,u=!1,c=0,d=0,f=.5;delete e.unknown;function p(){var v=t().length,y=a<r,_=y?a:r,x=y?r:a;s=(x-_)/Math.max(1,v-c+d*2),u&&(s=Math.floor(s)),_+=(x-_-s*(v-c))*f,o=s*(1-c),u&&(_=Math.round(_),o=Math.round(o));var w=Aie(v).map(function(S){return _+s*S});return n(y?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,p()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,u=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,p()):u},e.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),p()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},e.paddingOuter=function(v){return arguments.length?(d=+v,p()):d},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),p()):f},e.copy=function(){return rE(t(),[r,a]).round(u).paddingInner(c).paddingOuter(d).align(f)},Qr.apply(p(),arguments)}function HU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HU(t())},e}function Oie(){return HU(rE.apply(null,arguments).paddingInner(1))}function Tie(e){return function(){return e}}function jh(e){return+e}var Nq=[0,1];function $n(e){return e}function yS(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Tie(isNaN(t)?NaN:.5)}function Nie(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function kie(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=yS(a,r),s=n(o,s)):(r=yS(r,a),s=n(s,o)),function(u){return s(r(u))}}function Cie(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=yS(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(u){var c=Bc(e,u,1,r)-1;return s[c](a[c](u))}}function $c(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dp(){var e=Nq,t=Nq,n=Tl,r,a,s,o=$n,u,c,d;function f(){var v=Math.min(e.length,t.length);return o!==$n&&(o=Nie(e[0],e[v-1])),u=v>2?Cie:kie,c=d=null,p}function p(v){return v==null||isNaN(v=+v)?s:(c||(c=u(e.map(r),t,n)))(r(o(v)))}return p.invert=function(v){return o(a((d||(d=u(t,e.map(r),la)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,jh),f()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),n=WS,f()},p.clamp=function(v){return arguments.length?(o=v?!0:$n,f()):o!==$n},p.interpolate=function(v){return arguments.length?(n=v,f()):n},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,y){return r=v,a=y,f()}}function aE(){return Dp()($n,$n)}function Mie(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Eh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function wl(e){return e=Eh(Math.abs(e)),e?e[1]:NaN}function Rie(e,t){return function(n,r){for(var a=n.length,s=[],o=0,u=e[0],c=0;a>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),s.push(n.substring(a-=u,a+u)),!((c+=u+1)>r));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Die(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Pie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sc(e){if(!(t=Pie.exec(e)))throw new Error("invalid format: "+e);var t;return new iE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sc.prototype=iE.prototype;function iE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lie(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var FU;function qie(e,t){var n=Eh(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(FU=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Eh(e,Math.max(0,t+s-1))[0]}function kq(e,t){var n=Eh(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Cq={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mie,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kq(e*100,t),r:kq,s:qie,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mq(e){return e}var Rq=Array.prototype.map,Dq=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Iie(e){var t=e.grouping===void 0||e.thousands===void 0?Mq:Rie(Rq.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Mq:Die(Rq.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(p){p=Sc(p);var v=p.fill,y=p.align,_=p.sign,x=p.symbol,w=p.zero,S=p.width,E=p.comma,O=p.precision,A=p.trim,N=p.type;N==="n"?(E=!0,N="g"):Cq[N]||(O===void 0&&(O=12),A=!0,N="g"),(w||v==="0"&&y==="=")&&(w=!0,v="0",y="=");var k=x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=x==="$"?r:/[%p]/.test(N)?o:"",q=Cq[N],P=/[defgprs%]/.test(N);O=O===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function M(L){var B=k,z=C,D,H,I;if(N==="c")z=q(L)+z,L="";else{L=+L;var F=L<0||1/L<0;if(L=isNaN(L)?c:q(Math.abs(L),O),A&&(L=Lie(L)),F&&+L==0&&_!=="+"&&(F=!1),B=(F?_==="("?_:u:_==="-"||_==="("?"":_)+B,z=(N==="s"?Dq[8+FU/3]:"")+z+(F&&_==="("?")":""),P){for(D=-1,H=L.length;++D<H;)if(I=L.charCodeAt(D),48>I||I>57){z=(I===46?a+L.slice(D+1):L.slice(D))+z,L=L.slice(0,D);break}}}E&&!w&&(L=t(L,1/0));var Q=B.length+L.length+z.length,Y=Q<S?new Array(S-Q+1).join(v):"";switch(E&&w&&(L=t(Y+L,Y.length?S-z.length:1/0),Y=""),y){case"<":L=B+L+z+Y;break;case"=":L=B+Y+L+z;break;case"^":L=Y.slice(0,Q=Y.length>>1)+B+L+z+Y.slice(Q);break;default:L=Y+B+L+z;break}return s(L)}return M.toString=function(){return p+""},M}function f(p,v){var y=d((p=Sc(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(wl(v)/3)))*3,x=Math.pow(10,-_),w=Dq[8+_/3];return function(S){return y(x*S)+w}}return{format:d,formatPrefix:f}}var Nd,sE,GU;Bie({thousands:",",grouping:[3],currency:["$",""]});function Bie(e){return Nd=Iie(e),sE=Nd.format,GU=Nd.formatPrefix,Nd}function $ie(e){return Math.max(0,-wl(Math.abs(e)))}function zie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wl(t)/3)))*3-wl(Math.abs(e)))}function Uie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wl(t)-wl(e))+1}function KU(e,t,n,r){var a=vS(e,t,n),s;switch(r=Sc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=zie(a,o))&&(r.precision=s),GU(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Uie(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=$ie(a))&&(r.precision=s-(r.type==="%")*2);break}}return sE(r)}function fs(e){var t=e.domain;return e.ticks=function(n){var r=t();return pS(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return KU(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],u=r[s],c,d,f=10;for(u<o&&(d=o,o=u,u=d,d=a,a=s,s=d);f-- >0;){if(d=mS(o,u,n),d===c)return r[a]=o,r[s]=u,t(r);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;c=d}return e},e}function YU(){var e=aE();return e.copy=function(){return $c(e,YU())},Qr.apply(e,arguments),fs(e)}function VU(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,jh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return VU(e).unknown(t)},e=arguments.length?Array.from(e,jh):[0,1],fs(n)}function WU(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],s=e[r],o;return s<a&&(o=n,n=r,r=o,o=a,a=s,s=o),e[n]=t.floor(a),e[r]=t.ceil(s),e}function Pq(e){return Math.log(e)}function Lq(e){return Math.exp(e)}function Hie(e){return-Math.log(-e)}function Fie(e){return-Math.exp(-e)}function Gie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Kie(e){return e===10?Gie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Yie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function qq(e){return(t,n)=>-e(-t,n)}function oE(e){const t=e(Pq,Lq),n=t.domain;let r=10,a,s;function o(){return a=Yie(r),s=Kie(r),n()[0]<0?(a=qq(a),s=qq(s),e(Hie,Fie)):e(Pq,Lq),t}return t.base=function(u){return arguments.length?(r=+u,o()):r},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=u=>{const c=n();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let v=a(d),y=a(f),_,x;const w=u==null?10:+u;let S=[];if(!(r%1)&&y-v<w){if(v=Math.floor(v),y=Math.ceil(y),d>0){for(;v<=y;++v)for(_=1;_<r;++_)if(x=v<0?_/s(-v):_*s(v),!(x<d)){if(x>f)break;S.push(x)}}else for(;v<=y;++v)for(_=r-1;_>=1;--_)if(x=v>0?_/s(-v):_*s(v),!(x<d)){if(x>f)break;S.push(x)}S.length*2<w&&(S=pS(d,f,w))}else S=pS(v,y,Math.min(y-v,w)).map(s);return p?S.reverse():S},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Sc(c)).precision==null&&(c.trim=!0),c=sE(c)),u===1/0)return c;const d=Math.max(1,r*u/t.ticks().length);return f=>{let p=f/s(Math.round(a(f)));return p*r<r-.5&&(p*=r),p<=d?c(f):""}},t.nice=()=>n(WU(n(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function XU(){const e=oE(Dp()).domain([1,10]);return e.copy=()=>$c(e,XU()).base(e.base()),Qr.apply(e,arguments),e}function Iq(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Bq(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lE(e){var t=1,n=e(Iq(t),Bq(t));return n.constant=function(r){return arguments.length?e(Iq(t=+r),Bq(t)):t},fs(n)}function ZU(){var e=lE(Dp());return e.copy=function(){return $c(e,ZU()).constant(e.constant())},Qr.apply(e,arguments)}function $q(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Vie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Wie(e){return e<0?-e*e:e*e}function uE(e){var t=e($n,$n),n=1;function r(){return n===1?e($n,$n):n===.5?e(Vie,Wie):e($q(n),$q(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},fs(t)}function cE(){var e=uE(Dp());return e.copy=function(){return $c(e,cE()).exponent(e.exponent())},Qr.apply(e,arguments),e}function Xie(){return cE.apply(null,arguments).exponent(.5)}function zq(e){return Math.sign(e)*e*e}function Zie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QU(){var e=aE(),t=[0,1],n=!1,r;function a(s){var o=Zie(e(s));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(s){return e.invert(zq(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,jh)).map(zq)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return QU(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Qr.apply(a,arguments),fs(a)}function JU(){var e=[],t=[],n=[],r;function a(){var o=0,u=Math.max(1,t.length);for(n=new Array(u-1);++o<u;)n[o-1]=Eie(e,o/u);return s}function s(o){return o==null||isNaN(o=+o)?r:t[Bc(n,o)]}return s.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ns),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return JU().domain(e).range(t).unknown(r)},Qr.apply(s,arguments)}function e4(){var e=0,t=1,n=1,r=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[Bc(r,c,0,n)]:s}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,u()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,u()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return e4().domain([e,t]).range(a).unknown(s)},Qr.apply(fs(o),arguments)}function t4(){var e=[.5],t=[0,1],n,r=1;function a(s){return s!=null&&s<=s?t[Bc(e,s,0,r)]:n}return a.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return t4().domain(e).range(t).unknown(n)},Qr.apply(a,arguments)}const F_=new Date,G_=new Date;function sn(e,t,n,r){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),u=a.ceil(s);return s-o<u-s?o:u},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,u)=>{const c=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return c;let d;do c.push(d=new Date(+s)),t(s,u),e(s);while(d<s&&s<o);return c},a.filter=s=>sn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!s(o););else for(;--u>=0;)for(;t(o,1),!s(o););}),n&&(a.count=(s,o)=>(F_.setTime(+s),G_.setTime(+o),e(F_),e(G_),Math.floor(n(F_,G_))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?o=>r(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const Ah=sn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ah.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ah);Ah.range;const ai=1e3,Gr=ai*60,ii=Gr*60,fi=ii*24,fE=fi*7,Uq=fi*30,K_=fi*365,Gs=sn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCSeconds());Gs.range;const dE=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ai)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getMinutes());dE.range;const hE=sn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getUTCMinutes());hE.range;const pE=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ai-e.getMinutes()*Gr)},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getHours());pE.range;const mE=sn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCHours());mE.range;const zc=sn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gr)/fi,e=>e.getDate()-1);zc.range;const Pp=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>e.getUTCDate()-1);Pp.range;const n4=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>Math.floor(e/fi));n4.range;function mo(e){return sn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Gr)/fE)}const Lp=mo(0),Oh=mo(1),Qie=mo(2),Jie=mo(3),Sl=mo(4),ese=mo(5),tse=mo(6);Lp.range;Oh.range;Qie.range;Jie.range;Sl.range;ese.range;tse.range;function vo(e){return sn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/fE)}const qp=vo(0),Th=vo(1),nse=vo(2),rse=vo(3),jl=vo(4),ase=vo(5),ise=vo(6);qp.range;Th.range;nse.range;rse.range;jl.range;ase.range;ise.range;const vE=sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vE.range;const gE=sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gE.range;const di=sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());di.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});di.range;const hi=sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});hi.range;function r4(e,t,n,r,a,s){const o=[[Gs,1,ai],[Gs,5,5*ai],[Gs,15,15*ai],[Gs,30,30*ai],[s,1,Gr],[s,5,5*Gr],[s,15,15*Gr],[s,30,30*Gr],[a,1,ii],[a,3,3*ii],[a,6,6*ii],[a,12,12*ii],[r,1,fi],[r,2,2*fi],[n,1,fE],[t,1,Uq],[t,3,3*Uq],[e,1,K_]];function u(d,f,p){const v=f<d;v&&([d,f]=[f,d]);const y=p&&typeof p.range=="function"?p:c(d,f,p),_=y?y.range(d,+f+1):[];return v?_.reverse():_}function c(d,f,p){const v=Math.abs(f-d)/p,y=tE(([,,w])=>w).right(o,v);if(y===o.length)return e.every(vS(d/K_,f/K_,p));if(y===0)return Ah.every(Math.max(vS(d,f,p),1));const[_,x]=o[v/o[y-1][2]<o[y][2]/v?y-1:y];return _.every(x)}return[u,c]}const[sse,ose]=r4(hi,gE,qp,n4,mE,hE),[lse,use]=r4(di,vE,Lp,zc,pE,dE);function Y_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function V_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cse(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,o=e.shortDays,u=e.months,c=e.shortMonths,d=Ku(a),f=Yu(a),p=Ku(s),v=Yu(s),y=Ku(o),_=Yu(o),x=Ku(u),w=Yu(u),S=Ku(c),E=Yu(c),O={a:F,A:Q,b:Y,B:$,c:null,d:Vq,e:Vq,f:Rse,g:Hse,G:Gse,H:kse,I:Cse,j:Mse,L:a4,m:Dse,M:Pse,p:V,q:Z,Q:Zq,s:Qq,S:Lse,u:qse,U:Ise,V:Bse,w:$se,W:zse,x:null,X:null,y:Use,Y:Fse,Z:Kse,"%":Xq},A={a:ne,A:K,b:X,B:G,c:null,d:Wq,e:Wq,f:Xse,g:soe,G:loe,H:Yse,I:Vse,j:Wse,L:s4,m:Zse,M:Qse,p:te,q:oe,Q:Zq,s:Qq,S:Jse,u:eoe,U:toe,V:noe,w:roe,W:aoe,x:null,X:null,y:ioe,Y:ooe,Z:uoe,"%":Xq},N={a:M,A:L,b:B,B:z,c:D,d:Kq,e:Kq,f:Ase,g:Gq,G:Fq,H:Yq,I:Yq,j:wse,L:Ese,m:_se,M:Sse,p:P,q:xse,Q:Tse,s:Nse,S:jse,u:mse,U:vse,V:gse,w:pse,W:yse,x:H,X:I,y:Gq,Y:Fq,Z:bse,"%":Ose};O.x=k(n,O),O.X=k(r,O),O.c=k(t,O),A.x=k(n,A),A.X=k(r,A),A.c=k(t,A);function k(se,he){return function(ye){var ce=[],Ae=-1,we=0,be=se.length,Pe,xe,Se;for(ye instanceof Date||(ye=new Date(+ye));++Ae<be;)se.charCodeAt(Ae)===37&&(ce.push(se.slice(we,Ae)),(xe=Hq[Pe=se.charAt(++Ae)])!=null?Pe=se.charAt(++Ae):xe=Pe==="e"?" ":"0",(Se=he[Pe])&&(Pe=Se(ye,xe)),ce.push(Pe),we=Ae+1);return ce.push(se.slice(we,Ae)),ce.join("")}}function C(se,he){return function(ye){var ce=Gu(1900,void 0,1),Ae=q(ce,se,ye+="",0),we,be;if(Ae!=ye.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(he&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(we=V_(Gu(ce.y,0,1)),be=we.getUTCDay(),we=be>4||be===0?Th.ceil(we):Th(we),we=Pp.offset(we,(ce.V-1)*7),ce.y=we.getUTCFullYear(),ce.m=we.getUTCMonth(),ce.d=we.getUTCDate()+(ce.w+6)%7):(we=Y_(Gu(ce.y,0,1)),be=we.getDay(),we=be>4||be===0?Oh.ceil(we):Oh(we),we=zc.offset(we,(ce.V-1)*7),ce.y=we.getFullYear(),ce.m=we.getMonth(),ce.d=we.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),be="Z"in ce?V_(Gu(ce.y,0,1)).getUTCDay():Y_(Gu(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(be+5)%7:ce.w+ce.U*7-(be+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,V_(ce)):Y_(ce)}}function q(se,he,ye,ce){for(var Ae=0,we=he.length,be=ye.length,Pe,xe;Ae<we;){if(ce>=be)return-1;if(Pe=he.charCodeAt(Ae++),Pe===37){if(Pe=he.charAt(Ae++),xe=N[Pe in Hq?he.charAt(Ae++):Pe],!xe||(ce=xe(se,ye,ce))<0)return-1}else if(Pe!=ye.charCodeAt(ce++))return-1}return ce}function P(se,he,ye){var ce=d.exec(he.slice(ye));return ce?(se.p=f.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function M(se,he,ye){var ce=y.exec(he.slice(ye));return ce?(se.w=_.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function L(se,he,ye){var ce=p.exec(he.slice(ye));return ce?(se.w=v.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function B(se,he,ye){var ce=S.exec(he.slice(ye));return ce?(se.m=E.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function z(se,he,ye){var ce=x.exec(he.slice(ye));return ce?(se.m=w.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function D(se,he,ye){return q(se,t,he,ye)}function H(se,he,ye){return q(se,n,he,ye)}function I(se,he,ye){return q(se,r,he,ye)}function F(se){return o[se.getDay()]}function Q(se){return s[se.getDay()]}function Y(se){return c[se.getMonth()]}function $(se){return u[se.getMonth()]}function V(se){return a[+(se.getHours()>=12)]}function Z(se){return 1+~~(se.getMonth()/3)}function ne(se){return o[se.getUTCDay()]}function K(se){return s[se.getUTCDay()]}function X(se){return c[se.getUTCMonth()]}function G(se){return u[se.getUTCMonth()]}function te(se){return a[+(se.getUTCHours()>=12)]}function oe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var he=k(se+="",O);return he.toString=function(){return se},he},parse:function(se){var he=C(se+="",!1);return he.toString=function(){return se},he},utcFormat:function(se){var he=k(se+="",A);return he.toString=function(){return se},he},utcParse:function(se){var he=C(se+="",!0);return he.toString=function(){return se},he}}}var Hq={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,fse=/^%/,dse=/[\\^$*+?|[\]().{}]/g;function We(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function hse(e){return e.replace(dse,"\\$&")}function Ku(e){return new RegExp("^(?:"+e.map(hse).join("|")+")","i")}function Yu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function pse(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function mse(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function vse(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function gse(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yse(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Fq(e,t,n){var r=bn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Gq(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bse(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xse(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function _se(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Kq(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function wse(e,t,n){var r=bn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Yq(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Sse(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jse(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ese(e,t,n){var r=bn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ase(e,t,n){var r=bn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ose(e,t,n){var r=fse.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Tse(e,t,n){var r=bn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Nse(e,t,n){var r=bn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Vq(e,t){return We(e.getDate(),t,2)}function kse(e,t){return We(e.getHours(),t,2)}function Cse(e,t){return We(e.getHours()%12||12,t,2)}function Mse(e,t){return We(1+zc.count(di(e),e),t,3)}function a4(e,t){return We(e.getMilliseconds(),t,3)}function Rse(e,t){return a4(e,t)+"000"}function Dse(e,t){return We(e.getMonth()+1,t,2)}function Pse(e,t){return We(e.getMinutes(),t,2)}function Lse(e,t){return We(e.getSeconds(),t,2)}function qse(e){var t=e.getDay();return t===0?7:t}function Ise(e,t){return We(Lp.count(di(e)-1,e),t,2)}function i4(e){var t=e.getDay();return t>=4||t===0?Sl(e):Sl.ceil(e)}function Bse(e,t){return e=i4(e),We(Sl.count(di(e),e)+(di(e).getDay()===4),t,2)}function $se(e){return e.getDay()}function zse(e,t){return We(Oh.count(di(e)-1,e),t,2)}function Use(e,t){return We(e.getFullYear()%100,t,2)}function Hse(e,t){return e=i4(e),We(e.getFullYear()%100,t,2)}function Fse(e,t){return We(e.getFullYear()%1e4,t,4)}function Gse(e,t){var n=e.getDay();return e=n>=4||n===0?Sl(e):Sl.ceil(e),We(e.getFullYear()%1e4,t,4)}function Kse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function Wq(e,t){return We(e.getUTCDate(),t,2)}function Yse(e,t){return We(e.getUTCHours(),t,2)}function Vse(e,t){return We(e.getUTCHours()%12||12,t,2)}function Wse(e,t){return We(1+Pp.count(hi(e),e),t,3)}function s4(e,t){return We(e.getUTCMilliseconds(),t,3)}function Xse(e,t){return s4(e,t)+"000"}function Zse(e,t){return We(e.getUTCMonth()+1,t,2)}function Qse(e,t){return We(e.getUTCMinutes(),t,2)}function Jse(e,t){return We(e.getUTCSeconds(),t,2)}function eoe(e){var t=e.getUTCDay();return t===0?7:t}function toe(e,t){return We(qp.count(hi(e)-1,e),t,2)}function o4(e){var t=e.getUTCDay();return t>=4||t===0?jl(e):jl.ceil(e)}function noe(e,t){return e=o4(e),We(jl.count(hi(e),e)+(hi(e).getUTCDay()===4),t,2)}function roe(e){return e.getUTCDay()}function aoe(e,t){return We(Th.count(hi(e)-1,e),t,2)}function ioe(e,t){return We(e.getUTCFullYear()%100,t,2)}function soe(e,t){return e=o4(e),We(e.getUTCFullYear()%100,t,2)}function ooe(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function loe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jl(e):jl.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function uoe(){return"+0000"}function Xq(){return"%"}function Zq(e){return+e}function Qq(e){return Math.floor(+e/1e3)}var al,l4,u4;coe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function coe(e){return al=cse(e),l4=al.format,al.parse,u4=al.utcFormat,al.utcParse,al}function foe(e){return new Date(e)}function doe(e){return e instanceof Date?+e:+new Date(+e)}function yE(e,t,n,r,a,s,o,u,c,d){var f=aE(),p=f.invert,v=f.domain,y=d(".%L"),_=d(":%S"),x=d("%I:%M"),w=d("%I %p"),S=d("%a %d"),E=d("%b %d"),O=d("%B"),A=d("%Y");function N(k){return(c(k)<k?y:u(k)<k?_:o(k)<k?x:s(k)<k?w:r(k)<k?a(k)<k?S:E:n(k)<k?O:A)(k)}return f.invert=function(k){return new Date(p(k))},f.domain=function(k){return arguments.length?v(Array.from(k,doe)):v().map(foe)},f.ticks=function(k){var C=v();return e(C[0],C[C.length-1],k??10)},f.tickFormat=function(k,C){return C==null?N:d(C)},f.nice=function(k){var C=v();return(!k||typeof k.range!="function")&&(k=t(C[0],C[C.length-1],k??10)),k?v(WU(C,k)):f},f.copy=function(){return $c(f,yE(e,t,n,r,a,s,o,u,c,d))},f}function hoe(){return Qr.apply(yE(lse,use,di,vE,Lp,zc,pE,dE,Gs,l4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function poe(){return Qr.apply(yE(sse,ose,hi,gE,qp,Pp,mE,hE,Gs,u4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ip(){var e=0,t=1,n,r,a,s,o=$n,u=!1,c;function d(p){return p==null||isNaN(p=+p)?c:o(a===0?.5:(p=(s(p)-n)*a,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=s(e=+e),r=s(t=+t),a=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(o=p,d):o};function f(p){return function(v){var y,_;return arguments.length?([y,_]=v,o=p(y,_),d):[o(0),o(1)]}}return d.range=f(Tl),d.rangeRound=f(WS),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return s=p,n=p(e),r=p(t),a=n===r?0:1/(r-n),d}}function ds(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function c4(){var e=fs(Ip()($n));return e.copy=function(){return ds(e,c4())},xi.apply(e,arguments)}function f4(){var e=oE(Ip()).domain([1,10]);return e.copy=function(){return ds(e,f4()).base(e.base())},xi.apply(e,arguments)}function d4(){var e=lE(Ip());return e.copy=function(){return ds(e,d4()).constant(e.constant())},xi.apply(e,arguments)}function bE(){var e=uE(Ip());return e.copy=function(){return ds(e,bE()).exponent(e.exponent())},xi.apply(e,arguments)}function moe(){return bE.apply(null,arguments).exponent(.5)}function h4(){var e=[],t=$n;function n(r){if(r!=null&&!isNaN(r=+r))return t((Bc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ns),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>jie(e,s/r))},n.copy=function(){return h4(t).domain(e)},xi.apply(n,arguments)}function Bp(){var e=0,t=.5,n=1,r=1,a,s,o,u,c,d=$n,f,p=!1,v;function y(x){return isNaN(x=+x)?v:(x=.5+((x=+f(x))-s)*(r*x<r*s?u:c),d(p?Math.max(0,Math.min(1,x)):x))}y.domain=function(x){return arguments.length?([e,t,n]=x,a=f(e=+e),s=f(t=+t),o=f(n=+n),u=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),r=s<a?-1:1,y):[e,t,n]},y.clamp=function(x){return arguments.length?(p=!!x,y):p},y.interpolator=function(x){return arguments.length?(d=x,y):d};function _(x){return function(w){var S,E,O;return arguments.length?([S,E,O]=w,d=rY(x,[S,E,O]),y):[d(0),d(.5),d(1)]}}return y.range=_(Tl),y.rangeRound=_(WS),y.unknown=function(x){return arguments.length?(v=x,y):v},function(x){return f=x,a=x(e),s=x(t),o=x(n),u=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),r=s<a?-1:1,y}}function p4(){var e=fs(Bp()($n));return e.copy=function(){return ds(e,p4())},xi.apply(e,arguments)}function m4(){var e=oE(Bp()).domain([.1,1,10]);return e.copy=function(){return ds(e,m4()).base(e.base())},xi.apply(e,arguments)}function v4(){var e=lE(Bp());return e.copy=function(){return ds(e,v4()).constant(e.constant())},xi.apply(e,arguments)}function xE(){var e=uE(Bp());return e.copy=function(){return ds(e,xE()).exponent(e.exponent())},xi.apply(e,arguments)}function voe(){return xE.apply(null,arguments).exponent(.5)}const oc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rE,scaleDiverging:p4,scaleDivergingLog:m4,scaleDivergingPow:xE,scaleDivergingSqrt:voe,scaleDivergingSymlog:v4,scaleIdentity:VU,scaleImplicit:gS,scaleLinear:YU,scaleLog:XU,scaleOrdinal:nE,scalePoint:Oie,scalePow:cE,scaleQuantile:JU,scaleQuantize:e4,scaleRadial:QU,scaleSequential:c4,scaleSequentialLog:f4,scaleSequentialPow:bE,scaleSequentialQuantile:h4,scaleSequentialSqrt:moe,scaleSequentialSymlog:d4,scaleSqrt:Xie,scaleSymlog:ZU,scaleThreshold:t4,scaleTime:hoe,scaleUtc:poe,tickFormat:KU},Symbol.toStringTag,{value:"Module"}));var hs=e=>e.chartData,goe=fe([hs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$p=(e,t,n,r)=>r?goe(e):hs(e);function El(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Er(t)&&Er(n))return!0}return!1}function Jq(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yoe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,s;if(Er(n))a=n;else if(typeof n=="function")return;if(Er(r))s=r;else if(typeof r=="function")return;var o=[a,s];if(El(o))return o}}function boe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(El(r))return Jq(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,u;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Me(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&QL.test(a)){var c=QL.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Me(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&JL.test(s)){var f=JL.exec(s);if(f==null||t==null)u=void 0;else{var p=+f[1];u=t[1]+p}}else u=t?.[1];var v=[o,u];if(El(v))return t==null?v:Jq(v,t,n)}}}var Dl=1e9,xoe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wE,St=!0,Vr="[DecimalError] ",Xs=Vr+"Invalid argument: ",_E=Vr+"Exponent out of range: ",Pl=Math.floor,$s=Math.pow,_oe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xr,mn=1e7,xt=7,g4=9007199254740991,Nh=Pl(g4/xt),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*xt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(e){return oi(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,n=t.constructor;return dt(oi(t,new n(e),0,1),n.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return Wt(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(xr))throw Error(Vr+"NaN");if(n.s<1)throw Error(Vr+(n.s?"NaN":"-Infinity"));return n.eq(xr)?new r(0):(St=!1,t=oi(jc(n,s),jc(e,s),s),St=!0,dt(t,a))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x4(t,e):y4(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Vr+"NaN");return n.s?(St=!1,t=oi(n,e,0,1).times(e),St=!0,n.minus(t)):dt(new r(n),a)};Ee.naturalExponential=Ee.exp=function(){return b4(this)};Ee.naturalLogarithm=Ee.ln=function(){return jc(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y4(t,e):x4(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xs+e);if(t=Wt(a)+1,r=a.d.length-1,n=r*xt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ee.squareRoot=Ee.sqrt=function(){var e,t,n,r,a,s,o,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Vr+"NaN")}for(e=Wt(u),St=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=ka(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Pl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(s=r,r=s.plus(oi(u,s,o+2)).times(.5),ka(s.d).slice(0,o)===(t=ka(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(dt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(t!="9999")break;o+=4}return St=!0,dt(r,n)};Ee.times=Ee.mul=function(e){var t,n,r,a,s,o,u,c,d,f=this,p=f.constructor,v=f.d,y=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,n=f.e+e.e,c=v.length,d=y.length,c<d&&(s=v,v=y,y=s,o=c,c=d,d=o),s=[],o=c+d,r=o;r--;)s.push(0);for(r=d;--r>=0;){for(t=0,a=c+r;a>r;)u=s[a]+y[r]*v[a-r-1]+t,s[a--]=u%mn|0,t=u/mn|0;s[a]=(s[a]+t)%mn|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,St?dt(e,p.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ra(e,0,Dl),t===void 0?t=r.rounding:Ra(t,0,8),dt(n,e+Wt(n)+1,t))};Ee.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=io(r,!0):(Ra(e,0,Dl),t===void 0?t=a.rounding:Ra(t,0,8),r=dt(new a(r),e+1,t),n=io(r,!0,e+1)),n};Ee.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?io(a):(Ra(e,0,Dl),t===void 0?t=s.rounding:Ra(t,0,8),r=dt(new s(a),e+Wt(a)+1,t),n=io(r.abs(),!1,e+Wt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return dt(new t(e),Wt(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,n,r,a,s,o,u=this,c=u.constructor,d=12,f=+(e=new c(e));if(!e.s)return new c(xr);if(u=new c(u),!u.s){if(e.s<1)throw Error(Vr+"Infinity");return u}if(u.eq(xr))return u;if(r=c.precision,e.eq(xr))return dt(u,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=u.s,o){if((n=f<0?-f:f)<=g4){for(a=new c(xr),t=Math.ceil(r/xt+4),St=!1;n%2&&(a=a.times(u),tI(a.d,t)),n=Pl(n/2),n!==0;)u=u.times(u),tI(u.d,t);return St=!0,e.s<0?new c(xr).div(a):dt(a,r)}}else if(s<0)throw Error(Vr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,St=!1,a=e.times(jc(u,r+d)),St=!0,a=b4(a),a.s=s,a};Ee.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?(n=Wt(a),r=io(a,n<=s.toExpNeg||n>=s.toExpPos)):(Ra(e,1,Dl),t===void 0?t=s.rounding:Ra(t,0,8),a=dt(new s(a),e,t),n=Wt(a),r=io(a,e<=n||n<=s.toExpNeg,e)),r};Ee.toSignificantDigits=Ee.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ra(e,1,Dl),t===void 0?t=r.rounding:Ra(t,0,8)),dt(new r(n),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wt(e),n=e.constructor;return io(e,t<=n.toExpNeg||t>=n.toExpPos)};function y4(e,t){var n,r,a,s,o,u,c,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),St?dt(t,p):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(r=c,s=-s,u=d.length):(r=d,a=o,u=c.length),o=Math.ceil(p/xt),u=o>u?o+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=c.length,s=d.length,u-s<0&&(s=u,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/mn|0,c[s]%=mn;for(n&&(c.unshift(n),++a),u=c.length;c[--u]==0;)c.pop();return t.d=c,t.e=a,St?dt(t,p):t}function Ra(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Xs+e)}function ka(e){var t,n,r,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)r=e[t]+"",n=xt-r.length,n&&(s+=Xi(n)),s+=r;o=e[t],r=o+"",n=xt-r.length,n&&(s+=Xi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var oi=(function(){function e(r,a){var s,o=0,u=r.length;for(r=r.slice();u--;)s=r[u]*a+o,r[u]=s%mn|0,o=s/mn|0;return o&&r.unshift(o),r}function t(r,a,s,o){var u,c;if(s!=o)c=s>o?1:-1;else for(u=c=0;u<s;u++)if(r[u]!=a[u]){c=r[u]>a[u]?1:-1;break}return c}function n(r,a,s){for(var o=0;s--;)r[s]-=o,o=r[s]<a[s]?1:0,r[s]=o*mn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,o){var u,c,d,f,p,v,y,_,x,w,S,E,O,A,N,k,C,q,P=r.constructor,M=r.s==a.s?1:-1,L=r.d,B=a.d;if(!r.s)return new P(r);if(!a.s)throw Error(Vr+"Division by zero");for(c=r.e-a.e,C=B.length,N=L.length,y=new P(M),_=y.d=[],d=0;B[d]==(L[d]||0);)++d;if(B[d]>(L[d]||0)&&--c,s==null?E=s=P.precision:o?E=s+(Wt(r)-Wt(a))+1:E=s,E<0)return new P(0);if(E=E/xt+2|0,d=0,C==1)for(f=0,B=B[0],E++;(d<N||f)&&E--;d++)O=f*mn+(L[d]||0),_[d]=O/B|0,f=O%B|0;else{for(f=mn/(B[0]+1)|0,f>1&&(B=e(B,f),L=e(L,f),C=B.length,N=L.length),A=C,x=L.slice(0,C),w=x.length;w<C;)x[w++]=0;q=B.slice(),q.unshift(0),k=B[0],B[1]>=mn/2&&++k;do f=0,u=t(B,x,C,w),u<0?(S=x[0],C!=w&&(S=S*mn+(x[1]||0)),f=S/k|0,f>1?(f>=mn&&(f=mn-1),p=e(B,f),v=p.length,w=x.length,u=t(p,x,v,w),u==1&&(f--,n(p,C<v?q:B,v))):(f==0&&(u=f=1),p=B.slice()),v=p.length,v<w&&p.unshift(0),n(x,p,w),u==-1&&(w=x.length,u=t(B,x,C,w),u<1&&(f++,n(x,C<w?q:B,w))),w=x.length):u===0&&(f++,x=[0]),_[d++]=f,u&&x[0]?x[w++]=L[A]||0:(x=[L[A]],w=1);while((A++<N||x[0]!==void 0)&&E--)}return _[0]||_.shift(),y.e=c,dt(y,o?s+Wt(y)+1:s)}})();function b4(e,t){var n,r,a,s,o,u,c=0,d=0,f=e.constructor,p=f.precision;if(Wt(e)>16)throw Error(_E+Wt(e));if(!e.s)return new f(xr);for(St=!1,u=p,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log($s(2,d))/Math.LN10*2+5|0,u+=r,n=a=s=new f(xr),f.precision=u;;){if(a=dt(a.times(e),u),n=n.times(++c),o=s.plus(oi(a,n,u)),ka(o.d).slice(0,u)===ka(s.d).slice(0,u)){for(;d--;)s=dt(s.times(s),u);return f.precision=p,t==null?(St=!0,dt(s,p)):s}s=o}}function Wt(e){for(var t=e.e*xt,n=e.d[0];n>=10;n/=10)t++;return t}function W_(e,t,n){if(t>e.LN10.sd())throw St=!0,n&&(e.precision=n),Error(Vr+"LN10 precision limit exceeded");return dt(new e(e.LN10),t)}function Xi(e){for(var t="";e--;)t+="0";return t}function jc(e,t){var n,r,a,s,o,u,c,d,f,p=1,v=10,y=e,_=y.d,x=y.constructor,w=x.precision;if(y.s<1)throw Error(Vr+(y.s?"NaN":"-Infinity"));if(y.eq(xr))return new x(0);if(t==null?(St=!1,d=w):d=t,y.eq(10))return t==null&&(St=!0),W_(x,d);if(d+=v,x.precision=d,n=ka(_),r=n.charAt(0),s=Wt(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=ka(y.d),r=n.charAt(0),p++;s=Wt(y),r>1?(y=new x("0."+n),s++):y=new x(r+"."+n.slice(1))}else return c=W_(x,d+2,w).times(s+""),y=jc(new x(r+"."+n.slice(1)),d-v).plus(c),x.precision=w,t==null?(St=!0,dt(y,w)):y;for(u=o=y=oi(y.minus(xr),y.plus(xr),d),f=dt(y.times(y),d),a=3;;){if(o=dt(o.times(f),d),c=u.plus(oi(o,new x(a),d)),ka(c.d).slice(0,d)===ka(u.d).slice(0,d))return u=u.times(2),s!==0&&(u=u.plus(W_(x,d+2,w).times(s+""))),u=oi(u,new x(p),d),x.precision=w,t==null?(St=!0,dt(u,w)):u;u=c,a+=2}}function eI(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Pl(n/xt),e.d=[],r=(n+1)%xt,n<0&&(r+=xt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=xt;r<a;)e.d.push(+t.slice(r,r+=xt));t=t.slice(r),r=xt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),St&&(e.e>Nh||e.e<-Nh))throw Error(_E+n)}else e.s=0,e.e=0,e.d=[0];return e}function dt(e,t,n){var r,a,s,o,u,c,d,f,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=xt,a=t,d=p[f=0];else{if(f=Math.ceil((r+1)/xt),s=p.length,f>=s)return e;for(d=s=p[f],o=1;s>=10;s/=10)o++;r%=xt,a=r-xt+o}if(n!==void 0&&(s=$s(10,o-a-1),u=d/s%10|0,c=t<0||p[f+1]!==void 0||d%s,c=n<4?(u||c)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?a>0?d/$s(10,o-a):0:p[f-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return c?(s=Wt(e),p.length=1,t=t-s-1,p[0]=$s(10,(xt-t%xt)%xt),e.e=Pl(-t/xt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=f,s=1,f--):(p.length=f+1,s=$s(10,xt-r),p[f]=a>0?(d/$s(10,o-a)%$s(10,a)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==mn&&(p[0]=1,++e.e);break}else{if(p[f]+=s,p[f]!=mn)break;p[f--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(St&&(e.e>Nh||e.e<-Nh))throw Error(_E+Wt(e));return e}function x4(e,t){var n,r,a,s,o,u,c,d,f,p,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),St?dt(t,y):t;if(c=e.d,p=t.d,r=t.e,d=e.e,c=c.slice(),o=d-r,o){for(f=o<0,f?(n=c,o=-o,u=p.length):(n=p,r=d,u=c.length),a=Math.max(Math.ceil(y/xt),u)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,u=p.length,f=a<u,f&&(u=a),a=0;a<u;a++)if(c[a]!=p[a]){f=c[a]<p[a];break}o=0}for(f&&(n=c,c=p,p=n,t.s=-t.s),u=c.length,a=p.length-u;a>0;--a)c[u++]=0;for(a=p.length;a>o;){if(c[--a]<p[a]){for(s=a;s&&c[--s]===0;)c[s]=mn-1;--c[s],c[a]+=mn}c[a]-=p[a]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,St?dt(t,y):t):new v(0)}function io(e,t,n){var r,a=Wt(e),s=ka(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Xi(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Xi(-a-1)+s,n&&(r=n-o)>0&&(s+=Xi(r))):a>=o?(s+=Xi(a+1-o),n&&(r=n-a-1)>0&&(s=s+"."+Xi(r))):((r=a+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(s+="."),s+=Xi(r))),e.s<0?"-"+s:s}function tI(e,t){if(e.length>t)return e.length=t,!0}function _4(e){var t,n,r;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Xs+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return eI(o,s.toString())}else if(typeof s!="string")throw Error(Xs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,_oe.test(s))eI(o,s);else throw Error(Xs+s)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=_4,a.config=a.set=woe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function woe(e){if(!e||typeof e!="object")throw Error(Vr+"Object expected");var t,n,r,a=["precision",1,Dl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Pl(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Xs+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xs+n+": "+r);return this}var wE=_4(xoe);xr=new wE(1);const nt=wE;var Soe=e=>e,w4={},S4=e=>e===w4,nI=e=>function t(){return arguments.length===0||arguments.length===1&&S4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},j4=(e,t)=>e===1?t:nI(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(o=>o!==w4).length;return s>=e?t(...r):j4(e-s,nI(function(){for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];var d=r.map(f=>S4(f)?u.shift():f);return t(...d,...u)}))}),zp=e=>j4(e.length,e),bS=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},joe=zp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Eoe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Soe;var a=n.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce((u,c)=>c(u),s(...arguments))}},xS=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),E4=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t&&a.every((o,u)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[u])})||(t=a,n=e(...a)),n}};function A4(e){var t;return e===0?t=1:t=Math.floor(new nt(e).abs().log(10).toNumber())+1,t}function O4(e,t,n){for(var r=new nt(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}zp((e,t,n)=>{var r=+e,a=+t;return r+n*(a-r)});zp((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});zp((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var T4=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},N4=(e,t,n)=>{if(e.lte(0))return new nt(0);var r=A4(e.toNumber()),a=new nt(10).pow(r),s=e.div(a),o=r!==1?.05:.1,u=new nt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=u.mul(a);return t?new nt(c.toNumber()):new nt(Math.ceil(c.toNumber()))},Aoe=(e,t,n)=>{var r=new nt(1),a=new nt(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new nt(10).pow(A4(e)-1),a=new nt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new nt(Math.floor(e)))}else e===0?a=new nt(Math.floor((t-1)/2)):n||(a=new nt(Math.floor(e)));var o=Math.floor((t-1)/2),u=Eoe(joe(c=>a.add(new nt(c-o).mul(r)).toNumber()),bS);return u(0,t)},k4=function(t,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new nt(0),tickMin:new nt(0),tickMax:new nt(0)};var o=N4(new nt(n).sub(t).div(r-1),a,s),u;t<=0&&n>=0?u=new nt(0):(u=new nt(t).add(n).div(2),u=u.sub(new nt(u).mod(o)));var c=Math.ceil(u.sub(t).div(o).toNumber()),d=Math.ceil(new nt(n).sub(u).div(o).toNumber()),f=c+d+1;return f>r?k4(t,n,r,a,s+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:o,tickMin:u.sub(new nt(c).mul(o)),tickMax:u.add(new nt(d).mul(o))})};function Ooe(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[o,u]=T4([t,n]);if(o===-1/0||u===1/0){var c=u===1/0?[o,...bS(0,r-1).map(()=>1/0)]:[...bS(0,r-1).map(()=>-1/0),u];return t>n?xS(c):c}if(o===u)return Aoe(o,r,a);var{step:d,tickMin:f,tickMax:p}=k4(o,u,s,a,0),v=O4(f,p.add(new nt(.1).mul(d)),d);return t>n?xS(v):v}function Toe(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=T4([n,r]);if(s===-1/0||o===1/0)return[n,r];if(s===o)return[s];var u=Math.max(t,2),c=N4(new nt(o).sub(s).div(u-1),a,0),d=[...O4(new nt(s),new nt(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),n>r?xS(d):d}var Noe=E4(Ooe),koe=E4(Toe),C4=e=>e.rootProps.maxBarSize,Coe=e=>e.rootProps.barGap,M4=e=>e.rootProps.barCategoryGap,Moe=e=>e.rootProps.barSize,Up=e=>e.rootProps.stackOffset,SE=e=>e.options.chartName,jE=e=>e.rootProps.syncId,R4=e=>e.rootProps.syncMethod,EE=e=>e.options.eventEmitter,ti={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},yr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Roe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ti.angleAxisId,includeHidden:!1,name:void 0,reversed:ti.reversed,scale:ti.scale,tick:ti.tick,tickCount:void 0,ticks:void 0,type:ti.type,unit:void 0},Doe={allowDataOverflow:yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yr.scale,tick:yr.tick,tickCount:yr.tickCount,ticks:void 0,type:yr.type,unit:void 0},Poe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ti.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ti.scale,tick:ti.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Loe={allowDataOverflow:yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yr.scale,tick:yr.tick,tickCount:yr.tickCount,ticks:void 0,type:"category",unit:void 0},AE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Poe:Roe,OE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Loe:Doe,Fp=e=>e.polarOptions,TE=fe([yi,bi,yn],Jne),D4=fe([Fp,TE],(e,t)=>{if(e!=null)return pa(e.innerRadius,t,0)}),P4=fe([Fp,TE],(e,t)=>{if(e!=null)return pa(e.outerRadius,t,t*.8)}),qoe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},L4=fe([Fp],qoe);fe([AE,L4],Hp);var q4=fe([TE,D4,P4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});fe([OE,q4],Hp);var I4=fe([Ze,Fp,D4,P4,yi,bi],(e,t,n,r,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:u,startAngle:c,endAngle:d}=t;return{cx:pa(o,a,a/2),cy:pa(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Qt=(e,t)=>t,Gp=(e,t,n)=>n;function NE(e){return e?.id}var on=e=>{var t=Ze(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ll=e=>e.tooltip.settings.axisId,xn=e=>{var t=on(e),n=Ll(e);return Uc(e,t,n)},B4=fe([xn],e=>e?.dataKey);function $4(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=n,o=new Map;return e.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=NE(u);d.forEach((p,v)=>{var y=s==null||a?v:String(vn(p,s,null)),_=vn(p,u.dataKey,0),x;o.has(y)?x=o.get(y):x={},Object.assign(x,{[f]:_}),o.set(y,x)})}}),Array.from(o.values())}function Kp(e){return e.stackId!=null&&e.dataKey!=null}function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(r){Ioe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ioe(e,t,n){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Boe(e){var t=$oe(e,"string");return typeof t=="symbol"?t:t+""}function $oe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _S=[0,"auto"],vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},z4=(e,t)=>e.cartesianAxis.xAxis[t],_i=(e,t)=>{var n=z4(e,t);return n??vr},gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_S,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ic},U4=(e,t)=>e.cartesianAxis.yAxis[t],wi=(e,t)=>{var n=U4(e,t);return n??gr},zoe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??zoe},ar=(e,t,n)=>{switch(t){case"xAxis":return _i(e,n);case"yAxis":return wi(e,n);case"zAxis":return kE(e,n);case"angleAxis":return AE(e,n);case"radiusAxis":return OE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Uoe=(e,t,n)=>{switch(t){case"xAxis":return _i(e,n);case"yAxis":return wi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Uc=(e,t,n)=>{switch(t){case"xAxis":return _i(e,n);case"yAxis":return wi(e,n);case"angleAxis":return AE(e,n);case"radiusAxis":return OE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},H4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function F4(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Yp=e=>e.graphicalItems.cartesianItems,Hoe=fe([Qt,Gp],F4),G4=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Hc=fe([Yp,ar,Hoe],G4),K4=fe([Hc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Kp)),Y4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),V4=fe([Hc],Y4),W4=e=>e.map(t=>t.data).filter(Boolean).flat(1),Foe=fe([Hc],W4),X4=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},CE=fe([Foe,$p],X4),Z4=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:vn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:vn(a,r)}))):e.map(r=>({value:r})),Vp=fe([CE,ar,Hc],Z4);function Q4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function go(e){return e.filter(t=>Ma(t)||t instanceof Date).map(Number).filter(t=>Sr(t)===!1)}function Goe(e,t,n){return!n||typeof t!="number"||Sr(t)?[]:n.length?go(n.flatMap(r=>{var a=vn(e,r.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!Er(s)||!Er(o)))return[t-s,t+o]})):[]}var Koe=fe([K4,$p,xn],$4),J4=(e,t,n)=>{var r={},a=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),r);return Object.fromEntries(Object.entries(a).map(s=>{var[o,u]=s,c=u.map(NE);return[o,{stackedData:mre(e,c,n),graphicalItems:u}]}))},wS=fe([Koe,K4,Up],J4),e6=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(n!=="zAxis"){var s=xre(e,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Yoe=fe([wS,hs,Qt],e6),t6=(e,t,n,r,a)=>n.length>0?e.flatMap(s=>n.flatMap(o=>{var u,c,d=(u=r[o.id])===null||u===void 0?void 0:u.filter(p=>Q4(a,p)),f=vn(s,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:f,errorDomain:Goe(s,f,d)}})).filter(Boolean):t?.dataKey!=null?e.map(s=>({value:vn(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Wp=e=>e.errorBars,n6=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Q4(n,r));fe([V4,Wp,Qt],n6);var Voe=fe([CE,ar,V4,Wp,Qt],t6);function Woe(e){var{value:t}=e;if(Ma(t)||t instanceof Date)return t}var aI=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=go(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Xoe=(e,t,n)=>{var r=e.map(Woe).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&vz(r))?BU(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ME=e=>{var t;if(e==null||!("domain"in e))return _S;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=go(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:_S},Ch=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),u=Math.max(...s);return[o,u]}},r6=e=>e.referenceElements.dots,ql=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Zoe=fe([r6,Qt,Gp],ql),a6=e=>e.referenceElements.areas,Qoe=fe([a6,Qt,Gp],ql),i6=e=>e.referenceElements.lines,Joe=fe([i6,Qt,Gp],ql),s6=(e,t)=>{var n=go(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ele=fe(Zoe,Qt,s6),o6=(e,t)=>{var n=go(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tle=fe([Qoe,Qt],o6),l6=(e,t)=>{var n=go(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},nle=fe(Joe,Qt,l6),rle=fe(ele,nle,tle,(e,t,n)=>Ch(e,n,t)),ale=fe([ar],ME),u6=(e,t,n,r,a,s,o)=>{var u=yoe(t,e.allowDataOverflow);if(u!=null)return u;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",d=c?Ch(n,a,aI(r)):Ch(a,aI(r));return boe(t,d,e.allowDataOverflow)},ile=fe([ar,ale,Yoe,Voe,rle,Ze,Qt],u6),sle=[0,1],c6=(e,t,n,r,a,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:c}=e,d=cs(t,s);return d&&u==null?BU(0,n.length):c==="category"?Xoe(r,e,d):a==="expand"?sle:o}},RE=fe([ar,Ze,CE,Vp,Up,Qt,ile],c6),f6=(e,t,n,r,a)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Pc(s));return u in oc?u:"point"}}},Fc=fe([ar,Ze,H4,SE,Qt],f6);function ole(e){if(e!=null){if(e in oc)return oc[e]();var t="scale".concat(Pc(e));if(t in oc)return oc[t]()}}function DE(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=ole(t);if(a!=null){var s=a.domain(n).range(r);return cre(s),s}}}var d6=(e,t,n)=>{var r=ME(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&El(e))return Noe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&El(e))return koe(e,t.tickCount,t.allowDecimals)}},PE=fe([RE,Uc,Fc],d6),h6=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&El(t)&&Array.isArray(n)&&n.length>0){var a=t[0],s=n[0],o=t[1],u=n[n.length-1];return[Math.min(a,s),Math.max(o,u)]}return t},lle=fe([ar,RE,PE,Qt],h6),ule=fe(Vp,ar,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(go(e.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/a}}),p6=fe(ule,Ze,M4,yn,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!Er(e))return 0;var s=t==="vertical"?r.height:r.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=pa(n,e*s),u=e*s/2;return u-o-(u-o)/s*o}return 0}),cle=(e,t)=>{var n=_i(e,t);return n==null||typeof n.padding!="string"?0:p6(e,"xAxis",t,n.padding)},fle=(e,t)=>{var n=wi(e,t);return n==null||typeof n.padding!="string"?0:p6(e,"yAxis",t,n.padding)},dle=fe(_i,cle,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),hle=fe(wi,fle,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),ple=fe([yn,dle,Np,Tp,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),mle=fe([yn,Ze,hle,Np,Tp,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:o}=a;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Gc=(e,t,n,r)=>{var a;switch(t){case"xAxis":return ple(e,n,r);case"yAxis":return mle(e,n,r);case"zAxis":return(a=kE(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return L4(e);case"radiusAxis":return q4(e,n);default:return}},m6=fe([ar,Gc],Hp),Il=fe([ar,Fc,lle,m6],DE);fe([Hc,Wp,Qt],n6);function v6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Xp=(e,t)=>t,Zp=(e,t,n)=>n,vle=fe(Ap,Xp,Zp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(v6)),gle=fe(Op,Xp,Zp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(v6)),g6=(e,t)=>({width:e.width,height:t.height}),yle=(e,t)=>{var n=typeof t.width=="number"?t.width:Ic;return{width:n,height:e.height}},y6=fe(yn,_i,g6),ble=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},xle=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},_le=fe(bi,yn,vle,Xp,Zp,(e,t,n,r,a)=>{var s={},o;return n.forEach(u=>{var c=g6(t,u);o==null&&(o=ble(t,r,e));var d=r==="top"&&!a||r==="bottom"&&a;s[u.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),s}),wle=fe(yi,yn,gle,Xp,Zp,(e,t,n,r,a)=>{var s={},o;return n.forEach(u=>{var c=yle(t,u);o==null&&(o=xle(t,r,e));var d=r==="left"&&!a||r==="right"&&a;s[u.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),s}),Sle=(e,t)=>{var n=_i(e,t);if(n!=null)return _le(e,n.orientation,n.mirror)},jle=fe([yn,_i,Sle,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Ele=(e,t)=>{var n=wi(e,t);if(n!=null)return wle(e,n.orientation,n.mirror)},Ale=fe([yn,wi,Ele,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),b6=fe(yn,wi,(e,t)=>{var n=typeof t.width=="number"?t.width:Ic;return{width:n,height:e.height}}),iI=(e,t,n)=>{switch(t){case"xAxis":return y6(e,n).width;case"yAxis":return b6(e,n).height;default:return}},x6=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=n,u=cs(e,r),c=t.map(d=>d.value);if(o&&u&&s==="category"&&a&&vz(c))return c}},LE=fe([Ze,Vp,ar,Qt],x6),_6=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,o=cs(e,r);if(o&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},qE=fe([Ze,Vp,Uc,Qt],_6),sI=fe([Ze,Uoe,Fc,Il,LE,qE,Gc,PE,Qt],(e,t,n,r,a,s,o,u,c)=>{if(t==null)return null;var d=cs(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:d,niceTicks:u,range:o,realScaleType:n,scale:r}}),Ole=(e,t,n,r,a,s,o,u,c)=>{if(!(t==null||r==null)){var d=cs(e,c),{type:f,ticks:p,tickCount:v}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=f==="category"&&r.bandwidth?r.bandwidth()/y:0;_=c==="angleAxis"&&s!=null&&s.length>=2?Jn(s[0]-s[1])*2*_:_;var x=p||a;if(x){var w=x.map((S,E)=>{var O=o?o.indexOf(S):S;return{index:E,coordinate:r(O)+_,value:S,offset:_}});return w.filter(S=>!Sr(S.coordinate))}return d&&u?u.map((S,E)=>({coordinate:r(S)+_,value:S,index:E,offset:_})):r.ticks?r.ticks(v).map(S=>({coordinate:r(S)+_,value:S,offset:_})):r.domain().map((S,E)=>({coordinate:r(S)+_,value:o?o[S]:S,index:E,offset:_}))}},w6=fe([Ze,Uc,Fc,Il,PE,Gc,LE,qE,Qt],Ole),Tle=(e,t,n,r,a,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=cs(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&r?.length>=2?Jn(r[0]-r[1])*2*d:d,u&&s?s.map((f,p)=>({coordinate:n(f)+d,value:f,index:p,offset:d})):n.ticks?n.ticks(c).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,p)=>({coordinate:n(f)+d,value:a?a[f]:f,index:p,offset:d}))}},is=fe([Ze,Uc,Il,Gc,LE,qE,Qt],Tle),ss=fe(ar,Il,(e,t)=>{if(!(e==null||t==null))return kh(kh({},e),{},{scale:t})}),Nle=fe([ar,Fc,RE,m6],DE);fe((e,t,n)=>kE(e,n),Nle,(e,t)=>{if(!(e==null||t==null))return kh(kh({},e),{},{scale:t})});var kle=fe([Ze,Ap,Op],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),S6=e=>e.options.defaultTooltipEventType,j6=e=>e.options.validateTooltipEventTypes;function E6(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function IE(e,t){var n=S6(e),r=j6(e);return E6(t,n,r)}function Cle(e){return ke(t=>IE(t,e))}var A6=(e,t)=>{var n,r=Number(t);if(!(Sr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Mle=e=>e.tooltip.settings,Ji={active:!1,index:null,dataKey:void 0,coordinate:void 0},Rle={itemInteraction:{click:Ji,hover:Ji},axisInteraction:{click:Ji,hover:Ji},keyboardInteraction:Ji,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},O6=Or({name:"tooltip",initialState:Rle,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=si(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Dle,removeTooltipEntrySettings:Ple,setTooltipSettingsState:Lle,setActiveMouseOverItemIndex:T6,mouseLeaveItem:qle,mouseLeaveChart:N6,setActiveClickItemIndex:Ile,setMouseOverAxisIndex:k6,setMouseClickAxisIndex:Ble,setSyncInteraction:SS,setKeyboardInteraction:jS}=O6.actions,$le=O6.reducer;function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){zle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zle(e,t,n){return(t=Ule(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ule(e){var t=Hle(e,"string");return typeof t=="symbol"?t:t+""}function Hle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fle(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Gle(e){return e.index!=null}var C6=(e,t,n,r)=>{if(t==null)return Ji;var a=Fle(e,t,n);if(a==null)return Ji;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Gle(a)){if(s)return kd(kd({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return kd(kd({},Ji),{},{coordinate:a.coordinate})},BE=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!Er(r))return n;var a=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(a,Math.min(r,s)))},M6=(e,t,n,r,a,s,o,u)=>{if(!(s==null||u==null)){var c=o[0],d=c==null?void 0:u(c.positions,s);if(d!=null)return d;var f=a?.[Number(s)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:f.coordinate}}}},R6=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===a})},Kc=e=>e.options.tooltipPayloadSearcher,Bl=e=>e.tooltip;function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(n),!0).forEach(function(r){Kle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kle(e,t,n){return(t=Yle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yle(e){var t=Vle(e,"string");return typeof t=="symbol"?t:t+""}function Vle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wle(e,t){return e??t}var D6=(e,t,n,r,a,s,o)=>{if(!(t==null||s==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,p=[];return e.reduce((v,y)=>{var _,{dataDefinedOnItem:x,settings:w}=y,S=Wle(x,u),E=Array.isArray(S)?SU(S,d,f):S,O=(_=w?.dataKey)!==null&&_!==void 0?_:r,A=w?.nameKey,N;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?N=gz(E,r,a):N=s(E,t,c,A),Array.isArray(N))N.forEach(C=>{var q=uI(uI({},w),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});v.push(eq({tooltipEntrySettings:q,dataKey:C.dataKey,payload:C.payload,value:vn(C.payload,C.dataKey),name:C.name}))});else{var k;v.push(eq({tooltipEntrySettings:w,dataKey:O,payload:N,value:vn(N,O),name:(k=vn(N,A))!==null&&k!==void 0?k:w?.name}))}return v},p)}},$E=fe([xn,Ze,H4,SE,on],f6),Xle=fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Zle=fe([on,Ll],F4),Yc=fe([Xle,xn,Zle],G4),Qle=fe([Yc],e=>e.filter(Kp)),Jle=fe([Yc],W4),$l=fe([Jle,hs],X4),eue=fe([Qle,hs,xn],$4),zE=fe([$l,xn,Yc],Z4),tue=fe([xn],ME),nue=fe([Yc],e=>e.filter(Kp)),rue=fe([eue,nue,Up],J4),aue=fe([rue,hs,on],e6),iue=fe([Yc],Y4),sue=fe([$l,xn,iue,Wp,on],t6),oue=fe([r6,on,Ll],ql),lue=fe([oue,on],s6),uue=fe([a6,on,Ll],ql),cue=fe([uue,on],o6),fue=fe([i6,on,Ll],ql),due=fe([fue,on],l6),hue=fe([lue,due,cue],Ch),pue=fe([xn,tue,aue,sue,hue,Ze,on],u6),P6=fe([xn,Ze,$l,zE,Up,on,pue],c6),mue=fe([P6,xn,$E],d6),vue=fe([xn,P6,mue,on],h6),L6=e=>{var t=on(e),n=Ll(e),r=!1;return Gc(e,t,n,r)},q6=fe([xn,L6],Hp),I6=fe([xn,$E,vue,q6],DE),gue=fe([Ze,zE,xn,on],x6),yue=fe([Ze,zE,xn,on],_6),bue=(e,t,n,r,a,s,o,u)=>{if(t){var{type:c}=t,d=cs(e,u);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=u==="angleAxis"&&a!=null&&a?.length>=2?Jn(a[0]-a[1])*2*p:p,d&&o?o.map((v,y)=>({coordinate:r(v)+p,value:v,index:y,offset:p})):r.domain().map((v,y)=>({coordinate:r(v)+p,value:s?s[v]:v,index:y,offset:p}))}}},Si=fe([Ze,xn,$E,I6,L6,gue,yue,on],bue),UE=fe([S6,j6,Mle],(e,t,n)=>E6(n.shared,e,t)),B6=e=>e.tooltip.settings.trigger,HE=e=>e.tooltip.settings.defaultIndex,Qp=fe([Bl,UE,B6,HE],C6),so=fe([Qp,$l],BE),$6=fe([Si,so],A6),z6=fe([Qp],e=>{if(e)return e.dataKey}),U6=fe([Bl,UE,B6,HE],R6),xue=fe([yi,bi,Ze,yn,Si,HE,U6,Kc],M6),_ue=fe([Qp,xue],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),wue=fe([Qp],e=>e.active),Sue=fe([U6,so,hs,B4,$6,Kc,UE],D6),jue=fe([Sue],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){Eue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eue(e,t,n){return(t=Aue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aue(e){var t=Oue(e,"string");return typeof t=="symbol"?t:t+""}function Oue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tue=()=>ke(xn),Nue=()=>{var e=Tue(),t=ke(Si),n=ke(I6);return _c(fI(fI({},e),{},{scale:n}),t)},kue=()=>ke(SE),FE=(e,t)=>t,H6=(e,t,n)=>n,GE=(e,t,n,r)=>r,Cue=fe(Si,e=>bp(e,t=>t.coordinate)),KE=fe([Bl,FE,H6,GE],C6),F6=fe([KE,$l],BE),Mue=(e,t,n)=>{if(t!=null){var r=Bl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},G6=fe([Bl,FE,H6,GE],R6),Mh=fe([yi,bi,Ze,yn,Si,GE,G6,Kc],M6),Rue=fe([KE,Mh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),K6=fe(Si,F6,A6),Due=fe([G6,F6,hs,B4,K6,Kc,FE],D6),Pue=fe([KE],e=>({isActive:e.active,activeIndex:e.index})),Lue=(e,t,n,r,a,s,o,u)=>{if(!(!e||!t||!r||!a||!s)){var c=_re(e.chartX,e.chartY,t,n,u);if(c){var d=Sre(c,t),f=lre(d,o,s,r,a),p=wre(t,s,f,c);return{activeIndex:String(f),activeCoordinate:p}}}};function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ES.apply(null,arguments)}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){que(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function que(e,t,n){return(t=Iue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iue(e){var t=Bue(e,"string");return typeof t=="symbol"?t:t+""}function Bue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ue(e){var{coordinate:t,payload:n,index:r,offset:a,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:c,chartName:d}=e,f=t,p=n,v=r;if(!u||!f||d!=="ScatterChart"&&c!=="axis")return null;var y,_;if(d==="ScatterChart")y=f,_=Oae;else if(d==="BarChart")y=Tae(o,f,a,s),_=PU;else if(o==="radial"){var{cx:x,cy:w,radius:S,startAngle:E,endAngle:O}=LU(f);y={cx:x,cy:w,startAngle:E,endAngle:O,innerRadius:S,outerRadius:S},_=IU}else y={points:oie(o,f,a)},_=kU;var A=typeof u=="object"&&"className"in u?u.className:void 0,N=Cd(Cd(Cd(Cd({stroke:"#ccc",pointerEvents:"none"},a),y),Ut(u,!1)),{},{payload:p,payloadIndex:v,className:rt("recharts-tooltip-cursor",A)});return T.isValidElement(u)?T.cloneElement(u,N):T.createElement(_,N)}function zue(e){var t=Nue(),n=OU(),r=kp(),a=kue();return T.createElement($ue,ES({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var Y6=T.createContext(null),Uue=()=>T.useContext(Y6),X_={exports:{}},hI;function Hue(){return hI||(hI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,p,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new a(f,p||c,v),_=n?n+d:d;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)t.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},u.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,_=new Array(y);v<y;v++)_[v]=p[v].fn;return _},u.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,f,p,v,y,_){var x=n?n+d:d;if(!this._events[x])return!1;var w=this._events[x],S=arguments.length,E,O;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,p),!0;case 4:return w.fn.call(w.context,f,p,v),!0;case 5:return w.fn.call(w.context,f,p,v,y),!0;case 6:return w.fn.call(w.context,f,p,v,y,_),!0}for(O=1,E=new Array(S-1);O<S;O++)E[O-1]=arguments[O];w.fn.apply(w.context,E)}else{var A=w.length,N;for(O=0;O<A;O++)switch(w[O].once&&this.removeListener(d,w[O].fn,void 0,!0),S){case 1:w[O].fn.call(w[O].context);break;case 2:w[O].fn.call(w[O].context,f);break;case 3:w[O].fn.call(w[O].context,f,p);break;case 4:w[O].fn.call(w[O].context,f,p,v);break;default:if(!E)for(N=1,E=new Array(S-1);N<S;N++)E[N-1]=arguments[N];w[O].fn.apply(w[O].context,E)}}return!0},u.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},u.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},u.prototype.removeListener=function(d,f,p,v){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return o(this,y),this;var _=this._events[y];if(_.fn)_.fn===f&&(!v||_.once)&&(!p||_.context===p)&&o(this,y);else{for(var x=0,w=[],S=_.length;x<S;x++)(_[x].fn!==f||v&&!_[x].once||p&&_[x].context!==p)&&w.push(_[x]);w.length?this._events[y]=w.length===1?w[0]:w:o(this,y)}return this},u.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(X_)),X_.exports}var Fue=Hue();const Gue=Ar(Fue);var Ec=new Gue,AS="recharts.syncEvent.tooltip",pI="recharts.syncEvent.brush";function V6(e,t){if(t){var n=Number.parseInt(t,10);if(!Sr(n))return e?.[n]}}var Kue={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},W6=Or({name:"options",initialState:Kue,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yue=W6.reducer,{createEventEmitter:Vue}=W6.actions;function Wue(e){return e.tooltip.syncInteraction}var Xue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},X6=Or({name:"chartData",initialState:Xue,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:mI,setDataStartEndIndexes:Zue,setComputedData:qge}=X6.actions,Que=X6.reducer,Jue=["x","y"];function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){ece(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ece(e,t,n){return(t=tce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tce(e){var t=nce(e,"string");return typeof t=="symbol"?t:t+""}function nce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rce(e,t){if(e==null)return{};var n,r,a=ace(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ace(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Z6=()=>{};function ice(){var e=ke(jE),t=ke(EE),n=Zt(),r=ke(R4),a=ke(Si),s=kp(),o=Zj(),u=ke(c=>c.rootProps.className);T.useEffect(()=>{if(e==null)return Z6;var c=(d,f,p)=>{if(t!==p&&e===d){if(r==="index"){var v;if(o&&f!==null&&f!==void 0&&(v=f.payload)!==null&&v!==void 0&&v.coordinate){var y=f.payload.coordinate,{x:_,y:x}=y,w=rce(y,Jue),S=Ls(Ls(Ls({},w),typeof _=="number"&&{x:Math.max(o.x,Math.min(_,o.x+o.width))}),typeof x=="number"&&{y:Math.max(o.y,Math.min(x,o.y+o.height))}),E=Ls(Ls({},f),{},{payload:Ls(Ls({},f.payload),{},{coordinate:S})});n(E)}else n(f);return}if(a!=null){var O;if(typeof r=="function"){var A={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},N=r(a,A);O=a[N]}else r==="value"&&(O=a.find(z=>String(z.value)===f.payload.label));var{coordinate:k}=f.payload;if(O==null||f.payload.active===!1||k==null||o==null){n(SS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:C,y:q}=k,P=Math.min(C,o.x+o.width),M=Math.min(q,o.y+o.height),L={x:s==="horizontal"?O.coordinate:P,y:s==="horizontal"?M:O.coordinate},B=SS({active:f.payload.active,coordinate:L,dataKey:f.payload.dataKey,index:String(O.index),label:f.payload.label});n(B)}}};return Ec.on(AS,c),()=>{Ec.off(AS,c)}},[u,n,t,e,r,a,s,o])}function sce(){var e=ke(jE),t=ke(EE),n=Zt();T.useEffect(()=>{if(e==null)return Z6;var r=(a,s,o)=>{t!==o&&e===a&&n(Zue(s))};return Ec.on(pI,r),()=>{Ec.off(pI,r)}},[n,t,e])}function oce(){var e=Zt();T.useEffect(()=>{e(Vue())},[e]),ice(),sce()}function lce(e,t,n,r,a,s){var o=ke(v=>Mue(v,e,t)),u=ke(EE),c=ke(jE),d=ke(R4),f=ke(Wue),p=f?.active;T.useEffect(()=>{if(!p&&c!=null&&u!=null){var v=SS({active:s,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r});Ec.emit(AS,c,v,u)}},[p,n,o,a,r,u,c,d,s])}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){uce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uce(e,t,n){return(t=cce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cce(e){var t=fce(e,"string");return typeof t=="symbol"?t:t+""}function fce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dce(e){return e.dataKey}function hce(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(iae,t)}var bI=[],pce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!po.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xI(e){var t=rr(e,pce),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,content:o,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:f,position:p,reverseDirection:v,useTranslate3d:y,wrapperStyle:_,cursor:x,shared:w,trigger:S,defaultIndex:E,portal:O,axisId:A}=t,N=Zt(),k=typeof E=="number"?String(E):E;T.useEffect(()=>{N(Lle({shared:w,trigger:S,axisId:A,active:n,defaultIndex:k}))},[N,w,S,A,n,k]);var C=Zj(),q=NU(),P=Cle(w),{activeIndex:M,isActive:L}=ke(X=>Pue(X,P,S,k)),B=ke(X=>Due(X,P,S,k)),z=ke(X=>K6(X,P,S,k)),D=ke(X=>Rue(X,P,S,k)),H=B,I=Uue(),F=n??L,[Q,Y]=Qz([H,F]),$=P==="axis"?z:void 0;lce(P,S,D,$,M,F);var V=O??I;if(V==null)return null;var Z=H??bI;F||(Z=bI),u&&Z.length&&(Z=Yz(H.filter(X=>X.value!=null&&(X.hide!==!0||t.includeHidden)),f,dce));var ne=Z.length>0,K=T.createElement(dae,{allowEscapeViewBox:r,animationDuration:a,animationEasing:s,isAnimationActive:c,active:F,coordinate:D,hasPayload:ne,offset:d,position:p,reverseDirection:v,useTranslate3d:y,viewBox:C,wrapperStyle:_,lastBoundingBox:Q,innerRef:Y,hasPortalFromProps:!!O},hce(o,yI(yI({},t),{},{payload:Z,label:$,active:F,coordinate:D,accessibilityLayer:q})));return T.createElement(T.Fragment,null,Fh.createPortal(K,V),F&&T.createElement(zue,{cursor:x,tooltipEventType:P,coordinate:D,payload:H,index:M}))}var Z_={},Q_={},J_={},_I;function mce(){return _I||(_I=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:s}={}){let o,u=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},p=()=>{d&&f(),x()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},_=()=>{v!==null&&(clearTimeout(v),v=null)},x=()=>{_(),o=void 0,u=null},w=()=>{f()},S=function(...E){if(a?.aborted)return;o=this,u=E;const O=v==null;y(),c&&O&&f()};return S.schedule=y,S.cancel=x,S.flush=w,a?.addEventListener("abort",x,{once:!0}),S}e.debounce=t})(J_)),J_}var wI;function vce(){return wI||(wI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mce();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:u=!0,maxWait:c}=s,d=Array(2);o&&(d[0]="leading"),u&&(d[1]="trailing");let f,p=null;const v=t.debounce(function(...x){f=r.apply(this,x),p=null},a,{edges:d}),y=function(...x){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=r.apply(this,x),p=Date.now(),v.cancel(),v.schedule(),f):(v.apply(this,x),f)},_=()=>(v.flush(),f);return y.cancel=v.cancel,y.flush=_,y}e.debounce=n})(Q_)),Q_}var SI;function gce(){return SI||(SI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vce();function n(r,a=0,s={}){const{leading:o=!0,trailing:u=!0}=s;return t.debounce(r,a,{leading:o,maxWait:a,trailing:u})}e.throttle=n})(Z_)),Z_}var ew,jI;function yce(){return jI||(jI=1,ew=gce().throttle),ew}var bce=yce();const xce=Ar(bce);var uc=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s]};function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){_ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ce(e,t,n){return(t=wce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wce(e){var t=Sce(e,"string");return typeof t=="symbol"?t:t+""}function Sce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AI=T.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:o=0,minHeight:u,maxHeight:c,children:d,debounce:f=0,id:p,className:v,onResize:y,style:_={}}=e,x=T.useRef(null),w=T.useRef();w.current=y,T.useImperativeHandle(t,()=>x.current);var[S,E]=T.useState({containerWidth:r.width,containerHeight:r.height}),O=T.useCallback((N,k)=>{E(C=>{var q=Math.round(N),P=Math.round(k);return C.containerWidth===q&&C.containerHeight===P?C:{containerWidth:q,containerHeight:P}})},[]);T.useEffect(()=>{var N=P=>{var M,{width:L,height:B}=P[0].contentRect;O(L,B),(M=w.current)===null||M===void 0||M.call(w,L,B)};f>0&&(N=xce(N,f,{trailing:!0,leading:!1}));var k=new ResizeObserver(N),{width:C,height:q}=x.current.getBoundingClientRect();return O(C,q),k.observe(x.current),()=>{k.disconnect()}},[O,f]);var A=T.useMemo(()=>{var{containerWidth:N,containerHeight:k}=S;if(N<0||k<0)return null;uc(Fs(a)||Fs(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),uc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var C=Fs(a)?N:a,q=Fs(s)?k:s;return n&&n>0&&(C?q=C/n:q&&(C=q*n),c&&q>c&&(q=c)),uc(C>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,q,a,s,o,u,n),T.Children.map(d,P=>T.cloneElement(P,{width:C,height:q,style:tw({width:C,height:q},P.props.style)}))},[n,d,s,c,u,o,S,a]);return T.createElement("div",{id:p?"".concat(p):void 0,className:rt("recharts-responsive-container",v),style:tw(tw({},_),{},{width:a,height:s,minWidth:o,minHeight:u,maxHeight:c}),ref:x},T.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),Q6=e=>null;Q6.displayName="Cell";function jce(e,t,n){return(t=Ece(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ece(e){var t=Ace(e,"string");return typeof t=="symbol"?t:t+""}function Ace(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Oce{constructor(t){jce(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(n),!0).forEach(function(r){Nce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nce(e,t,n){return(t=kce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kce(e){var t=Cce(e,"string");return typeof t=="symbol"?t:t+""}function Cce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mce={cacheSize:2e3,enableCache:!0},J6=Tce({},Mce),TI=new Oce(J6.cacheSize),Rce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NI="recharts_measurement_span";function Dce(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(u)}var kI=(e,t)=>{try{var n=document.getElementById(NI);n||(n=document.createElement("span"),n.setAttribute("id",NI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Rce,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},cc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||po.isSsr)return{width:0,height:0};if(!J6.enableCache)return kI(t,n);var r=Dce(t,n),a=TI.get(r);if(a)return a;var s=kI(t,n);return TI.set(r,s),s},CI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qce=Object.keys(eH),ll="NaN";function Ice(e,t){return e*eH[t]}class Xn{static parse(t){var n,[,r,a]=(n=Lce.exec(t))!==null&&n!==void 0?n:[];return new Xn(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Sr(t)&&(this.unit=""),n!==""&&!Pce.test(n)&&(this.num=NaN,this.unit=""),qce.includes(n)&&(this.num=Ice(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Xn(NaN,""):new Xn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Xn(NaN,""):new Xn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xn(NaN,""):new Xn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xn(NaN,""):new Xn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sr(this.num)}}function tH(e){if(e.includes(ll))return ll;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=(n=CI.exec(t))!==null&&n!==void 0?n:[],o=Xn.parse(r??""),u=Xn.parse(s??""),c=a==="*"?o.multiply(u):o.divide(u);if(c.isNaN())return ll;t=t.replace(CI,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,p,v]=(d=MI.exec(t))!==null&&d!==void 0?d:[],y=Xn.parse(f??""),_=Xn.parse(v??""),x=p==="+"?y.add(_):y.subtract(_);if(x.isNaN())return ll;t=t.replace(MI,x.toString())}return t}var RI=/\(([^()]*)\)/;function Bce(e){for(var t=e,n;(n=RI.exec(t))!=null;){var[,r]=n;t=t.replace(RI,tH(r))}return t}function $ce(e){var t=e.replace(/\s+/g,"");return t=Bce(t),t=tH(t),t}function zce(e){try{return $ce(e)}catch{return ll}}function nw(e){var t=zce(e.slice(5,-1));return t===ll?"":t}var Uce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hce=["dx","dy","angle","className","breakAll"];function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OS.apply(null,arguments)}function DI(e,t){if(e==null)return{};var n,r,a=Fce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nH=/[ \f\n\r\t\v\u2028\u2029]+/,rH=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];jt(t)||(n?a=t.toString().split(""):a=t.toString().split(nH));var s=a.map(u=>({word:u,width:cc(u,r).width})),o=n?0:cc(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Gce=(e,t,n,r,a)=>{var{maxLines:s,children:o,style:u,breakAll:c}=e,d=Me(s),f=o,p=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((B,z)=>{var{word:D,width:H}=z,I=B[B.length-1];if(I&&(r==null||a||I.width+H+n<Number(r)))I.words.push(D),I.width+=H+n;else{var F={words:[D],width:H};B.push(F)}return B},[])},v=p(t),y=M=>M.reduce((L,B)=>L.width>B.width?L:B);if(!d||a)return v;var _=v.length>s||y(v).width>Number(r);if(!_)return v;for(var x="…",w=M=>{var L=f.slice(0,M),B=rH({breakAll:c,style:u,children:L+x}).wordsWithComputedWidth,z=p(B),D=z.length>s||y(z).width>Number(r);return[D,z]},S=0,E=f.length-1,O=0,A;S<=E&&O<=f.length-1;){var N=Math.floor((S+E)/2),k=N-1,[C,q]=w(k),[P]=w(N);if(!C&&!P&&(S=N+1),C&&P&&(E=N-1),!C&&P){A=q;break}O++}return A||v},PI=e=>{var t=jt(e)?[]:e.toString().split(nH);return[{words:t}]},Kce=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:o}=e;if((t||n)&&!po.isSsr){var u,c,d=rH({breakAll:s,children:r,style:a});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;u=f,c=p}else return PI(r);return Gce({breakAll:s,children:r,maxLines:o,style:a},u,c,t,n)}return PI(r)},LI="#808080",YE=T.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:c="end",fill:d=LI}=e,f=DI(e,Uce),p=T.useMemo(()=>Kce({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:o,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,o,f.style,f.width]),{dx:v,dy:y,angle:_,className:x,breakAll:w}=f,S=DI(f,Hce);if(!Ma(n)||!Ma(r)||p.length===0)return null;var E=n+(Me(v)?v:0),O=r+(Me(y)?y:0),A;switch(c){case"start":A=nw("calc(".concat(s,")"));break;case"middle":A=nw("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:A=nw("calc(".concat(p.length-1," * -").concat(a,")"));break}var N=[];if(o){var k=p[0].width,{width:C}=f;N.push("scale(".concat(Me(C)?C/k:1,")"))}return _&&N.push("rotate(".concat(_,", ").concat(E,", ").concat(O,")")),N.length&&(S.transform=N.join(" ")),T.createElement("text",OS({},Ut(S,!0),{ref:t,x:E,y:O,className:rt("recharts-text",x),textAnchor:u,fill:d.includes("url")?LI:d}),p.map((q,P)=>{var M=q.words.join(w?"":" ");return T.createElement("tspan",{x:E,dy:P===0?A:a,key:"".concat(M,"-").concat(P)},M)}))});YE.displayName="Text";var Yce=["labelRef"];function Vce(e,t){if(e==null)return{};var n,r,a=Wce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Wce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(r){Xce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xce(e,t,n){return(t=Zce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zce(e){var t=Qce(e,"string");return typeof t=="symbol"?t:t+""}function Qce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ni.apply(null,arguments)}var aH=T.createContext(null),Jce=e=>{var{x:t,y:n,width:r,height:a,children:s}=e,o=T.useMemo(()=>({x:t,y:n,width:r,height:a}),[t,n,r,a]);return T.createElement(aH.Provider,{value:o},s)},iH=()=>{var e=T.useContext(aH),t=Zj();return e||t},efe=T.createContext(null),tfe=()=>{var e=T.useContext(efe),t=ke(I4);return e||t},nfe=e=>{var{value:t,formatter:n}=e,r=jt(e.children)?t:e.children;return typeof n=="function"?n(r):r},VE=e=>e!=null&&typeof e=="function",rfe=(e,t)=>{var n=Jn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},afe=(e,t,n,r,a)=>{var{offset:s,className:o}=e,{cx:u,cy:c,innerRadius:d,outerRadius:f,startAngle:p,endAngle:v,clockWise:y}=a,_=(d+f)/2,x=rfe(p,v),w=x>=0?1:-1,S,E;switch(t){case"insideStart":S=p+w*s,E=y;break;case"insideEnd":S=v-w*s,E=!y;break;case"end":S=v+w*s,E=y;break;default:throw new Error("Unsupported position ".concat(t))}E=x<=0?E:!E;var O=On(u,c,_,S),A=On(u,c,_,S+(E?1:-1)*359),N="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(E?0:1,`,
    `).concat(A.x,",").concat(A.y),k=jt(e.id)?yc("recharts-radial-line-"):e.id;return T.createElement("text",ni({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:k,d:N})),T.createElement("textPath",{xlinkHref:"#".concat(k)},n))},ife=(e,t,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:u,endAngle:c}=e,d=(u+c)/2;if(n==="outside"){var{x:f,y:p}=On(r,a,o+t,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(s+o)/2,{x:y,y:_}=On(r,a,v,d);return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},sH=e=>"cx"in e&&Me(e.cx),sfe=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,s;n!=null&&!sH(n)&&(s=n);var{x:o,y:u,width:c,height:d}=t,f=d>=0?1:-1,p=f*r,v=f>0?"end":"start",y=f>0?"start":"end",_=c>=0?1:-1,x=_*r,w=_>0?"end":"start",S=_>0?"start":"end";if(a==="top"){var E={x:o+c/2,y:u-f*r,textAnchor:"middle",verticalAnchor:v};return zt(zt({},E),s?{height:Math.max(u-s.y,0),width:c}:{})}if(a==="bottom"){var O={x:o+c/2,y:u+d+p,textAnchor:"middle",verticalAnchor:y};return zt(zt({},O),s?{height:Math.max(s.y+s.height-(u+d),0),width:c}:{})}if(a==="left"){var A={x:o-x,y:u+d/2,textAnchor:w,verticalAnchor:"middle"};return zt(zt({},A),s?{width:Math.max(A.x-s.x,0),height:d}:{})}if(a==="right"){var N={x:o+c+x,y:u+d/2,textAnchor:S,verticalAnchor:"middle"};return zt(zt({},N),s?{width:Math.max(s.x+s.width-N.x,0),height:d}:{})}var k=s?{width:c,height:d}:{};return a==="insideLeft"?zt({x:o+x,y:u+d/2,textAnchor:S,verticalAnchor:"middle"},k):a==="insideRight"?zt({x:o+c-x,y:u+d/2,textAnchor:w,verticalAnchor:"middle"},k):a==="insideTop"?zt({x:o+c/2,y:u+p,textAnchor:"middle",verticalAnchor:y},k):a==="insideBottom"?zt({x:o+c/2,y:u+d-p,textAnchor:"middle",verticalAnchor:v},k):a==="insideTopLeft"?zt({x:o+x,y:u+p,textAnchor:S,verticalAnchor:y},k):a==="insideTopRight"?zt({x:o+c-x,y:u+p,textAnchor:w,verticalAnchor:y},k):a==="insideBottomLeft"?zt({x:o+x,y:u+d-p,textAnchor:S,verticalAnchor:v},k):a==="insideBottomRight"?zt({x:o+c-x,y:u+d-p,textAnchor:w,verticalAnchor:v},k):a&&typeof a=="object"&&(Me(a.x)||Fs(a.x))&&(Me(a.y)||Fs(a.y))?zt({x:o+pa(a.x,c),y:u+pa(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):zt({x:o+c/2,y:u+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},ofe={offset:5};function Zi(e){var t=rr(e,ofe),{viewBox:n,position:r,value:a,children:s,content:o,className:u="",textBreakAll:c,labelRef:d}=t,f=tfe(),p=iH(),v=r==="center"?p:f??p,y=n||v;if(!y||jt(a)&&jt(s)&&!T.isValidElement(o)&&typeof o!="function")return null;var _=zt(zt({},t),{},{viewBox:y});if(T.isValidElement(o)){var{labelRef:x}=_,w=Vce(_,Yce);return T.cloneElement(o,w)}var S;if(typeof o=="function"){if(S=T.createElement(o,_),T.isValidElement(S))return S}else S=nfe(t);var E=sH(y),O=Ut(t,!0);if(E&&(r==="insideStart"||r==="insideEnd"||r==="end"))return afe(t,r,S,O,y);var A=E?ife(y,t.offset,t.position):sfe(t,y);return T.createElement(YE,ni({ref:d,className:rt("recharts-label",u)},O,A,{breakAll:c}),S)}Zi.displayName="Label";var lfe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?T.createElement(Zi,ni({key:"label-implicit"},r)):Ma(e)?T.createElement(Zi,ni({key:"label-implicit",value:e},r)):T.isValidElement(e)?e.type===Zi?T.cloneElement(e,zt({key:"label-implicit"},r)):T.createElement(Zi,ni({key:"label-implicit",content:e},r)):VE(e)?T.createElement(Zi,ni({key:"label-implicit",content:e},r)):e&&typeof e=="object"?T.createElement(Zi,ni({},e,{key:"label-implicit"},r)):null};function ufe(e){var{label:t}=e,n=iH();return lfe(t,n)||null}var rw={},aw={},II;function cfe(){return II||(II=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(aw)),aw}var iw={},BI;function ffe(){return BI||(BI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(iw)),iw}var $I;function dfe(){return $I||($I=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cfe(),n=ffe(),r=Uj();function a(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=a})(rw)),rw}var sw,zI;function hfe(){return zI||(zI=1,sw=dfe().last),sw}var pfe=hfe();const mfe=Ar(pfe);var vfe=["valueAccessor"],gfe=["dataKey","clockWise","id","textBreakAll"];function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(null,arguments)}function UI(e,t){if(e==null)return{};var n,r,a=yfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bfe=e=>Array.isArray(e.value)?mfe(e.value):e.value,oH=T.createContext(void 0),lH=oH.Provider,uH=T.createContext(void 0);uH.Provider;function xfe(){return T.useContext(oH)}function _fe(){return T.useContext(uH)}function Fd(e){var{valueAccessor:t=bfe}=e,n=UI(e,vfe),{dataKey:r,clockWise:a,id:s,textBreakAll:o}=n,u=UI(n,gfe),c=xfe(),d=_fe(),f=c||d;return!f||!f.length?null:T.createElement(ma,{className:"recharts-label-list"},f.map((p,v)=>{var y,_=jt(r)?t(p,v):vn(p&&p.payload,r),x=jt(s)?{}:{id:"".concat(s,"-").concat(v)};return T.createElement(Zi,Rh({},Ut(p,!0),u,x,{fill:(y=n.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:_,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}Fd.displayName="LabelList";function cH(e){var{label:t}=e;return t?t===!0?T.createElement(Fd,{key:"labelList-implicit"}):T.isValidElement(t)||VE(t)?T.createElement(Fd,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(Fd,Rh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TS.apply(null,arguments)}var fH=e=>{var{cx:t,cy:n,r,className:a}=e,s=rt("recharts-dot",a);return t===+t&&n===+n&&r===+r?T.createElement("circle",TS({},us(e),Dj(e),{className:s,cx:t,cy:n,r})):null},wfe={radiusAxis:{},angleAxis:{}},dH=Or({name:"polarAxis",initialState:wfe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ige,removeRadiusAxis:Bge,addAngleAxis:$ge,removeAngleAxis:zge}=dH.actions,Sfe=dH.reducer,ow={},HI;function jfe(){return HI||(HI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(ow)),ow}var lw,FI;function Efe(){return FI||(FI=1,lw=jfe().isPlainObject),lw}var Afe=Efe();const Ofe=Ar(Afe);function GI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(n),!0).forEach(function(r){Tfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tfe(e,t,n){return(t=Nfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nfe(e){var t=kfe(e,"string");return typeof t=="symbol"?t:t+""}function kfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dh.apply(null,arguments)}var YI=(e,t,n,r,a)=>{var s=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-s/2,",").concat(t+a),o+="L ".concat(e+n-s/2-r,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Cfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mfe=e=>{var t=rr(e,Cfe),{x:n,y:r,upperWidth:a,lowerWidth:s,height:o,className:u}=t,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=t,v=T.useRef(),[y,_]=T.useState(-1),x=T.useRef(a),w=T.useRef(s),S=T.useRef(o),E=T.useRef(n),O=T.useRef(r),A=Rp(e,"trapezoid-");if(T.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var D=v.current.getTotalLength();D&&_(D)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var N=rt("recharts-trapezoid",u);if(!p)return T.createElement("g",null,T.createElement("path",Dh({},Ut(t,!0),{className:N,d:YI(n,r,a,s,o)})));var k=x.current,C=w.current,q=S.current,P=E.current,M=O.current,L="0px ".concat(y===-1?1:y,"px"),B="".concat(y,"px 0px"),z=CU(["strokeDasharray"],d,c);return T.createElement(Mp,{animationId:A,key:A,canBegin:y>0,duration:d,easing:c,isActive:p,begin:f},D=>{var H=Vt(k,a,D),I=Vt(C,s,D),F=Vt(q,o,D),Q=Vt(P,n,D),Y=Vt(M,r,D);v.current&&(x.current=H,w.current=I,S.current=F,E.current=Q,O.current=Y);var $=D>0?{transition:z,strokeDasharray:B}:{strokeDasharray:L};return T.createElement("path",Dh({},Ut(t,!0),{className:N,d:YI(Q,Y,H,I,F),ref:v,style:KI(KI({},$),t.style)}))})},Rfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Dfe(e,t){if(e==null)return{};var n,r,a=Pfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){Lfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lfe(e,t,n){return(t=qfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qfe(e){var t=Ife(e,"string");return typeof t=="symbol"?t:t+""}function Ife(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bfe(e,t){return Ph(Ph({},t),e)}function $fe(e,t){return e==="symbols"}function WI(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return T.createElement(PU,n);case"trapezoid":return T.createElement(Mfe,n);case"sector":return T.createElement(IU,n);case"symbols":if($fe(t))return T.createElement(Bj,n);break;default:return null}}function zfe(e){return T.isValidElement(e)?e.props:e}function Ufe(e){var{option:t,shapeType:n,propTransformer:r=Bfe,activeClassName:a="recharts-active-shape",isActive:s}=e,o=Dfe(e,Rfe),u;if(T.isValidElement(t))u=T.cloneElement(t,Ph(Ph({},o),zfe(t)));else if(typeof t=="function")u=t(o);else if(Ofe(t)&&typeof t!="boolean"){var c=r(t,o);u=T.createElement(WI,{shapeType:n,elementProps:c})}else{var d=o;u=T.createElement(WI,{shapeType:n,elementProps:d})}return s?T.createElement(ma,{className:a},u):u}var hH=(e,t)=>{var n=Zt();return(r,a)=>s=>{e?.(r,a,s),n(T6({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},pH=e=>{var t=Zt();return(n,r)=>a=>{e?.(n,r,a),t(qle())}},mH=(e,t)=>{var n=Zt();return(r,a)=>s=>{e?.(r,a,s),n(Ile({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function vH(e){var{fn:t,args:n}=e,r=Zt(),a=nr();return T.useEffect(()=>{if(!a){var s=t(n);return r(Dle(s)),()=>{r(Ple(s))}}},[t,n,r,a]),null}var Hfe=()=>{};function gH(e){var{legendPayload:t}=e,n=Zt(),r=nr();return T.useEffect(()=>r?Hfe:(n(zre(t)),()=>{n(Ure(t))}),[n,r,t]),null}var uw,Ffe=()=>{var[e]=T.useState(()=>yc("uid-"));return e},Gfe=(uw=_F.useId)!==null&&uw!==void 0?uw:Ffe;function Kfe(e,t){var n=Gfe();return t||(e?"".concat(e,"-").concat(n):n)}var Yfe=T.createContext(void 0),yH=e=>{var{id:t,type:n,children:r}=e,a=Kfe("recharts-".concat(n),t);return T.createElement(Yfe.Provider,{value:a},r(a))},Vfe={cartesianItems:[],polarItems:[]},bH=Or({name:"graphicalItems",initialState:Vfe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=si(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=si(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=si(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Wfe,replaceCartesianGraphicalItem:Xfe,removeCartesianGraphicalItem:Zfe,addPolarGraphicalItem:Uge,removePolarGraphicalItem:Hge}=bH.actions,Qfe=bH.reducer;function xH(e){var t=Zt(),n=T.useRef(null);return T.useEffect(()=>{n.current===null?t(Wfe(e)):n.current!==e&&t(Xfe({prev:n.current,next:e})),n.current=e},[t,e]),T.useEffect(()=>()=>{n.current&&(t(Zfe(n.current)),n.current=null)},[t]),null}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){Jfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jfe(e,t,n){return(t=ede(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ede(e){var t=tde(e,"string");return typeof t=="symbol"?t:t+""}function tde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nde={xAxis:{},yAxis:{},zAxis:{}},_H=Or({name:"cartesianAxis",initialState:nde,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=ZI(ZI({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:rde,removeXAxis:ade,addYAxis:ide,removeYAxis:sde,addZAxis:Fge,removeZAxis:Gge,updateYAxisWidth:ode}=_H.actions,lde=_H.reducer,ude=fe([yn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),cde=fe([ude,yi,bi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),WE=()=>ke(cde),fde=()=>ke(jue);function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(r){dde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dde(e,t,n){return(t=hde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hde(e){var t=pde(e,"string");return typeof t=="symbol"?t:t+""}function pde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mde=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:s}=e;if(a===!1||t.x==null||t.y==null)return null;var o=JI(JI({index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ut(a,!1)),Dj(a)),u;return T.isValidElement(a)?u=T.cloneElement(a,o):typeof a=="function"?u=a(o):u=T.createElement(fH,o),T.createElement(ma,{className:"recharts-active-dot"},u)};function vde(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a}=e,s=ke(so),o=fde();if(t==null||o==null)return null;var u=t.find(c=>o.includes(c.payload));return jt(u)?null:mde({point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r})}var gde="Invariant failed";function yde(e,t){throw new Error(gde)}var bde=["x","y"];function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NS.apply(null,arguments)}function eB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eB(Object(n),!0).forEach(function(r){xde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xde(e,t,n){return(t=_de(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _de(e){var t=wde(e,"string");return typeof t=="symbol"?t:t+""}function wde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sde(e,t){if(e==null)return{};var n,r,a=jde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ede(e,t){var{x:n,y:r}=e,a=Sde(e,bde),s="".concat(n),o=parseInt(s,10),u="".concat(r),c=parseInt(u,10),d="".concat(t.height||a.height),f=parseInt(d,10),p="".concat(t.width||a.width),v=parseInt(p,10);return Vu(Vu(Vu(Vu(Vu({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:v,name:t.name,radius:t.radius})}function XE(e){return T.createElement(Ufe,NS({shapeType:"rectangle",propTransformer:Ede,activeClassName:"recharts-active-bar"},e))}var Ade=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Me(t))return t;var s=Me(r)||jt(r);return s?t(r,a):(s||yde(),n)}},Ode={},wH=Or({name:"errorBars",initialState:Ode,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Kge,replaceErrorBar:Yge,removeErrorBar:Vge}=wH.actions,Tde=wH.reducer,Nde=["children"];function kde(e,t){if(e==null)return{};var n,r,a=Cde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Cde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Rde=T.createContext(Mde);function SH(e){var{children:t}=e,n=kde(e,Nde);return T.createElement(Rde.Provider,{value:n},t)}function ZE(e,t){var n,r,a=ke(d=>_i(d,e)),s=ke(d=>wi(d,t)),o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:vr.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:gr.allowDataOverflow,c=o||u;return{needClip:c,needClipX:o,needClipY:u}}function jH(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=WE(),{needClipX:s,needClipY:o,needClip:u}=ZE(t,n);if(!u)return null;var{x:c,y:d,width:f,height:p}=a;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?c:c-f/2,y:o?d:d-p/2,width:s?f:f*2,height:o?p:p*2}))}var Dde=["onMouseEnter","onMouseLeave","onClick"],Pde=["value","background","tooltipPosition"],Lde=["id"],qde=["onMouseEnter","onClick","onMouseLeave"];function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os.apply(null,arguments)}function tB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tB(Object(n),!0).forEach(function(r){Ide(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ide(e,t,n){return(t=Bde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bde(e){var t=$de(e,"string");return typeof t=="symbol"?t:t+""}function $de(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lh(e,t){if(e==null)return{};var n,r,a=zde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ude=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:Ep(n,t),payload:e}]};function Hde(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:s,hide:o,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Ep(s,t),hide:o,type:e.tooltipType,color:e.fill,unit:u}}}function Fde(e){var t=ke(so),{data:n,dataKey:r,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:u,onClick:c}=s,d=Lh(s,Dde),f=hH(o,r),p=pH(u),v=mH(c,r);if(!a||n==null)return null;var y=Ut(a,!1);return T.createElement(T.Fragment,null,n.map((_,x)=>{var{value:w,background:S,tooltipPosition:E}=_,O=Lh(_,Pde);if(!S)return null;var A=f(_,x),N=p(_,x),k=v(_,x),C=Bn(Bn(Bn(Bn(Bn({option:a,isActive:String(x)===t},O),{},{fill:"#eee"},S),y),mp(d,_,x)),{},{onMouseEnter:A,onMouseLeave:N,onClick:k,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return T.createElement(XE,os({key:"background-bar-".concat(C.index)},C))}))}function Gde(e){var{showLabels:t,children:n,rects:r}=e,a=r?.map(s=>{var o={x:s.x,y:s.y,width:s.width,height:s.height};return Bn(Bn({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return T.createElement(lH,{value:t?a:void 0},n)}function Kde(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:s,dataKey:o}=e,u=ke(so),c=ke(z6),d=n&&String(s)===u&&(c==null||o===c),f=d?n:t;return T.createElement(XE,os({},r,a,{isActive:d,option:f,index:s,dataKey:o}))}function Yde(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:s}=e;return T.createElement(XE,os({},n,r,{isActive:!1,option:t,index:a,dataKey:s}))}function Vde(e){var{data:t,props:n}=e,r=us(n),{id:a}=r,s=Lh(r,Lde),{shape:o,dataKey:u,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:p}=n,v=Lh(n,qde),y=hH(d,u),_=pH(p),x=mH(f,u);return t?T.createElement(T.Fragment,null,t.map((w,S)=>T.createElement(ma,os({className:"recharts-bar-rectangle"},mp(v,w,S),{onMouseEnter:y(w,S),onMouseLeave:_(w,S),onClick:x(w,S),key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(S)}),c?T.createElement(Kde,{shape:o,activeBar:c,baseProps:s,entry:w,index:S,dataKey:u}):T.createElement(Yde,{shape:o,baseProps:s,entry:w,index:S,dataKey:u})))):null}function Wde(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:u,animationEasing:c,onAnimationEnd:d,onAnimationStart:f}=t,p=n.current,v=Rp(t,"recharts-bar-"),[y,_]=T.useState(!1),x=!y,w=T.useCallback(()=>{typeof d=="function"&&d(),_(!1)},[d]),S=T.useCallback(()=>{typeof f=="function"&&f(),_(!0)},[f]);return T.createElement(Gde,{showLabels:x,rects:r},T.createElement(Mp,{animationId:v,begin:o,duration:u,isActive:s,easing:c,onAnimationEnd:w,onAnimationStart:S,key:v},E=>{var O=E===1?r:r?.map((A,N)=>{var k=p&&p[N];if(k)return Bn(Bn({},A),{},{x:Vt(k.x,A.x,E),y:Vt(k.y,A.y,E),width:Vt(k.width,A.width,E),height:Vt(k.height,A.height,E)});if(a==="horizontal"){var C=Vt(0,A.height,E);return Bn(Bn({},A),{},{y:A.y+A.height-C,height:C})}var q=Vt(0,A.width,E);return Bn(Bn({},A),{},{width:q})});return E>0&&(n.current=O??null),O==null?null:T.createElement(ma,null,T.createElement(Vde,{props:t,data:O}))}),T.createElement(cH,{label:t.label}),t.children)}function Xde(e){var t=T.useRef(null);return T.createElement(Wde,{previousRectanglesRef:t,props:e})}var EH=0,Zde=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:vn(e,t)}};class Qde extends T.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:o,needClip:u,background:c,id:d}=this.props;if(t||n==null)return null;var f=rt("recharts-bar",a),p=d;return T.createElement(ma,{className:f,id:d},u&&T.createElement("defs",null,T.createElement(jH,{clipPathId:p,xAxisId:s,yAxisId:o})),T.createElement(ma,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},T.createElement(Fde,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),T.createElement(Xde,this.props)))}}var Jde={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!po.isSsr,legendType:"rect",minPointSize:EH,xAxisId:0,yAxisId:0};function ehe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:o,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:f}=e,{needClip:p}=ZE(t,n),v=kp(),y=nr(),_=lee(e.children,Q6),x=ke(E=>The(E,t,n,y,e.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var w,S=x?.[0];return S==null||S.height==null||S.width==null?w=0:w=v==="vertical"?S.height/2:S.width/2,T.createElement(SH,{xAxisId:t,yAxisId:n,data:x,dataPointFormatter:Zde,errorBarOffset:w},T.createElement(Qde,os({},e,{layout:v,needClip:p,data:x,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:o,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:f})))}function the(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:o,yAxis:u,xAxisTicks:c,yAxisTicks:d,stackedData:f,displayedData:p,offset:v,cells:y,parentViewBox:_}=e,x=t==="horizontal"?u:o,w=f?x.scale.domain():null,S=gre({numericAxis:x});return p.map((E,O)=>{var A,N,k,C,q,P;f?A=fre(f[O],w):(A=vn(E,n),Array.isArray(A)||(A=[S,A]));var M=Ade(r,EH)(A[1],O);if(t==="horizontal"){var L,[B,z]=[u.scale(A[0]),u.scale(A[1])];N=ZL({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:E,index:O}),k=(L=z??B)!==null&&L!==void 0?L:void 0,C=a.size;var D=B-z;if(q=Sr(D)?0:D,P={x:N,y:v.top,width:C,height:v.height},Math.abs(M)>0&&Math.abs(q)<Math.abs(M)){var H=Jn(q||M)*(Math.abs(M)-Math.abs(q));k-=H,q+=H}}else{var[I,F]=[o.scale(A[0]),o.scale(A[1])];if(N=I,k=ZL({axis:u,ticks:d,bandSize:s,offset:a.offset,entry:E,index:O}),C=F-I,q=a.size,P={x:v.left,y:k,width:v.width,height:q},Math.abs(M)>0&&Math.abs(C)<Math.abs(M)){var Q=Jn(C||M)*(Math.abs(M)-Math.abs(C));C+=Q}}if(N==null||k==null||C==null||q==null)return null;var Y=Bn(Bn({},E),{},{x:N,y:k,width:C,height:q,value:f?A:A[1],payload:E,background:P,tooltipPosition:{x:N+C/2,y:k+q/2},parentViewBox:_},y&&y[O]&&y[O].props);return Y}).filter(Boolean)}function nhe(e){var t=rr(e,Jde),n=nr();return T.createElement(yH,{id:t.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(gH,{legendPayload:Ude(t)}),T.createElement(vH,{fn:Hde,args:t}),T.createElement(xH,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:vre(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),T.createElement(ehe,os({},t,{id:r}))))}var AH=T.memo(nhe);AH.displayName="Bar";function nB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nB(Object(n),!0).forEach(function(r){rhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rhe(e,t,n){return(t=ahe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ahe(e){var t=ihe(e,"string");return typeof t=="symbol"?t:t+""}function ihe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var she=(e,t)=>t,ohe=(e,t,n)=>n,lhe=(e,t,n,r)=>r,uhe=(e,t,n,r,a)=>a,Vc=fe([Yp,uhe],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),che=fe([Vc],e=>e?.maxBarSize),fhe=(e,t,n,r,a,s)=>s,rB=(e,t,n)=>{var r=n??e;if(!jt(r))return pa(r,t,0)},dhe=fe([Ze,Yp,she,ohe,lhe],(e,t,n,r,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),hhe=(e,t,n,r)=>{var a=Ze(e);return a==="horizontal"?wS(e,"yAxis",n,r):wS(e,"xAxis",t,r)},phe=(e,t,n)=>{var r=Ze(e);return r==="horizontal"?iI(e,"xAxis",t):iI(e,"yAxis",n)},mhe=(e,t,n)=>{var r={},a=e.filter(Kp),s=e.filter(d=>d.stackId==null),o=a.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),r),u=Object.entries(o).map(d=>{var[f,p]=d,v=p.map(_=>_.dataKey),y=rB(t,n,p[0].barSize);return{stackId:f,dataKeys:v,barSize:y}}),c=s.map(d=>{var f=[d.dataKey].filter(v=>v!=null),p=rB(t,n,d.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...u,...c]},vhe=fe([dhe,Moe,phe],mhe),ghe=(e,t,n,r,a)=>{var s,o,u=Vc(e,t,n,r,a);if(u!=null){var c=Ze(e),d=C4(e),{maxBarSize:f}=u,p=jt(f)?d:f,v,y;return c==="horizontal"?(v=ss(e,"xAxis",t,r),y=is(e,"xAxis",t,r)):(v=ss(e,"yAxis",n,r),y=is(e,"yAxis",n,r)),(s=(o=_c(v,y,!0))!==null&&o!==void 0?o:p)!==null&&s!==void 0?s:0}},OH=(e,t,n,r)=>{var a=Ze(e),s,o;return a==="horizontal"?(s=ss(e,"xAxis",t,r),o=is(e,"xAxis",t,r)):(s=ss(e,"yAxis",n,r),o=is(e,"yAxis",n,r)),_c(s,o)};function yhe(e,t,n,r,a){var s=r.length;if(!(s<1)){var o=pa(e,n,0,!0),u,c=[];if(Er(r[0].barSize)){var d=!1,f=n/s,p=r.reduce((S,E)=>S+(E.barSize||0),0);p+=(s-1)*o,p>=n&&(p-=(s-1)*o,o=0),p>=n&&f>0&&(d=!0,f*=.9,p=s*f);var v=(n-p)/2>>0,y={offset:v-o,size:0};u=r.reduce((S,E)=>{var O,A={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:y.offset+y.size+o,size:d?f:(O=E.barSize)!==null&&O!==void 0?O:0}},N=[...S,A];return y=N[N.length-1].position,N},c)}else{var _=pa(t,n,0,!0);n-2*_-(s-1)*o<=0&&(o=0);var x=(n-2*_-(s-1)*o)/s;x>1&&(x>>=0);var w=Er(a)?Math.min(x,a):x;u=r.reduce((S,E,O)=>[...S,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:_+(x+o)*O+(x-w)/2,size:w}}],c)}return u}}var bhe=(e,t,n,r,a,s,o)=>{var u=jt(o)?t:o,c=yhe(n,r,a!==s?a:s,e,u);return a!==s&&c!=null&&(c=c.map(d=>Md(Md({},d),{},{position:Md(Md({},d.position),{},{offset:d.position.offset-a/2})}))),c},xhe=fe([vhe,C4,Coe,M4,ghe,OH,che],bhe),_he=(e,t,n,r)=>ss(e,"xAxis",t,r),whe=(e,t,n,r)=>ss(e,"yAxis",n,r),She=(e,t,n,r)=>is(e,"xAxis",t,r),jhe=(e,t,n,r)=>is(e,"yAxis",n,r),Ehe=fe([xhe,Vc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Ahe=(e,t)=>{var n=NE(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===n)}}}},Ohe=fe([hhe,Vc],Ahe),The=fe([yn,Xj,_he,whe,She,jhe,Ehe,Ze,$p,OH,Ohe,Vc,fhe],(e,t,n,r,a,s,o,u,c,d,f,p,v)=>{var{chartData:y,dataStartIndex:_,dataEndIndex:x}=c;if(!(p==null||o==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||a==null||s==null||d==null)){var{data:w}=p,S;if(w!=null&&w.length>0?S=w:S=y?.slice(_,x+1),S!=null)return the({layout:u,barSettings:p,pos:o,parentViewBox:t,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:f,displayedData:S,offset:e,cells:v})}}),Nhe=e=>{var{chartData:t}=e,n=Zt(),r=nr();return T.useEffect(()=>r?()=>{}:(n(mI(t)),()=>{n(mI(void 0))}),[t,n,r]),null},aB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TH=Or({name:"brush",initialState:aB,reducers:{setBrushSettings(e,t){return t.payload==null?aB:t.payload}}}),{setBrushSettings:Wge}=TH.actions,khe=TH.reducer;function Che(e,t,n){return(t=Mhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mhe(e){var t=Rhe(e,"string");return typeof t=="symbol"?t:t+""}function Rhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QE{static create(t){return new QE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Che(QE,"EPS",1e-4);function Dhe(e){return(e%180+180)%180}var Phe=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Dhe(a),o=s*Math.PI/180,u=Math.atan(r/n),c=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Lhe={dots:[],areas:[],lines:[]},NH=Or({name:"referenceElements",initialState:Lhe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=si(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=si(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=si(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Xge,removeDot:Zge,addArea:Qge,removeArea:Jge,addLine:eye,removeLine:tye}=NH.actions,qhe=NH.reducer,Ihe=T.createContext(void 0),Bhe=e=>{var{children:t}=e,[n]=T.useState("".concat(yc("recharts"),"-clip")),r=WE();if(r==null)return null;var{x:a,y:s,width:o,height:u}=r;return T.createElement(Ihe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:a,y:s,height:u,width:o}))),t)};function Al(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function kH(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function $he(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Phe(r,n)}function zhe(e,t,n){var r=n==="width",{x:a,y:s,width:o,height:u}=e;return t===1?{start:r?a:s,end:r?a+o:s+u}:{start:r?a+o:s+u,end:r?a:s}}function qh(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function Uhe(e,t){return kH(e,t+1)}function Hhe(e,t,n,r,a){for(var s=(r||[]).slice(),{start:o,end:u}=t,c=0,d=1,f=o,p=function(){var _=r?.[c];if(_===void 0)return{v:kH(r,d)};var x=c,w,S=()=>(w===void 0&&(w=n(_,x)),w),E=_.coordinate,O=c===0||qh(e,E,S,f,u);O||(c=0,f=o,d+=1),O&&(f=E+e*(S()/2+a),c+=d)},v;d<=s.length;)if(v=p(),v)return v.v;return[]}function iB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iB(Object(n),!0).forEach(function(r){Fhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fhe(e,t,n){return(t=Ghe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ghe(e){var t=Khe(e,"string");return typeof t=="symbol"?t:t+""}function Khe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yhe(e,t,n,r,a){for(var s=(r||[]).slice(),o=s.length,{start:u}=t,{end:c}=t,d=function(v){var y=s[v],_,x=()=>(_===void 0&&(_=n(y,v)),_);if(v===o-1){var w=e*(y.coordinate+e*x()/2-c);s[v]=y=Cn(Cn({},y),{},{tickCoord:w>0?y.coordinate-w*e:y.coordinate})}else s[v]=y=Cn(Cn({},y),{},{tickCoord:y.coordinate});var S=qh(e,y.tickCoord,x,u,c);S&&(c=y.tickCoord-e*(x()/2+a),s[v]=Cn(Cn({},y),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return s}function Vhe(e,t,n,r,a,s){var o=(r||[]).slice(),u=o.length,{start:c,end:d}=t;if(s){var f=r[u-1],p=n(f,u-1),v=e*(f.coordinate+e*p/2-d);o[u-1]=f=Cn(Cn({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate});var y=qh(e,f.tickCoord,()=>p,c,d);y&&(d=f.tickCoord-e*(p/2+a),o[u-1]=Cn(Cn({},f),{},{isShow:!0}))}for(var _=s?u-1:u,x=function(E){var O=o[E],A,N=()=>(A===void 0&&(A=n(O,E)),A);if(E===0){var k=e*(O.coordinate-e*N()/2-c);o[E]=O=Cn(Cn({},O),{},{tickCoord:k<0?O.coordinate-k*e:O.coordinate})}else o[E]=O=Cn(Cn({},O),{},{tickCoord:O.coordinate});var C=qh(e,O.tickCoord,N,c,d);C&&(c=O.tickCoord+e*(N()/2+a),o[E]=Cn(Cn({},O),{},{isShow:!0}))},w=0;w<_;w++)x(w);return o}function JE(e,t,n){var{tick:r,ticks:a,viewBox:s,minTickGap:o,orientation:u,interval:c,tickFormatter:d,unit:f,angle:p}=e;if(!a||!a.length||!r)return[];if(Me(c)||po.isSsr){var v;return(v=Uhe(a,Me(c)?c:0))!==null&&v!==void 0?v:[]}var y=[],_=u==="top"||u==="bottom"?"width":"height",x=f&&_==="width"?cc(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=(O,A)=>{var N=typeof d=="function"?d(O.value,A):O.value;return _==="width"?$he(cc(N,{fontSize:t,letterSpacing:n}),x,p):cc(N,{fontSize:t,letterSpacing:n})[_]},S=a.length>=2?Jn(a[1].coordinate-a[0].coordinate):1,E=zhe(s,S,_);return c==="equidistantPreserveStart"?Hhe(S,E,w,a,o):(c==="preserveStart"||c==="preserveStartEnd"?y=Vhe(S,E,w,a,o,c==="preserveStartEnd"):y=Yhe(S,E,w,a,o),y.filter(O=>O.isShow))}var Whe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){t.forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>o&&(o=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=a+s,d=o+c+u+(n?r:0);return Math.round(d)}return 0},Xhe=["axisLine","width","height","className","hide","ticks"],Zhe=["viewBox"],Qhe=["viewBox"];function kS(e,t){if(e==null)return{};var n,r,a=Jhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oo.apply(null,arguments)}function sB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sB(Object(n),!0).forEach(function(r){epe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function epe(e,t,n){return(t=tpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tpe(e){var t=npe(e,"string");return typeof t=="symbol"?t:t+""}function npe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function rpe(e){var{x:t,y:n,width:r,height:a,orientation:s,mirror:o,axisLine:u,otherSvgProps:c}=e;if(!u)return null;var d=an(an(an({},c),Ut(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!o||s==="bottom"&&o);d=an(an({},d),{},{x1:t,y1:n+f*a,x2:t+r,y2:n+f*a})}else{var p=+(s==="left"&&!o||s==="right"&&o);d=an(an({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+a})}return T.createElement("line",oo({},d,{className:rt("recharts-cartesian-axis-line",yl(u,"className"))}))}function ape(e,t,n,r,a,s,o,u,c){var d,f,p,v,y,_,x=u?-1:1,w=e.tickSize||o,S=Me(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":d=f=e.coordinate,v=n+ +!u*a,p=v-x*w,_=p-x*c,y=S;break;case"left":p=v=e.coordinate,f=t+ +!u*r,d=f-x*w,y=d-x*c,_=S;break;case"right":p=v=e.coordinate,f=t+ +u*r,d=f+x*w,y=d+x*c,_=S;break;default:d=f=e.coordinate,v=n+ +u*a,p=v+x*w,_=p+x*c,y=S;break}return{line:{x1:d,y1:p,x2:f,y2:v},tick:{x:y,y:_}}}function ipe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function spe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ope(e){var{option:t,tickProps:n,value:r}=e,a,s=rt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))a=T.cloneElement(t,an(an({},n),{},{className:s}));else if(typeof t=="function")a=t(an(an({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=rt(o,t?.className)),a=T.createElement(YE,oo({},n,{className:o}),r)}return a}function lpe(e){var{ticks:t=[],tick:n,tickLine:r,stroke:a,tickFormatter:s,unit:o,padding:u,tickTextProps:c,orientation:d,mirror:f,x:p,y:v,width:y,height:_,tickSize:x,tickMargin:w,fontSize:S,letterSpacing:E,getTicksConfig:O,events:A}=e,N=JE(an(an({},O),{},{ticks:t}),S,E),k=ipe(d,f),C=spe(d,f),q=us(O),P=Ut(n,!1),M=an(an({},q),{},{fill:"none"},Ut(r,!1)),L=N.map((B,z)=>{var{line:D,tick:H}=ape(B,p,v,y,_,d,x,f,w),I=an(an(an(an({textAnchor:k,verticalAnchor:C},q),{},{stroke:"none",fill:a},P),H),{},{index:z,payload:B,visibleTicksCount:N.length,tickFormatter:s,padding:u},c);return T.createElement(ma,oo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},mp(A,B,z)),r&&T.createElement("line",oo({},M,D,{className:rt("recharts-cartesian-axis-tick-line",yl(r,"className"))})),n&&T.createElement(ope,{option:n,tickProps:I,value:"".concat(typeof s=="function"?s(B.value,z):B.value).concat(o||"")}))});return L.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},L):null}var upe=T.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:s,hide:o,ticks:u}=e,c=kS(e,Xhe),[d,f]=T.useState(""),[p,v]=T.useState(""),y=T.useRef([]);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return Whe({ticks:y.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=T.useCallback(x=>{if(x){var w=x.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=Array.from(w);var S=w[0];if(S){var E=window.getComputedStyle(S),O=E.fontSize,A=E.letterSpacing;(O!==d||A!==p)&&(f(O),v(A))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:T.createElement(ma,{className:rt("recharts-cartesian-axis",s),ref:_},T.createElement(rpe,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:us(e)}),T.createElement(lpe,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:p,getTicksConfig:e,events:c}),T.createElement(Jce,{x:e.x,y:e.y,width:e.width,height:e.height},T.createElement(ufe,{label:e.label}),e.children))}),cpe=T.memo(upe,(e,t)=>{var{viewBox:n}=e,r=kS(e,Zhe),{viewBox:a}=t,s=kS(t,Qhe);return Al(n,a)&&Al(r,s)}),tA=T.forwardRef((e,t)=>{var n=rr(e,eA);return T.createElement(cpe,oo({},n,{ref:t}))});tA.displayName="CartesianAxis";var fpe=["x1","y1","x2","y2","key"],dpe=["offset"],hpe=["xAxisId","yAxisId"],ppe=["xAxisId","yAxisId"];function oB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oB(Object(n),!0).forEach(function(r){mpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mpe(e,t,n){return(t=vpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vpe(e){var t=gpe(e,"string");return typeof t=="symbol"?t:t+""}function gpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ks.apply(null,arguments)}function Ih(e,t){if(e==null)return{};var n,r,a=ype(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ype(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bpe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:o,ry:u}=e;return T.createElement("rect",{x:r,y:a,ry:u,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function CH(e,t){var n;if(T.isValidElement(e))n=T.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:a,x2:s,y2:o,key:u}=t,c=Ih(t,fpe),d=us(c),{offset:f}=d,p=Ih(d,dpe);n=T.createElement("line",Ks({},p,{x1:r,y1:a,x2:s,y2:o,fill:"none",key:u}))}return n}function xpe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,u=Ih(e,hpe),c=a.map((d,f)=>{var p=Mn(Mn({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(f),index:f});return CH(r,p)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function _pe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,u=Ih(e,ppe),c=a.map((d,f)=>{var p=Mn(Mn({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(f),index:f});return CH(r,p)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function wpe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:s,height:o,horizontalPoints:u,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=u.map(p=>Math.round(p+a-a)).sort((p,v)=>p-v);a!==d[0]&&d.unshift(0);var f=d.map((p,v)=>{var y=!d[v+1],_=y?a+o-p:d[v+1]-p;if(_<=0)return null;var x=v%t.length;return T.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:_,width:s,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Spe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:o,height:u,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var d=c.map(p=>Math.round(p+a-a)).sort((p,v)=>p-v);a!==d[0]&&d.unshift(0);var f=d.map((p,v)=>{var y=!d[v+1],_=y?a+o-p:d[v+1]-p;if(_<=0)return null;var x=v%n.length;return T.createElement("rect",{key:"react-".concat(v),x:p,y:s,width:_,height:u,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jpe=(e,t)=>{var{xAxis:n,width:r,height:a,offset:s}=e;return jU(JE(Mn(Mn(Mn({},eA),n),{},{ticks:EU(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},Epe=(e,t)=>{var{yAxis:n,width:r,height:a,offset:s}=e;return jU(JE(Mn(Mn(Mn({},eA),n),{},{ticks:EU(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},Ape={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CS(e){var t=Qj(),n=Jj(),r=OU(),a=Mn(Mn({},rr(e,Ape)),{},{x:Me(e.x)?e.x:r.left,y:Me(e.y)?e.y:r.top,width:Me(e.width)?e.width:r.width,height:Me(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:u,y:c,width:d,height:f,syncWithTicks:p,horizontalValues:v,verticalValues:y}=a,_=nr(),x=ke(P=>sI(P,"xAxis",s,_)),w=ke(P=>sI(P,"yAxis",o,_));if(!Me(d)||d<=0||!Me(f)||f<=0||!Me(u)||u!==+u||!Me(c)||c!==+c)return null;var S=a.verticalCoordinatesGenerator||jpe,E=a.horizontalCoordinatesGenerator||Epe,{horizontalPoints:O,verticalPoints:A}=a;if((!O||!O.length)&&typeof E=="function"){var N=v&&v.length,k=E({yAxis:w?Mn(Mn({},w),{},{ticks:N?v:w.ticks}):void 0,width:t,height:n,offset:r},N?!0:p);uc(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(O=k)}if((!A||!A.length)&&typeof S=="function"){var C=y&&y.length,q=S({xAxis:x?Mn(Mn({},x),{},{ticks:C?y:x.ticks}):void 0,width:t,height:n,offset:r},C?!0:p);uc(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(A=q)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(bpe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),T.createElement(wpe,Ks({},a,{horizontalPoints:O})),T.createElement(Spe,Ks({},a,{verticalPoints:A})),T.createElement(xpe,Ks({},a,{offset:r,horizontalPoints:O,xAxis:x,yAxis:w})),T.createElement(_pe,Ks({},a,{offset:r,verticalPoints:A,xAxis:x,yAxis:w})))}CS.displayName="CartesianGrid";var MH=(e,t,n,r)=>ss(e,"xAxis",t,r),RH=(e,t,n,r)=>is(e,"xAxis",t,r),DH=(e,t,n,r)=>ss(e,"yAxis",n,r),PH=(e,t,n,r)=>is(e,"yAxis",n,r),Ope=fe([Ze,MH,DH,RH,PH],(e,t,n,r,a)=>cs(e,"xAxis")?_c(t,r,!1):_c(n,a,!1)),Tpe=(e,t,n,r,a)=>a;function Npe(e){return e.type==="line"}var kpe=fe([Yp,Tpe],(e,t)=>e.filter(Npe).find(n=>n.id===t)),Cpe=fe([Ze,MH,DH,RH,PH,kpe,Ope,$p],(e,t,n,r,a,s,o,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=u;if(!(s==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null)){var{dataKey:p,data:v}=s,y;if(v!=null&&v.length>0?y=v:y=c?.slice(d,f+1),y!=null)return Jpe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:p,bandSize:o,displayedData:y})}}),Mpe=["id"],Rpe=["type","layout","connectNulls","needClip"],Dpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function lB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lB(Object(n),!0).forEach(function(r){Ppe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ppe(e,t,n){return(t=Lpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lpe(e){var t=qpe(e,"string");return typeof t=="symbol"?t:t+""}function qpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nA(e,t){if(e==null)return{};var n,r,a=Ipe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ipe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo.apply(null,arguments)}var Bpe=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:Ep(n,t),payload:e}]};function $pe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:s,name:o,hide:u,unit:c}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Ep(o,t),hide:u,type:e.tooltipType,color:e.stroke,unit:c}}}var LH=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function zpe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Upe=(e,t,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return LH(t,e);for(var a=Math.floor(e/r),s=e%r,o=t-e,u=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>s){u=[...n.slice(0,c),s-d];break}var f=u.length%2===0?[0,o]:[o];return[...zpe(n,a),...u,...f].map(p=>"".concat(p,"px")).join(", ")};function Hpe(e,t){var n;if(T.isValidElement(e))n=T.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=rt("recharts-line-dot",typeof e!="boolean"?e.className:"");n=T.createElement(fH,lo({},t,{className:r}))}return n}function Fpe(e,t){return e==null?!1:t?!0:e.length===1}function Gpe(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:s,needClip:o}=r;if(!Fpe(n,a))return null;var{id:u}=r,c=nA(r,Mpe),d=xz(a),f=us(c),p=Ut(a,!0),v=n.map((_,x)=>{var w=br(br(br({key:"dot-".concat(x),r:3},f),p),{},{index:x,cx:_.x,cy:_.y,dataKey:s,value:_.value,payload:_.payload,points:n});return Hpe(a,w)}),y={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return T.createElement(ma,lo({className:"recharts-line-dots",key:"dots"},y),v)}function Kpe(e){var{showLabels:t,children:n,points:r}=e,a=T.useMemo(()=>r?.map(s=>{var o={x:s.x,y:s.y,width:0,height:0};return br(br({},o),{},{value:s.value,payload:s.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(lH,{value:t?a:null},n)}function uB(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:s}=e,{type:o,layout:u,connectNulls:c,needClip:d}=s,f=nA(s,Rpe),p=br(br({},Ut(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:u,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return T.createElement(T.Fragment,null,r?.length>1&&T.createElement(kU,lo({},p,{pathRef:n})),T.createElement(Gpe,{points:r,clipPathId:t,props:s}))}function Ype(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Vpe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:u,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:p,animateNewValues:v,width:y,height:_,onAnimationEnd:x,onAnimationStart:w}=n,S=a.current,E=Rp(n,"recharts-line-"),[O,A]=T.useState(!1),N=!O,k=T.useCallback(()=>{typeof x=="function"&&x(),A(!1)},[x]),C=T.useCallback(()=>{typeof w=="function"&&w(),A(!0)},[w]),q=Ype(r.current),P=s.current;return T.createElement(Kpe,{points:o,showLabels:N},n.children,T.createElement(Mp,{animationId:E,begin:d,duration:f,isActive:c,easing:p,onAnimationEnd:k,onAnimationStart:C,key:E},M=>{var L=Vt(P,q+P,M),B=Math.min(L,q),z;if(c)if(u){var D="".concat(u).split(/[,\s]+/gim).map(F=>parseFloat(F));z=Upe(B,q,D)}else z=LH(q,B);else z=u==null?void 0:String(u);if(S){var H=S.length/o.length,I=M===1?o:o.map((F,Q)=>{var Y=Math.floor(Q*H);if(S[Y]){var $=S[Y];return br(br({},F),{},{x:Vt($.x,F.x,M),y:Vt($.y,F.y,M)})}return v?br(br({},F),{},{x:Vt(y*2,F.x,M),y:Vt(_/2,F.y,M)}):br(br({},F),{},{x:F.x,y:F.y})});return a.current=I,T.createElement(uB,{props:n,points:I,clipPathId:t,pathRef:r,strokeDasharray:z})}return M>0&&q>0&&(a.current=o,s.current=B),T.createElement(uB,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:z})}),T.createElement(cH,{label:n.label}))}function Wpe(e){var{clipPathId:t,props:n}=e,r=T.useRef(null),a=T.useRef(0),s=T.useRef(null);return T.createElement(Vpe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:s})}var Xpe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:vn(e.payload,t)});class Zpe extends T.Component{render(){var t,{hide:n,dot:r,points:a,className:s,xAxisId:o,yAxisId:u,top:c,left:d,width:f,height:p,id:v,needClip:y}=this.props;if(n)return null;var _=rt("recharts-line",s),x=v,{r:w=3,strokeWidth:S=2}=(t=Ut(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=xz(r),O=w*2+S;return T.createElement(T.Fragment,null,T.createElement(ma,{className:_},y&&T.createElement("defs",null,T.createElement(jH,{clipPathId:x,xAxisId:o,yAxisId:u}),!E&&T.createElement("clipPath",{id:"clipPath-dots-".concat(x)},T.createElement("rect",{x:d-O/2,y:c-O/2,width:f+O,height:p+O}))),T.createElement(SH,{xAxisId:o,yAxisId:u,data:a,dataPointFormatter:Xpe,errorBarOffset:0},T.createElement(Wpe,{props:this.props,clipPathId:x}))),T.createElement(vde,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var qH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!po.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Qpe(e){var t=rr(e,qH),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:u,dot:c,hide:d,isAnimationActive:f,label:p,legendType:v,xAxisId:y,yAxisId:_,id:x}=t,w=nA(t,Dpe),{needClip:S}=ZE(y,_),E=WE(),O=kp(),A=nr(),N=ke(M=>Cpe(M,y,_,A,x));if(O!=="horizontal"&&O!=="vertical"||N==null||E==null)return null;var{height:k,width:C,x:q,y:P}=E;return T.createElement(Zpe,lo({},w,{id:x,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:f,hide:d,label:p,legendType:v,xAxisId:y,yAxisId:_,points:N,layout:O,height:k,width:C,left:q,top:P,needClip:S}))}function Jpe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:o,bandSize:u,displayedData:c}=e;return c.map((d,f)=>{var p=vn(d,o);if(t==="horizontal"){var v=XL({axis:n,ticks:a,bandSize:u,entry:d,index:f}),y=jt(p)?null:r.scale(p);return{x:v,y,value:p,payload:d}}var _=jt(p)?null:n.scale(p),x=XL({axis:r,ticks:s,bandSize:u,entry:d,index:f});return _==null||x==null?null:{x:_,y:x,value:p,payload:d}}).filter(Boolean)}function eme(e){var t=rr(e,qH),n=nr();return T.createElement(yH,{id:t.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(gH,{legendPayload:Bpe(t)}),T.createElement(vH,{fn:$pe,args:t}),T.createElement(xH,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),T.createElement(Qpe,lo({},t,{id:r}))))}var MS=T.memo(eme);MS.displayName="Line";var tme=["dangerouslySetInnerHTML","ticks"],nme=["id"],rme=["domain"],ame=["domain"];function RS(){return RS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RS.apply(null,arguments)}function Bh(e,t){if(e==null)return{};var n,r,a=ime(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ime(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sme(e){var t=Zt();return T.useEffect(()=>(t(rde(e)),()=>{t(ade(e))}),[e,t]),null}var ome=e=>{var{xAxisId:t,className:n}=e,r=ke(Xj),a=nr(),s="xAxis",o=ke(w=>Il(w,s,t,a)),u=ke(w=>w6(w,s,t,a)),c=ke(w=>y6(w,t)),d=ke(w=>jle(w,t)),f=ke(w=>z4(w,t));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,y=Bh(e,tme),{id:_}=f,x=Bh(f,nme);return T.createElement(tA,RS({},y,x,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:rt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:u}))},lme={allowDataOverflow:vr.allowDataOverflow,allowDecimals:vr.allowDecimals,allowDuplicatedCategory:vr.allowDuplicatedCategory,height:vr.height,hide:!1,mirror:vr.mirror,orientation:vr.orientation,padding:vr.padding,reversed:vr.reversed,scale:vr.scale,tickCount:vr.tickCount,type:vr.type,xAxisId:0},ume=e=>{var t,n,r,a,s,o=rr(e,lme);return T.createElement(T.Fragment,null,T.createElement(sme,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(s=o.tick)!==null&&s!==void 0?s:!0,tickFormatter:o.tickFormatter}),T.createElement(ome,o))},cme=(e,t)=>{var{domain:n}=e,r=Bh(e,rme),{domain:a}=t,s=Bh(t,ame);return Al(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Al({domain:n},{domain:a}):!1},DS=T.memo(ume,cme);DS.displayName="XAxis";var fme=["dangerouslySetInnerHTML","ticks"],dme=["id"],hme=["domain"],pme=["domain"];function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PS.apply(null,arguments)}function $h(e,t){if(e==null)return{};var n,r,a=mme(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vme(e){var t=Zt();return T.useEffect(()=>(t(ide(e)),()=>{t(sde(e))}),[e,t]),null}var gme=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,s=T.useRef(null),o=T.useRef(null),u=ke(Xj),c=nr(),d=Zt(),f="yAxis",p=ke(N=>Il(N,f,t,c)),v=ke(N=>b6(N,t)),y=ke(N=>Ale(N,t)),_=ke(N=>w6(N,f,t,c)),x=ke(N=>U4(N,t));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!v||VE(a)||T.isValidElement(a)||x==null)){var N=s.current;if(N){var k=N.getCalculatedWidth();Math.round(v.width)!==Math.round(k)&&d(ode({id:t,width:k}))}}},[_,v,d,a,t,r,x]),v==null||y==null||x==null)return null;var{dangerouslySetInnerHTML:w,ticks:S}=e,E=$h(e,fme),{id:O}=x,A=$h(x,dme);return T.createElement(tA,PS({},E,A,{ref:s,labelRef:o,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:rt("recharts-".concat(f," ").concat(f),n),viewBox:u,ticks:_}))},yme={allowDataOverflow:gr.allowDataOverflow,allowDecimals:gr.allowDecimals,allowDuplicatedCategory:gr.allowDuplicatedCategory,hide:!1,mirror:gr.mirror,orientation:gr.orientation,padding:gr.padding,reversed:gr.reversed,scale:gr.scale,tickCount:gr.tickCount,type:gr.type,width:gr.width,yAxisId:0},bme=e=>{var t,n,r,a,s,o=rr(e,yme);return T.createElement(T.Fragment,null,T.createElement(vme,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(s=o.tick)!==null&&s!==void 0?s:!0,tickFormatter:o.tickFormatter}),T.createElement(gme,o))},xme=(e,t)=>{var{domain:n}=e,r=$h(e,hme),{domain:a}=t,s=$h(t,pme);return Al(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Al({domain:n},{domain:a}):!1},LS=T.memo(bme,xme);LS.displayName="YAxis";var cw={exports:{}},fw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cB;function _me(){if(cB)return fw;cB=1;var e=Ol();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,o=e.useMemo,u=e.useDebugValue;return fw.useSyncExternalStoreWithSelector=function(c,d,f,p,v){var y=a(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=o(function(){function w(N){if(!S){if(S=!0,E=N,N=p(N),v!==void 0&&_.hasValue){var k=_.value;if(v(k,N))return O=k}return O=N}if(k=O,n(E,N))return k;var C=p(N);return v!==void 0&&v(k,C)?(E=N,k):(E=N,O=C)}var S=!1,E,O,A=f===void 0?null:f;return[function(){return w(d())},A===null?void 0:function(){return w(A())}]},[d,f,p,v]);var x=r(c,y[0],y[1]);return s(function(){_.hasValue=!0,_.value=x},[x]),u(x),x},fw}var fB;function wme(){return fB||(fB=1,cw.exports=_me()),cw.exports}wme();function Sme(e){e()}function jme(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Sme(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var dB={notify(){},get:()=>[]};function Eme(e,t){let n,r=dB,a=0,s=!1;function o(x){f();const w=r.subscribe(x);let S=!1;return()=>{S||(S=!0,w(),p())}}function u(){r.notify()}function c(){_.onStateChange&&_.onStateChange()}function d(){return s}function f(){a++,n||(n=e.subscribe(c),r=jme())}function p(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=dB)}function v(){s||(s=!0,f())}function y(){s&&(s=!1,p())}const _={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return _}var Ame=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ome=Ame(),Tme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nme=Tme(),kme=()=>Ome||Nme?T.useLayoutEffect:T.useEffect,Cme=kme(),Mme=Symbol.for("react-redux-context"),Rme=typeof globalThis<"u"?globalThis:{};function Dme(){if(!T.createContext)return{};const e=Rme[Mme]??=new Map;let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var Pme=Dme();function Lme(e){const{children:t,context:n,serverState:r,store:a}=e,s=T.useMemo(()=>{const c=Eme(a);return{store:a,subscription:c,getServerState:r?()=>r:void 0}},[a,r]),o=T.useMemo(()=>a.getState(),[a]);Cme(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const u=n||Pme;return T.createElement(u.Provider,{value:s},t)}var qme=Lme,Ime=(e,t)=>t,rA=fe([Ime,Ze,I4,on,q6,Si,Cue,yn],Lue),aA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},IH=Yr("mouseClick"),BH=qc();BH.startListening({actionCreator:IH,effect:(e,t)=>{var n=e.payload,r=rA(t.getState(),aA(n));r?.activeIndex!=null&&t.dispatch(Ble({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var qS=Yr("mouseMove"),$H=qc();$H.startListening({actionCreator:qS,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=IE(r,r.tooltip.settings.shared),s=rA(r,aA(n));a==="axis"&&(s?.activeIndex!=null?t.dispatch(k6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(N6()))}});var hB={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},zH=Or({name:"rootProps",initialState:hB,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:hB.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Bme=zH.reducer,{updateOptions:$me}=zH.actions,UH=Or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:nye}=UH.actions,zme=UH.reducer,HH=Yr("keyDown"),FH=Yr("focus"),iA=qc();iA.startListening({actionCreator:HH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Number(BE(a,$l(n))),u=Si(n);if(s==="Enter"){var c=Mh(n,"axis","hover",String(a.index));t.dispatch(jS({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=kle(n),f=d==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=o+p*f;if(!(u==null||v>=u.length||v<0)){var y=Mh(n,"axis","hover",String(v));t.dispatch(jS({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});iA.startListening({actionCreator:FH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",o=Mh(n,"axis","hover",String(s));t.dispatch(jS({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var Ur=Yr("externalEvent"),GH=qc();GH.startListening({actionCreator:Ur,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:_ue(n),activeDataKey:z6(n),activeIndex:so(n),activeLabel:$6(n),activeTooltipIndex:so(n),isTooltipActive:wue(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Ume=fe([Bl],e=>e.tooltipItemPayloads),Hme=fe([Ume,Kc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(u=>u.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var o=t(s,n);return o}}}),KH=Yr("touchMove"),YH=qc();YH.startListening({actionCreator:KH,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=IE(r,r.tooltip.settings.shared);if(a==="axis"){var s=rA(r,aA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&t.dispatch(k6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var o,u=n.touches[0],c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(Ere),f=(o=c.getAttribute(Are))!==null&&o!==void 0?o:void 0,p=Hme(t.getState(),d,f);t.dispatch(T6({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}});var Fme=eU({brush:khe,cartesianAxis:lde,chartData:Que,errorBars:Tde,graphicalItems:Qfe,layout:Vne,legend:Hre,options:Yue,polarAxis:Sfe,polarOptions:zme,referenceElements:qhe,rootProps:Bme,tooltip:$le}),Gme=function(t){return bne({reducer:Fme,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([BH.middleware,$H.middleware,iA.middleware,GH.middleware,YH.middleware]),devTools:po.devToolsEnabled})};function Kme(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=nr(),s=T.useRef(null);if(a)return n;s.current==null&&(s.current=Gme(t));var o=Fj;return T.createElement(qme,{context:o,store:s.current},n)}function Yme(e){var{layout:t,width:n,height:r,margin:a}=e,s=Zt(),o=nr();return T.useEffect(()=>{o||(s(Gne(t)),s(Kne({width:n,height:r})),s(Fne(a)))},[s,o,t,n,r,a]),null}function Vme(e){var t=Zt();return T.useEffect(()=>{t($me(e))},[t,e]),null}var Wme=["children"];function Xme(e,t){if(e==null)return{};var n,r,a=Zme(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(null,arguments)}var Qme={width:"100%",height:"100%"},Jme=T.forwardRef((e,t)=>{var n=Qj(),r=Jj(),a=NU();if(!bh(n)||!bh(r))return null;var{children:s,otherAttributes:o,title:u,desc:c}=e,d,f;return typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?f=o.role:f=a?"application":void 0,T.createElement(Pj,zh({},o,{title:u,desc:c,role:f,tabIndex:d,width:n,height:r,style:Qme,ref:t}),s)}),eve=e=>{var{children:t}=e,n=ke(Np);if(!n)return null;var{width:r,height:a,y:s,x:o}=n;return T.createElement(Pj,{width:r,height:a,x:o,y:s},t)},pB=T.forwardRef((e,t)=>{var{children:n}=e,r=Xme(e,Wme),a=nr();return a?T.createElement(eve,null,n):T.createElement(Jme,zh({ref:t},r),n)});function tve(){var e=Zt(),[t,n]=T.useState(null),r=ke(jre);return T.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Er(s)&&s!==r&&e(Yne(s))}},[t,e,r]),n}function mB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mB(Object(n),!0).forEach(function(r){rve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rve(e,t,n){return(t=ave(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ave(e){var t=ive(e,"string");return typeof t=="symbol"?t:t+""}function ive(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sve=T.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:o,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:v,onTouchEnd:y,onTouchMove:_,onTouchStart:x,style:w,width:S}=e,E=Zt(),[O,A]=T.useState(null),[N,k]=T.useState(null);oce();var C=tve(),q=T.useCallback(Z=>{C(Z),typeof t=="function"&&t(Z),A(Z),k(Z)},[C,t,A,k]),P=T.useCallback(Z=>{E(IH(Z)),E(Ur({handler:s,reactEvent:Z}))},[E,s]),M=T.useCallback(Z=>{E(qS(Z)),E(Ur({handler:d,reactEvent:Z}))},[E,d]),L=T.useCallback(Z=>{E(N6()),E(Ur({handler:f,reactEvent:Z}))},[E,f]),B=T.useCallback(Z=>{E(qS(Z)),E(Ur({handler:p,reactEvent:Z}))},[E,p]),z=T.useCallback(()=>{E(FH())},[E]),D=T.useCallback(Z=>{E(HH(Z.key))},[E]),H=T.useCallback(Z=>{E(Ur({handler:o,reactEvent:Z}))},[E,o]),I=T.useCallback(Z=>{E(Ur({handler:u,reactEvent:Z}))},[E,u]),F=T.useCallback(Z=>{E(Ur({handler:c,reactEvent:Z}))},[E,c]),Q=T.useCallback(Z=>{E(Ur({handler:v,reactEvent:Z}))},[E,v]),Y=T.useCallback(Z=>{E(Ur({handler:x,reactEvent:Z}))},[E,x]),$=T.useCallback(Z=>{E(KH(Z)),E(Ur({handler:_,reactEvent:Z}))},[E,_]),V=T.useCallback(Z=>{E(Ur({handler:y,reactEvent:Z}))},[E,y]);return T.createElement(Y6.Provider,{value:O},T.createElement(_z.Provider,{value:N},T.createElement("div",{className:rt("recharts-wrapper",r),style:nve({position:"relative",cursor:"default",width:S,height:a},w),onClick:P,onContextMenu:H,onDoubleClick:I,onFocus:z,onKeyDown:D,onMouseDown:F,onMouseEnter:M,onMouseLeave:L,onMouseMove:B,onMouseUp:Q,onTouchEnd:V,onTouchMove:$,onTouchStart:Y,ref:q},n)))}),ove=["children","className","width","height","style","compact","title","desc"];function lve(e,t){if(e==null)return{};var n,r,a=uve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cve=T.forwardRef((e,t)=>{var{children:n,className:r,width:a,height:s,style:o,compact:u,title:c,desc:d}=e,f=lve(e,ove),p=us(f);return u?T.createElement(pB,{otherAttributes:p,title:c,desc:d},n):T.createElement(sve,{className:r,style:o,width:a,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(pB,{otherAttributes:p,title:c,desc:d,ref:t},T.createElement(Bhe,null,n)))}),fve=["width","height"];function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IS.apply(null,arguments)}function dve(e,t){if(e==null)return{};var n,r,a=hve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pve={top:5,right:5,bottom:5,left:5},mve={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pve,reverseStackOrder:!1,syncMethod:"index"},VH=T.forwardRef(function(t,n){var r,a=rr(t.categoricalChartProps,mve),{width:s,height:o}=a,u=dve(a,fve);if(!bh(s)||!bh(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:v}=t,y={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return T.createElement(Kme,{preloadedState:{options:y},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:c},T.createElement(Nhe,{chartData:v.data}),T.createElement(Yme,{width:s,height:o,layout:a.layout,margin:a.margin}),T.createElement(Vme,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),T.createElement(cve,IS({},u,{width:s,height:o,ref:n})))}),vve=["axis"],gve=T.forwardRef((e,t)=>T.createElement(VH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vve,tooltipPayloadSearcher:V6,categoricalChartProps:e,ref:t})),yve=["axis","item"],bve=T.forwardRef((e,t)=>T.createElement(VH,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yve,tooltipPayloadSearcher:V6,categoricalChartProps:e,ref:t}));function Ta(e){return e<10?"0"+e:""+e}function xve(){const e=new Date;return`${e.getUTCFullYear()}-${Ta(e.getUTCMonth()+1)}-${Ta(e.getUTCDate())} ${Ta(e.getUTCHours())}:${Ta(e.getUTCMinutes())}:${Ta(e.getUTCSeconds())}`}function _ve(e){const t=new Date(Date.now()-e*24*3600*1e3);return`${t.getUTCFullYear()}-${Ta(t.getUTCMonth()+1)}-${Ta(t.getUTCDate())} ${Ta(t.getUTCHours())}:${Ta(t.getUTCMinutes())}:${Ta(t.getUTCSeconds())}`}function Rd(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return`${t}t ${n}m`}function dw(e,t){const n=String(t||""),r=n.startsWith("res.")?n.slice(4):n;return e?.res?.[r]?.name||e?.res?.[r]?.display_name||n}function wve({endpoint:e="/world-spil/backend/api/log/stats.php",defaultDays:t=30}){const{data:n}=Re(),r=n?.defs||null,[a,s]=T.useState(_ve(t)),[o,u]=T.useState(xve()),[c,d]=T.useState(null),[f,p]=T.useState(null),[v,y]=T.useState(!1),[_,x]=T.useState(10);async function w(){y(!0),p(null);try{const P=new URL(e,window.location.origin);P.searchParams.set("date_from",a),P.searchParams.set("date_to",o),P.searchParams.set("top_n",String(_));const M=await fetch(P.toString(),{credentials:"include"});if(!M.ok)throw new Error(`HTTP ${M.status}`);const L=await M.json();if(!L.ok)throw new Error(L.error?.message||"Ukendt fejl");d(L)}catch(P){p(String(P.message||P))}finally{y(!1)}}T.useEffect(()=>{w()},[e,a,o,_]);const S=c?.yields?.top||[],E=c?.consumed?.top||[],O=c?.net?.top||[],A=c?.series?.builds_per_day||[],N=c?.series?.yield_per_day||[],k=T.useMemo(()=>S.map(P=>({...P,name:dw(r,P.res_id)})),[S,r]),C=T.useMemo(()=>E.map(P=>({...P,name:dw(r,P.res_id)})),[E,r]),q=T.useMemo(()=>O.map(P=>({...P,name:dw(r,P.res_id)})),[O,r]);return g.jsxs("div",{className:"panel",children:[g.jsx("div",{className:"section-head",children:"Statistik"}),g.jsxs("div",{className:"section-body",children:[g.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"flex-end",marginBottom:12},children:[g.jsxs("div",{children:[g.jsx("label",{children:"Fra (UTC)"}),g.jsx("br",{}),g.jsx("input",{type:"text",value:a,onChange:P=>s(P.target.value),placeholder:"YYYY-MM-DD HH:MM:SS",style:{width:200}})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Til (UTC)"}),g.jsx("br",{}),g.jsx("input",{type:"text",value:o,onChange:P=>u(P.target.value),placeholder:"YYYY-MM-DD HH:MM:SS",style:{width:200}})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Top N"}),g.jsx("br",{}),g.jsx("input",{type:"number",min:1,max:100,value:_,onChange:P=>x(Number(P.target.value||10)),style:{width:80}})]}),g.jsx("button",{onClick:w,disabled:v,children:v?"Opdaterer…":"Opdater"})]}),f&&g.jsx("div",{className:"error",style:{marginBottom:12},children:f}),c&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"flex",gap:24,flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsx("h4",{children:"Bygninger"}),g.jsxs("div",{children:["Færdige: ",c.totals?.buildings_completed??0]}),g.jsxs("div",{children:["Afbrudt: ",c.totals?.by_scope?.bld?.canceled??0]}),g.jsxs("div",{children:["Tid brugt: ",Rd(c.totals?.time_spent_seconds?.building??0)]})]}),g.jsxs("div",{children:[g.jsx("h4",{children:"Addons"}),g.jsxs("div",{children:["Færdige: ",c.totals?.addons_completed??0]}),g.jsxs("div",{children:["Afbrudt: ",c.totals?.by_scope?.add?.canceled??0]}),g.jsxs("div",{children:["Tid brugt: ",Rd(c.totals?.time_spent_seconds?.addons??0)]})]}),g.jsxs("div",{children:[g.jsx("h4",{children:"Research"}),g.jsxs("div",{children:["Færdige: ",c.totals?.research_completed??0]}),g.jsxs("div",{children:["Afbrudt: ",c.totals?.by_scope?.rsd?.canceled??0]}),g.jsxs("div",{children:["Tid brugt: ",Rd(c.totals?.time_spent_seconds?.research??0)]})]}),g.jsxs("div",{children:[g.jsx("h4",{children:"Samlet"}),g.jsxs("div",{children:["Færdige i alt: ",c.totals?.builds_completed??0]}),g.jsxs("div",{children:["Afbrudt i alt: ",c.totals?.builds_canceled??0]}),g.jsxs("div",{children:["Tid brugt i alt: ",Rd(c.totals?.time_spent_seconds?.total??0)]})]})]}),g.jsx("hr",{}),g.jsx("h4",{children:"Top ressourcer (Yield)"}),g.jsx("ul",{children:k.map(P=>g.jsxs("li",{children:[P.name," — ",P.amount.toLocaleString()]},P.res_id))}),g.jsx("h4",{children:"Top ressourcer (Forbrug)"}),g.jsx("ul",{children:C.map(P=>g.jsxs("li",{children:[P.name," — ",P.amount.toLocaleString()]},P.res_id))}),g.jsx("h4",{children:"Top nettogevinst"}),g.jsx("ul",{children:q.map(P=>g.jsxs("li",{children:[P.name," — ",P.net.toLocaleString()," (Y:",P.yielded.toLocaleString()," | F:",P.consumed.toLocaleString(),")"]},P.res_id))}),g.jsx("hr",{}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(250px,1fr) minmax(250px,1fr)",gap:20},children:[g.jsxs("div",{children:[g.jsx("h4",{children:"Byg-events pr. dag"}),g.jsx(AI,{width:"100%",height:240,children:g.jsxs(gve,{data:A,children:[g.jsx(CS,{strokeDasharray:"3 3"}),g.jsx(DS,{dataKey:"ymd"}),g.jsx(LS,{allowDecimals:!1}),g.jsx(xI,{}),g.jsx(Cp,{}),g.jsx(MS,{type:"monotone",dataKey:"completed",stroke:"#4caf50",name:"Færdige"}),g.jsx(MS,{type:"monotone",dataKey:"canceled",stroke:"#f44336",name:"Afbrudt"})]})})]}),g.jsxs("div",{children:[g.jsx("h4",{children:"Yield pr. dag (sum)"}),g.jsx(AI,{width:"100%",height:240,children:g.jsxs(bve,{data:N,children:[g.jsx(CS,{strokeDasharray:"3 3"}),g.jsx(DS,{dataKey:"date"}),g.jsx(LS,{}),g.jsx(xI,{}),g.jsx(AH,{dataKey:"total_yield",fill:"#2196f3",name:"Yield"})]})})]})]})]})]})]})}function Sve(){return g.jsxs("div",{id:"user-page",style:{display:"grid",gridTemplateColumns:"1fr",gap:16},children:[g.jsx(XJ,{}),g.jsx(wve,{})]})}function hw(e){const t=Number(e);return Number.isFinite(t)?Math.trunc(t):0}function pw(...e){for(const t of e)if(t!=null)return t}function jve(){const e=Re()||{},t=e?.data||e?.gameState?.data||null,n=t&&(t.state||t)||{},r=pw(n?.user?.field_id,n?.profile?.field_id,n?.field_id,n?.map?.field_id),a=pw(n?.user?.x_coord,n?.profile?.x_coord,n?.x_coord,n?.map?.x_coord,n?.user?.x,n?.profile?.x,n?.x),s=pw(n?.user?.y_coord,n?.profile?.y_coord,n?.y_coord,n?.map?.y_coord,n?.user?.y,n?.profile?.y,n?.y);return T.useMemo(()=>{let o=hw(r),u=hw(a),c=hw(s);return(!u||!c)&&o>0?(u=(o-1)%50+1,c=Math.floor((o-1)/50)+1):o<=0&&u>0&&c>0&&(o=(c-1)*50+u),{hasClaim:u>0&&c>0||o>0,x:u,y:c,field:o}},[r,a,s])}const Dd=50,vB=50;async function Eve(){const e=["/src/assets/data/world.map001.land001.xml","/backend/data/xml/world.map001.land001.xml"];for(const t of e)try{const n=await fetch(t,{cache:"no-store"});if(!n.ok)continue;const r=n.headers.get("content-type")||"",a=await n.text();if(!(/xml/i.test(r)||a.trim().startsWith("<?xml")||a.includes("<world")))continue;return a}catch{}throw new Error("Kunne ikke hente gyldig XML for kortet.")}function Ave(e){const t=new DOMParser().parseFromString(e,"application/xml");if(t.querySelector("parsererror"))throw new Error("Ugyldigt XML-format i world.map001.land001.xml");const r=t.querySelector("world");if(!r)throw new Error("XML mangler <world>-elementet.");const a=r.getAttribute("id")!=null?Number(r.getAttribute("id")):null,s=Array.from(t.querySelectorAll("tile"));if(s.length===0)throw new Error("XML indeholder ingen <tile>-elementer.");const o=Object.create(null);let u=null,c=null;for(const d of s){const f=Number(d.getAttribute("field")),p=Number(d.getAttribute("x")),v=Number(d.getAttribute("y")),y=d.getAttribute("map"),_=d.getAttribute("land"),x=String(d.getAttribute("mult")||""),w=y!=null?Number(y):null,S=_!=null?Number(_):null;u==null&&w!=null&&(u=w),c==null&&S!=null&&(c=S);const E=Object.create(null);for(const A of x.split(";")){const[N,k]=A.split(":"),C=(N||"").trim();if(!C)continue;const q=Number((k||"").trim());E[C]=isNaN(q)?null:q}const O={forest:E.forest??null,field:E.field??null,mining:E.mining??null,water:E.water??null};o[f]={n:f,x:p,y:v,map:w,land:S,multipliers:O,multRaw:E}}return{worldId:a,mapId:u,landId:c,tilesByIndex:o}}const WH="/world-spil/backend/api";async function Ove(){const e=await fetch(`${WH}/map/occupied.php`,{credentials:"include",cache:"no-store"});let t=null;try{t=await e.json()}catch{}if(!e.ok||t?.ok===!1)throw new Error(t?.error?.message||`HTTP ${e.status}`);return Array.isArray(t?.data?.occupied)?t.data.occupied:[]}async function Tve(e){const t=await fetch(`${WH}/map/choose_tile.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});let n=null;try{n=await t.json()}catch{}if(!t.ok||n?.ok===!1)throw new Error(n?.error?.message||`HTTP ${t.status}`);return n?.data||{}}function Nve(){const{hasClaim:e}=jve(),{refreshData:t}=Re()||{},n=T.useRef(null),[r,a]=T.useState({visible:!1,left:0,top:0,tile:null,occupiedBy:null}),[s,o]=T.useState(null),[u,c]=T.useState({open:!1,tile:null,occupiedBy:null}),[d,f]=T.useState(!0),[p,v]=T.useState(""),[y,_]=T.useState({worldId:null,mapId:null,landId:null}),[x,w]=T.useState(()=>Object.create(null)),[S,E]=T.useState(()=>new Set),[O,A]=T.useState(()=>new Map);T.useEffect(()=>{try{localStorage.setItem("ws.map.seen","1")}catch{}},[]),T.useEffect(()=>{e&&typeof window<"u"&&window.location?.hash!=="#/dashboard"&&(window.location.hash="#/dashboard")},[e]);const N=T.useMemo(()=>{const B=[];for(let z=1;z<=vB;z++)for(let D=1;D<=Dd;D++){const H=(z-1)*Dd+D;B.push({n:H,x:D,y:z})}return B},[]);T.useEffect(()=>{let B=!0;return(async()=>{try{f(!0);const z=await Eve();if(!B)return;const D=Ave(z);w(D.tilesByIndex||{}),_({worldId:D.worldId,mapId:D.mapId,landId:D.landId}),v("")}catch(z){v(z?.message||"Fejl ved indlæsning af kortdata.")}finally{B&&f(!1)}})(),()=>{B=!1}},[]),T.useEffect(()=>{let B=!0;return(async()=>{try{const z=await Ove();if(!B)return;const D=new Set,H=new Map;for(const I of z){const F=Number(I.field??0)||(Number(I.y)-1)*Dd+Number(I.x);D.add(F),H.set(F,I)}E(D),A(H)}catch(z){console.warn("Kunne ikke hente optagede felter:",z?.message||z)}})(),()=>{B=!1}},[]);const k=B=>{const z=n.current;if(!z)return;const D=z.getBoundingClientRect(),H=B.clientX-D.left+12,I=B.clientY-D.top+12;a(F=>({...F,left:H,top:I}))},C=B=>{const z=x[B]||null,D=O.get(B)||null;a(H=>({...H,visible:!0,tile:z,occupiedBy:D}))},q=()=>a(B=>({...B,visible:!1})),P=B=>{if(S.has(B))return;const z=x[B]||null,D=O.get(B)||null;o(B),c({open:!0,tile:z,occupiedBy:D})};async function M(){try{const B=u.tile;if(!B)return;const z={world_id:y.worldId??1,map_id:y.mapId??1,field:B.n,x:B.x,y:B.y,mul_forest:B.multipliers.forest??null,mul_field:B.multipliers.field??null,mul_mining:B.multipliers.mining??null,mul_water:B.multipliers.water??null};await Tve(z),E(D=>new Set(D).add(B.n)),A(D=>{const H=new Map(D);return H.set(B.n,{...z}),H}),c({open:!1,tile:B,occupiedBy:null}),t&&t()}catch(B){alert(B?.message||"Kunne ikke gemme dit valg.")}}function L(){o(null),c({open:!1,tile:null,occupiedBy:null})}return e?null:g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:y.worldId!=null||y.mapId!=null?g.jsxs(g.Fragment,{children:["World: ",y.worldId??"—"," — Map: ",y.mapId??"—"]}):"Map"}),g.jsxs("div",{className:"section-body",children:[d&&g.jsx("div",{className:"sub",children:"Indlæser kortdata…"}),p&&g.jsx("div",{className:"sub",style:{color:"var(--price-bad)"},children:p}),g.jsxs("div",{className:"map-wrapper",ref:n,children:[g.jsx(FS,{src:"/assets/art/world.map001.land001.detail.png",fallback:"/assets/art/placeholder.big.png",alt:"World map",className:"map-image"}),g.jsx("div",{className:"grid-overlay",style:{gridTemplateColumns:`repeat(${Dd}, 1fr)`,gridTemplateRows:`repeat(${vB}, 1fr)`},children:N.map(B=>{const z=B.n,D=s===z,H=S.has(z);return g.jsx("div",{className:`grid-cell${D?" selected":""}${H?" occupied":""}`,onMouseEnter:()=>C(z),onMouseLeave:q,onMouseMove:k,onClick:()=>P(z)},z)})}),r.visible&&r.tile&&g.jsxs("div",{className:"hover-info",style:{left:r.left,top:r.top},children:[g.jsxs("div",{style:{fontWeight:700,marginBottom:4},children:["Felt: ",r.tile.n,", X: ",r.tile.x,", Y: ",r.tile.y]}),g.jsxs("div",{children:["Forest: ",r.tile.multipliers.forest]}),g.jsxs("div",{children:["Field: ",r.tile.multipliers.field]}),g.jsxs("div",{children:["Mining: ",r.tile.multipliers.mining]}),g.jsxs("div",{children:["Water: ",r.tile.multipliers.water]}),S.has(r.tile.n)&&g.jsxs("div",{style:{marginTop:6,color:"#ffb3b3"},children:["Optaget",r.occupiedBy?.username?` af ${r.occupiedBy.username}`:""]})]}),u.open&&u.tile&&g.jsx("div",{className:"modal-backdrop",onClick:L,children:g.jsxs("div",{className:"modal",onClick:B=>B.stopPropagation(),children:[g.jsx("div",{className:"modal-title",children:"Vælg dette felt som base?"}),g.jsxs("div",{className:"modal-body",children:[g.jsxs("div",{style:{marginBottom:8},children:[g.jsx("strong",{children:"Felt:"})," ",u.tile.n,", ",g.jsx("strong",{children:"X:"})," ",u.tile.x,", ",g.jsx("strong",{children:"Y:"})," ",u.tile.y]}),g.jsxs("div",{children:["Forest: ",u.tile.multipliers.forest]}),g.jsxs("div",{children:["Field: ",u.tile.multipliers.field]}),g.jsxs("div",{children:["Mining: ",u.tile.multipliers.mining]}),g.jsxs("div",{children:["Water: ",u.tile.multipliers.water]})]}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"btn",onClick:L,children:"Annuller"}),g.jsx("button",{className:"btn btn-primary",onClick:M,children:"Vælg felt"})]})]})})]})]})]})}const XH="ws:boards:v2",kve=T.createContext(null);function Cve(){try{const e=localStorage.getItem(XH);return e?JSON.parse(e):{openMap:{},zOrder:[],layout:{}}}catch{return{openMap:{},zOrder:[],layout:{}}}}function Mve(e){try{localStorage.setItem(XH,JSON.stringify(e))}catch{}}function Rve(e,t){switch(t.type){case"OPEN":{const n={...e.openMap,[t.id]:!0},r=e.zOrder.filter(a=>a!==t.id).concat(t.id);return{...e,openMap:n,zOrder:r}}case"CLOSE":{const n={...e.openMap,[t.id]:!1},r=e.zOrder.filter(a=>a!==t.id);return{...e,openMap:n,zOrder:r}}case"TOGGLE":{const n=!!e.openMap[t.id],r={...e.openMap,[t.id]:!n},a=n?e.zOrder.filter(s=>s!==t.id):e.zOrder.filter(s=>s!==t.id).concat(t.id);return{...e,openMap:r,zOrder:a}}case"BRING_TO_FRONT":{const n=e.zOrder.filter(r=>r!==t.id).concat(t.id);return{...e,zOrder:n}}case"SET_LAYOUT":{const n=e.layout[t.id]||{},r={...e.layout,[t.id]:{...n,...t.patch}};return{...e,layout:r}}case"RESET_LAYOUT":{const n={...e.layout};return delete n[t.id],{...e,layout:n}}default:return e}}function Dve({children:e}){const[t,n]=T.useReducer(Rve,void 0,Cve);T.useEffect(()=>{Mve(t)},[t]);const r=T.useMemo(()=>({isOpen:a=>!!t.openMap[a],open:a=>n({type:"OPEN",id:a}),close:a=>n({type:"CLOSE",id:a}),toggle:a=>n({type:"TOGGLE",id:a}),bringToFront:a=>n({type:"BRING_TO_FRONT",id:a}),topId:t.zOrder[t.zOrder.length-1]||null,zIndexFor:(a,s=1e3)=>{const o=t.zOrder.findIndex(u=>u===a);return o<0?s:s+o},getLayout:a=>t.layout[a]||null,setLayout:(a,s)=>n({type:"SET_LAYOUT",id:a,patch:s}),resetLayout:a=>n({type:"RESET_LAYOUT",id:a})}),[t]);return g.jsx(kve.Provider,{value:r,children:e})}const Pve=[{key:"farm",label:"Dyr",emoji:"🐾",family:"farm",perItemStat:"animal_cap",capacityMode:"animalCap",capacityLabel:"Staldplads"},{key:"health",label:"Health",emoji:"🏥",family:"health",perItemStat:"healthUnitUsage",headerCapacityKey:"healthUnitCapacity",headerUsageKey:"healthUnitUsage",buildingCapacityStat:"healthUnitCapacity",capacityLabel:"Health units"},{key:"police",label:"Politi",emoji:"👮",family:"police",perItemStat:"policeUnitUsage",headerCapacityKey:"policeUnitCapacity",headerUsageKey:"policeUnitUsage",buildingCapacityStat:"policeUnitCapacity",capacityLabel:"Police units"},{key:"fire",label:"Brand",emoji:"🚒",family:"fire",perItemStat:"fireUnitUsage",headerCapacityKey:"fireUnitCapacity",headerUsageKey:"fireUnitUsage",buildingCapacityStat:"fireUnitCapacity",capacityLabel:"Fire units"},{key:"military",label:"Militær",emoji:"🪖",family:"military",perItemStat:"militaryUnitUsage",headerCapacityKey:"militaryUnitCapacity",headerUsageKey:"militaryUnitUsage",buildingCapacityStat:"militaryUnitCapacity",capacityLabel:"Military units"}];function Lve(e,t,n){let r=0;for(const s of Object.keys(t?.bld||{})){const o=Zn(s);if(!o)continue;const u=e?.bld?.[`${o.family}.l${o.level}`]||e?.bld?.[o.key],c=Number(u?.stats?.[n.buildingCapacityStat]??0);Number.isFinite(c)&&(r+=c)}let a=0;for(const[s,o]of Object.entries(t?.ani||{})){const u=Number(o?.quantity||0);if(!u)continue;const c=String(s).replace(/^ani\./,""),d=e?.ani?.[c];if(!d||!String(d?.family||"").split(",").map(v=>v.trim()).filter(Boolean).includes(n.family))continue;const p=Math.abs(Number(d?.stats?.[n.perItemStat]??0))||0;a+=p*u}return{total:r,used:a}}function qve(){const{data:e,isLoading:t,error:n,refreshData:r}=Re(),{data:a}=pi(),[s,o]=T.useState(null),[u,c]=T.useState({isOpen:!1,title:"",body:"",onConfirm:null}),[d,f]=T.useState({});if(t)return g.jsx("div",{className:"sub",children:"Indlæser..."});if(n||!e)return g.jsx("div",{className:"sub",children:"Fejl."});const{state:p,defs:v}=e,y=T.useMemo(()=>{const z=new Set;return Object.keys(p?.bld||{}).forEach(D=>{const H=Zn(D);H?.family&&z.add(H.family)}),z},[p?.bld]),_=T.useMemo(()=>Pve.filter(z=>y.has(z.family)),[y]),x=T.useMemo(()=>s&&_.some(z=>z.key===s)?s:_[0]?.key||null,[s,_]),w=T.useMemo(()=>_.find(z=>z.key===x)||null,[x,_]),S=w?.capacityMode==="animalCap",E=T.useMemo(()=>w?Object.entries(v.ani||{}).filter(([z,D])=>String(D?.family||"").split(",").map(Q=>Q.trim()).filter(Boolean).includes(w.family)?Number(D?.stage||0)<=Number(p?.user?.currentstage||0):!1):[],[v?.ani,p?.user?.currentstage,w]),O=T.useMemo(()=>w?Object.entries(p?.ani||{}).filter(([z,D])=>{if((D?.quantity||0)<=0)return!1;const H=z.replace(/^ani\./,""),I=v.ani?.[H];return I?String(I?.family||"").split(",").map(Q=>Q.trim()).filter(Boolean).includes(w.family):!1}):[],[p?.ani,v?.ani,w]),A=T.useMemo(()=>{if(!w)return{total:0,used:0};if(S){const Y=p?.cap?.animal_cap||{total:0,used:0};return{total:Number(Y.total||0),used:Number(Y.used||0)}}const z=w.headerCapacityKey,D=w.headerUsageKey,H=Number(a?.capacities?.[z]??NaN),I=Number(a?.usages?.[D]?.total??NaN),F=Lve(v,p,w);return Number.isFinite(H)&&Number.isFinite(I)&&(H>0||I>0||H===0&&I===0&&F.total===0)?{total:H,used:I}:F},[w,S,p,v,a]),N=d[x]||{},k=T.useCallback((z,D)=>{w&&f(H=>{const I={...H[x]||{}};return D>0?I[z]=D:delete I[z],{...H,[x]:I}})},[x,w]),C=T.useMemo(()=>{if(!w)return null;const z=Number(A.total||0),D=Number(A.used||0);let H=0;const I={};for(const[Z,ne]of Object.entries(N)){if(!ne)continue;const K=Z.replace(/^ani\./,""),X=v.ani?.[K];if(!X)continue;const G=S?Math.abs(Number(X?.stats?.[w.perItemStat]??1))||1:Math.abs(Number(X?.stats?.[w.perItemStat]??0))||0;H+=G*ne;const te=tr(X?.cost||{});Object.values(te).forEach(oe=>{const se=I[oe.id]?.amount||0;I[oe.id]={id:oe.id,amount:se+(oe.amount||0)*ne}})}const F=Math.max(0,z-D),Q=H<=F,Y=Z=>{const ne=String(Z).replace(/^res\./,""),K=Number(p?.inv?.liquid?.[ne]||0),X=Number(p?.inv?.solid?.[ne]||0);return K+X},$=Object.values(I).every(Z=>Y(Z.id)>=(Z.amount||0)),V=Object.values(N).reduce((Z,ne)=>Z+(Number(ne)||0),0);return{total:z,used:D,availableCap:F,capToUse:H,totalCost:I,canAfford:$,hasCapacity:Q,totalQty:V}},[w,A,N,v,p,S]),q=T.useCallback(async()=>{if(!C)return;const z=Object.fromEntries(Object.entries(N).filter(([,I])=>Number(I)>0));if(!Object.keys(z).length||C.totalQty<=0)throw new Error("No items selected.");if(!C.hasCapacity)throw new Error("Insufficient capacity.");if(!C.canAfford)throw new Error("Insufficient resources.");const H=await(await fetch("/world-spil/backend/api/actions/animal.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"buy",animals:z})})).json();if(H&&H.ok===!1)throw new Error(H.message||"Server refused purchase.");return f(I=>({...I,[x]:{}})),await r(),H},[C,N,x,r]),P=T.useCallback(async(z,D)=>{if(!z||!D)return;const I=await(await fetch("/world-spil/backend/api/actions/animal.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"sell",animal_id:z,quantity:D})})).json();if(I&&I.ok===!1)throw new Error(I.message||"Server refused sale.");return await r(),I},[r]),M=()=>{if(!C?.totalQty)return;const z=gB(C.totalCost,v);c({isOpen:!0,title:`Bekræft køb (${w?.label||"Units"})`,body:`Du køber ${C.totalQty} enhed(er).<br/><div style="margin-top:8px;">Pris: ${z||"(ukendt)"}</div>`,onConfirm:async()=>{try{await q()}catch(D){alert(D.message||"Køb fejlede.")}finally{c(D=>({...D,isOpen:!1}))}}})},L=(z,D)=>{const H=z.replace(/^ani\./,""),I=v.ani?.[H];if(!I)return;const F=tr(I.cost||{}),Q={};Object.values(F).forEach($=>{Q[$.id]={id:$.id,amount:($.amount||0)*D*.5}});const Y=gB(Q,v);c({isOpen:!0,title:D===1?"Sælg 1 enhed":`Sælg ${D} enheder`,body:`Du får følgende tilbage:<br/><div style="margin-top:8px;">${Y||"(ukendt værdi)"}</div>`,onConfirm:async()=>{try{await P(z,D)}catch($){alert($.message||"Salg fejlede.")}finally{c($=>({...$,isOpen:!1}))}}})};if(!w)return g.jsxs("section",{className:"panel section",children:[g.jsx("div",{className:"section-head",children:"Units"}),g.jsx("div",{className:"section-body",children:g.jsx("div",{className:"sub",children:"Ingen unit-grupper tilgængelige. Byg først relevante faciliteter."})})]});const B=w.capacityLabel||(S?"Staldplads":"Units");return g.jsxs(g.Fragment,{children:[g.jsx("section",{className:"panel section",children:g.jsxs("div",{className:"section-head",style:{display:"flex",gap:8,alignItems:"center"},children:[g.jsx("span",{children:"Units"}),g.jsx("div",{className:"tabs",style:{marginLeft:"auto"},children:_.map(z=>g.jsx("button",{type:"button",className:`tab ${z.key===x?"active":""}`,onClick:()=>{o(z.key)},children:z.label},z.key))})]})}),g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:[w.label," – Dine enheder",g.jsxs("span",{style:{marginLeft:"auto"},children:[g.jsxs("strong",{children:[B,":"]})," ",_e((C?.used||0)+(C?.capToUse||0))," / ",_e(C?.total||0)]})]}),g.jsx("div",{className:"section-body",children:O.map(([z,D])=>{const H=z.replace(/^ani\./,""),I=v.ani[H],F=Number(D?.quantity||0),Q=S?Math.abs(Number(I?.stats?.[w.perItemStat]??1))||1:Math.abs(Number(I?.stats?.[w.perItemStat]??0))||0,Y=S?`Optager ${Q} staldplads`:`Forbruger ${Q} units`,$=g.jsx(pl,{def:I,translations:e?.i18n?.current??{}});return g.jsx(Js,{content:$,children:g.jsxs("div",{className:"item",children:[g.jsx("div",{className:"icon",children:I.emoji||(S?"🐄":w.emoji||"🏷️")}),g.jsxs("div",{children:[g.jsxs("div",{className:"title",children:[I.name," (x",_e(F),")"]}),g.jsx("div",{className:"sub",children:Y})]}),g.jsxs("div",{className:"right",children:[g.jsx("button",{className:"btn",onClick:()=>L(z,1),children:"Sælg 1"}),g.jsx("button",{className:"btn",onClick:()=>L(z,F),children:"Sælg alle"})]})]})},z)})})]}),g.jsxs("section",{className:"panel section",children:[g.jsxs("div",{className:"section-head",children:["Køb ",w.label]}),g.jsxs("div",{className:"section-body",children:[E.map(([z,D])=>{const H=g.jsx(pl,{def:D,translations:e?.i18n?.current??{}});return g.jsx(Js,{content:H,children:g.jsx(Bve,{def:D,defs:v,aniId:`ani.${z}`,toBuy:N,setQty:k,availableCap:C?.availableCap||0,perItemStat:w.perItemStat,isAnimal:S})},z)}),g.jsxs("div",{className:"actions-bar",style:{marginTop:"16px"},children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Total:"})," ",g.jsx(mi,{cost:C?.totalCost||{}}),"  ",g.jsxs("strong",{style:{marginLeft:"1em"},children:[B,":"]}),g.jsx("span",{className:C?.hasCapacity?"":"price-bad",children:_e((C?.used||0)+(C?.capToUse||0))})," / ",_e(C?.total||0)]}),g.jsxs("button",{className:"btn primary",disabled:!C||C.totalQty===0||!C.canAfford||!C.hasCapacity,onClick:M,children:["Køb valgte ",w.label.toLowerCase()]})]})]})]}),g.jsx(Gh,{isOpen:u.isOpen,title:u.title,body:u.body,onConfirm:u.onConfirm,onCancel:()=>c(z=>({...z,isOpen:!1})),confirmText:"OK",cancelText:"Annuller"})]})}function Ive(e,t){if(e.startsWith("res.")){const n=e.replace(/^res\./,"");return t.res?.[n]?.emoji||"📦"}if(e.startsWith("ani.")){const n=e.replace(/^ani\./,"");return t.ani?.[n]?.emoji||"🐾"}return"•"}function gB(e,t){const n=Object.values(tr(e||{}));return n.length?n.map(r=>`${Ive(r.id,t)} ${_e(r.amount)}`).join(" · "):""}function Bve({def:e,defs:t,aniId:n,toBuy:r,setQty:a,availableCap:s,perItemStat:o,isAnimal:u,...c}){const d=u?Math.abs(Number(e?.stats?.[o]??1))||1:Math.abs(Number(e?.stats?.[o]??0))||0,f=T.useMemo(()=>Object.entries(r).reduce((_,[x,w])=>{if(x===n)return _;const S=x.replace(/^ani\./,""),E=t.ani?.[S],O=u?Math.abs(Number(E?.stats?.[o]??1))||1:Math.abs(Number(E?.stats?.[o]??0))||0;return _+O*(Number(w)||0)},0),[r,n,t,o,u]),p=Math.max(0,s-f),v=d>0?Math.floor(p/d):999999,y=Math.min(Number(r[n]||0),v);return g.jsxs("div",{className:"item",...c,children:[g.jsx("div",{className:"icon",children:e.emoji||(u?"🐄":"🏷️")}),g.jsxs("div",{className:"grow",children:[g.jsx("div",{className:"title",children:e.name}),g.jsx("div",{className:"sub",children:g.jsx(mi,{cost:e.cost})}),g.jsx("div",{className:"sub",children:u?`Kræver ${d} staldplads`:`Forbruger ${d} units`}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"8px"},children:[g.jsx("input",{type:"range",className:"slider",min:"0",step:"1",max:v,value:y,style:{flexGrow:1},onChange:_=>a(n,parseInt(_.target.value,10)),disabled:v===0}),g.jsx("span",{style:{fontWeight:"bold",width:"30px",textAlign:"right"},children:y})]})]})]})}function $ve(){const[e,t]=T.useState(!1),[n,r]=T.useState(null),[a,s]=T.useState(null),o=T.useCallback(async()=>{t(!0),s(null);try{const c=await(await fetch("/world-spil/backend/api/actions/reproduction_tick.php",{credentials:"include"})).json();c.ok?r(c.data):s(c.error?.message||"Ukendt fejl")}catch(u){s(u?.message||String(u))}finally{t(!1)}},[]);return{loading:e,result:n,error:a,tick:o}}function Pd({title:e,map:t}){const n=Object.entries(t||{}).filter(([,r])=>Number(r)>0);return n.length===0?null:g.jsxs("div",{style:{marginBottom:8},children:[g.jsx("div",{style:{fontWeight:600,marginBottom:4},children:e}),g.jsx("ul",{style:{margin:0,paddingLeft:14},children:n.map(([r,a])=>g.jsxs("li",{children:[r,": ",_e(a)]},r))})]})}function zve({open:e,onClose:t,data:n}){if(!e)return null;const r={births:0,immigration:0,emigration:0,deaths:0},a={births:{},immigration:{},emigration:{},deaths:{},homeless:{toHomeless:0,rehoused:0}};for(const s of n?.byCycle||[]){r.births+=Number(s.births?.total||0),r.immigration+=Number(s.immigration?.total||0),r.emigration+=Number(s.emigration?.total||0),r.deaths+=Number(s.deaths?.total||0);for(const[o,u]of Object.entries(s.births?.byGroup||{}))a.births[o]=(a.births[o]||0)+u;for(const[o,u]of Object.entries(s.immigration?.byGroup||{}))a.immigration[o]=(a.immigration[o]||0)+u;for(const[o,u]of Object.entries(s.emigration?.byGroup||{}))a.emigration[o]=(a.emigration[o]||0)+u;for(const[o,u]of Object.entries(s.deaths?.byGroup||{}))a.deaths[o]=(a.deaths[o]||0)+u;a.homeless.toHomeless+=Number(s.homeless?.toHomeless||0),a.homeless.rehoused+=Number(s.homeless?.rehoused||0)}return g.jsx(Gh,{isOpen:e,onCancel:t,onConfirm:t,confirmText:"OK",cancelText:"Luk",title:"Befolkning – sidste kørsel",children:g.jsxs("div",{style:{maxHeight:400,overflowY:"auto"},children:[g.jsxs("div",{style:{marginBottom:8},children:[g.jsxs("div",{children:["Cycles: ",_e(n?.cycles||0)]}),g.jsxs("div",{children:["Fødsler: ",_e(r.births)," | Tilflyttere: ",_e(r.immigration)," | Fraflyttere: ",_e(r.emigration)," | Dødsfald: ",_e(r.deaths)]}),g.jsxs("div",{children:["Hjemløse: +",_e(a.homeless.toHomeless)," / Rehoused: ",_e(a.homeless.rehoused)]})]}),g.jsx(Pd,{title:"Fødsler (til)",map:a.births}),g.jsx(Pd,{title:"Tilflyttere (til)",map:a.immigration}),g.jsx(Pd,{title:"Fraflyttere (fra)",map:a.emigration}),g.jsx(Pd,{title:"Dødsfald (fra)",map:a.deaths})]})})}function Uve(){const{data:e,loading:t}=Re(),{loading:n,result:r,error:a,tick:s}=$ve(),[o,u]=T.useState(!1),c=Number(e?.state?.user?.currentstage??0);return T.useEffect(()=>{!t&&c<2&&(window.location.href="/")},[t,c]),t?g.jsx("div",{className:"panel",children:"Indlæser data..."}):c<2?null:g.jsxs("div",{className:"pop-tick-page",style:{maxWidth:680,margin:"0 auto",padding:24},children:[g.jsx("h1",{children:"Befolkningssystem – tick"}),g.jsx("div",{style:{marginBottom:16,fontSize:16},children:"Her kan du køre befolkningsticket manuelt og se detaljer for sidste run. Siden er kun tilgængelig på stage 2+."}),g.jsx("button",{onClick:s,disabled:n,style:{padding:"8px 24px",background:n?"#eee":"#cdf1d8",border:"1px solid #b1e4c1",borderRadius:7,fontWeight:600,cursor:n?"wait":"pointer"},children:n?"Kører tick...":"Kør befolkningstjek"}),a&&g.jsx("div",{style:{color:"red",marginTop:8},children:a}),r&&g.jsxs("div",{className:"pop-tick-result",style:{marginTop:24,padding:20,background:"#1f2937",borderRadius:10},children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Cycles:"})," ",r.cycles]}),g.jsxs("div",{children:["Fødsler: ",g.jsx("b",{children:r?.byCycle?.reduce((d,f)=>d+Number(f.births?.total||0),0)})," | Tilflyttere: ",g.jsx("b",{children:r?.byCycle?.reduce((d,f)=>d+Number(f.immigration?.total||0),0)})," | Fraflyttere: ",g.jsx("b",{children:r?.byCycle?.reduce((d,f)=>d+Number(f.emigration?.total||0),0)})," | Dødsfald: ",g.jsx("b",{children:r?.byCycle?.reduce((d,f)=>d+Number(f.deaths?.total||0),0)})]}),g.jsx("button",{style:{marginTop:8},onClick:()=>u(!0),children:"Vis detaljeret tick-summary"})]}),g.jsx(zve,{open:o,onClose:()=>u(!1),data:r})]})}const mw=[{key:"adultsPolice",label:"Police"},{key:"adultsFire",label:"Fire"},{key:"adultsHealth",label:"Health"},{key:"adultsSoldier",label:"Soldier"},{key:"adultsGovernment",label:"Government"},{key:"adultsPolitician",label:"Politician"},{key:"adultsWorker",label:"Worker"}],Hve={adultsPolice:"adultsPoliceCapacity",adultsFire:"adultsFireCapacity",adultsHealth:"adultsHealthCapacity",adultsSoldier:"adultsSoldierCapacity",adultsGovernment:"adultsGovernmentCapacity",adultsPolitician:"adultsPoliticianCapacity",adultsWorker:"adultsWorkerCapacity"};function Fve(){const[e,t]=T.useState(!0),[n,r]=T.useState(!1),[a,s]=T.useState(""),[o,u]=T.useState(null),[c,d]=T.useState({}),f=Ht(),[p,v]=T.useState({show:!1,msg:"",variant:"success"});T.useEffect(()=>{if(!p.show)return;const A=setTimeout(()=>v(N=>({...N,show:!1})),3200);return()=>clearTimeout(A)},[p.show]);const y=async()=>{t(!0),s("");try{const N=await(await fetch("/world-spil/backend/api/actions/citizens_assignments.php",{credentials:"include"})).json();if(!N?.ok)throw new Error(N?.error?.message||"Ukendt fejl");const k=N.data;u(k);const C={};mw.forEach(({key:q})=>{C[q]=Number(k?.citizens?.[q]??0)}),d(C)}catch(A){s(A?.message||String(A))}finally{t(!1)}};T.useEffect(()=>{y()},[]);const _=T.useMemo(()=>{if(!o)return{totalAdults:0,totalNonHomeless:0,sumAssign:0,unemployedWillBe:0};const{citizens:A={}}=o,N=Number(A.adultsUnemployed||0)+Number(A.adultsWorker||0)+Number(A.adultsPolice||0)+Number(A.adultsFire||0)+Number(A.adultsHealth||0)+Number(A.adultsSoldier||0)+Number(A.adultsGovernment||0)+Number(A.adultsPolitician||0)+Number(A.adultsHomeless||0),k=N-Number(A.adultsHomeless||0),C=mw.reduce((P,{key:M})=>P+Number(c[M]||0),0),q=Math.max(0,k-C);return{totalAdults:N,totalNonHomeless:k,sumAssign:C,unemployedWillBe:q}},[o,c]),x=A=>{if(!o)return{cap:0,max:0};const N=Hve[A],k=N?Number(o?.caps?.[N]??0):0,C=Number(o?.citizens?.[A]??0);if(A==="adultsPolitician"){const P=Number(o?.limits?.politicianMax??0),M=Math.max(k,C,P);return{cap:M,max:M}}const q=Math.max(k,C);return{cap:q,max:q}},w=(A,N)=>{const k=Math.max(0,Math.floor(Number(N)||0));d(C=>({...C,[A]:k}))},S=async()=>{if(o){r(!0),s("");try{const k=await(await fetch("/world-spil/backend/api/actions/citizens_assignments.php",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignments:c})})).json();if(!k?.ok)throw new Error(k?.error?.message||"Ukendt fejl");await y(),v({show:!0,msg:"Tildeling gemt 🎉",variant:"success"})}catch(A){s(A?.message||String(A)),v({show:!0,msg:"Fejl ved gem: "+(A?.message||String(A)),variant:"error"})}finally{r(!1)}}};if(e)return g.jsx("div",{className:"panel",style:{maxWidth:760,margin:"0 auto"},children:"Indlæser..."});if(a)return g.jsxs("div",{className:"panel",style:{maxWidth:760,margin:"0 auto",color:"red"},children:["Fejl: ",a]});if(!o)return null;const E=Number(o?.limits?.politicianMax||0),O=Number(c.adultsPolitician||0);return g.jsxs("div",{className:"",style:{margin:"0 auto"},children:[g.jsx("div",{className:"section-head",children:"Borgere – Tildeling (Adults)"}),g.jsxs("div",{className:"section-body",children:[g.jsxs("div",{style:{margin:"10px 0",padding:10,background:"#1f2937",borderRadius:8,textAlign:"center"},children:[g.jsxs("span",{title:f("ui.citizens.baby.h1"),"aria-label":f("ui.emoji.baby.h1"),children:[f("ui.emoji.baby.h1")," ",o?.citizens?.baby," | "]}),g.jsxs("span",{title:f("ui.citizens.kids_street.h1"),"aria-label":f("ui.emoji.kids_street.h1"),children:[f("ui.emoji.kids_street.h1")," ",o?.citizens?.kidsStreet," | "]}),g.jsxs("span",{title:f("ui.citizens.kids_student.h1"),"aria-label":f("ui.emoji.kids_student.h1"),children:[f("ui.emoji.kids_student.h1")," ",o?.citizens?.kidsStudent," | "]}),g.jsxs("span",{title:f("ui.citizens.young_worker.h1"),"aria-label":f("ui.emoji.young_worker.h1"),children:[f("ui.emoji.young_worker.h1")," ",o?.citizens?.youngWorker," | "]}),g.jsxs("span",{title:f("ui.citizens.young_student.h1"),"aria-label":f("ui.emoji.young_student.h1"),children:[f("ui.emoji.young_student.h1")," ",o?.citizens?.youngStudent," | "]}),g.jsxs("span",{title:f("ui.citizens.adults_police.h1"),"aria-label":f("ui.emoji.adults_police.h1"),children:[f("ui.emoji.adults_police.h1")," ",o?.citizens?.adultsPolice," | "]}),g.jsxs("span",{title:f("ui.citizens.adults_fire.h1"),"aria-label":f("ui.emoji.adults_fire.h1"),children:[f("ui.emoji.adults_fire.h1")," ",o?.citizens?.adultsFire," | "]}),g.jsxs("span",{title:f("ui.citizens.adults_health.h1"),"aria-label":f("ui.emoji.adults_health.h1"),children:[f("ui.emoji.adults_health.h1")," ",o?.citizens?.adultsHealth," | "]}),g.jsxs("span",{title:f("ui.citizens.adults_soldier.h1"),"aria-label":f("ui.emoji.adults_soldier.h1"),children:[f("ui.emoji.adults_soldier.h1")," ",o?.citizens?.adultsSoldier," | "]}),g.jsxs("span",{title:f("ui.citizens.adults_government.h1"),"aria-label":f("ui.emoji.adults_government.h1"),children:[f("ui.emoji.adults_government.h1")," ",o?.citizens?.adultsGovernment," | "]}),g.jsxs("span",{title:f("ui.citizens.adults_politician.h1"),"aria-label":f("ui.emoji.adults_politician.h1"),children:[f("ui.emoji.adults_politician.h1")," ",o?.citizens?.adultsPolitician," | "]}),g.jsxs("span",{title:f("ui.citizens.adults_worker.h1"),"aria-label":f("ui.emoji.adults_worker.h1"),children:[f("ui.emoji.adults_worker.h1")," ",o?.citizens?.adultsWorker," | "]}),g.jsxs("span",{title:f("ui.citizens.old.h1"),"aria-label":f("ui.emoji.old.h1"),children:[f("ui.emoji.old.h1")," ",o?.citizens?.old," | "]})]}),g.jsxs("div",{style:{marginBottom:12,fontSize:14},children:["- adultsHomeless styres automatisk og kan ikke tildeles.",g.jsx("br",{}),"- adultsUnemployed sættes automatisk som rest, når du gemmer.",g.jsx("br",{}),"- Politician har ratio-grænse pr. påbegyndt X borgere.",g.jsx("br",{}),"- Pt har du 👫 ",g.jsx("b",{children:_.totalAdults})," voksne borgere i alt, hvoraf 👤 ",g.jsx("b",{children:o?.citizens?.adultsHomeless||0})," er hjemløse."]}),g.jsxs("div",{style:{margin:"10px 0",padding:10,background:"#1f2937",borderRadius:8},children:[g.jsxs("div",{children:["Ikke-hjemløse voksne (til rådighed): ",g.jsx("b",{children:_.totalNonHomeless})]}),g.jsxs("div",{children:["Sum af dine valg: ",g.jsx("b",{children:_.sumAssign})," ",_.sumAssign>_.totalNonHomeless?g.jsx("span",{style:{color:"red"},children:"(for højt)"}):null]}),g.jsxs("div",{children:["Unemployed (bliver): ",g.jsx("b",{children:_.unemployedWillBe})]})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:14},children:mw.map(({key:A,label:N})=>{const{cap:k}=x(A),C=Number(c[A]||0),q=C>k,P=A==="adultsPolitician"&&E>0?g.jsxs("span",{style:{marginLeft:8,fontSize:12,color:O>E?"red":"#666"},children:["Max tilladt: ",E]}):null;return g.jsxs("div",{children:[g.jsxs("label",{style:{display:"block",fontWeight:600,marginBottom:4},children:[N,": ",C," ",g.jsxs("span",{style:{color:q?"red":"#666"},children:["(cap: ",k,")"]})," ",P]}),g.jsx("input",{type:"range",min:0,max:k,value:C,onChange:M=>w(A,M.target.value),style:{width:"100%"}})]},A)})}),g.jsxs("div",{style:{marginTop:16,display:"flex",gap:12},children:[g.jsx("button",{onClick:S,disabled:n,style:{padding:"8px 16px"},children:n?"Gemmer...":"Gem tildeling"}),g.jsx("button",{onClick:y,disabled:n,style:{padding:"8px 16px"},children:"Genindlæs"})]}),g.jsx("div",{style:{marginTop:20,fontSize:13,color:"#666"},children:"Bemærk: Serveren dobbelttjekker caps og totaler og kan nedskalere dine valg samt sætte et skjult antal crime pr. rolle."})]}),p.show&&g.jsxs("div",{role:"status","aria-live":"polite",style:{position:"fixed",right:20,bottom:20,zIndex:9999,minWidth:260,maxWidth:420,background:p.variant==="success"?"linear-gradient(180deg,#0f1724,#07101a)":"linear-gradient(180deg,#3b0b0b,#2a0707)",color:"#fff",padding:"12px 14px",borderRadius:12,boxShadow:"0 8px 30px rgba(2,6,23,0.6)",display:"flex",alignItems:"center",gap:12,transform:p.show?"translateY(0)":"translateY(8px)",opacity:p.show?1:0,transition:"transform 260ms cubic-bezier(.2,.9,.2,1), opacity 260ms ease"},children:[g.jsx("div",{style:{fontSize:20},children:p.variant==="success"?"🎉":"⚠️"}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:700,marginBottom:4},children:p.msg}),g.jsx("div",{style:{fontSize:12,opacity:.85},children:"Dine ændringer er gemt på serveren."})]}),g.jsx("button",{onClick:()=>v(A=>({...A,show:!1})),"aria-label":"Luk",style:{background:"transparent",border:"none",color:"#cbd5e1",cursor:"pointer",fontSize:16,padding:6},children:"✕"})]})]})}function Gve(){const{data:e}=Re(),t=Number(e?.state?.user?.currentstage??0),n=[{key:"assignments",label:"Borger tildeling",icon:"🧭",Component:Fve,minStage:2},{key:"reppopulation",label:"Borger status",icon:"📊",Component:Uve,minStage:2}],r=n.filter(s=>t>=(s.minStage||0)),a=r[0]?.key||n[0].key;return g.jsx(YB,{tabs:r,defaultKey:a,preserve:!1,className:"my-tabs"})}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:ZH,setPrototypeOf:yB,isFrozen:Kve,getPrototypeOf:Yve,getOwnPropertyDescriptor:Vve}=Object;let{freeze:zn,seal:Wr,create:QH}=Object,{apply:BS,construct:$S}=typeof Reflect<"u"&&Reflect;zn||(zn=function(t){return t});Wr||(Wr=function(t){return t});BS||(BS=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];return t.apply(n,a)});$S||($S=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return new t(...r)});const Ld=Un(Array.prototype.forEach),Wve=Un(Array.prototype.lastIndexOf),bB=Un(Array.prototype.pop),Wu=Un(Array.prototype.push),Xve=Un(Array.prototype.splice),Gd=Un(String.prototype.toLowerCase),vw=Un(String.prototype.toString),gw=Un(String.prototype.match),Xu=Un(String.prototype.replace),Zve=Un(String.prototype.indexOf),Qve=Un(String.prototype.trim),oa=Un(Object.prototype.hasOwnProperty),In=Un(RegExp.prototype.test),Zu=Jve(TypeError);function Un(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return BS(e,t,r)}}function Jve(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $S(e,n)}}function Fe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gd;yB&&yB(e,null);let r=t.length;for(;r--;){let a=t[r];if(typeof a=="string"){const s=n(a);s!==a&&(Kve(t)||(t[r]=s),a=s)}e[a]=!0}return e}function ege(e){for(let t=0;t<e.length;t++)oa(e,t)||(e[t]=null);return e}function ei(e){const t=QH(null);for(const[n,r]of ZH(e))oa(e,n)&&(Array.isArray(r)?t[n]=ege(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=ei(r):t[n]=r);return t}function Qu(e,t){for(;e!==null;){const r=Vve(e,t);if(r){if(r.get)return Un(r.get);if(typeof r.value=="function")return Un(r.value)}e=Yve(e)}function n(){return null}return n}const xB=zn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),yw=zn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),bw=zn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tge=zn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xw=zn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),nge=zn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_B=zn(["#text"]),wB=zn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),_w=zn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),SB=zn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qd=zn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),rge=Wr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),age=Wr(/<%[\w\W]*|[\w\W]*%>/gm),ige=Wr(/\$\{[\w\W]*/gm),sge=Wr(/^data-[\-\w.\u00B7-\uFFFF]+$/),oge=Wr(/^aria-[\-\w]+$/),JH=Wr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lge=Wr(/^(?:\w+script|data):/i),uge=Wr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),e8=Wr(/^html$/i),cge=Wr(/^[a-z][.\w]*(-[.\w]+)+$/i);var jB=Object.freeze({__proto__:null,ARIA_ATTR:oge,ATTR_WHITESPACE:uge,CUSTOM_ELEMENT:cge,DATA_ATTR:sge,DOCTYPE_NAME:e8,ERB_EXPR:age,IS_ALLOWED_URI:JH,IS_SCRIPT_OR_DATA:lge,MUSTACHE_EXPR:rge,TMPLIT_EXPR:ige});const Ju={element:1,text:3,progressingInstruction:7,comment:8,document:9},fge=function(){return typeof window>"u"?null:window},dge=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},EB=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function t8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fge();const t=Te=>t8(Te);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==Ju.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,a=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:u,Element:c,NodeFilter:d,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:v,trustedTypes:y}=e,_=c.prototype,x=Qu(_,"cloneNode"),w=Qu(_,"remove"),S=Qu(_,"nextSibling"),E=Qu(_,"childNodes"),O=Qu(_,"parentNode");if(typeof o=="function"){const Te=n.createElement("template");Te.content&&Te.content.ownerDocument&&(n=Te.content.ownerDocument)}let A,N="";const{implementation:k,createNodeIterator:C,createDocumentFragment:q,getElementsByTagName:P}=n,{importNode:M}=r;let L=EB();t.isSupported=typeof ZH=="function"&&typeof O=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:z,TMPLIT_EXPR:D,DATA_ATTR:H,ARIA_ATTR:I,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:Q,CUSTOM_ELEMENT:Y}=jB;let{IS_ALLOWED_URI:$}=jB,V=null;const Z=Fe({},[...xB,...yw,...bw,...xw,..._B]);let ne=null;const K=Fe({},[...wB,..._w,...SB,...qd]);let X=Object.seal(QH(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,te=null,oe=!0,se=!0,he=!1,ye=!0,ce=!1,Ae=!0,we=!1,be=!1,Pe=!1,xe=!1,Se=!1,at=!1,Dn=!0,ln=!1;const Jt="user-content-";let it=!0,kt=!1,Ft={},Ct=null;const ct=Fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let yt=null;const ht=Fe({},["audio","video","img","source","image","track"]);let Fn=null;const At=Fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gt="http://www.w3.org/1998/Math/MathML",pt="http://www.w3.org/2000/svg",Qe="http://www.w3.org/1999/xhtml";let Lt=Qe,en=!1,_n=null;const ps=Fe({},[Gt,pt,Qe],vw);let Jr=Fe({},["mi","mo","mn","ms","mtext"]),ir=Fe({},["annotation-xml"]);const La=Fe({},["title","style","font","a","script"]);let Gn=null;const ea=["application/xhtml+xml","text/html"],yo="text/html";let Ot=null,Tr=null;const ms=n.createElement("form"),vs=function(ee){return ee instanceof RegExp||ee instanceof Function},gs=function(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Tr&&Tr===ee)){if((!ee||typeof ee!="object")&&(ee={}),ee=ei(ee),Gn=ea.indexOf(ee.PARSER_MEDIA_TYPE)===-1?yo:ee.PARSER_MEDIA_TYPE,Ot=Gn==="application/xhtml+xml"?vw:Gd,V=oa(ee,"ALLOWED_TAGS")?Fe({},ee.ALLOWED_TAGS,Ot):Z,ne=oa(ee,"ALLOWED_ATTR")?Fe({},ee.ALLOWED_ATTR,Ot):K,_n=oa(ee,"ALLOWED_NAMESPACES")?Fe({},ee.ALLOWED_NAMESPACES,vw):ps,Fn=oa(ee,"ADD_URI_SAFE_ATTR")?Fe(ei(At),ee.ADD_URI_SAFE_ATTR,Ot):At,yt=oa(ee,"ADD_DATA_URI_TAGS")?Fe(ei(ht),ee.ADD_DATA_URI_TAGS,Ot):ht,Ct=oa(ee,"FORBID_CONTENTS")?Fe({},ee.FORBID_CONTENTS,Ot):ct,G=oa(ee,"FORBID_TAGS")?Fe({},ee.FORBID_TAGS,Ot):ei({}),te=oa(ee,"FORBID_ATTR")?Fe({},ee.FORBID_ATTR,Ot):ei({}),Ft=oa(ee,"USE_PROFILES")?ee.USE_PROFILES:!1,oe=ee.ALLOW_ARIA_ATTR!==!1,se=ee.ALLOW_DATA_ATTR!==!1,he=ee.ALLOW_UNKNOWN_PROTOCOLS||!1,ye=ee.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ce=ee.SAFE_FOR_TEMPLATES||!1,Ae=ee.SAFE_FOR_XML!==!1,we=ee.WHOLE_DOCUMENT||!1,xe=ee.RETURN_DOM||!1,Se=ee.RETURN_DOM_FRAGMENT||!1,at=ee.RETURN_TRUSTED_TYPE||!1,Pe=ee.FORCE_BODY||!1,Dn=ee.SANITIZE_DOM!==!1,ln=ee.SANITIZE_NAMED_PROPS||!1,it=ee.KEEP_CONTENT!==!1,kt=ee.IN_PLACE||!1,$=ee.ALLOWED_URI_REGEXP||JH,Lt=ee.NAMESPACE||Qe,Jr=ee.MATHML_TEXT_INTEGRATION_POINTS||Jr,ir=ee.HTML_INTEGRATION_POINTS||ir,X=ee.CUSTOM_ELEMENT_HANDLING||{},ee.CUSTOM_ELEMENT_HANDLING&&vs(ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&vs(ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&typeof ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ce&&(se=!1),Se&&(xe=!0),Ft&&(V=Fe({},_B),ne=[],Ft.html===!0&&(Fe(V,xB),Fe(ne,wB)),Ft.svg===!0&&(Fe(V,yw),Fe(ne,_w),Fe(ne,qd)),Ft.svgFilters===!0&&(Fe(V,bw),Fe(ne,_w),Fe(ne,qd)),Ft.mathMl===!0&&(Fe(V,xw),Fe(ne,SB),Fe(ne,qd))),ee.ADD_TAGS&&(V===Z&&(V=ei(V)),Fe(V,ee.ADD_TAGS,Ot)),ee.ADD_ATTR&&(ne===K&&(ne=ei(ne)),Fe(ne,ee.ADD_ATTR,Ot)),ee.ADD_URI_SAFE_ATTR&&Fe(Fn,ee.ADD_URI_SAFE_ATTR,Ot),ee.FORBID_CONTENTS&&(Ct===ct&&(Ct=ei(Ct)),Fe(Ct,ee.FORBID_CONTENTS,Ot)),it&&(V["#text"]=!0),we&&Fe(V,["html","head","body"]),V.table&&(Fe(V,["tbody"]),delete G.tbody),ee.TRUSTED_TYPES_POLICY){if(typeof ee.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ee.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=ee.TRUSTED_TYPES_POLICY,N=A.createHTML("")}else A===void 0&&(A=dge(y,a)),A!==null&&typeof N=="string"&&(N=A.createHTML(""));zn&&zn(ee),Tr=ee}},sr=Fe({},[...yw,...bw,...tge]),qt=Fe({},[...xw,...nge]),un=function(ee){let ge=O(ee);(!ge||!ge.tagName)&&(ge={namespaceURI:Lt,tagName:"template"});const je=Gd(ee.tagName),Je=Gd(ge.tagName);return _n[ee.namespaceURI]?ee.namespaceURI===pt?ge.namespaceURI===Qe?je==="svg":ge.namespaceURI===Gt?je==="svg"&&(Je==="annotation-xml"||Jr[Je]):!!sr[je]:ee.namespaceURI===Gt?ge.namespaceURI===Qe?je==="math":ge.namespaceURI===pt?je==="math"&&ir[Je]:!!qt[je]:ee.namespaceURI===Qe?ge.namespaceURI===pt&&!ir[Je]||ge.namespaceURI===Gt&&!Jr[Je]?!1:!qt[je]&&(La[je]||!sr[je]):!!(Gn==="application/xhtml+xml"&&_n[ee.namespaceURI]):!1},tn=function(ee){Wu(t.removed,{element:ee});try{O(ee).removeChild(ee)}catch{w(ee)}},or=function(ee,ge){try{Wu(t.removed,{attribute:ge.getAttributeNode(ee),from:ge})}catch{Wu(t.removed,{attribute:null,from:ge})}if(ge.removeAttribute(ee),ee==="is")if(xe||Se)try{tn(ge)}catch{}else try{ge.setAttribute(ee,"")}catch{}},bo=function(ee){let ge=null,je=null;if(Pe)ee="<remove></remove>"+ee;else{const bt=gw(ee,/^[\r\n\t ]+/);je=bt&&bt[0]}Gn==="application/xhtml+xml"&&Lt===Qe&&(ee='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ee+"</body></html>");const Je=A?A.createHTML(ee):ee;if(Lt===Qe)try{ge=new v().parseFromString(Je,Gn)}catch{}if(!ge||!ge.documentElement){ge=k.createDocument(Lt,"template",null);try{ge.documentElement.innerHTML=en?N:Je}catch{}}const It=ge.body||ge.documentElement;return ee&&je&&It.insertBefore(n.createTextNode(je),It.childNodes[0]||null),Lt===Qe?P.call(ge,we?"html":"body")[0]:we?ge.documentElement:It},xo=function(ee){return C.call(ee.ownerDocument||ee,ee,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},ji=function(ee){return ee instanceof p&&(typeof ee.nodeName!="string"||typeof ee.textContent!="string"||typeof ee.removeChild!="function"||!(ee.attributes instanceof f)||typeof ee.removeAttribute!="function"||typeof ee.setAttribute!="function"||typeof ee.namespaceURI!="string"||typeof ee.insertBefore!="function"||typeof ee.hasChildNodes!="function")},ba=function(ee){return typeof u=="function"&&ee instanceof u};function Pn(Te,ee,ge){Ld(Te,je=>{je.call(t,ee,ge,Tr)})}const Nr=function(ee){let ge=null;if(Pn(L.beforeSanitizeElements,ee,null),ji(ee))return tn(ee),!0;const je=Ot(ee.nodeName);if(Pn(L.uponSanitizeElement,ee,{tagName:je,allowedTags:V}),Ae&&ee.hasChildNodes()&&!ba(ee.firstElementChild)&&In(/<[/\w!]/g,ee.innerHTML)&&In(/<[/\w!]/g,ee.textContent)||ee.nodeType===Ju.progressingInstruction||Ae&&ee.nodeType===Ju.comment&&In(/<[/\w]/g,ee.data))return tn(ee),!0;if(!V[je]||G[je]){if(!G[je]&&xa(je)&&(X.tagNameCheck instanceof RegExp&&In(X.tagNameCheck,je)||X.tagNameCheck instanceof Function&&X.tagNameCheck(je)))return!1;if(it&&!Ct[je]){const Je=O(ee)||ee.parentNode,It=E(ee)||ee.childNodes;if(It&&Je){const bt=It.length;for(let cn=bt-1;cn>=0;--cn){const Tn=x(It[cn],!0);Tn.__removalCount=(ee.__removalCount||0)+1,Je.insertBefore(Tn,S(ee))}}}return tn(ee),!0}return ee instanceof c&&!un(ee)||(je==="noscript"||je==="noembed"||je==="noframes")&&In(/<\/no(script|embed|frames)/i,ee.innerHTML)?(tn(ee),!0):(ce&&ee.nodeType===Ju.text&&(ge=ee.textContent,Ld([B,z,D],Je=>{ge=Xu(ge,Je," ")}),ee.textContent!==ge&&(Wu(t.removed,{element:ee.cloneNode()}),ee.textContent=ge)),Pn(L.afterSanitizeElements,ee,null),!1)},ta=function(ee,ge,je){if(Dn&&(ge==="id"||ge==="name")&&(je in n||je in ms))return!1;if(!(se&&!te[ge]&&In(H,ge))){if(!(oe&&In(I,ge))){if(!ne[ge]||te[ge]){if(!(xa(ee)&&(X.tagNameCheck instanceof RegExp&&In(X.tagNameCheck,ee)||X.tagNameCheck instanceof Function&&X.tagNameCheck(ee))&&(X.attributeNameCheck instanceof RegExp&&In(X.attributeNameCheck,ge)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(ge,ee))||ge==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&In(X.tagNameCheck,je)||X.tagNameCheck instanceof Function&&X.tagNameCheck(je))))return!1}else if(!Fn[ge]){if(!In($,Xu(je,Q,""))){if(!((ge==="src"||ge==="xlink:href"||ge==="href")&&ee!=="script"&&Zve(je,"data:")===0&&yt[ee])){if(!(he&&!In(F,Xu(je,Q,"")))){if(je)return!1}}}}}}return!0},xa=function(ee){return ee!=="annotation-xml"&&gw(ee,Y)},na=function(ee){Pn(L.beforeSanitizeAttributes,ee,null);const{attributes:ge}=ee;if(!ge||ji(ee))return;const je={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ne,forceKeepAttr:void 0};let Je=ge.length;for(;Je--;){const It=ge[Je],{name:bt,namespaceURI:cn,value:Tn}=It,lr=Ot(bt),Ln=Tn;let _t=bt==="value"?Ln:Qve(Ln);if(je.attrName=lr,je.attrValue=_t,je.keepAttr=!0,je.forceKeepAttr=void 0,Pn(L.uponSanitizeAttribute,ee,je),_t=je.attrValue,ln&&(lr==="id"||lr==="name")&&(or(bt,ee),_t=Jt+_t),Ae&&In(/((--!?|])>)|<\/(style|title|textarea)/i,_t)){or(bt,ee);continue}if(lr==="attributename"&&gw(_t,"href")){or(bt,ee);continue}if(je.forceKeepAttr)continue;if(!je.keepAttr){or(bt,ee);continue}if(!ye&&In(/\/>/i,_t)){or(bt,ee);continue}ce&&Ld([B,z,D],ra=>{_t=Xu(_t,ra," ")});const ys=Ot(ee.nodeName);if(!ta(ys,lr,_t)){or(bt,ee);continue}if(A&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!cn)switch(y.getAttributeType(ys,lr)){case"TrustedHTML":{_t=A.createHTML(_t);break}case"TrustedScriptURL":{_t=A.createScriptURL(_t);break}}if(_t!==Ln)try{cn?ee.setAttributeNS(cn,bt,_t):ee.setAttribute(bt,_t),ji(ee)?tn(ee):bB(t.removed)}catch{or(bt,ee)}}Pn(L.afterSanitizeAttributes,ee,null)},Mt=function Te(ee){let ge=null;const je=xo(ee);for(Pn(L.beforeSanitizeShadowDOM,ee,null);ge=je.nextNode();)Pn(L.uponSanitizeShadowNode,ge,null),Nr(ge),na(ge),ge.content instanceof s&&Te(ge.content);Pn(L.afterSanitizeShadowDOM,ee,null)};return t.sanitize=function(Te){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=null,je=null,Je=null,It=null;if(en=!Te,en&&(Te="<!-->"),typeof Te!="string"&&!ba(Te))if(typeof Te.toString=="function"){if(Te=Te.toString(),typeof Te!="string")throw Zu("dirty is not a string, aborting")}else throw Zu("toString is not a function");if(!t.isSupported)return Te;if(be||gs(ee),t.removed=[],typeof Te=="string"&&(kt=!1),kt){if(Te.nodeName){const Tn=Ot(Te.nodeName);if(!V[Tn]||G[Tn])throw Zu("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof u)ge=bo("<!---->"),je=ge.ownerDocument.importNode(Te,!0),je.nodeType===Ju.element&&je.nodeName==="BODY"||je.nodeName==="HTML"?ge=je:ge.appendChild(je);else{if(!xe&&!ce&&!we&&Te.indexOf("<")===-1)return A&&at?A.createHTML(Te):Te;if(ge=bo(Te),!ge)return xe?null:at?N:""}ge&&Pe&&tn(ge.firstChild);const bt=xo(kt?Te:ge);for(;Je=bt.nextNode();)Nr(Je),na(Je),Je.content instanceof s&&Mt(Je.content);if(kt)return Te;if(xe){if(Se)for(It=q.call(ge.ownerDocument);ge.firstChild;)It.appendChild(ge.firstChild);else It=ge;return(ne.shadowroot||ne.shadowrootmode)&&(It=M.call(r,It,!0)),It}let cn=we?ge.outerHTML:ge.innerHTML;return we&&V["!doctype"]&&ge.ownerDocument&&ge.ownerDocument.doctype&&ge.ownerDocument.doctype.name&&In(e8,ge.ownerDocument.doctype.name)&&(cn="<!DOCTYPE "+ge.ownerDocument.doctype.name+`>
`+cn),ce&&Ld([B,z,D],Tn=>{cn=Xu(cn,Tn," ")}),A&&at?A.createHTML(cn):cn},t.setConfig=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gs(Te),be=!0},t.clearConfig=function(){Tr=null,be=!1},t.isValidAttribute=function(Te,ee,ge){Tr||gs({});const je=Ot(Te),Je=Ot(ee);return ta(je,Je,ge)},t.addHook=function(Te,ee){typeof ee=="function"&&Wu(L[Te],ee)},t.removeHook=function(Te,ee){if(ee!==void 0){const ge=Wve(L[Te],ee);return ge===-1?void 0:Xve(L[Te],ge,1)[0]}return bB(L[Te])},t.removeHooks=function(Te){L[Te]=[]},t.removeAllHooks=function(){L=EB()},t}var hge=t8();const n8="ws.help.read.v1",AB="ws.help.expanded.v1",OB="ws.help.collapse.v1";function pge(){return window.location.hash||""}function mge(e){return(e||"").startsWith("#/help")}function TB(){const e=pge();if(!mge(e))return"";const t=e.indexOf("?");if(t===-1)return"";try{const r=new URLSearchParams(e.slice(t+1)).get("topic");return r?decodeURIComponent(r):""}catch{return""}}function Id(e){const t=`#/help?topic=${encodeURIComponent(e)}`;window.location.hash!==t&&(window.location.hash=t)}function vge(){try{const e=localStorage.getItem(n8);return e?JSON.parse(e):{}}catch{return{}}}function NB(e){try{localStorage.setItem(n8,JSON.stringify(e))}catch{}}function gge(e){if(!e)return"";const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function yge(e,t,n=!0){const r=[];function a(o){if(!n)return!0;const u=o.minStage==null||t.stage>=Number(o.minStage),c=o.maxStage==null||t.stage<=Number(o.maxStage),d=typeof o.visible=="function"?!!o.visible(t):!0;return u&&c&&d}function s(o,u=0,c=null){if(!o)return[];const d={...o,depth:u,parentId:c};if(Array.isArray(o.children)&&o.children.length>0){const f=[];for(const p of o.children){const v=s(p,u+1,o.id||o.key||null);v&&v.length&&f.push(...v)}return f.length>0||a(o)?[{...d,isGroup:!0},...f]:[]}return a(o)?[{...d,isGroup:!1}]:[]}for(const o of e||[]){const u=s(o,0,null);u&&u.length&&r.push(...u)}return r}function bge({isOpen:e,onClose:t,topics:n=[],rememberHash:r=!0,trackRead:a=!0,enableResetButton:s=!0}){const{data:o}=Re(),u=Ht(),c=o?.defs||{},d=o?.state||{},f=Number(d?.user?.currentstage||0),p=T.useMemo(()=>({defs:c,state:d,t:u,stage:f}),[c,d,u,f]),[v,y]=T.useState(()=>{try{return JSON.parse(localStorage.getItem(OB)??"false")}catch{return!1}}),_=T.useCallback(()=>{y(G=>{const te=!G;try{localStorage.setItem(OB,JSON.stringify(te))}catch{}return te})},[]),[x,w]=T.useState(()=>{try{const G=localStorage.getItem(AB)||"{}",te=JSON.parse(G);return new Set(Object.keys(te).filter(oe=>te[oe]))}catch{return new Set}}),S=T.useCallback(G=>{w(te=>{const oe=new Set(te);oe.has(G)?oe.delete(G):oe.add(G);try{const se={};oe.forEach(he=>{se[he]=!0}),localStorage.setItem(AB,JSON.stringify(se))}catch{}return oe})},[]),[E,O]=T.useState(()=>vge()),[A,N]=T.useState(""),[k,C]=T.useState(()=>r?TB():"");T.useEffect(()=>{if(!e||!r)return;const G=()=>{const te=TB();te&&C(te)};return window.addEventListener("hashchange",G),G(),()=>window.removeEventListener("hashchange",G)},[e,r]),T.useEffect(()=>{if(!e)return;const G=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=G}},[e]),T.useEffect(()=>{if(!e)return;const G=te=>{te.key==="Escape"&&t?.()};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[e,t]);const q=T.useMemo(()=>yge(n,p,!0),[n,p]),P=T.useMemo(()=>{const G=new Map;for(const te of q){if(te.isGroup)continue;const oe=te.id||te.key;if(!oe)continue;const se=[];te.title&&se.push(String(te.title));const he=te.tags||te.opts?.tags||[];Array.isArray(he)&&he.length&&se.push(he.join(" "));const ye=te.searchText||te.opts?.searchText||"";typeof ye=="string"&&ye&&se.push(ye),typeof te.html=="string"&&se.push(gge(te.html)),G.set(oe,se.join(" ").toLowerCase())}return G},[q]),[M,L]=T.useState({}),B=T.useMemo(()=>k&&q.find(G=>!G.isGroup&&(G.id||G.key)===k)||null,[q,k]),z=T.useRef(null),D=T.useCallback(G=>{z.current&&!z.current.contains(G.target)&&t?.()},[t]),H=T.useCallback(G=>{if(G&&(C(G),r))try{Id(G)}catch{}},[r]),I=T.useRef(null);T.useEffect(()=>{const G=I.current;if(!G)return;const te=he=>{const ye=he.target.closest("a");if(!ye||!G.contains(ye))return;const ce=ye.getAttribute("data-topic-link");if(ce){he.preventDefault(),H(ce);return}const Ae=ye.getAttribute("href")||"";if(Ae.startsWith("#/help")){he.preventDefault();const we=Ae.indexOf("?");if(we!==-1){const be=Ae.slice(we+1),xe=new URLSearchParams(be).get("topic");xe&&H(xe)}}};G.addEventListener("click",te);const oe=Array.from(G.querySelectorAll("a")),se=[];return oe.forEach(he=>{he.style.pointerEvents="auto",he.hasAttribute("tabindex")||he.setAttribute("tabindex","0"),he.hasAttribute("role")||he.setAttribute("role","link"),he.style.cursor="pointer";const ye=he.getAttribute("data-topic-link");if(ye){const ce=Ae=>{Ae.preventDefault(),H(ye)};he.addEventListener("click",ce),se.push({a:he,h:ce})}}),()=>{G.removeEventListener("click",te),se.forEach(({a:he,h:ye})=>he.removeEventListener("click",ye))}},[H,k]),T.useEffect(()=>{if(!e||!B)return;const G=I.current;if(!G)return;const oe=requestAnimationFrame(()=>{const he=((G.querySelector(".help-article")||G).textContent||"").trim();he&&L(ye=>{const ce=B.id||B.key;return!ce||ye[ce]===he?ye:{...ye,[ce]:he}})});return()=>cancelAnimationFrame(oe)},[e,B]);const F=T.useMemo(()=>{const G=A.trim().toLowerCase();return G?q.filter(te=>{if(te.isGroup)return!1;const oe=te.id||te.key;if(!oe)return!1;const se=P.get(oe)||"",he=(M[oe]||"").toLowerCase();return se.includes(G)||he.includes(G)}):q},[q,A,P,M]);T.useEffect(()=>{if(!e||!B||!a)return;const G=B.id||B.key;G&&O(te=>{if(te[G])return te;const oe={...te,[G]:Date.now()};return NB(oe),oe})},[e,B,a]);const Q=G=>{const te=hge.sanitize(G||"",{ADD_ATTR:["target","rel","style","data-topic-link"],ADD_TAGS:["iframe"]});return g.jsx("article",{className:"help-article",dangerouslySetInnerHTML:{__html:te}})};function Y(G){if(!G)return g.jsx("div",{className:"muted",children:"Vælg et emne i venstre side."});if(G.component&&typeof G.component=="function"){const te=G.component;return g.jsx(te,{defs:c,state:d,t:u,stage:f,openTopic:H})}if(typeof G.render=="function"){const te=G.render({defs:c,state:d,t:u,stage:f,openTopic:H});return typeof te=="string"?Q(te):g.jsx("article",{className:"help-article",children:te})}return typeof G.html=="string"?Q(G.html):g.jsx("div",{className:"muted",children:"Ingen indhold."})}const $=(G,te=0)=>(G||[]).map(oe=>{if(oe.children&&oe.children.length){const ce=oe.id||oe.key||oe.title,Ae=x.has(ce),we=q.filter(Pe=>!Pe.isGroup&&Pe.parentId===ce);let be=0;for(const Pe of we){const xe=Pe.id||Pe.key;a&&xe&&!E[xe]&&be++}return g.jsxs("div",{className:"help-topic-group",children:[g.jsxs("div",{className:"help-topic-group-title",style:{paddingLeft:te*12},children:[g.jsx("button",{className:"icon-btn",onClick:()=>S(ce),"aria-expanded":Ae,title:Ae?"Skjul":"Vis",type:"button",children:Ae?"▾":"▸"}),g.jsx("span",{style:{marginLeft:8},children:oe.title}),be>0&&g.jsxs("span",{className:"unread-badge",children:["(! ",be,")"]})]}),Ae&&g.jsx("div",{children:$(oe.children,te+1)})]},ce)}const se=oe.id||oe.key,he=se===k,ye=a&&se&&!E[se]?g.jsx("span",{className:"dot-unread",children:"•"}):null;return g.jsxs("button",{className:`help-topic-item depth-${te} ${he?"active":""}`,onClick:()=>{C(se),r&&Id(se)},title:oe.title,style:{paddingLeft:12+te*12},children:[oe.title,ye]},se)}),V=(G,te=0)=>(G||[]).map(oe=>{if(oe.children&&oe.children.length){const ce=oe.id||oe.key||oe.title,Ae=q.filter(be=>!be.isGroup&&be.parentId===ce);let we=0;for(const be of Ae){const Pe=be.id||be.key;a&&Pe&&!E[Pe]&&we++}return g.jsxs("div",{className:"help-topic-group",children:[g.jsxs("div",{className:"help-topic-group-title",style:{paddingLeft:te*12},children:[g.jsx("span",{style:{marginLeft:8},children:oe.title}),we>0&&g.jsxs("span",{className:"unread-badge",children:["(! ",we,")"]})]}),g.jsx("div",{children:V(oe.children,te+1)})]},ce)}const se=oe.id||oe.key,he=se===k,ye=a&&se&&!E[se]?g.jsx("span",{className:"dot-unread",children:"•"}):null;return g.jsxs("button",{className:`help-topic-item depth-${te} ${he?"active":""}`,onClick:()=>{C(se),r&&Id(se)},title:oe.title,style:{paddingLeft:12+te*12},children:[oe.title,ye]},se)}),Z=F.filter(G=>!G.isGroup),ne=!!A.trim()||!v;function K(){O({}),NB({})}if(!e)return null;const X=g.jsx("div",{className:"help-overlay",onMouseDown:D,role:"dialog","aria-modal":"true","aria-label":"Hjælp",children:g.jsxs("div",{className:"help-overlay-panel panel",ref:z,onMouseDown:G=>G.stopPropagation(),children:[g.jsxs("div",{className:"help-overlay-head",children:[g.jsx("div",{className:"title",children:"Hjælp"}),g.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[s&&g.jsx("button",{className:"icon-btn",onClick:K,title:"Nulstil ulæste",children:"↺"}),g.jsx("button",{className:"icon-btn",onClick:_,"aria-pressed":v,title:v?"Vis grupper (kollaps)":"Vis lang liste",type:"button",children:v?"▾":"≡"}),g.jsx("button",{className:"icon-btn",onClick:t,"aria-label":"Luk",title:"Luk",children:"✕"})]})]}),g.jsxs("div",{className:"help-overlay-body",children:[g.jsxs("aside",{className:"help-overlay-sidebar",children:[g.jsx("input",{className:"help-overlay-search",type:"search",placeholder:"Søg…",value:A,onChange:G=>N(G.target.value)}),g.jsxs("div",{className:"help-topic-list",role:"listbox","aria-label":"Emneliste",children:[A.trim().length>0?F.filter(G=>!G.isGroup).map(G=>{const te=G.id||G.key,oe=te===k,se=a&&te&&!E[te];return g.jsxs("button",{className:`help-topic-item depth-${G.depth} ${oe?"active":""}`,onClick:()=>{C(te),r&&Id(te)},"aria-selected":oe,title:G.title,children:[G.title,se&&g.jsx("span",{className:"dot-unread","aria-hidden":!0,children:"•"})]},te)}):ne?V(n):$(n),A.trim().length>0&&Z.length===0&&g.jsx("div",{className:"muted small",style:{padding:"8px 10px"},children:"Ingen match."})]})]}),g.jsx("section",{className:"help-overlay-content",ref:I,children:Y(B)})]})]})});return pK.createPortal(X,document.body)}function Vi({title:e,subtitle:t,stats:n,extras:r,translations:a,headerMode:s="wrapper",filterKeys:o=["item","items","title","name","desc"]}){const u=xge(n,o),c=s==="stats",d=c?{title:e,desc:t,stats:u}:{stats:u};return g.jsxs("div",{style:{minWidth:260,maxWidth:520},children:[!c&&(e||t)?g.jsxs("div",{style:{marginBottom:8},children:[e?g.jsx("div",{style:{fontWeight:700,marginBottom:2},children:e}):null,t?g.jsx("div",{style:{fontSize:12,opacity:.8},children:t}):null]}):null,g.jsx(pl,{def:d,translations:a,showHeader:c}),Array.isArray(r)&&r.length>0?g.jsx("div",{style:{marginTop:10,paddingTop:8,borderTop:"1px solid var(--border)"},children:g.jsx("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:r.map((f,p)=>{if(typeof f=="string")return g.jsx("li",{style:{padding:"4px 0"},children:g.jsx("div",{style:{fontSize:13},children:f})},p);const v=String(f?.label??"").trim(),y=wge(f?.value),_=String(f?.desc??"").trim();return g.jsxs("li",{style:{padding:"4px 0"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12},children:[g.jsx("span",{style:{fontWeight:600},children:v}),g.jsx("span",{style:{textAlign:"right"},children:y})]}),_?g.jsx("div",{style:{fontSize:12,opacity:.75,marginTop:2},children:_}):null]},p)})})}):null]})}function xge(e,t){if(!e)return{};if(typeof e=="string")return _ge(e,t);if(typeof e!="object")return{};const n={};for(const[r,a]of Object.entries(e)){const s=String(r||"").trim();!s||t.includes(s)||a!=null&&typeof a!="object"&&(n[s]=a)}return n}function _ge(e,t){const n=String(e).split(";").map(a=>a.trim()).filter(Boolean),r={};for(const a of n){const[s,o=""]=a.split("=",2).map(c=>c.trim());if(!s||t.includes(s))continue;const u=Number(o);r[s]=!Number.isNaN(u)&&o!==""?u:o}return r}function wge(e){return e==null?"":typeof e=="number"?String(e).replace(".",","):String(e)}function r8({label:e,help:t,children:n}){return g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"220px 1fr",gap:12,alignItems:"center"},children:[g.jsxs("div",{style:{opacity:.9},children:[g.jsx("div",{style:{fontWeight:600},children:e}),t&&g.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:4},children:t})]}),g.jsx("div",{children:n})]})}function a8({checked:e,onChange:t,label:n}){return g.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8,cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:!!e,onChange:r=>t(r.target.checked)}),g.jsx("span",{children:n})]})}function i8({value:e,onChange:t,min:n,max:r,step:a=1,suffix:s,placeholder:o,width:u=60}){return g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("input",{type:"number",value:e??"",placeholder:o,min:n,max:r,step:a,onChange:c=>t(c.target.value===""?"":Number(c.target.value)),style:{width:u,padding:"6px 8px"}}),s&&g.jsx("span",{style:{opacity:.7},children:s})]})}function sA({value:e,onChange:t,min:n=0,max:r=100,step:a=1,formatValue:s}){const o=s?s(e):String(e);return g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8,alignItems:"center"},children:[g.jsx("input",{type:"range",value:Number(e??n),min:n,max:r,step:a,onChange:u=>t(Number(u.target.value)),style:{width:"100%"}}),g.jsx("div",{style:{minWidth:70,textAlign:"right"},children:o})]})}function s8({value:e,onChange:t}){return g.jsx(sA,{value:e,onChange:t,min:0,max:100,step:1,formatValue:n=>`${Math.round(n)}%`})}function o8({value:e,onChange:t,options:n,width:r=220}){return g.jsx("select",{value:e,onChange:a=>t(a.target.value),style:{padding:"6px 8px",width:r},children:n.map(a=>g.jsx("option",{value:a.value,children:a.label},a.value))})}function l8({value:e=[],onChange:t,options:n,columns:r=1}){const a=(s,o)=>{const u=new Set(e);o?u.add(s):u.delete(s),t(Array.from(u))};return g.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r}, minmax(0, 1fr))`,gap:8},children:n.map(s=>g.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8,cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:e.includes(s.value),onChange:o=>a(s.value,o.target.checked)}),g.jsx("span",{children:s.label})]},s.value))})}function u8({value:e,onChange:t,options:n,columns:r=1}){return g.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r}, minmax(0, 1fr))`,gap:8},children:n.map(a=>g.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8,cursor:"pointer"},children:[g.jsx("input",{type:"radio",checked:e===a.value,onChange:()=>t(a.value)}),g.jsx("span",{children:a.label})]},a.value))})}function Sge({config:e,choices:t,setChoice:n,ctx:r,translations:a}){const{fields:s={},sections:o=[]}=e||{},u=Number(r?.summary?.stage?.current??r?.gameData?.state?.user?.currentstage??r?.gameData?.state?.user?.stage??0),c=E=>{const O=E?.stageMin,A=E?.stageMax;return!(O!=null&&u<Number(O)||A!=null&&u>Number(A))},d=E=>c(E)?typeof E?.visible=="function"?!!E.visible(t,r):E?.visible!==!1:!!E?.showWhenLocked,f=E=>!c(E),p=(E,O)=>{if(O?.tooltip?.type==="stats"||O?.tooltip?.type==="statsEx"){const{title:A,subtitle:N,stats:k,extras:C,headerMode:q}=O.tooltip;return g.jsx(Vi,{title:A||O.label||E,subtitle:N||"",stats:k,extras:C,translations:a,headerMode:q||"wrapper",choices:t,ctx:r})}return O?.hover?typeof O.hover=="function"?O.hover(t,r):O.hover:null},v=(E,O,A,N)=>{if(f(O))return O.control?.default??N;const k=t?.[A];return k===void 0?O.control?.default??N:k},y=E=>O=>n(E,O),_=(E,O)=>{const A=O.control||{},N=A.key||E,k=f(O)||A.disabled,C=Qa(A.labelOn,t,r)??"Aktiv",q=Qa(A.labelOff,t,r)??"Inaktiv",P=Qa(A.default,t,r),M=Qa(A.min,t,r),L=Qa(A.max,t,r),B=Qa(A.step,t,r)??A.step??1,z=Qa(A.options,t,r)??A.options,D=Qa(A.width,t,r)??A.width;switch(Qa(A.help,t,r)??A.help,A.type){case"toggle":return g.jsx(a8,{checked:!!v(E,O,N,P??!1),onChange:y(N),label:v(E,O,N,P??!1)?C:q,disabled:k});case"percent":return g.jsx(s8,{value:Number(v(E,O,N,P??0)),onChange:y(N),disabled:k});case"slider":return g.jsx(sA,{value:Number(v(E,O,N,P??M??0)),onChange:y(N),min:M??0,max:L??100,step:B,disabled:k});case"number":return g.jsx(i8,{value:v(E,O,N,P??0),onChange:y(N),min:M,max:L,step:B,suffix:A.suffix,placeholder:A.placeholder,disabled:k});case"select":return g.jsx(o8,{value:v(E,O,N,P??z?.[0]?.value??""),onChange:y(N),options:z||[],width:D??220,disabled:k});case"checkboxes":return g.jsx(l8,{value:v(E,O,N,P??[]),onChange:y(N),options:z||[],columns:A.columns??1,disabled:k});case"radio":return g.jsx(u8,{value:v(E,O,N,P??z?.[0]?.value??""),onChange:y(N),options:z||[],columns:A.columns??1,disabled:k});case"custom":return A.render?A.render(t,y,r,{disabled:k}):null;default:return null}},x=({fieldId:E})=>{const O=s[E];if(!O||!d(O))return null;const N=p(E,O),k=g.jsx(r8,{label:O.label||E,help:O.help,children:_(E,O)});return N?g.jsx(Js,{content:N,children:g.jsx("div",{children:k})}):k},w=({item:E})=>{const O=Math.max(1,Math.min(3,Number(E.span||1)));if(typeof E=="string"||E.id){const A=typeof E=="string"?E:E.id;return g.jsx("div",{className:`mp-item span-${O}`,children:g.jsx(x,{fieldId:A})})}return E.stack?g.jsx("div",{className:`mp-item span-${O}`,children:g.jsx("div",{style:{display:"grid",gap:E.gap??10},children:E.stack.map((A,N)=>g.jsx(x,{fieldId:A},`${A}-${N}`))})}):null},S=E=>c(E)?typeof E.visible=="function"?!!E.visible(t,r):E.visible!==!1:!!E.showWhenLocked;return g.jsx(g.Fragment,{children:(o||[]).filter(S).map(E=>g.jsxs("fieldset",{className:"groupbox",children:[g.jsx("legend",{children:E.title}),g.jsx("div",{className:"groupbox__content",children:g.jsx("div",{className:`mp-grid cols-${Math.max(1,Math.min(3,E.cols||1))}`,children:(E.items||[]).map((O,A)=>g.jsx(w,{item:O},A))})})]},E.title))})}function Qa(e,t,n){return typeof e=="function"?e(t,n):e}const ww=[{value:"center",label:"Bycenter"},{value:"north",label:"Nord"},{value:"south",label:"Syd"},{value:"east",label:"Øst"},{value:"west",label:"Vest"}],jge={fields:{traffic_lights_control:{label:"Lysregulering (on/off)",help:"Aktiver signalstyring i kryds.",control:{type:"toggle",key:"traffic_lights_control",labelOn:"Aktiveret",labelOff:"Deaktiveret"},tooltip:{type:"stats",title:"Lysregulering",stats:(e,t)=>({traffic_flow:"x1.05",safety:.01,est_cost:(Number(t?.summary?.citizens?.totals?.totalPersons??0)*.005).toFixed(2)})}},traffic_adaptive_level:{label:"Adaptiv signalering",help:"0..3",control:{type:"number",key:"traffic_adaptive_level",min:0,max:3,step:1,default:0},tooltip:{type:"stats",title:"Adaptiv signalering",stats:e=>({level:Number(e?.traffic_adaptive_level??0)})}},traffic_signal_density:{label:"Signal‑tæthed",help:"0–10",control:{type:"slider",key:"traffic_signal_density",min:0,max:10,step:1,default:5},tooltip:{type:"stats",title:"Signal‑tæthed",stats:{traffic_flow:"≈",speed:"↓"}}},traffic_speed_limit_pct:{label:"Hastighedsgrænse (procent)",help:"0% = lav, 100% = normal",control:{type:"percent",key:"traffic_speed_limit_pct",default:50},tooltip:{type:"stats",title:"Hastighedsgrænse",stats:e=>{const t=Number(e?.traffic_speed_limit_pct??100),n=1-(100-t)*.001,r=(100-t)*5e-4;return{traffic_flow:`x${n.toFixed(3)}`,safety:`+${(r*100).toFixed(1)}%`}}}},traffic_enforcement_pct:{label:"Enforcement intensitet",help:"0–100",control:{type:"slider",key:"traffic_enforcement_pct",min:0,max:100,step:5,default:0},tooltip:{type:"stats",title:"Enforcement",stats:{safety:"+",popularity:"±",op_cost:"↑"}}},traffic_public_transport_subsidy_pct:{label:"Offentlig transport – tilskud",help:"Reducer trængsel, koster budget",control:{type:"percent",key:"traffic_public_transport_subsidy_pct",default:0},tooltip:{type:"stats",title:"Tilskud til kollektiv",stats:(e,t)=>{const n=Number(t?.summary?.citizens?.totals?.totalPersons??0),r=Number(e?.traffic_public_transport_subsidy_pct??0);return{traffic_flow:"+",emissions:"↓",est_cost:(n*r*.01).toFixed(2)}}}},traffic_parking_price:{label:"Parkering – pris pr. time",help:"Påvirker brug/indtægt",control:{type:"number",key:"traffic_parking_price",min:0,max:500,step:1,default:0,suffix:"DKK"},tooltip:{type:"stats",title:"Parkering",stats:{revenue:"↑/↓",visitors:"±"}}},traffic_free_parking_zones:{label:"Gratis parkering (zoner)",help:"Vælg zoner",control:{type:"checkboxes",key:"traffic_free_parking_zones",options:ww,columns:3,default:[]},tooltip:{type:"stats",title:"Gratis parkering",stats:{visitors:"↑",revenue:"↓"}}},traffic_oneway_zones:{label:"One‑way streets (zoner)",help:"Udvalgte zoner",control:{type:"checkboxes",key:"traffic_oneway_zones",options:ww,columns:3,default:[]},tooltip:{type:"stats",title:"Envejs",stats:{local_flow:"↑",complexity:"↑"}}},traffic_cyclelane_zones:{label:"Cycle lanes (zoner)",help:"Udvalgte zoner",control:{type:"checkboxes",key:"traffic_cyclelane_zones",options:ww,columns:3,default:[]},tooltip:{type:"stats",title:"Cykelbaner",stats:{safety:"↑",car_flow:"↓?"}}},traffic_mode:{label:"Trafik‑tilstand (strategi)",help:"Overordnet strategi",control:{type:"radio",key:"traffic_mode",columns:3,options:[{value:"balanced",label:"Balanceret"},{value:"eco",label:"Miljø"},{value:"speed",label:"Hurtighed"}],default:"balanced"},tooltip:{type:"stats",title:"Strategi",stats:{flow:"±",emissions:"±",safety:"±"}}},traffic_campaign_safety:{label:"Kampagne: Trafiksikkerhed",help:"Midlertidigt tiltag",control:{type:"toggle",key:"traffic_campaign_safety",labelOn:"Aktiv",labelOff:"Inaktiv",default:!1},tooltip:{type:"stats",title:"Kampagne",stats:{safety:"+",cost:"↑"}}},traffic_temp_speed_pct:{label:"Midlertidig hastighedsbegrænsning",help:"Ved events/vejarbejde",control:{type:"percent",key:"traffic_temp_speed_pct",default:0},tooltip:{type:"stats",title:"Midlertidig hastighed",stats:{safety:"+",flow:"↓"}}}},sections:[{title:"Trafik regulering",cols:3,items:[{id:"traffic_lights_control",span:1},{id:"traffic_adaptive_level",span:1},{id:"traffic_signal_density",span:1},{id:"traffic_speed_limit_pct",span:2},{id:"traffic_enforcement_pct",span:1}]},{title:"Infrastruktur & politik",cols:3,items:[{stack:["traffic_free_parking_zones","traffic_cyclelane_zones"],span:1},{id:"traffic_public_transport_subsidy_pct",span:1},{id:"traffic_parking_price",span:1},{id:"traffic_oneway_zones",span:2},{id:"traffic_mode",span:3}]},{title:"Kampagner & tiltag",cols:2,items:[{id:"traffic_campaign_safety",span:1},{id:"traffic_temp_speed_pct",span:1}]}]};function Ege({choices:e,setChoice:t}){const{data:n}=pi(),{data:r}=Re(),a=r?.i18n?.current??{},s={summary:n,gameData:r};return g.jsx("div",{style:{display:"grid",gap:12},children:g.jsx(Sge,{config:jge,choices:e,setChoice:t,ctx:s,translations:a})})}const Age=[{value:"schools",label:"Skoler"},{value:"stadium",label:"Stadion"},{value:"harbor",label:"Havn"},{value:"mall",label:"Indkøbscenter"}];function Oge({choices:e,setChoice:t}){const n=(r,a,s)=>{const o=new Set(e[r]||[]);s?o.add(a):o.delete(a),t(r,Array.from(o))};return g.jsxs("div",{style:{display:"grid",gap:12},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Økonomi"}),g.jsx("div",{style:{display:"grid",gap:8},children:g.jsxs("label",{children:[g.jsx("div",{style:{fontSize:12,opacity:.75,marginBottom:4},children:"Løn (DKK per officer)"}),g.jsx("input",{type:"number",min:1e4,max:1e5,step:500,value:e.police_salary??0,onChange:r=>t("police_salary",r.target.value===""?"":Number(r.target.value)),style:{width:200,padding:"6px 8px"}})]})})]}),g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Indsatser"}),g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("input",{type:"checkbox",checked:!!e.police_campaign_traffic,onChange:r=>t("police_campaign_traffic",r.target.checked)}),"Kampagne: Trafiksikkerhed"]}),g.jsxs("div",{style:{marginTop:8},children:[g.jsx("div",{style:{fontSize:12,opacity:.75,marginBottom:4},children:"Patruljestrategi"}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:8},children:[{value:"visible",label:"Synlig patrulje"},{value:"rapid",label:"Hurtig respons"},{value:"mixed",label:"Blandet"}].map(r=>g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("input",{type:"radio",checked:e.police_patrol_strategy===r.value,onChange:()=>t("police_patrol_strategy",r.value)}),r.label]},r.value))})]}),g.jsxs("div",{style:{marginTop:8},children:[g.jsx("div",{style:{fontSize:12,opacity:.75,marginBottom:4},children:"Prioriterede områder (flere valg)"}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0,1fr))",gap:8},children:Age.map(r=>g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("input",{type:"checkbox",checked:(e.police_priority_areas||[]).includes(r.value),onChange:a=>n("police_priority_areas",r.value,a.target.checked)}),r.label]},r.value))})]})]})]})}function Tge({choices:e,setChoice:t}){return g.jsxs("div",{style:{display:"grid",gap:12},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Tandlæge‑ordninger"}),g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("input",{type:"checkbox",checked:!!e.free_dentist_children,onChange:n=>t("free_dentist_children",n.target.checked)}),"Gratis tandlæge — børn"]}),g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("input",{type:"checkbox",checked:!!e.free_dentist_young,onChange:n=>t("free_dentist_young",n.target.checked)}),"Gratis tandlæge — unge"]})]}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:12,opacity:.75,marginBottom:4},children:"Tilskud til sundhed (procent)"}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8,alignItems:"center"},children:[g.jsx("input",{type:"range",min:0,max:100,step:1,value:e.public_health_subsidy_pct??0,onChange:n=>t("public_health_subsidy_pct",Number(n.target.value))}),g.jsxs("div",{style:{minWidth:60,textAlign:"right"},children:[Math.round(e.public_health_subsidy_pct||0),"%"]})]})]}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:12,opacity:.75,marginBottom:4},children:"Ydelses‑model"}),g.jsxs("select",{value:e.public_benefit_mode,onChange:n=>t("public_benefit_mode",n.target.value),style:{padding:"6px 8px",width:220},children:[g.jsx("option",{value:"none",children:"Ingen"}),g.jsx("option",{value:"poverty",children:"Fattigdoms‑fokus"}),g.jsx("option",{value:"kids",children:"Børn‑fokus"}),g.jsx("option",{value:"elderly",children:"Ældre‑fokus"})]})]})]})}function Nge(e,t,{choices:n,setChoice:r,locked:a=!1}){const s=t.control||{},o=s.key||e,u=(d,f)=>n?.[d]===void 0?f:n[d],c=d=>f=>r(d,f);switch(s.type){case"toggle":return g.jsx(a8,{checked:!!u(o,s.default||!1),onChange:c(o),label:u(o,s.default||!1)?s.labelOn||"Aktiv":s.labelOff||"Inaktiv",disabled:a});case"percent":return g.jsx(s8,{value:Number(u(o,s.default??0)),onChange:c(o),disabled:a});case"slider":return g.jsx(sA,{value:Number(u(o,s.default??s.min??0)),onChange:c(o),min:s.min??0,max:s.max??100,step:s.step??1,disabled:a});case"number":return g.jsx(i8,{value:u(o,s.default??0),onChange:c(o),min:s.min,max:s.max,step:s.step??1,suffix:s.suffix,placeholder:s.placeholder,disabled:a});case"select":return g.jsx(o8,{value:u(o,s.default??s.options?.[0]?.value??""),onChange:c(o),options:s.options||[],width:s.width??220,disabled:a});case"checkboxes":return g.jsx(l8,{value:u(o,s.default??[]),onChange:c(o),options:s.options||[],columns:s.columns??1,disabled:a});case"radio":return g.jsx(u8,{value:u(o,s.default??s.options?.[0]?.value??""),onChange:c(o),options:s.options||[],columns:s.columns??1,disabled:a});default:return null}}function kge({config:e,choices:t,setChoice:n,currentStage:r}){const a=e?.fields||{},s=e?.sections||[],o=p=>{const v=p?.stageMin,y=p?.stageMax;return!(v!=null&&Number(r)<Number(v)||y!=null&&Number(r)>Number(y))},u=p=>o(p)?typeof p?.visible=="function"?!!p.visible(t):p?.visible!==!1:!!p?.showWhenLocked,c=({id:p})=>{const v=a[p];if(!v||!u(v))return null;const y=!o(v),_=Nge(p,v,{choices:t,setChoice:n,locked:y}),x=g.jsx(r8,{label:v.label||p,help:v.help,children:_}),w=typeof v.tooltip=="function"?v.tooltip():v.tooltip;return w?g.jsx(Js,{content:w,children:g.jsx("div",{children:x})}):x},d=({item:p})=>{const v=Math.max(1,Math.min(3,Number(p.span||1)));if(typeof p=="string"||p.id){const y=typeof p=="string"?p:p.id;return g.jsx("div",{className:`mp-item span-${v}`,children:g.jsx(c,{id:y})})}return p.stack?g.jsx("div",{className:`mp-item span-${v}`,children:g.jsx("div",{style:{display:"grid",gap:p.gap??10},children:p.stack.map((y,_)=>g.jsx(c,{id:y},`${y}-${_}`))})}):null},f=({sec:p})=>{if(!o(p)&&!p.showWhenLocked)return null;const v=Math.max(1,Math.min(3,p.cols||1));return g.jsxs("fieldset",{className:"groupbox",children:[g.jsx("legend",{children:p.title}),g.jsx("div",{className:"groupbox__content",children:g.jsx("div",{className:`mp-grid cols-${v}`,children:(p.items||[]).map((y,_)=>g.jsx(d,{item:y},_))})})]})};return g.jsx(g.Fragment,{children:(s||[]).map((p,v)=>g.jsx(f,{sec:p},p.title||v))})}function Cge({choices:e,setChoice:t}){const{data:n}=pi(),{data:r}=Re();r?.i18n?.current;const a=Number(n?.stage?.current??r?.state?.user?.currentstage??r?.state?.user?.stage??0),s=new Intl.NumberFormat("da-DK",{minimumFractionDigits:2,maximumFractionDigits:2}),o=Number(n?.citizens?.groupCounts?.kids)+Number(n?.citizens?.groupCounts?.baby),u=100,d=s.format(100*o),f=Number(n?.citizens?.groupCounts?.young??0),p=80,y=s.format(125*f),_=Number(n?.citizens?.groupCounts?.adultsTotal)+Number(n?.citizens?.groupCounts?.old),x=50,S=s.format(175*_),E=n?.capacities?.healthCapacity,O=180,A=10,N=60,k=E/N,C=750*Number(n?.usages?.useHealth?.total);Number(n?.usages?.useDentist?.total??n?.usage?.useDentist??0);const q={fields:{health_free_dentist_kids:{label:"Gratis tandlæge — børn",help:"Ordningen gælder pt for "+o+" børn.",stageMin:1,control:{type:"toggle",key:"health_free_dentist_kids",default:!1,labelOn:"Aktiv",labelOff:"Inaktiv"},tooltip:g.jsx(Vi,{headerMode:"wrapper",title:"Gratis tandlæge — børn",subtitle:"Øger kapacitet og tilfredshed for børnefamilier.",stats:{healthDentistCapacity:u,taxHealthUsage:d}})},health_free_dentist_young:{label:"Gratis tandlæge — unge",help:"Ordningen gælder pt for "+f+" unge.",stageMin:1,control:{type:"toggle",key:"health_free_dentist_young",default:!1,labelOn:"Aktiv",labelOff:"Inaktiv"},tooltip:g.jsx(Vi,{headerMode:"wrapper",title:"Gratis tandlæge — unge",subtitle:"Øger kapacitet og tilfredshed for unge.",stats:{healthDentistCapacity:p,taxHealthUsage:y}})},health_free_dentist_adults:{label:"Gratis tandlæge — voksne",help:"Ordningen gælder pt for "+_+" voksne.",stageMin:2,control:{type:"toggle",key:"health_free_dentist_adults",default:!1,labelOn:"Aktiv",labelOff:"Inaktiv"},tooltip:g.jsx(Vi,{headerMode:"wrapper",title:"Gratis tandlæge — voksne",subtitle:"Øger kapacitet og tilfredshed for voksne.",stats:{healthDentistCapacity:x,taxHealthUsage:S}})},health_subsidy_pct:{label:"Tilskud til sundhed (procent)",help:"Reducerer ventetid/øger adgang — koster budgettet.",stageMin:2,control:{type:"percent",key:"health_subsidy_pct",default:0},tooltip:(()=>{const P=Number(e?.health_subsidy_pct??0),L=Number(n?.citizens?.totals?.totalPersons??0)*P*.01,B=P*.5;return g.jsx(Vi,{headerMode:"stats",title:"Tilskud til sundhed",subtitle:"Højere tilskud forventes at give mere kapacitet/adgang.",stats:{healthCapacity:`x${(1+P/100*.5).toFixed(3)}`},extras:[{label:"Beregning (kapacitet)",value:`+${B.toFixed(1)}%`,desc:"Antaget 0.5% kapacitetsløft pr. tilskudsprocent."},{label:"Estimeret omkostning",value:s.format(L),desc:"Proportional med befolkning og tilskud."}]})})()},health_wait_target_days:{label:"Ventetidsmål (dage)",help:"Lavere mål kræver flere ressourcer.",stageMin:2,control:{type:"slider",key:"health_wait_target_days",min:A,max:O,step:5,default:N},tooltip:g.jsx(Vi,{headerMode:"stats",title:"Ventetidsmål",subtitle:"Sæt tydeligt mål for maksimal ventetid.",stats:{healthCapacity:k*Number(e?.health_wait_target_days),taxHealthUsage:s.format(C/Number(e?.health_wait_target_days)*100)}})},health_mode:{label:"Sundheds‑strategi",help:"Overordnet strategi.",stageMin:2,showWhenLocked:!0,control:{type:"radio",key:"health_mode",columns:3,options:[{value:"balanced",label:"Balanceret"},{value:"prevention",label:"Forebyggelse"},{value:"acute",label:"Akut"}],default:"balanced"},tooltip:g.jsx(Vi,{headerMode:"stats",title:"Strategi",subtitle:"Vælg fokus – forebyggelse, akut eller balanceret.",stats:{access:"±",cost:"±",outcomes:"±"}})},health_campaign_prevention:{label:"Kampagne: Forebyggelse",help:"Midlertidigt tiltag, reducerer belastning.",stageMin:3,control:{type:"toggle",key:"health_campaign_prevention",default:!1,labelOn:"Aktiv",labelOff:"Inaktiv"},tooltip:g.jsx(Vi,{headerMode:"stats",title:"Kampagne: Forebyggelse",subtitle:"Informationsindsats, der mindsker efterspørgsel på kort sigt.",stats:{demand:"↓"},extras:[{label:"Est. Cost",value:s.format(12),desc:"Flat pr. tick mens aktiv."}]})}},sections:[{title:"Ordninger",cols:2,stageMin:1,items:[{stack:["health_free_dentist_kids","health_free_dentist_young","health_free_dentist_adults"],span:1},{id:"health_subsidy_pct",span:1}]},{title:"Mål & strategi",cols:2,stageMin:2,items:[{id:"health_wait_target_days",span:1},{id:"health_mode",span:1},{id:"health_campaign_prevention",span:2}]}]};return g.jsx("div",{style:{display:"grid",gap:12},children:g.jsx(kge,{config:q,choices:e,setChoice:t,currentStage:a})})}const c8="ws.management.choices.v1";function Sw(){try{const e=localStorage.getItem(c8);return e?JSON.parse(e):null}catch{return null}}function Mge(e){try{localStorage.setItem(c8,JSON.stringify(e))}catch{}}const jw={traffic_lights_control:!1,traffic_speed_limit_pct:50,traffic_signal_density:5,traffic_free_parking_zones:[],traffic_mode:"balanced",police_salary:3e4,police_campaign_traffic:!1,police_patrol_strategy:"mixed",police_priority_areas:[],free_dentist_children:!1,free_dentist_young:!1,public_health_subsidy_pct:0,public_benefit_mode:"none"};function Rge(){const[e,t]=T.useState("traffic"),[n,r]=T.useState(()=>({...jw,...Sw()||{}})),[a,s]=T.useState(""),o=T.useMemo(()=>Sw()||{},[]),u=T.useMemo(()=>JSON.stringify(o)!==JSON.stringify(n),[o,n]),c=(y,_)=>{r(x=>({...x,[y]:_}))},d=()=>{Mge(n),s("Valg gemt"),setTimeout(()=>s(""),1500)},f=()=>r({...jw,...Sw()||{}}),p=()=>r({...jw}),v=[{key:"health",label:"Sundhed",emoji:"🩺"},{key:"traffic",label:"Trafik",emoji:"🚦"},{key:"police",label:"Politi",emoji:"👮"},{key:"public",label:"Offentlig",emoji:"🏛️"}];return g.jsxs("section",{className:"panel section",style:{display:"flex",flexDirection:"column",minHeight:"40vh"},children:[g.jsxs("div",{className:"section-head",style:{display:"flex",alignItems:"center",gap:8},children:[g.jsxs("div",{style:{fontWeight:700,display:"flex",alignItems:"center",gap:8},children:[g.jsx("span",{"aria-hidden":!0,children:"🛠️"})," Management"]}),g.jsx("div",{className:"tabs",style:{marginLeft:"auto"},children:v.map(y=>g.jsxs("button",{type:"button",className:`tab ${e===y.key?"active":""}`,onClick:()=>t(y.key),title:y.label,children:[g.jsx("span",{"aria-hidden":!0,style:{marginRight:6},children:y.emoji}),y.label]},y.key))})]}),g.jsxs("div",{className:"section-body",style:{display:"grid",gap:12},children:[g.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[g.jsx("button",{className:"tab",onClick:d,disabled:!u,title:"Gem alle ændringer",children:"Gem alle"}),g.jsx("button",{className:"tab",onClick:f,title:"Fortryd ikke-gemte ændringer",children:"Fortryd"}),g.jsx("button",{className:"tab",onClick:p,title:"Nulstil til standard",children:"Nulstil"}),a&&g.jsx("span",{style:{marginLeft:8,color:"#2dd4bf"},children:a})]}),e==="health"&&g.jsx(Cge,{choices:n,setChoice:c}),e==="traffic"&&g.jsx(Ege,{choices:n,setChoice:c}),e==="police"&&g.jsx(Oge,{choices:n,setChoice:c}),e==="public"&&g.jsx(Tge,{choices:n,setChoice:c})]})]})}function Ja(e){return{...e}}function il(e){return{...e||{},children:e.children||[]}}function pn(e,t,n,r={}){const a={id:e,title:t,...r};return typeof n=="string"?a.html=n:typeof n=="function"?a.render=n:a.html=String(n||""),a}const Dge="/assets/help_statsview-Dp6CEDs8.png",Pge=[il({id:"getting-started",title:"Kom godt i gang",children:[pn("intro","Introduktion",`
        <h2>Velkommen</h2>
        <p>Læs også om <a data-topic-link="resources">Ressourcer</a> og <a data-topic-link="gameplay">Spilmekanik</a>.</p>
      `,{tags:["velkommen","basics"]}),pn("faq","FAQ",`
        <h2>Ofte stillede spørgsmål</h2>
        <ul>
          <li>Hvordan bygger jeg? Se <a data-topic-link="buildings">Bygninger</a></li>
          <li>Hvad er vand? Se <a data-topic-link="res-water">Vand</a></li>
        </ul>
      `,{tags:["faq","basics"]})]}),il({id:"resources",title:"Ressourcer",children:[Ja({id:"resources-overview",title:"Ressourcer Generelt",render:({defs:e,t})=>{e?.res?.water?.emoji||t?.("ui.emoji.water");const n=e?.res||{};return`<h2>Ressourcer</h2>
          <p>Ressourcer bruges i spillet til at købe bygninger, addons og research med. Derudover bruges de i recipes (produktion), hvor en eller flere ressourcer bliver til en eller flere andre ressourcer (f.eks. 1xtræ --> 10 brænde).</p>
          <p>Der findes to hovedtyper af ressourcer: faste (solid) og flydende (liquid). Faste ressourcer er ting som træ, sten, jern og brænde. Flydende ressourcer er ting som <a data-topic-link="res-water">vand</a>, mælk og olie.</p>
          <p>Grundlæggende ressourcer er ting som kr (money), <a data-topic-link="res-water">vand</a>, kød, træ, sten, fjer, skind og bearbejdet skind mf. Se de forskellige ressourcer herunder.</p>
          <p>For at få ressourcer skal du bygge bygninger som producerer dem, eller købe dem via markedet (kommer senere). Ressourcer kan midlertidig give bonus i forskellige <a data-topic-link="stats-overview">stats</a>. F.eks. kan vand man har på lager giver vand i stats vand (den vand ens borgere kræver - se borger for mere info). Når ressourcer bruges og forsvinder fra ens inventory, så forsvinder dens bonus også.</p>

            <p>Liste over spillets nuværende ressourcer:</p>
            <ul>${Object.keys(n).sort().map(s=>{const o=n[s]||{},u=o.name||s,c=o.emoji||"";return`<li>${c?c+" ":""}${u} <small class="muted">(${s})</small></li>`}).join("")}</ul>`},searchText:"ressourcer vand træ sten"}),Ja({id:"res-water",title:"Vand (ressource)",component:({defs:e})=>{const t=e?.res?.water?.emoji||"💧";return g.jsxs("div",{className:"help-article",children:[g.jsxs("h2",{children:["Vand ",t]}),g.jsx("p",{children:"Vand bruges i produktion og forbrug, men vand giver også en bonus ind i stats vand (vand som borgerne i ens by kræver for at være glade osv - se borger for yderligere info)."}),g.jsxs("p",{children:["Se også ",g.jsx("a",{"data-topic-link":"resources-overview",children:"Ressourcer Generelt"}),"."]})]})},searchText:"ressource vand water forbrug"})]}),il({id:"stats",title:"Stats",children:[Ja({id:"stats-overview",title:"Stats Generelt",render:({defs:e,t})=>(e?.res?.water?.emoji||t?.("ui.emoji.water"),`<h2>Stats</h2>
          <img src="${Dge}" alt="Stats panel" class="help-image help-right" />
          <p>Stats er en vigtig del af spillet og skaber dynamik og dybde. Stats påvirker hvordan ens borgere trives, og hvordan ens by udvikler sig. Stats kan komme fra bygninger, addons, research, ressourcer, dyr og units.</p>
          <p>Stats er en lang række ting, som ens borger kræver, skaber eller på anden måde bruger/er afhængige af. I punkterne ude til højre, kan de læse mere om de specifikke stats.</p>
          <p>Nogle stats er synlige, andre fungerer bagved og skaber dynamikken. De fleste er dog synlige. Et stats kan komme fra bygninger, ressourcer eller andre elementer i spillet, sågar kan de midlertidig komme fra ressourcer, dyr eller unit som man har. Slagter eller sælger man et dyr, der giver nogle midlertidig stats, så forsvinder de når dyret er væk; ligeledes med ressourcer. Bruges en ressource der giver stats, forsvinder bonusen.</p>
          <p>Eksempelvis giver vand (💧) i ens inventory bonus i <a data-topic-link="stats-water">stats vand</a>, som er den mængde vand ens borgere kræver for at være glade osv - se borger for yderligere info.</p>
          <p>De forskellige borger grupper (se borger info) har forskellige krav til forskellgie stats for at være tilfredse (hvilket blandt andet påvirker happiness og popularity). Ved bygninger, addons og research kan man se hvilke stats de forbruger af eller giver til. Oplysninger kan ses i hover i nederst højre hjørne, når man har musen over bygninger, addon eller research. Det samme gælder dyr og øvrige units. Ressourcer kan man ikke se hvad de giver af bonus, men man kan ofte gætte sig til det (hint: water spiller ind på water stats.</p>
          <p>Stats består ofte af hvad borger grupper forbruger pr. den borger, samt hvad man maks har.</p>
          <p>Jo højere stage, jo flere stats skal man forholde sig til. Eneste stats i stage 1 er dyrplads og byggepoint. Disse forsætter med at være vigtige.</p>
          <p>De forskellige oplåste og relevante stats kan se i panelet "Stats" ude til højre.</p>
          `),searchText:"stats "}),pn("stats-happiness","Happiness",`
          <h2>Happiness</h2>
          <p>Happiness repræsenterer den generelle tilfredshed blandt borgerne. Det påvirkes af mange faktorer, herunder bolig, mad, vand og sundhed.</p>
          <p>For at øge happiness, skal du sikre, at borgerne har adgang til de ressourcer, de har brug for, og at deres behov bliver opfyldt.</p>
          <p>Find kilden ved at se stats i hover på bygninger/addons, eller i stats-panelet.</p>
          <p>Happiness påvirker også andre aspekter af spillet, såsom produktivitet og befolkningstilvækst.</p>
          <p>Faktorer der påvirker happiness kan ændre sig igennem spillet.</p>
          <p>Se også <a data-topic-link="stats-popularity">Popularity</a> for hvordan borgernes behov påvirker deres popularity.</p>
        `,{minStage:1,tags:["stats","housing","kapacitet"],searchText:"housing plads borgere kapacitet"}),pn("stats-popularity","Popularity",`
          <h2>Popularity</h2>
          <p>Popularity repræsenterer, hvor meget borgerne kan lide deres by og dens faciliteter. Det påvirkes af faktorer som boligkvalitet, tilgængelighed af ressourcer og sociale interaktioner.</p>
          <p>For at øge populariteten, skal du fokusere på at forbedre borgernes livskvalitet og sikre, at deres behov bliver opfyldt.</p>
          <p>Find kilden ved at se stats i hover på bygninger/addons, eller i stats-panelet.</p>
          <p>Happiness påvirker også andre aspekter af spillet, såsom produktivitet og befolkningstilvækst.</p>
          <p>Faktorer der påvirker happiness kan ændre sig igennem spillet.</p>
          <p>Se også <a data-topic-link="stats-happiness">Happiness</a> for hvordan borgernes behov påvirker deres happiness.</p>
        `,{minStage:1,tags:["stats","housing","kapacitet"],searchText:"housing plads borgere kapacitet"}),Ja({id:"stats-water",title:"Vand (stats)",component:({defs:e})=>{const t=e?.res?.water?.emoji||"💧";return g.jsxs("div",{className:"help-article",children:[g.jsxs("h2",{children:["Vand ",t]}),g.jsx("p",{children:"Stats vand repræsenterer den mængde vand, de forskellige borger forbruger. Hver borger forbruger forskellige mængder vand, og visse ting, såsom addon brønd til en hovedlejr, generer en vis mængde vand. Det er bedst at have lidt mere vand end man forbruger."}),g.jsxs("p",{children:["Se også ",g.jsx("a",{"data-topic-link":"resources-overview",children:"Ressourcer -- overblik"}),"."]})]})},searchText:"stats vand water"}),pn("stats-housing","Housing",`
          <h2>Housing</h2>
          <p>Housing er antal pladser til borgere. Øges typisk af baser og beboelsesbygninger (telt/lejre mv.).</p>
          <p>Hvis housing er lavere end antallet af borgere, vil nye borgere ikke have plads og kan skabe utilfredshed.</p>
          <p>Find kilden ved at se stats i hover på bygninger/addons, eller i stats-panelet.</p>
        `,{minStage:1,tags:["stats","housing","kapacitet"],searchText:"housing plads borgere kapacitet"}),pn("stats-provision","Provision (mad)",`
          <h2>Provision</h2>
          <p>Provision dækker basismad. Visse ressourcer (fx <b>mad</b>, mælk, æg) giver <em>provisionCapacity</em> mens de er på lager.</p>
          <p>Borgerne forbruger provision løbende; sørg for at kapacitet/yield overstiger forbrug.</p>
          <p>Relateret: se <a data-topic-link="resources-all">Alle ressourcer</a> for hvilke der bidrager.</p>
        `,{minStage:1,tags:["stats","provision","mad"],searchText:"provision mad food kapacitet forbrug"}),pn("stats-health","Health",`
          <h2>Health</h2>
          <p>Health handler om sundhedskapacitet samt efterspørgsel hos borgerne. Visse bygninger giver <em>healthCapacity</em>, og nogle aktiviteter/forhold kan øge efterspørgslen.</p>
          <p>Hold et passende forhold mellem kapacitet og brug for at undgå negative effekter.</p>
        `,{minStage:1,tags:["stats","health","sundhed"],searchText:"health sundhed kapacitet efterspørgsel"}),pn("stats-cloth","Cloth",`
          <h2>Cloth</h2>
          <p>Cloth dækker beklædning/udstyr, som kan påvirke trivsel/komfort. Produceres typisk af tailors (læder/uld m.m.).</p>
          <p>Afhænger af spilstatus kan cloth indgå i borgeres behov og/eller buffs.</p>
        `,{minStage:1,tags:["stats","cloth","beklædning"],searchText:"cloth tøj læder uld komfort"}),pn("stats-medicine","Medicin",`
          <h2>Medicin</h2>
          <p>Medicin supplerer sundhedsbehov og kan afhjælpe negative effekter. Kan produceres eller anskaffes via spillogik senere (afhænger af progression).</p>
          <p>Hold lager for at kunne dække spidsbelastninger.</p>
        `,{minStage:1,tags:["stats","medicin","sundhed"],searchText:"medicin health sundhed behov lager"}),pn("stats-heat","Heat (overblik)",`
          <h2>Heat</h2>
          <p>Heat findes i tre typer energikilder: Green (som repræsenterer bæredygtige kilder), Nuclear (som repræsenterer kerneenergi) og Fossil (som repræsenterer fossile brændstoffer). Borgerne kan have forskellige max værdier de tillader, før den generelle happiness påvirkes.</p>
          <p>Nogle borgere/bygninger kræver varme; kilder og caps kan komme fra bygninger/addons og evt. ressourcer.</p>
          
          <h3>Heat — Fossil</h3>
          <p>Fossil varme (kul/olie/gas). Typisk billig at starte med, men kan have negative sideeffekter såsom høj forurening, hvilket en del borger IKKE bryder sig om.</p>
          <h3>Heat — Green</h3>
          <p>Grøn varme (fx solopvarmet vand). Bruges til at opfylde varmebehov med grøn profil. Grøn varme er særlig populær, men kan være dyrere at implementere. Har færrest bivirkninger.</p>
          <h3>Heat — Nuclear</h3>
          <p>Kernebaseret varme. Normalt høj stabil kapacitet, men kan have særlige krav/omkostninger. Ikke alle borgerne er vilde med kerneenergi, og nogle kan have bekymringer om sikkerhed og affaldshåndtering.</p>

        `,{minStage:1,tags:["stats","heat"],searchText:"heat varme grøn kerne fossil"}),pn("stats-power","Power (overblik)",`
          <h2>Power</h2>
          <p>Power (energi/strøm) findes i tre typer: Green (Grøn energi), Nuclear (Kerneenergi) og Fossil (Fossile brændstoffer).</p>
          <p>Bruges af bygninger/produktion; balancér produktion og forbrug.</p>
          <h3>Power — Fossil</h3>
          <p>Fossil strøm (kul/olie/gas). Ofte effektiv i starten, men med ulemper.</p>
          <h3>Power — Green</h3>
          <p>Grøn strøm (fx vind/sol/vand). Giver grøn profil — kan variere over tid.</p>
          <h3>Power — Nuclear</h3>
          <p>Kernebaseret strøm. Stabil produktion, særlige krav.</p>

        `,{minStage:1,tags:["stats","power"],searchText:"power strøm energi grøn kerne fossil"}),pn("stats-waste","Waste (overblik)",`
          <h2>Waste</h2>
          <p>Affald håndteres i tre spor i den nuværende model: <a data-topic-link="stats-waste-organic">Organisk</a>, <a data-topic-link="stats-waste-water">Spildevand</a> og <a data-topic-link="stats-waste-other">Anden</a>.</p>
          <p>Dyr og produktion kan generere affald (fx gødning, spildevand); korrekt håndtering kan afhjælpe negative effekter.</p>
        `,{minStage:1,tags:["stats","waste","affald"],searchText:"waste affald organisk spildevand other"}),pn("stats-waste-organic","Waste — Organisk",`
          <h2>Waste — Organisk</h2>
          <p>Organisk affald (fx gødning/biomasse). Kan genanvendes/nyttiggøres i visse kæder.</p>
        `,{minStage:1,tags:["stats","waste","organisk"],searchText:"affald organisk gødning biomasse"}),pn("stats-waste-water","Waste — Spildevand",`
          <h2>Waste — Spildevand</h2>
          <p>Spildevand og vandbårent affald. Håndteres via relevante faciliteter for at undgå negative effekter.</p>
        `,{minStage:1,tags:["stats","waste","vand"],searchText:"affald spildevand waste water"}),pn("stats-waste-other","Waste — Anden",`
          <h2>Waste — Anden</h2>
          <p>Øvrigt affald (blandet/fraktioner der ikke er organisk eller spildevand). Kræver passende håndtering.</p>
        `,{minStage:1,tags:["stats","waste","other"],searchText:"affald andet plast glas metal other"})]}),il({id:"gameplay",title:"Spilmekanik",children:[pn("buildings","🏠Bygninger",`
        <h2>Bygninger</h2>
        <p>Bygninger har forskellige levels og kræver en opgradering, for at blive højere level. Se du ikke muligheden er bygningen måske allerede i højeste level. Du kan også risikerer at en bygning (eller addon/research) kræver en anden bygning eller research først. Du kan også risikerer at den er "stage-locked" hvilket betyder du skal låse op for næste stage, for at kan opgraderer den bygning yderligere. </p>
        <p>Bygninger kan have forskellige effekter, såsom at producere ressourcer, give stats, give borgere, give plads til dyr eller units, eller noget helt andet. Nogle bygninger har også addons, som er udvidelser, og nogle af disse udvidelser kan have yderligere addons. En udvidelse til en udvidelse kaldes også en subaddon.</p>
        <p>Bygninger kan også have krav, såsom at kræve en bestemt mængde af en eller flere ressourcer for at kunne bygges eller opgraderes.</p>
        <p>Bygninger kan have forskellige stats, såsom hvor mange borgere de kan huse, hvor mange dyr de kan have, eller hvor mange units de kan have. Disse stats kan ofte ses i hover i nederst højre hjørne. Nogle bygninger indeholder også research-krav, som kan være nødvendige for at kunne opgradere bygningen yderligere. Klik på research-krav for at hoppe til research.</p>
        <p>Bygninger skal indimellem repareres, hvilket koster ressourcer. En bygning der er under et vis niveau kan ikke længere bygge, researche eller producerer.</p>        
      `),Ja({id:"population",title:"Befolkning",minStage:2,render:({state:e})=>`<h2>Befolkning (stage ${Number(e?.user?.currentstage||0)})</h2><p>Tildel roller mm.</p>`})]}),il({id:"units",title:"Enheder",children:[pn("animals","Dyr",`
        <h2>Dyr</h2>
        <p>Dyr genererer nogle forskellige ressourcer pr time, og kan også give nogle bonuser i forskellige stats imens man har dem. Dyr bruges også i forskellige recipes, for at producerer andre ressourcer. Dyr kan slagtes og giver dermed et engangs udbytte (og evt. stats bonuser forsvinder). Nye dyr kan købes på unit siden. Dyr købes for ressourcer.</p>

      `,{minStage:1,tags:["dyr","animal","recipe"],searchText:"dyr slagtes engangs udbytte"}),pn("units_health","Sundheds enheder",`
        <h2>Sundheds enheder</h2>
        <p>Sunheds enheder kan være alt fra sengeplads til udstyr til ambulancer afhængig af, hvor langt man er nået i spillet. Disse units bruges til at forbedre sundheds mæssige stats, men nogle units koster også i stats. Se i hover hvad der forskellige ting gør. Unit købes for ressourcer.</p>
      `)]}),il({id:"list",title:"Lister",children:[Ja({id:"buildings-list",title:"Alle bygninger",render:({defs:e})=>{const t=e?.bld||{};return`<h2>Bygninger</h2><p>Her er en liste over alle definerede bygninger:</p><ul>${Object.keys(t).sort().map(r=>`<li>${t[r]?.name||r}</li>`).join("")}</ul>`},searchText:"bygninger liste alle byggesteder"}),Ja({id:"researchs-list",title:"Alle research",render:({defs:e})=>{const t=e?.rsd||{};return`<h2>Research</h2><p>Her er en liste over alle definerede research, der pt er mulige:</p><ul>${Object.keys(t).sort().map(r=>`<li>${t[r]?.name||r}</li>`).join("")}</ul>`},searchText:"research liste alle forskning forskningstyper"}),Ja({id:"addons-list",title:"Alle addons",render:({defs:e})=>{const t=e?.add||{};return`<h2>Addons</h2><p>Her er en liste over alle definerede addons, der pt er mulige:</p><ul>${Object.keys(t).sort().map(r=>`<li>${t[r]?.name||r}</li>`).join("")}</ul>`},searchText:"addons liste alle udvidelser udvidelsestyper"}),Ja({id:"animals-list",title:"Alle dyr",render:({defs:e})=>{const t=e?.ani||{};return`<h2>Dyr</h2><p>Her er en liste over alle definerede dyr, der pt er mulige:</p><ul>${Object.keys(t).sort().map(r=>{const a=t[r]?.name||r;return`<li>${t[r]?.emoji||""||""} ${a}</li>`}).join("")}</ul>`},searchText:"dyr liste alle animals dyretyper"})]})];function Lge(){const{isLoading:e,data:t,error:n}=Re(),{page:r,param:a}=kF(),[s,o]=T.useState(!1),u=T.useRef("#/map");T.useEffect(()=>{const p=()=>{const v=window.location.hash||"#/map";v.startsWith("#/help")||(u.current=v)};return p(),window.addEventListener("hashchange",p),()=>window.removeEventListener("hashchange",p)},[]),T.useEffect(()=>{if(!t)return;const p=t?.state?.user||{},v=p?.x==null||p?.y==null,y=(()=>{try{return localStorage.getItem("ws.map.seen")==="1"}catch{return!1}})();if(v){r!=="map"&&(window.location.hash="#/map");return}!y&&r!=="map"&&(window.location.hash="#/map")},[t,r]);const c=()=>{switch(r){case"dashboard":return g.jsx(RG,{});case"unit":return g.jsx(qve,{});case"research":return g.jsx(KG,{});case"inventory":return g.jsx(YG,{});case"buildings":return g.jsx(JG,{});case"building":return g.jsx(EK,{buildingId:a});case"production":return g.jsx(OK,{});case"flowchart":return g.jsx(WJ,{});case"userpage":return g.jsx(Sve,{});case"map":return g.jsx(Nve,{});case"citizens":return g.jsx(Gve,{});case"management":return g.jsx(Rge,{});default:return g.jsxs("h1",{children:["Side ikke fundet: ",r]})}};let d;e?d=g.jsx("div",{className:"sub",children:"Indlæser spildata..."}):n||!t?d=g.jsx("div",{className:"sub",children:"Fejl: Kunne ikke hente data. Log ind i topbaren og prøv igen."}):d=c();const f=(window.location.hash||"").startsWith("#/help");return g.jsx(Dve,{children:g.jsxs(g.Fragment,{children:[t&&g.jsxs(g.Fragment,{children:[g.jsx(AG,{}),g.jsx(OG,{}),g.jsx(TG,{intervalMs:5e3})]}),g.jsx(iG,{}),g.jsxs("div",{className:"content",children:[g.jsx("main",{id:"main",children:d}),t&&g.jsx(jG,{})]}),t&&r!=="map"&&g.jsx(EG,{activePage:r}),g.jsx(bge,{isOpen:s||f,onClose:()=>{if(o(!1),f){const p=u.current||"#/map";window.location.hash=p}},topics:Pge})]})})}TF.createRoot(document.getElementById("root")).render(g.jsx(de.StrictMode,{children:g.jsx(NF,{children:g.jsx(Lge,{})})}));
